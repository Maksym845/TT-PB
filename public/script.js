/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/earcut/src/earcut.js":
/*!*******************************************!*\
  !*** ./node_modules/earcut/src/earcut.js ***!
  \*******************************************/
/***/ ((module) => {

"use strict";


module.exports = earcut;
module.exports["default"] = earcut;

function earcut(data, holeIndices, dim) {

    dim = dim || 2;

    var hasHoles = holeIndices && holeIndices.length,
        outerLen = hasHoles ? holeIndices[0] * dim : data.length,
        outerNode = linkedList(data, 0, outerLen, dim, true),
        triangles = [];

    if (!outerNode || outerNode.next === outerNode.prev) return triangles;

    var minX, minY, maxX, maxY, x, y, invSize;

    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);

    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox
    if (data.length > 80 * dim) {
        minX = maxX = data[0];
        minY = maxY = data[1];

        for (var i = dim; i < outerLen; i += dim) {
            x = data[i];
            y = data[i + 1];
            if (x < minX) minX = x;
            if (y < minY) minY = y;
            if (x > maxX) maxX = x;
            if (y > maxY) maxY = y;
        }

        // minX, minY and invSize are later used to transform coords into integers for z-order calculation
        invSize = Math.max(maxX - minX, maxY - minY);
        invSize = invSize !== 0 ? 32767 / invSize : 0;
    }

    earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);

    return triangles;
}

// create a circular doubly linked list from polygon points in the specified winding order
function linkedList(data, start, end, dim, clockwise) {
    var i, last;

    if (clockwise === (signedArea(data, start, end, dim) > 0)) {
        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);
    } else {
        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);
    }

    if (last && equals(last, last.next)) {
        removeNode(last);
        last = last.next;
    }

    return last;
}

// eliminate colinear or duplicate points
function filterPoints(start, end) {
    if (!start) return start;
    if (!end) end = start;

    var p = start,
        again;
    do {
        again = false;

        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {
            removeNode(p);
            p = end = p.prev;
            if (p === p.next) break;
            again = true;

        } else {
            p = p.next;
        }
    } while (again || p !== end);

    return end;
}

// main ear slicing loop which triangulates a polygon (given as a linked list)
function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
    if (!ear) return;

    // interlink polygon nodes in z-order
    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);

    var stop = ear,
        prev, next;

    // iterate through ears, slicing them one by one
    while (ear.prev !== ear.next) {
        prev = ear.prev;
        next = ear.next;

        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
            // cut off the triangle
            triangles.push(prev.i / dim | 0);
            triangles.push(ear.i / dim | 0);
            triangles.push(next.i / dim | 0);

            removeNode(ear);

            // skipping the next vertex leads to less sliver triangles
            ear = next.next;
            stop = next.next;

            continue;
        }

        ear = next;

        // if we looped through the whole remaining polygon and can't find any more ears
        if (ear === stop) {
            // try filtering points and slicing again
            if (!pass) {
                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);

            // if this didn't work, try curing all small self-intersections locally
            } else if (pass === 1) {
                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);
                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);

            // as a last resort, try splitting the remaining polygon into two
            } else if (pass === 2) {
                splitEarcut(ear, triangles, dim, minX, minY, invSize);
            }

            break;
        }
    }
}

// check whether a polygon node forms a valid ear with adjacent nodes
function isEar(ear) {
    var a = ear.prev,
        b = ear,
        c = ear.next;

    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear

    // now make sure we don't have other points inside the potential ear
    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;

    // triangle bbox; min & max are calculated like this for speed
    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),
        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),
        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),
        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);

    var p = c.next;
    while (p !== a) {
        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&
            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) &&
            area(p.prev, p, p.next) >= 0) return false;
        p = p.next;
    }

    return true;
}

function isEarHashed(ear, minX, minY, invSize) {
    var a = ear.prev,
        b = ear,
        c = ear.next;

    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear

    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;

    // triangle bbox; min & max are calculated like this for speed
    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),
        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),
        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),
        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);

    // z-order range for the current triangle bbox;
    var minZ = zOrder(x0, y0, minX, minY, invSize),
        maxZ = zOrder(x1, y1, minX, minY, invSize);

    var p = ear.prevZ,
        n = ear.nextZ;

    // look for points inside the triangle in both directions
    while (p && p.z >= minZ && n && n.z <= maxZ) {
        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&
            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;
        p = p.prevZ;

        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&
            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;
        n = n.nextZ;
    }

    // look for remaining points in decreasing z-order
    while (p && p.z >= minZ) {
        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&
            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;
        p = p.prevZ;
    }

    // look for remaining points in increasing z-order
    while (n && n.z <= maxZ) {
        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&
            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;
        n = n.nextZ;
    }

    return true;
}

// go through all polygon nodes and cure small local self-intersections
function cureLocalIntersections(start, triangles, dim) {
    var p = start;
    do {
        var a = p.prev,
            b = p.next.next;

        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {

            triangles.push(a.i / dim | 0);
            triangles.push(p.i / dim | 0);
            triangles.push(b.i / dim | 0);

            // remove two nodes involved
            removeNode(p);
            removeNode(p.next);

            p = start = b;
        }
        p = p.next;
    } while (p !== start);

    return filterPoints(p);
}

// try splitting polygon into two and triangulate them independently
function splitEarcut(start, triangles, dim, minX, minY, invSize) {
    // look for a valid diagonal that divides the polygon into two
    var a = start;
    do {
        var b = a.next.next;
        while (b !== a.prev) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
                // split the polygon in two by the diagonal
                var c = splitPolygon(a, b);

                // filter colinear points around the cuts
                a = filterPoints(a, a.next);
                c = filterPoints(c, c.next);

                // run earcut on each half
                earcutLinked(a, triangles, dim, minX, minY, invSize, 0);
                earcutLinked(c, triangles, dim, minX, minY, invSize, 0);
                return;
            }
            b = b.next;
        }
        a = a.next;
    } while (a !== start);
}

// link every hole into the outer loop, producing a single-ring polygon without holes
function eliminateHoles(data, holeIndices, outerNode, dim) {
    var queue = [],
        i, len, start, end, list;

    for (i = 0, len = holeIndices.length; i < len; i++) {
        start = holeIndices[i] * dim;
        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;
        list = linkedList(data, start, end, dim, false);
        if (list === list.next) list.steiner = true;
        queue.push(getLeftmost(list));
    }

    queue.sort(compareX);

    // process holes from left to right
    for (i = 0; i < queue.length; i++) {
        outerNode = eliminateHole(queue[i], outerNode);
    }

    return outerNode;
}

function compareX(a, b) {
    return a.x - b.x;
}

// find a bridge between vertices that connects hole with an outer ring and and link it
function eliminateHole(hole, outerNode) {
    var bridge = findHoleBridge(hole, outerNode);
    if (!bridge) {
        return outerNode;
    }

    var bridgeReverse = splitPolygon(bridge, hole);

    // filter collinear points around the cuts
    filterPoints(bridgeReverse, bridgeReverse.next);
    return filterPoints(bridge, bridge.next);
}

// David Eberly's algorithm for finding a bridge between hole and outer polygon
function findHoleBridge(hole, outerNode) {
    var p = outerNode,
        hx = hole.x,
        hy = hole.y,
        qx = -Infinity,
        m;

    // find a segment intersected by a ray from the hole's leftmost point to the left;
    // segment's endpoint with lesser x will be potential connection point
    do {
        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
            if (x <= hx && x > qx) {
                qx = x;
                m = p.x < p.next.x ? p : p.next;
                if (x === hx) return m; // hole touches outer segment; pick leftmost endpoint
            }
        }
        p = p.next;
    } while (p !== outerNode);

    if (!m) return null;

    // look for points inside the triangle of hole point, segment intersection and endpoint;
    // if there are no points found, we have a valid connection;
    // otherwise choose the point of the minimum angle with the ray as connection point

    var stop = m,
        mx = m.x,
        my = m.y,
        tanMin = Infinity,
        tan;

    p = m;

    do {
        if (hx >= p.x && p.x >= mx && hx !== p.x &&
                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {

            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential

            if (locallyInside(p, hole) &&
                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {
                m = p;
                tanMin = tan;
            }
        }

        p = p.next;
    } while (p !== stop);

    return m;
}

// whether sector in vertex m contains sector in vertex p in the same coordinates
function sectorContainsSector(m, p) {
    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;
}

// interlink polygon nodes in z-order
function indexCurve(start, minX, minY, invSize) {
    var p = start;
    do {
        if (p.z === 0) p.z = zOrder(p.x, p.y, minX, minY, invSize);
        p.prevZ = p.prev;
        p.nextZ = p.next;
        p = p.next;
    } while (p !== start);

    p.prevZ.nextZ = null;
    p.prevZ = null;

    sortLinked(p);
}

// Simon Tatham's linked list merge sort algorithm
// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html
function sortLinked(list) {
    var i, p, q, e, tail, numMerges, pSize, qSize,
        inSize = 1;

    do {
        p = list;
        list = null;
        tail = null;
        numMerges = 0;

        while (p) {
            numMerges++;
            q = p;
            pSize = 0;
            for (i = 0; i < inSize; i++) {
                pSize++;
                q = q.nextZ;
                if (!q) break;
            }
            qSize = inSize;

            while (pSize > 0 || (qSize > 0 && q)) {

                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
                    e = p;
                    p = p.nextZ;
                    pSize--;
                } else {
                    e = q;
                    q = q.nextZ;
                    qSize--;
                }

                if (tail) tail.nextZ = e;
                else list = e;

                e.prevZ = tail;
                tail = e;
            }

            p = q;
        }

        tail.nextZ = null;
        inSize *= 2;

    } while (numMerges > 1);

    return list;
}

// z-order of a point given coords and inverse of the longer side of data bbox
function zOrder(x, y, minX, minY, invSize) {
    // coords are transformed into non-negative 15-bit integer range
    x = (x - minX) * invSize | 0;
    y = (y - minY) * invSize | 0;

    x = (x | (x << 8)) & 0x00FF00FF;
    x = (x | (x << 4)) & 0x0F0F0F0F;
    x = (x | (x << 2)) & 0x33333333;
    x = (x | (x << 1)) & 0x55555555;

    y = (y | (y << 8)) & 0x00FF00FF;
    y = (y | (y << 4)) & 0x0F0F0F0F;
    y = (y | (y << 2)) & 0x33333333;
    y = (y | (y << 1)) & 0x55555555;

    return x | (y << 1);
}

// find the leftmost node of a polygon ring
function getLeftmost(start) {
    var p = start,
        leftmost = start;
    do {
        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;
        p = p.next;
    } while (p !== start);

    return leftmost;
}

// check if a point lies within a convex triangle
function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
    return (cx - px) * (ay - py) >= (ax - px) * (cy - py) &&
           (ax - px) * (by - py) >= (bx - px) * (ay - py) &&
           (bx - px) * (cy - py) >= (cx - px) * (by - py);
}

// check if a diagonal between two polygon nodes is valid (lies in polygon interior)
function isValidDiagonal(a, b) {
    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges
           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible
            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors
            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case
}

// signed area of a triangle
function area(p, q, r) {
    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
}

// check if two points are equal
function equals(p1, p2) {
    return p1.x === p2.x && p1.y === p2.y;
}

// check if two segments intersect
function intersects(p1, q1, p2, q2) {
    var o1 = sign(area(p1, q1, p2));
    var o2 = sign(area(p1, q1, q2));
    var o3 = sign(area(p2, q2, p1));
    var o4 = sign(area(p2, q2, q1));

    if (o1 !== o2 && o3 !== o4) return true; // general case

    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1
    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1
    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2
    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2

    return false;
}

// for collinear points p, q, r, check if point q lies on segment pr
function onSegment(p, q, r) {
    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);
}

function sign(num) {
    return num > 0 ? 1 : num < 0 ? -1 : 0;
}

// check if a polygon diagonal intersects any polygon segments
function intersectsPolygon(a, b) {
    var p = a;
    do {
        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&
                intersects(p, p.next, a, b)) return true;
        p = p.next;
    } while (p !== a);

    return false;
}

// check if a polygon diagonal is locally inside the polygon
function locallyInside(a, b) {
    return area(a.prev, a, a.next) < 0 ?
        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :
        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
}

// check if the middle point of a polygon diagonal is inside the polygon
function middleInside(a, b) {
    var p = a,
        inside = false,
        px = (a.x + b.x) / 2,
        py = (a.y + b.y) / 2;
    do {
        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&
                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))
            inside = !inside;
        p = p.next;
    } while (p !== a);

    return inside;
}

// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;
// if one belongs to the outer ring and another to a hole, it merges it into a single ring
function splitPolygon(a, b) {
    var a2 = new Node(a.i, a.x, a.y),
        b2 = new Node(b.i, b.x, b.y),
        an = a.next,
        bp = b.prev;

    a.next = b;
    b.prev = a;

    a2.next = an;
    an.prev = a2;

    b2.next = a2;
    a2.prev = b2;

    bp.next = b2;
    b2.prev = bp;

    return b2;
}

// create a node and optionally link it with previous one (in a circular doubly linked list)
function insertNode(i, x, y, last) {
    var p = new Node(i, x, y);

    if (!last) {
        p.prev = p;
        p.next = p;

    } else {
        p.next = last.next;
        p.prev = last;
        last.next.prev = p;
        last.next = p;
    }
    return p;
}

function removeNode(p) {
    p.next.prev = p.prev;
    p.prev.next = p.next;

    if (p.prevZ) p.prevZ.nextZ = p.nextZ;
    if (p.nextZ) p.nextZ.prevZ = p.prevZ;
}

function Node(i, x, y) {
    // vertex index in coordinates array
    this.i = i;

    // vertex coordinates
    this.x = x;
    this.y = y;

    // previous and next vertex nodes in a polygon ring
    this.prev = null;
    this.next = null;

    // z-order curve value
    this.z = 0;

    // previous and next nodes in z-order
    this.prevZ = null;
    this.nextZ = null;

    // indicates whether this is a steiner point
    this.steiner = false;
}

// return a percentage difference between the polygon area and its triangulation area;
// used to verify correctness of triangulation
earcut.deviation = function (data, holeIndices, dim, triangles) {
    var hasHoles = holeIndices && holeIndices.length;
    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;

    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
    if (hasHoles) {
        for (var i = 0, len = holeIndices.length; i < len; i++) {
            var start = holeIndices[i] * dim;
            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;
            polygonArea -= Math.abs(signedArea(data, start, end, dim));
        }
    }

    var trianglesArea = 0;
    for (i = 0; i < triangles.length; i += 3) {
        var a = triangles[i] * dim;
        var b = triangles[i + 1] * dim;
        var c = triangles[i + 2] * dim;
        trianglesArea += Math.abs(
            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -
            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));
    }

    return polygonArea === 0 && trianglesArea === 0 ? 0 :
        Math.abs((trianglesArea - polygonArea) / polygonArea);
};

function signedArea(data, start, end, dim) {
    var sum = 0;
    for (var i = start, j = end - dim; i < end; i += dim) {
        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
        j = i;
    }
    return sum;
}

// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts
earcut.flatten = function (data) {
    var dim = data[0][0].length,
        result = {vertices: [], holes: [], dimensions: dim},
        holeIndex = 0;

    for (var i = 0; i < data.length; i++) {
        for (var j = 0; j < data[i].length; j++) {
            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);
        }
        if (i > 0) {
            holeIndex += data[i - 1].length;
            result.holes.push(holeIndex);
        }
    }
    return result;
};


/***/ }),

/***/ "./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/***/ ((module) => {

"use strict";


var has = Object.prototype.hasOwnProperty
  , prefix = '~';

/**
 * Constructor to create a storage for our `EE` objects.
 * An `Events` instance is a plain object whose properties are event names.
 *
 * @constructor
 * @private
 */
function Events() {}

//
// We try to not inherit from `Object.prototype`. In some engines creating an
// instance in this way is faster than calling `Object.create(null)` directly.
// If `Object.create(null)` is not supported we prefix the event names with a
// character to make sure that the built-in object properties are not
// overridden or used as an attack vector.
//
if (Object.create) {
  Events.prototype = Object.create(null);

  //
  // This hack is needed because the `__proto__` property is still inherited in
  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.
  //
  if (!new Events().__proto__) prefix = false;
}

/**
 * Representation of a single event listener.
 *
 * @param {Function} fn The listener function.
 * @param {*} context The context to invoke the listener with.
 * @param {Boolean} [once=false] Specify if the listener is a one-time listener.
 * @constructor
 * @private
 */
function EE(fn, context, once) {
  this.fn = fn;
  this.context = context;
  this.once = once || false;
}

/**
 * Add a listener for a given event.
 *
 * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} context The context to invoke the listener with.
 * @param {Boolean} once Specify if the listener is a one-time listener.
 * @returns {EventEmitter}
 * @private
 */
function addListener(emitter, event, fn, context, once) {
  if (typeof fn !== 'function') {
    throw new TypeError('The listener must be a function');
  }

  var listener = new EE(fn, context || emitter, once)
    , evt = prefix ? prefix + event : event;

  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;
  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);
  else emitter._events[evt] = [emitter._events[evt], listener];

  return emitter;
}

/**
 * Clear event by name.
 *
 * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.
 * @param {(String|Symbol)} evt The Event name.
 * @private
 */
function clearEvent(emitter, evt) {
  if (--emitter._eventsCount === 0) emitter._events = new Events();
  else delete emitter._events[evt];
}

/**
 * Minimal `EventEmitter` interface that is molded against the Node.js
 * `EventEmitter` interface.
 *
 * @constructor
 * @public
 */
function EventEmitter() {
  this._events = new Events();
  this._eventsCount = 0;
}

/**
 * Return an array listing the events for which the emitter has registered
 * listeners.
 *
 * @returns {Array}
 * @public
 */
EventEmitter.prototype.eventNames = function eventNames() {
  var names = []
    , events
    , name;

  if (this._eventsCount === 0) return names;

  for (name in (events = this._events)) {
    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);
  }

  if (Object.getOwnPropertySymbols) {
    return names.concat(Object.getOwnPropertySymbols(events));
  }

  return names;
};

/**
 * Return the listeners registered for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Array} The registered listeners.
 * @public
 */
EventEmitter.prototype.listeners = function listeners(event) {
  var evt = prefix ? prefix + event : event
    , handlers = this._events[evt];

  if (!handlers) return [];
  if (handlers.fn) return [handlers.fn];

  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {
    ee[i] = handlers[i].fn;
  }

  return ee;
};

/**
 * Return the number of listeners listening to a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Number} The number of listeners.
 * @public
 */
EventEmitter.prototype.listenerCount = function listenerCount(event) {
  var evt = prefix ? prefix + event : event
    , listeners = this._events[evt];

  if (!listeners) return 0;
  if (listeners.fn) return 1;
  return listeners.length;
};

/**
 * Calls each of the listeners registered for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Boolean} `true` if the event had listeners, else `false`.
 * @public
 */
EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
  var evt = prefix ? prefix + event : event;

  if (!this._events[evt]) return false;

  var listeners = this._events[evt]
    , len = arguments.length
    , args
    , i;

  if (listeners.fn) {
    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);

    switch (len) {
      case 1: return listeners.fn.call(listeners.context), true;
      case 2: return listeners.fn.call(listeners.context, a1), true;
      case 3: return listeners.fn.call(listeners.context, a1, a2), true;
      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;
      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
    }

    for (i = 1, args = new Array(len -1); i < len; i++) {
      args[i - 1] = arguments[i];
    }

    listeners.fn.apply(listeners.context, args);
  } else {
    var length = listeners.length
      , j;

    for (i = 0; i < length; i++) {
      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);

      switch (len) {
        case 1: listeners[i].fn.call(listeners[i].context); break;
        case 2: listeners[i].fn.call(listeners[i].context, a1); break;
        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;
        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;
        default:
          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {
            args[j - 1] = arguments[j];
          }

          listeners[i].fn.apply(listeners[i].context, args);
      }
    }
  }

  return true;
};

/**
 * Add a listener for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} [context=this] The context to invoke the listener with.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.on = function on(event, fn, context) {
  return addListener(this, event, fn, context, false);
};

/**
 * Add a one-time listener for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} [context=this] The context to invoke the listener with.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.once = function once(event, fn, context) {
  return addListener(this, event, fn, context, true);
};

/**
 * Remove the listeners of a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn Only remove the listeners that match this function.
 * @param {*} context Only remove the listeners that have this context.
 * @param {Boolean} once Only remove one-time listeners.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
  var evt = prefix ? prefix + event : event;

  if (!this._events[evt]) return this;
  if (!fn) {
    clearEvent(this, evt);
    return this;
  }

  var listeners = this._events[evt];

  if (listeners.fn) {
    if (
      listeners.fn === fn &&
      (!once || listeners.once) &&
      (!context || listeners.context === context)
    ) {
      clearEvent(this, evt);
    }
  } else {
    for (var i = 0, events = [], length = listeners.length; i < length; i++) {
      if (
        listeners[i].fn !== fn ||
        (once && !listeners[i].once) ||
        (context && listeners[i].context !== context)
      ) {
        events.push(listeners[i]);
      }
    }

    //
    // Reset the array, or remove it completely if we have no more listeners.
    //
    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;
    else clearEvent(this, evt);
  }

  return this;
};

/**
 * Remove all listeners, or those of the specified event.
 *
 * @param {(String|Symbol)} [event] The event name.
 * @returns {EventEmitter} `this`.
 * @public
 */
EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
  var evt;

  if (event) {
    evt = prefix ? prefix + event : event;
    if (this._events[evt]) clearEvent(this, evt);
  } else {
    this._events = new Events();
    this._eventsCount = 0;
  }

  return this;
};

//
// Alias methods names because people roll like that.
//
EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
EventEmitter.prototype.addListener = EventEmitter.prototype.on;

//
// Expose the prefix.
//
EventEmitter.prefixed = prefix;

//
// Allow `EventEmitter` to be imported as module namespace.
//
EventEmitter.EventEmitter = EventEmitter;

//
// Expose the module.
//
if (true) {
  module.exports = EventEmitter;
}


/***/ }),

/***/ "./node_modules/querystring/decode.js":
/*!********************************************!*\
  !*** ./node_modules/querystring/decode.js ***!
  \********************************************/
/***/ ((module) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = function(qs, sep, eq, options) {
  sep = sep || '&';
  eq = eq || '=';
  var obj = {};

  if (typeof qs !== 'string' || qs.length === 0) {
    return obj;
  }

  var regexp = /\+/g;
  qs = qs.split(sep);

  var maxKeys = 1000;
  if (options && typeof options.maxKeys === 'number') {
    maxKeys = options.maxKeys;
  }

  var len = qs.length;
  // maxKeys <= 0 means that we should not limit keys count
  if (maxKeys > 0 && len > maxKeys) {
    len = maxKeys;
  }

  for (var i = 0; i < len; ++i) {
    var x = qs[i].replace(regexp, '%20'),
        idx = x.indexOf(eq),
        kstr, vstr, k, v;

    if (idx >= 0) {
      kstr = x.substr(0, idx);
      vstr = x.substr(idx + 1);
    } else {
      kstr = x;
      vstr = '';
    }

    k = decodeURIComponent(kstr);
    v = decodeURIComponent(vstr);

    if (!hasOwnProperty(obj, k)) {
      obj[k] = v;
    } else if (Array.isArray(obj[k])) {
      obj[k].push(v);
    } else {
      obj[k] = [obj[k], v];
    }
  }

  return obj;
};


/***/ }),

/***/ "./node_modules/querystring/encode.js":
/*!********************************************!*\
  !*** ./node_modules/querystring/encode.js ***!
  \********************************************/
/***/ ((module) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var stringifyPrimitive = function(v) {
  switch (typeof v) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};

module.exports = function(obj, sep, eq, name) {
  sep = sep || '&';
  eq = eq || '=';
  if (obj === null) {
    obj = undefined;
  }

  if (typeof obj === 'object') {
    return Object.keys(obj).map(function(k) {
      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
      if (Array.isArray(obj[k])) {
        return obj[k].map(function(v) {
          return ks + encodeURIComponent(stringifyPrimitive(v));
        }).join(sep);
      } else {
        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
      }
    }).join(sep);

  }

  if (!name) return '';
  return encodeURIComponent(stringifyPrimitive(name)) + eq +
         encodeURIComponent(stringifyPrimitive(obj));
};


/***/ }),

/***/ "./node_modules/querystring/index.js":
/*!*******************************************!*\
  !*** ./node_modules/querystring/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


exports.decode = exports.parse = __webpack_require__(/*! ./decode */ "./node_modules/querystring/decode.js");
exports.encode = exports.stringify = __webpack_require__(/*! ./encode */ "./node_modules/querystring/encode.js");


/***/ }),

/***/ "./node_modules/url/node_modules/punycode/punycode.js":
/*!************************************************************!*\
  !*** ./node_modules/url/node_modules/punycode/punycode.js ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

/* module decorator */ module = __webpack_require__.nmd(module);
var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.3.2 by @mathias */
;(function(root) {

	/** Detect free variables */
	var freeExports =  true && exports &&
		!exports.nodeType && exports;
	var freeModule =  true && module &&
		!module.nodeType && module;
	var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g;
	if (
		freeGlobal.global === freeGlobal ||
		freeGlobal.window === freeGlobal ||
		freeGlobal.self === freeGlobal
	) {
		root = freeGlobal;
	}

	/**
	 * The `punycode` object.
	 * @name punycode
	 * @type Object
	 */
	var punycode,

	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	tMin = 1,
	tMax = 26,
	skew = 38,
	damp = 700,
	initialBias = 72,
	initialN = 128, // 0x80
	delimiter = '-', // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	regexNonASCII = /[^\x20-\x7E]/, // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},

	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	floor = Math.floor,
	stringFromCharCode = String.fromCharCode,

	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
	 * A generic error utility function.
	 * @private
	 * @param {String} type The error type.
	 * @returns {Error} Throws a `RangeError` with the applicable error message.
	 */
	function error(type) {
		throw RangeError(errors[type]);
	}

	/**
	 * A generic `Array#map` utility function.
	 * @private
	 * @param {Array} array The array to iterate over.
	 * @param {Function} callback The function that gets called for every array
	 * item.
	 * @returns {Array} A new array of values returned by the callback function.
	 */
	function map(array, fn) {
		var length = array.length;
		var result = [];
		while (length--) {
			result[length] = fn(array[length]);
		}
		return result;
	}

	/**
	 * A simple `Array#map`-like wrapper to work with domain name strings or email
	 * addresses.
	 * @private
	 * @param {String} domain The domain name or email address.
	 * @param {Function} callback The function that gets called for every
	 * character.
	 * @returns {Array} A new string of characters returned by the callback
	 * function.
	 */
	function mapDomain(string, fn) {
		var parts = string.split('@');
		var result = '';
		if (parts.length > 1) {
			// In email addresses, only the domain name should be punycoded. Leave
			// the local part (i.e. everything up to `@`) intact.
			result = parts[0] + '@';
			string = parts[1];
		}
		// Avoid `split(regex)` for IE8 compatibility. See #17.
		string = string.replace(regexSeparators, '\x2E');
		var labels = string.split('.');
		var encoded = map(labels, fn).join('.');
		return result + encoded;
	}

	/**
	 * Creates an array containing the numeric code points of each Unicode
	 * character in the string. While JavaScript uses UCS-2 internally,
	 * this function will convert a pair of surrogate halves (each of which
	 * UCS-2 exposes as separate characters) into a single code point,
	 * matching UTF-16.
	 * @see `punycode.ucs2.encode`
	 * @see <https://mathiasbynens.be/notes/javascript-encoding>
	 * @memberOf punycode.ucs2
	 * @name decode
	 * @param {String} string The Unicode input string (UCS-2).
	 * @returns {Array} The new array of code points.
	 */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) { // low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
	 * Creates a string based on an array of numeric code points.
	 * @see `punycode.ucs2.decode`
	 * @memberOf punycode.ucs2
	 * @name encode
	 * @param {Array} codePoints The array of numeric code points.
	 * @returns {String} The new Unicode string (UCS-2).
	 */
	function ucs2encode(array) {
		return map(array, function(value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
	 * Converts a basic code point into a digit/integer.
	 * @see `digitToBasic()`
	 * @private
	 * @param {Number} codePoint The basic numeric code point value.
	 * @returns {Number} The numeric value of a basic code point (for use in
	 * representing integers) in the range `0` to `base - 1`, or `base` if
	 * the code point does not represent a value.
	 */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
	 * Converts a digit/integer into a basic code point.
	 * @see `basicToDigit()`
	 * @private
	 * @param {Number} digit The numeric value of a basic code point.
	 * @returns {Number} The basic code point whose value (when used for
	 * representing integers) is `digit`, which needs to be in the range
	 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
	 * used; else, the lowercase form is used. The behavior is undefined
	 * if `flag` is non-zero and `digit` has no uppercase form.
	 */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
	 * Bias adaptation function as per section 3.4 of RFC 3492.
	 * http://tools.ietf.org/html/rfc3492#section-3.4
	 * @private
	 */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
	 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The Punycode string of ASCII-only symbols.
	 * @returns {String} The resulting string of Unicode symbols.
	 */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,
		    /** Cached calculation results */
		    baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base; /* no condition */; k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;

			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);

		}

		return ucs2encode(output);
	}

	/**
	 * Converts a string of Unicode symbols (e.g. a domain name label) to a
	 * Punycode string of ASCII-only symbols.
	 * @memberOf punycode
	 * @param {String} input The string of Unicode symbols.
	 * @returns {String} The resulting Punycode string of ASCII-only symbols.
	 */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],
		    /** `inputLength` will hold the number of code points in `input`. */
		    inputLength,
		    /** Cached calculation results */
		    handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base; /* no condition */; k += base) {
						t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(
							stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))
						);
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;

		}
		return output.join('');
	}

	/**
	 * Converts a Punycode string representing a domain name or an email address
	 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
	 * it doesn't matter if you call it on a string that has already been
	 * converted to Unicode.
	 * @memberOf punycode
	 * @param {String} input The Punycoded domain name or email address to
	 * convert to Unicode.
	 * @returns {String} The Unicode representation of the given Punycode
	 * string.
	 */
	function toUnicode(input) {
		return mapDomain(input, function(string) {
			return regexPunycode.test(string)
				? decode(string.slice(4).toLowerCase())
				: string;
		});
	}

	/**
	 * Converts a Unicode string representing a domain name or an email address to
	 * Punycode. Only the non-ASCII parts of the domain name will be converted,
	 * i.e. it doesn't matter if you call it with a domain that's already in
	 * ASCII.
	 * @memberOf punycode
	 * @param {String} input The domain name or email address to convert, as a
	 * Unicode string.
	 * @returns {String} The Punycode representation of the given domain name or
	 * email address.
	 */
	function toASCII(input) {
		return mapDomain(input, function(string) {
			return regexNonASCII.test(string)
				? 'xn--' + encode(string)
				: string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
		 * A string representing the current Punycode.js version number.
		 * @memberOf punycode
		 * @type String
		 */
		'version': '1.3.2',
		/**
		 * An object of methods to convert from JavaScript's internal character
		 * representation (UCS-2) to Unicode code points, and back.
		 * @see <https://mathiasbynens.be/notes/javascript-encoding>
		 * @memberOf punycode
		 * @type Object
		 */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if (
		true
	) {
		!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
			return punycode;
		}).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}

}(this));


/***/ }),

/***/ "./node_modules/url/url.js":
/*!*********************************!*\
  !*** ./node_modules/url/url.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var punycode = __webpack_require__(/*! punycode */ "./node_modules/url/node_modules/punycode/punycode.js");
var util = __webpack_require__(/*! ./util */ "./node_modules/url/util.js");

exports.parse = urlParse;
exports.resolve = urlResolve;
exports.resolveObject = urlResolveObject;
exports.format = urlFormat;

exports.Url = Url;

function Url() {
  this.protocol = null;
  this.slashes = null;
  this.auth = null;
  this.host = null;
  this.port = null;
  this.hostname = null;
  this.hash = null;
  this.search = null;
  this.query = null;
  this.pathname = null;
  this.path = null;
  this.href = null;
}

// Reference: RFC 3986, RFC 1808, RFC 2396

// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern = /^([a-z0-9.+-]+:)/i,
    portPattern = /:[0-9]*$/,

    // Special case for a simple path URL
    simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,

    // RFC 2396: characters reserved for delimiting URLs.
    // We actually just auto-escape these.
    delims = ['<', '>', '"', '`', ' ', '\r', '\n', '\t'],

    // RFC 2396: characters not allowed for various reasons.
    unwise = ['{', '}', '|', '\\', '^', '`'].concat(delims),

    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.
    autoEscape = ['\''].concat(unwise),
    // Characters that are never ever allowed in a hostname.
    // Note that any invalid chars are also handled, but these
    // are the ones that are *expected* to be seen, so we fast-path
    // them.
    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),
    hostEndingChars = ['/', '?', '#'],
    hostnameMaxLen = 255,
    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
    // protocols that can allow "unsafe" and "unwise" chars.
    unsafeProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that never have a hostname.
    hostlessProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that always contain a // bit.
    slashedProtocol = {
      'http': true,
      'https': true,
      'ftp': true,
      'gopher': true,
      'file': true,
      'http:': true,
      'https:': true,
      'ftp:': true,
      'gopher:': true,
      'file:': true
    },
    querystring = __webpack_require__(/*! querystring */ "./node_modules/querystring/index.js");

function urlParse(url, parseQueryString, slashesDenoteHost) {
  if (url && util.isObject(url) && url instanceof Url) return url;

  var u = new Url;
  u.parse(url, parseQueryString, slashesDenoteHost);
  return u;
}

Url.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {
  if (!util.isString(url)) {
    throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
  }

  // Copy chrome, IE, opera backslash-handling behavior.
  // Back slashes before the query string get converted to forward slashes
  // See: https://code.google.com/p/chromium/issues/detail?id=25916
  var queryIndex = url.indexOf('?'),
      splitter =
          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',
      uSplit = url.split(splitter),
      slashRegex = /\\/g;
  uSplit[0] = uSplit[0].replace(slashRegex, '/');
  url = uSplit.join(splitter);

  var rest = url;

  // trim before proceeding.
  // This is to support parse stuff like "  http://foo.com  \n"
  rest = rest.trim();

  if (!slashesDenoteHost && url.split('#').length === 1) {
    // Try fast path regexp
    var simplePath = simplePathPattern.exec(rest);
    if (simplePath) {
      this.path = rest;
      this.href = rest;
      this.pathname = simplePath[1];
      if (simplePath[2]) {
        this.search = simplePath[2];
        if (parseQueryString) {
          this.query = querystring.parse(this.search.substr(1));
        } else {
          this.query = this.search.substr(1);
        }
      } else if (parseQueryString) {
        this.search = '';
        this.query = {};
      }
      return this;
    }
  }

  var proto = protocolPattern.exec(rest);
  if (proto) {
    proto = proto[0];
    var lowerProto = proto.toLowerCase();
    this.protocol = lowerProto;
    rest = rest.substr(proto.length);
  }

  // figure out if it's got a host
  // user@server is *always* interpreted as a hostname, and url
  // resolution will treat //foo/bar as host=foo,path=bar because that's
  // how the browser resolves relative URLs.
  if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
    var slashes = rest.substr(0, 2) === '//';
    if (slashes && !(proto && hostlessProtocol[proto])) {
      rest = rest.substr(2);
      this.slashes = true;
    }
  }

  if (!hostlessProtocol[proto] &&
      (slashes || (proto && !slashedProtocol[proto]))) {

    // there's a hostname.
    // the first instance of /, ?, ;, or # ends the host.
    //
    // If there is an @ in the hostname, then non-host chars *are* allowed
    // to the left of the last @ sign, unless some host-ending character
    // comes *before* the @-sign.
    // URLs are obnoxious.
    //
    // ex:
    // http://a@b@c/ => user:a@b host:c
    // http://a@b?@c => user:a host:c path:/?@c

    // v0.12 TODO(isaacs): This is not quite how Chrome does things.
    // Review our test case against browsers more comprehensively.

    // find the first instance of any hostEndingChars
    var hostEnd = -1;
    for (var i = 0; i < hostEndingChars.length; i++) {
      var hec = rest.indexOf(hostEndingChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }

    // at this point, either we have an explicit point where the
    // auth portion cannot go past, or the last @ char is the decider.
    var auth, atSign;
    if (hostEnd === -1) {
      // atSign can be anywhere.
      atSign = rest.lastIndexOf('@');
    } else {
      // atSign must be in auth portion.
      // http://a@b/c@d => host:b auth:a path:/c@d
      atSign = rest.lastIndexOf('@', hostEnd);
    }

    // Now we have a portion which is definitely the auth.
    // Pull that off.
    if (atSign !== -1) {
      auth = rest.slice(0, atSign);
      rest = rest.slice(atSign + 1);
      this.auth = decodeURIComponent(auth);
    }

    // the host is the remaining to the left of the first non-host char
    hostEnd = -1;
    for (var i = 0; i < nonHostChars.length; i++) {
      var hec = rest.indexOf(nonHostChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }
    // if we still have not hit it, then the entire thing is a host.
    if (hostEnd === -1)
      hostEnd = rest.length;

    this.host = rest.slice(0, hostEnd);
    rest = rest.slice(hostEnd);

    // pull out port.
    this.parseHost();

    // we've indicated that there is a hostname,
    // so even if it's empty, it has to be present.
    this.hostname = this.hostname || '';

    // if hostname begins with [ and ends with ]
    // assume that it's an IPv6 address.
    var ipv6Hostname = this.hostname[0] === '[' &&
        this.hostname[this.hostname.length - 1] === ']';

    // validate a little.
    if (!ipv6Hostname) {
      var hostparts = this.hostname.split(/\./);
      for (var i = 0, l = hostparts.length; i < l; i++) {
        var part = hostparts[i];
        if (!part) continue;
        if (!part.match(hostnamePartPattern)) {
          var newpart = '';
          for (var j = 0, k = part.length; j < k; j++) {
            if (part.charCodeAt(j) > 127) {
              // we replace non-ASCII char with a temporary placeholder
              // we need this to make sure size of hostname is not
              // broken by replacing non-ASCII by nothing
              newpart += 'x';
            } else {
              newpart += part[j];
            }
          }
          // we test again with ASCII char only
          if (!newpart.match(hostnamePartPattern)) {
            var validParts = hostparts.slice(0, i);
            var notHost = hostparts.slice(i + 1);
            var bit = part.match(hostnamePartStart);
            if (bit) {
              validParts.push(bit[1]);
              notHost.unshift(bit[2]);
            }
            if (notHost.length) {
              rest = '/' + notHost.join('.') + rest;
            }
            this.hostname = validParts.join('.');
            break;
          }
        }
      }
    }

    if (this.hostname.length > hostnameMaxLen) {
      this.hostname = '';
    } else {
      // hostnames are always lower case.
      this.hostname = this.hostname.toLowerCase();
    }

    if (!ipv6Hostname) {
      // IDNA Support: Returns a punycoded representation of "domain".
      // It only converts parts of the domain name that
      // have non-ASCII characters, i.e. it doesn't matter if
      // you call it with a domain that already is ASCII-only.
      this.hostname = punycode.toASCII(this.hostname);
    }

    var p = this.port ? ':' + this.port : '';
    var h = this.hostname || '';
    this.host = h + p;
    this.href += this.host;

    // strip [ and ] from the hostname
    // the host field still retains them, though
    if (ipv6Hostname) {
      this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      if (rest[0] !== '/') {
        rest = '/' + rest;
      }
    }
  }

  // now rest is set to the post-host stuff.
  // chop off any delim chars.
  if (!unsafeProtocol[lowerProto]) {

    // First, make 100% sure that any "autoEscape" chars get
    // escaped, even if encodeURIComponent doesn't think they
    // need to be.
    for (var i = 0, l = autoEscape.length; i < l; i++) {
      var ae = autoEscape[i];
      if (rest.indexOf(ae) === -1)
        continue;
      var esc = encodeURIComponent(ae);
      if (esc === ae) {
        esc = escape(ae);
      }
      rest = rest.split(ae).join(esc);
    }
  }


  // chop off from the tail first.
  var hash = rest.indexOf('#');
  if (hash !== -1) {
    // got a fragment string.
    this.hash = rest.substr(hash);
    rest = rest.slice(0, hash);
  }
  var qm = rest.indexOf('?');
  if (qm !== -1) {
    this.search = rest.substr(qm);
    this.query = rest.substr(qm + 1);
    if (parseQueryString) {
      this.query = querystring.parse(this.query);
    }
    rest = rest.slice(0, qm);
  } else if (parseQueryString) {
    // no query string, but parseQueryString still requested
    this.search = '';
    this.query = {};
  }
  if (rest) this.pathname = rest;
  if (slashedProtocol[lowerProto] &&
      this.hostname && !this.pathname) {
    this.pathname = '/';
  }

  //to support http.request
  if (this.pathname || this.search) {
    var p = this.pathname || '';
    var s = this.search || '';
    this.path = p + s;
  }

  // finally, reconstruct the href based on what has been validated.
  this.href = this.format();
  return this;
};

// format a parsed object into a url string
function urlFormat(obj) {
  // ensure it's an object, and not a string url.
  // If it's an obj, this is a no-op.
  // this way, you can call url_format() on strings
  // to clean up potentially wonky urls.
  if (util.isString(obj)) obj = urlParse(obj);
  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);
  return obj.format();
}

Url.prototype.format = function() {
  var auth = this.auth || '';
  if (auth) {
    auth = encodeURIComponent(auth);
    auth = auth.replace(/%3A/i, ':');
    auth += '@';
  }

  var protocol = this.protocol || '',
      pathname = this.pathname || '',
      hash = this.hash || '',
      host = false,
      query = '';

  if (this.host) {
    host = auth + this.host;
  } else if (this.hostname) {
    host = auth + (this.hostname.indexOf(':') === -1 ?
        this.hostname :
        '[' + this.hostname + ']');
    if (this.port) {
      host += ':' + this.port;
    }
  }

  if (this.query &&
      util.isObject(this.query) &&
      Object.keys(this.query).length) {
    query = querystring.stringify(this.query);
  }

  var search = this.search || (query && ('?' + query)) || '';

  if (protocol && protocol.substr(-1) !== ':') protocol += ':';

  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
  // unless they had them to begin with.
  if (this.slashes ||
      (!protocol || slashedProtocol[protocol]) && host !== false) {
    host = '//' + (host || '');
    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;
  } else if (!host) {
    host = '';
  }

  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;
  if (search && search.charAt(0) !== '?') search = '?' + search;

  pathname = pathname.replace(/[?#]/g, function(match) {
    return encodeURIComponent(match);
  });
  search = search.replace('#', '%23');

  return protocol + host + pathname + search + hash;
};

function urlResolve(source, relative) {
  return urlParse(source, false, true).resolve(relative);
}

Url.prototype.resolve = function(relative) {
  return this.resolveObject(urlParse(relative, false, true)).format();
};

function urlResolveObject(source, relative) {
  if (!source) return relative;
  return urlParse(source, false, true).resolveObject(relative);
}

Url.prototype.resolveObject = function(relative) {
  if (util.isString(relative)) {
    var rel = new Url();
    rel.parse(relative, false, true);
    relative = rel;
  }

  var result = new Url();
  var tkeys = Object.keys(this);
  for (var tk = 0; tk < tkeys.length; tk++) {
    var tkey = tkeys[tk];
    result[tkey] = this[tkey];
  }

  // hash is always overridden, no matter what.
  // even href="" will remove it.
  result.hash = relative.hash;

  // if the relative url is empty, then there's nothing left to do here.
  if (relative.href === '') {
    result.href = result.format();
    return result;
  }

  // hrefs like //foo/bar always cut to the protocol.
  if (relative.slashes && !relative.protocol) {
    // take everything except the protocol from relative
    var rkeys = Object.keys(relative);
    for (var rk = 0; rk < rkeys.length; rk++) {
      var rkey = rkeys[rk];
      if (rkey !== 'protocol')
        result[rkey] = relative[rkey];
    }

    //urlParse appends trailing / to urls like http://www.example.com
    if (slashedProtocol[result.protocol] &&
        result.hostname && !result.pathname) {
      result.path = result.pathname = '/';
    }

    result.href = result.format();
    return result;
  }

  if (relative.protocol && relative.protocol !== result.protocol) {
    // if it's a known url protocol, then changing
    // the protocol does weird things
    // first, if it's not file:, then we MUST have a host,
    // and if there was a path
    // to begin with, then we MUST have a path.
    // if it is file:, then the host is dropped,
    // because that's known to be hostless.
    // anything else is assumed to be absolute.
    if (!slashedProtocol[relative.protocol]) {
      var keys = Object.keys(relative);
      for (var v = 0; v < keys.length; v++) {
        var k = keys[v];
        result[k] = relative[k];
      }
      result.href = result.format();
      return result;
    }

    result.protocol = relative.protocol;
    if (!relative.host && !hostlessProtocol[relative.protocol]) {
      var relPath = (relative.pathname || '').split('/');
      while (relPath.length && !(relative.host = relPath.shift()));
      if (!relative.host) relative.host = '';
      if (!relative.hostname) relative.hostname = '';
      if (relPath[0] !== '') relPath.unshift('');
      if (relPath.length < 2) relPath.unshift('');
      result.pathname = relPath.join('/');
    } else {
      result.pathname = relative.pathname;
    }
    result.search = relative.search;
    result.query = relative.query;
    result.host = relative.host || '';
    result.auth = relative.auth;
    result.hostname = relative.hostname || relative.host;
    result.port = relative.port;
    // to support http.request
    if (result.pathname || result.search) {
      var p = result.pathname || '';
      var s = result.search || '';
      result.path = p + s;
    }
    result.slashes = result.slashes || relative.slashes;
    result.href = result.format();
    return result;
  }

  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),
      isRelAbs = (
          relative.host ||
          relative.pathname && relative.pathname.charAt(0) === '/'
      ),
      mustEndAbs = (isRelAbs || isSourceAbs ||
                    (result.host && relative.pathname)),
      removeAllDots = mustEndAbs,
      srcPath = result.pathname && result.pathname.split('/') || [],
      relPath = relative.pathname && relative.pathname.split('/') || [],
      psychotic = result.protocol && !slashedProtocol[result.protocol];

  // if the url is a non-slashed url, then relative
  // links like ../.. should be able
  // to crawl up to the hostname, as well.  This is strange.
  // result.protocol has already been set by now.
  // Later on, put the first path part into the host field.
  if (psychotic) {
    result.hostname = '';
    result.port = null;
    if (result.host) {
      if (srcPath[0] === '') srcPath[0] = result.host;
      else srcPath.unshift(result.host);
    }
    result.host = '';
    if (relative.protocol) {
      relative.hostname = null;
      relative.port = null;
      if (relative.host) {
        if (relPath[0] === '') relPath[0] = relative.host;
        else relPath.unshift(relative.host);
      }
      relative.host = null;
    }
    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
  }

  if (isRelAbs) {
    // it's absolute.
    result.host = (relative.host || relative.host === '') ?
                  relative.host : result.host;
    result.hostname = (relative.hostname || relative.hostname === '') ?
                      relative.hostname : result.hostname;
    result.search = relative.search;
    result.query = relative.query;
    srcPath = relPath;
    // fall through to the dot-handling below.
  } else if (relPath.length) {
    // it's relative
    // throw away the existing file, and take the new path instead.
    if (!srcPath) srcPath = [];
    srcPath.pop();
    srcPath = srcPath.concat(relPath);
    result.search = relative.search;
    result.query = relative.query;
  } else if (!util.isNullOrUndefined(relative.search)) {
    // just pull out the search.
    // like href='?foo'.
    // Put this after the other two cases because it simplifies the booleans
    if (psychotic) {
      result.hostname = result.host = srcPath.shift();
      //occationaly the auth can get stuck only in host
      //this especially happens in cases like
      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
      var authInHost = result.host && result.host.indexOf('@') > 0 ?
                       result.host.split('@') : false;
      if (authInHost) {
        result.auth = authInHost.shift();
        result.host = result.hostname = authInHost.shift();
      }
    }
    result.search = relative.search;
    result.query = relative.query;
    //to support http.request
    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
      result.path = (result.pathname ? result.pathname : '') +
                    (result.search ? result.search : '');
    }
    result.href = result.format();
    return result;
  }

  if (!srcPath.length) {
    // no path at all.  easy.
    // we've already handled the other stuff above.
    result.pathname = null;
    //to support http.request
    if (result.search) {
      result.path = '/' + result.search;
    } else {
      result.path = null;
    }
    result.href = result.format();
    return result;
  }

  // if a url ENDs in . or .., then it must get a trailing slash.
  // however, if it ends in anything else non-slashy,
  // then it must NOT get a trailing slash.
  var last = srcPath.slice(-1)[0];
  var hasTrailingSlash = (
      (result.host || relative.host || srcPath.length > 1) &&
      (last === '.' || last === '..') || last === '');

  // strip single dots, resolve double dots to parent dir
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = srcPath.length; i >= 0; i--) {
    last = srcPath[i];
    if (last === '.') {
      srcPath.splice(i, 1);
    } else if (last === '..') {
      srcPath.splice(i, 1);
      up++;
    } else if (up) {
      srcPath.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (!mustEndAbs && !removeAllDots) {
    for (; up--; up) {
      srcPath.unshift('..');
    }
  }

  if (mustEndAbs && srcPath[0] !== '' &&
      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
    srcPath.unshift('');
  }

  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {
    srcPath.push('');
  }

  var isAbsolute = srcPath[0] === '' ||
      (srcPath[0] && srcPath[0].charAt(0) === '/');

  // put the host back
  if (psychotic) {
    result.hostname = result.host = isAbsolute ? '' :
                                    srcPath.length ? srcPath.shift() : '';
    //occationaly the auth can get stuck only in host
    //this especially happens in cases like
    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
    var authInHost = result.host && result.host.indexOf('@') > 0 ?
                     result.host.split('@') : false;
    if (authInHost) {
      result.auth = authInHost.shift();
      result.host = result.hostname = authInHost.shift();
    }
  }

  mustEndAbs = mustEndAbs || (result.host && srcPath.length);

  if (mustEndAbs && !isAbsolute) {
    srcPath.unshift('');
  }

  if (!srcPath.length) {
    result.pathname = null;
    result.path = null;
  } else {
    result.pathname = srcPath.join('/');
  }

  //to support request.http
  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
    result.path = (result.pathname ? result.pathname : '') +
                  (result.search ? result.search : '');
  }
  result.auth = relative.auth || result.auth;
  result.slashes = result.slashes || relative.slashes;
  result.href = result.format();
  return result;
};

Url.prototype.parseHost = function() {
  var host = this.host;
  var port = portPattern.exec(host);
  if (port) {
    port = port[0];
    if (port !== ':') {
      this.port = port.substr(1);
    }
    host = host.substr(0, host.length - port.length);
  }
  if (host) this.hostname = host;
};


/***/ }),

/***/ "./node_modules/url/util.js":
/*!**********************************!*\
  !*** ./node_modules/url/util.js ***!
  \**********************************/
/***/ ((module) => {

"use strict";


module.exports = {
  isString: function(arg) {
    return typeof(arg) === 'string';
  },
  isObject: function(arg) {
    return typeof(arg) === 'object' && arg !== null;
  },
  isNull: function(arg) {
    return arg === null;
  },
  isNullOrUndefined: function(arg) {
    return arg == null;
  }
};


/***/ }),

/***/ "./node_modules/@pixi/accessibility/lib/AccessibilityManager.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/accessibility/lib/AccessibilityManager.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AccessibilityManager": () => (/* binding */ AccessibilityManager)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _pixi_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/events */ "./node_modules/@pixi/events/lib/index.mjs");
/* harmony import */ var _accessibleTarget_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./accessibleTarget.mjs */ "./node_modules/@pixi/accessibility/lib/accessibleTarget.mjs");





_pixi_display__WEBPACK_IMPORTED_MODULE_1__.DisplayObject.mixin(_accessibleTarget_mjs__WEBPACK_IMPORTED_MODULE_3__.accessibleTarget);
const KEY_CODE_TAB = 9;
const DIV_TOUCH_SIZE = 100;
const DIV_TOUCH_POS_X = 0;
const DIV_TOUCH_POS_Y = 0;
const DIV_TOUCH_ZINDEX = 2;
const DIV_HOOK_SIZE = 1;
const DIV_HOOK_POS_X = -1e3;
const DIV_HOOK_POS_Y = -1e3;
const DIV_HOOK_ZINDEX = 2;
class AccessibilityManager {
  constructor(renderer) {
    this.debug = false;
    this._isActive = false;
    this._isMobileAccessibility = false;
    this.pool = [];
    this.renderId = 0;
    this.children = [];
    this.androidUpdateCount = 0;
    this.androidUpdateFrequency = 500;
    this._hookDiv = null;
    if (_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.isMobile.tablet || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.isMobile.phone) {
      this.createTouchHook();
    }
    const div = document.createElement("div");
    div.style.width = `${DIV_TOUCH_SIZE}px`;
    div.style.height = `${DIV_TOUCH_SIZE}px`;
    div.style.position = "absolute";
    div.style.top = `${DIV_TOUCH_POS_X}px`;
    div.style.left = `${DIV_TOUCH_POS_Y}px`;
    div.style.zIndex = DIV_TOUCH_ZINDEX.toString();
    this.div = div;
    this.renderer = renderer;
    this._onKeyDown = this._onKeyDown.bind(this);
    this._onMouseMove = this._onMouseMove.bind(this);
    globalThis.addEventListener("keydown", this._onKeyDown, false);
  }
  get isActive() {
    return this._isActive;
  }
  get isMobileAccessibility() {
    return this._isMobileAccessibility;
  }
  createTouchHook() {
    const hookDiv = document.createElement("button");
    hookDiv.style.width = `${DIV_HOOK_SIZE}px`;
    hookDiv.style.height = `${DIV_HOOK_SIZE}px`;
    hookDiv.style.position = "absolute";
    hookDiv.style.top = `${DIV_HOOK_POS_X}px`;
    hookDiv.style.left = `${DIV_HOOK_POS_Y}px`;
    hookDiv.style.zIndex = DIV_HOOK_ZINDEX.toString();
    hookDiv.style.backgroundColor = "#FF0000";
    hookDiv.title = "select to enable accessibility for this content";
    hookDiv.addEventListener("focus", () => {
      this._isMobileAccessibility = true;
      this.activate();
      this.destroyTouchHook();
    });
    document.body.appendChild(hookDiv);
    this._hookDiv = hookDiv;
  }
  destroyTouchHook() {
    if (!this._hookDiv) {
      return;
    }
    document.body.removeChild(this._hookDiv);
    this._hookDiv = null;
  }
  activate() {
    if (this._isActive) {
      return;
    }
    this._isActive = true;
    globalThis.document.addEventListener("mousemove", this._onMouseMove, true);
    globalThis.removeEventListener("keydown", this._onKeyDown, false);
    this.renderer.on("postrender", this.update, this);
    this.renderer.view.parentNode?.appendChild(this.div);
  }
  deactivate() {
    if (!this._isActive || this._isMobileAccessibility) {
      return;
    }
    this._isActive = false;
    globalThis.document.removeEventListener("mousemove", this._onMouseMove, true);
    globalThis.addEventListener("keydown", this._onKeyDown, false);
    this.renderer.off("postrender", this.update);
    this.div.parentNode?.removeChild(this.div);
  }
  updateAccessibleObjects(displayObject) {
    if (!displayObject.visible || !displayObject.accessibleChildren) {
      return;
    }
    if (displayObject.accessible && displayObject.interactive) {
      if (!displayObject._accessibleActive) {
        this.addChild(displayObject);
      }
      displayObject.renderId = this.renderId;
    }
    const children = displayObject.children;
    if (children) {
      for (let i = 0; i < children.length; i++) {
        this.updateAccessibleObjects(children[i]);
      }
    }
  }
  update() {
    const now = performance.now();
    if (_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.isMobile.android.device && now < this.androidUpdateCount) {
      return;
    }
    this.androidUpdateCount = now + this.androidUpdateFrequency;
    if (!this.renderer.renderingToScreen) {
      return;
    }
    if (this.renderer.lastObjectRendered) {
      this.updateAccessibleObjects(this.renderer.lastObjectRendered);
    }
    const { x, y, width, height } = this.renderer.view.getBoundingClientRect();
    const { width: viewWidth, height: viewHeight, resolution } = this.renderer;
    const sx = width / viewWidth * resolution;
    const sy = height / viewHeight * resolution;
    let div = this.div;
    div.style.left = `${x}px`;
    div.style.top = `${y}px`;
    div.style.width = `${viewWidth}px`;
    div.style.height = `${viewHeight}px`;
    for (let i = 0; i < this.children.length; i++) {
      const child = this.children[i];
      if (child.renderId !== this.renderId) {
        child._accessibleActive = false;
        _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.removeItems(this.children, i, 1);
        this.div.removeChild(child._accessibleDiv);
        this.pool.push(child._accessibleDiv);
        child._accessibleDiv = null;
        i--;
      } else {
        div = child._accessibleDiv;
        let hitArea = child.hitArea;
        const wt = child.worldTransform;
        if (child.hitArea) {
          div.style.left = `${(wt.tx + hitArea.x * wt.a) * sx}px`;
          div.style.top = `${(wt.ty + hitArea.y * wt.d) * sy}px`;
          div.style.width = `${hitArea.width * wt.a * sx}px`;
          div.style.height = `${hitArea.height * wt.d * sy}px`;
        } else {
          hitArea = child.getBounds();
          this.capHitArea(hitArea);
          div.style.left = `${hitArea.x * sx}px`;
          div.style.top = `${hitArea.y * sy}px`;
          div.style.width = `${hitArea.width * sx}px`;
          div.style.height = `${hitArea.height * sy}px`;
          if (div.title !== child.accessibleTitle && child.accessibleTitle !== null) {
            div.title = child.accessibleTitle;
          }
          if (div.getAttribute("aria-label") !== child.accessibleHint && child.accessibleHint !== null) {
            div.setAttribute("aria-label", child.accessibleHint);
          }
        }
        if (child.accessibleTitle !== div.title || child.tabIndex !== div.tabIndex) {
          div.title = child.accessibleTitle;
          div.tabIndex = child.tabIndex;
          if (this.debug)
            this.updateDebugHTML(div);
        }
      }
    }
    this.renderId++;
  }
  updateDebugHTML(div) {
    div.innerHTML = `type: ${div.type}</br> title : ${div.title}</br> tabIndex: ${div.tabIndex}`;
  }
  capHitArea(hitArea) {
    if (hitArea.x < 0) {
      hitArea.width += hitArea.x;
      hitArea.x = 0;
    }
    if (hitArea.y < 0) {
      hitArea.height += hitArea.y;
      hitArea.y = 0;
    }
    const { width: viewWidth, height: viewHeight } = this.renderer;
    if (hitArea.x + hitArea.width > viewWidth) {
      hitArea.width = viewWidth - hitArea.x;
    }
    if (hitArea.y + hitArea.height > viewHeight) {
      hitArea.height = viewHeight - hitArea.y;
    }
  }
  addChild(displayObject) {
    let div = this.pool.pop();
    if (!div) {
      div = document.createElement("button");
      div.style.width = `${DIV_TOUCH_SIZE}px`;
      div.style.height = `${DIV_TOUCH_SIZE}px`;
      div.style.backgroundColor = this.debug ? "rgba(255,255,255,0.5)" : "transparent";
      div.style.position = "absolute";
      div.style.zIndex = DIV_TOUCH_ZINDEX.toString();
      div.style.borderStyle = "none";
      if (navigator.userAgent.toLowerCase().includes("chrome")) {
        div.setAttribute("aria-live", "off");
      } else {
        div.setAttribute("aria-live", "polite");
      }
      if (navigator.userAgent.match(/rv:.*Gecko\//)) {
        div.setAttribute("aria-relevant", "additions");
      } else {
        div.setAttribute("aria-relevant", "text");
      }
      div.addEventListener("click", this._onClick.bind(this));
      div.addEventListener("focus", this._onFocus.bind(this));
      div.addEventListener("focusout", this._onFocusOut.bind(this));
    }
    div.style.pointerEvents = displayObject.accessiblePointerEvents;
    div.type = displayObject.accessibleType;
    if (displayObject.accessibleTitle && displayObject.accessibleTitle !== null) {
      div.title = displayObject.accessibleTitle;
    } else if (!displayObject.accessibleHint || displayObject.accessibleHint === null) {
      div.title = `displayObject ${displayObject.tabIndex}`;
    }
    if (displayObject.accessibleHint && displayObject.accessibleHint !== null) {
      div.setAttribute("aria-label", displayObject.accessibleHint);
    }
    if (this.debug)
      this.updateDebugHTML(div);
    displayObject._accessibleActive = true;
    displayObject._accessibleDiv = div;
    div.displayObject = displayObject;
    this.children.push(displayObject);
    this.div.appendChild(displayObject._accessibleDiv);
    displayObject._accessibleDiv.tabIndex = displayObject.tabIndex;
  }
  _dispatchEvent(e, type) {
    const { displayObject: target } = e.target;
    const boundry = this.renderer.events.rootBoundary;
    const event = Object.assign(new _pixi_events__WEBPACK_IMPORTED_MODULE_2__.FederatedEvent(boundry), { target });
    boundry.rootTarget = this.renderer.lastObjectRendered;
    type.forEach((type2) => boundry.dispatchEvent(event, type2));
  }
  _onClick(e) {
    this._dispatchEvent(e, ["click", "pointertap", "tap"]);
  }
  _onFocus(e) {
    if (!e.target.getAttribute("aria-live")) {
      e.target.setAttribute("aria-live", "assertive");
    }
    this._dispatchEvent(e, ["mouseover"]);
  }
  _onFocusOut(e) {
    if (!e.target.getAttribute("aria-live")) {
      e.target.setAttribute("aria-live", "polite");
    }
    this._dispatchEvent(e, ["mouseout"]);
  }
  _onKeyDown(e) {
    if (e.keyCode !== KEY_CODE_TAB) {
      return;
    }
    this.activate();
  }
  _onMouseMove(e) {
    if (e.movementX === 0 && e.movementY === 0) {
      return;
    }
    this.deactivate();
  }
  destroy() {
    this.destroyTouchHook();
    this.div = null;
    globalThis.document.removeEventListener("mousemove", this._onMouseMove, true);
    globalThis.removeEventListener("keydown", this._onKeyDown);
    this.pool = null;
    this.children = null;
    this.renderer = null;
  }
}
AccessibilityManager.extension = {
  name: "accessibility",
  type: [
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererPlugin,
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CanvasRendererPlugin
  ]
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(AccessibilityManager);


//# sourceMappingURL=AccessibilityManager.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/accessibility/lib/accessibleTarget.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/accessibility/lib/accessibleTarget.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "accessibleTarget": () => (/* binding */ accessibleTarget)
/* harmony export */ });
const accessibleTarget = {
  accessible: false,
  accessibleTitle: null,
  accessibleHint: null,
  tabIndex: 0,
  _accessibleActive: false,
  _accessibleDiv: null,
  accessibleType: "button",
  accessiblePointerEvents: "auto",
  accessibleChildren: true,
  renderId: -1
};


//# sourceMappingURL=accessibleTarget.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/accessibility/lib/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/accessibility/lib/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AccessibilityManager": () => (/* reexport safe */ _AccessibilityManager_mjs__WEBPACK_IMPORTED_MODULE_1__.AccessibilityManager),
/* harmony export */   "accessibleTarget": () => (/* reexport safe */ _accessibleTarget_mjs__WEBPACK_IMPORTED_MODULE_0__.accessibleTarget)
/* harmony export */ });
/* harmony import */ var _accessibleTarget_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./accessibleTarget.mjs */ "./node_modules/@pixi/accessibility/lib/accessibleTarget.mjs");
/* harmony import */ var _AccessibilityManager_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AccessibilityManager.mjs */ "./node_modules/@pixi/accessibility/lib/AccessibilityManager.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/app/lib/Application.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/app/lib/Application.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Application": () => (/* binding */ Application)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");



const _Application = class {
  constructor(options) {
    this.stage = new _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container();
    options = Object.assign({
      forceCanvas: false
    }, options);
    this.renderer = (0,_pixi_core__WEBPACK_IMPORTED_MODULE_0__.autoDetectRenderer)(options);
    _Application._plugins.forEach((plugin) => {
      plugin.init.call(this, options);
    });
  }
  render() {
    this.renderer.render(this.stage);
  }
  get view() {
    return this.renderer.view;
  }
  get screen() {
    return this.renderer.screen;
  }
  destroy(removeView, stageOptions) {
    const plugins = _Application._plugins.slice(0);
    plugins.reverse();
    plugins.forEach((plugin) => {
      plugin.destroy.call(this);
    });
    this.stage.destroy(stageOptions);
    this.stage = null;
    this.renderer.destroy(removeView);
    this.renderer = null;
  }
};
let Application = _Application;
Application._plugins = [];
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.handleByList(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Application, Application._plugins);


//# sourceMappingURL=Application.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/app/lib/ResizePlugin.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/app/lib/ResizePlugin.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ResizePlugin": () => (/* binding */ ResizePlugin)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class ResizePlugin {
  static init(options) {
    Object.defineProperty(this, "resizeTo", {
      set(dom) {
        globalThis.removeEventListener("resize", this.queueResize);
        this._resizeTo = dom;
        if (dom) {
          globalThis.addEventListener("resize", this.queueResize);
          this.resize();
        }
      },
      get() {
        return this._resizeTo;
      }
    });
    this.queueResize = () => {
      if (!this._resizeTo) {
        return;
      }
      this.cancelResize();
      this._resizeId = requestAnimationFrame(() => this.resize());
    };
    this.cancelResize = () => {
      if (this._resizeId) {
        cancelAnimationFrame(this._resizeId);
        this._resizeId = null;
      }
    };
    this.resize = () => {
      if (!this._resizeTo) {
        return;
      }
      this.cancelResize();
      let width;
      let height;
      if (this._resizeTo === globalThis.window) {
        width = globalThis.innerWidth;
        height = globalThis.innerHeight;
      } else {
        const { clientWidth, clientHeight } = this._resizeTo;
        width = clientWidth;
        height = clientHeight;
      }
      this.renderer.resize(width, height);
      this.render();
    };
    this._resizeId = null;
    this._resizeTo = null;
    this.resizeTo = options.resizeTo || null;
  }
  static destroy() {
    globalThis.removeEventListener("resize", this.queueResize);
    this.cancelResize();
    this.cancelResize = null;
    this.queueResize = null;
    this.resizeTo = null;
    this.resize = null;
  }
}
ResizePlugin.extension = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Application;
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ResizePlugin);


//# sourceMappingURL=ResizePlugin.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/app/lib/index.mjs":
/*!**********************************************!*\
  !*** ./node_modules/@pixi/app/lib/index.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Application": () => (/* reexport safe */ _Application_mjs__WEBPACK_IMPORTED_MODULE_0__.Application),
/* harmony export */   "ResizePlugin": () => (/* reexport safe */ _ResizePlugin_mjs__WEBPACK_IMPORTED_MODULE_1__.ResizePlugin)
/* harmony export */ });
/* harmony import */ var _Application_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Application.mjs */ "./node_modules/@pixi/app/lib/Application.mjs");
/* harmony import */ var _ResizePlugin_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResizePlugin.mjs */ "./node_modules/@pixi/app/lib/ResizePlugin.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/AssetExtension.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/AssetExtension.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const assetKeyMap = {
  loader: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
  resolver: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.ResolveParser,
  cache: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CacheParser,
  detection: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.handle(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Asset, (extension) => {
  const ref = extension.ref;
  Object.entries(assetKeyMap).filter(([key]) => !!ref[key]).forEach(([key, type]) => _pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(Object.assign(ref[key], { extension: ref[key].extension ?? type })));
}, (extension) => {
  const ref = extension.ref;
  Object.keys(assetKeyMap).filter((key) => !!ref[key]).forEach((key) => _pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.remove(ref[key]));
});
//# sourceMappingURL=AssetExtension.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/Assets.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/Assets.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Assets": () => (/* binding */ Assets),
/* harmony export */   "AssetsClass": () => (/* binding */ AssetsClass)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _BackgroundLoader_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BackgroundLoader.mjs */ "./node_modules/@pixi/assets/lib/BackgroundLoader.mjs");
/* harmony import */ var _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cache/Cache.mjs */ "./node_modules/@pixi/assets/lib/cache/Cache.mjs");
/* harmony import */ var _loader_Loader_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./loader/Loader.mjs */ "./node_modules/@pixi/assets/lib/loader/Loader.mjs");
/* harmony import */ var _resolver_Resolver_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resolver/Resolver.mjs */ "./node_modules/@pixi/assets/lib/resolver/Resolver.mjs");
/* harmony import */ var _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");
/* harmony import */ var _utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/isSingleItem.mjs */ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs");








class AssetsClass {
  constructor() {
    this._detections = [];
    this._initialized = false;
    this.resolver = new _resolver_Resolver_mjs__WEBPACK_IMPORTED_MODULE_4__.Resolver();
    this.loader = new _loader_Loader_mjs__WEBPACK_IMPORTED_MODULE_3__.Loader();
    this.cache = _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__.Cache;
    this._backgroundLoader = new _BackgroundLoader_mjs__WEBPACK_IMPORTED_MODULE_1__.BackgroundLoader(this.loader);
    this._backgroundLoader.active = true;
    this.reset();
  }
  async init(options = {}) {
    if (this._initialized) {
      console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");
      return;
    }
    this._initialized = true;
    if (options.basePath) {
      this.resolver.basePath = options.basePath;
    }
    if (options.manifest) {
      let manifest = options.manifest;
      if (typeof manifest === "string") {
        manifest = await this.load(manifest);
      }
      this.resolver.addManifest(manifest);
    }
    const resolutionPref = options.texturePreference?.resolution ?? 1;
    const resolution = typeof resolutionPref === "number" ? [resolutionPref] : resolutionPref;
    let formats = [];
    if (options.texturePreference?.format) {
      const formatPref = options.texturePreference?.format;
      formats = typeof formatPref === "string" ? [formatPref] : formatPref;
      for (const detection of this._detections) {
        if (!await detection.test()) {
          formats = await detection.remove(formats);
        }
      }
    } else {
      for (const detection of this._detections) {
        if (await detection.test()) {
          formats = await detection.add(formats);
        }
      }
    }
    this.resolver.prefer({
      params: {
        format: formats,
        resolution
      }
    });
  }
  add(keysIn, assetsIn, data) {
    this.resolver.add(keysIn, assetsIn, data);
  }
  async load(urls, onProgress) {
    if (!this._initialized) {
      await this.init();
    }
    const singleAsset = (0,_utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_6__.isSingleItem)(urls);
    const urlArray = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_5__.convertToList)(urls).map((url) => {
      if (typeof url !== "string") {
        this.resolver.add(url.src, url);
        return url.src;
      }
      return url;
    });
    const resolveResults = this.resolver.resolve(urlArray);
    const out = await this._mapLoadToResolve(resolveResults, onProgress);
    return singleAsset ? out[urlArray[0]] : out;
  }
  addBundle(bundleId, assets) {
    this.resolver.addBundle(bundleId, assets);
  }
  async loadBundle(bundleIds, onProgress) {
    if (!this._initialized) {
      await this.init();
    }
    let singleAsset = false;
    if (typeof bundleIds === "string") {
      singleAsset = true;
      bundleIds = [bundleIds];
    }
    const resolveResults = this.resolver.resolveBundle(bundleIds);
    const out = {};
    const keys = Object.keys(resolveResults);
    let count = 0;
    let total = 0;
    const _onProgress = () => {
      onProgress?.(++count / total);
    };
    const promises = keys.map((bundleId) => {
      const resolveResult = resolveResults[bundleId];
      total += Object.keys(resolveResult).length;
      return this._mapLoadToResolve(resolveResult, _onProgress).then((resolveResult2) => {
        out[bundleId] = resolveResult2;
      });
    });
    await Promise.all(promises);
    return singleAsset ? out[bundleIds[0]] : out;
  }
  async backgroundLoad(urls) {
    if (!this._initialized) {
      await this.init();
    }
    if (typeof urls === "string") {
      urls = [urls];
    }
    const resolveResults = this.resolver.resolve(urls);
    this._backgroundLoader.add(Object.values(resolveResults));
  }
  async backgroundLoadBundle(bundleIds) {
    if (!this._initialized) {
      await this.init();
    }
    if (typeof bundleIds === "string") {
      bundleIds = [bundleIds];
    }
    const resolveResults = this.resolver.resolveBundle(bundleIds);
    Object.values(resolveResults).forEach((resolveResult) => {
      this._backgroundLoader.add(Object.values(resolveResult));
    });
  }
  reset() {
    this.resolver.reset();
    this.loader.reset();
    this.cache.reset();
    this._initialized = false;
  }
  get(keys) {
    if (typeof keys === "string") {
      return _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__.Cache.get(keys);
    }
    const assets = {};
    for (let i = 0; i < keys.length; i++) {
      assets[i] = _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__.Cache.get(keys[i]);
    }
    return assets;
  }
  async _mapLoadToResolve(resolveResults, onProgress) {
    const resolveArray = Object.values(resolveResults);
    const resolveKeys = Object.keys(resolveResults);
    this._backgroundLoader.active = false;
    const loadedAssets = await this.loader.load(resolveArray, onProgress);
    this._backgroundLoader.active = true;
    const out = {};
    resolveArray.forEach((resolveResult, i) => {
      const asset = loadedAssets[resolveResult.src];
      const keys = [resolveResult.src];
      if (resolveResult.alias) {
        keys.push(...resolveResult.alias);
      }
      out[resolveKeys[i]] = asset;
      _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__.Cache.set(keys, asset);
    });
    return out;
  }
  async unload(urls) {
    if (!this._initialized) {
      await this.init();
    }
    const urlArray = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_5__.convertToList)(urls).map((url) => typeof url !== "string" ? url.src : url);
    const resolveResults = this.resolver.resolve(urlArray);
    await this._unloadFromResolved(resolveResults);
  }
  async unloadBundle(bundleIds) {
    if (!this._initialized) {
      await this.init();
    }
    bundleIds = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_5__.convertToList)(bundleIds);
    const resolveResults = this.resolver.resolveBundle(bundleIds);
    const promises = Object.keys(resolveResults).map((bundleId) => this._unloadFromResolved(resolveResults[bundleId]));
    await Promise.all(promises);
  }
  async _unloadFromResolved(resolveResult) {
    const resolveArray = Object.values(resolveResult);
    resolveArray.forEach((resolveResult2) => {
      _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_2__.Cache.remove(resolveResult2.src);
    });
    await this.loader.unload(resolveArray);
  }
  get detections() {
    return this._detections;
  }
}
const Assets = new AssetsClass();
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.handleByList(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser, Assets.loader.parsers).handleByList(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.ResolveParser, Assets.resolver.parsers).handleByList(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CacheParser, Assets.cache.parsers).handleByList(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser, Assets.detections);


//# sourceMappingURL=Assets.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/BackgroundLoader.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/BackgroundLoader.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BackgroundLoader": () => (/* binding */ BackgroundLoader)
/* harmony export */ });
class BackgroundLoader {
  constructor(loader, verbose = false) {
    this._loader = loader;
    this._assetList = [];
    this._isLoading = false;
    this._maxConcurrent = 1;
    this.verbose = verbose;
  }
  add(assetUrls) {
    assetUrls.forEach((a) => {
      this._assetList.push(a);
    });
    if (this.verbose)
      console.log("[BackgroundLoader] assets: ", this._assetList);
    if (this._isActive && !this._isLoading) {
      this._next();
    }
  }
  async _next() {
    if (this._assetList.length && this._isActive) {
      this._isLoading = true;
      const toLoad = [];
      const toLoadAmount = Math.min(this._assetList.length, this._maxConcurrent);
      for (let i = 0; i < toLoadAmount; i++) {
        toLoad.push(this._assetList.pop());
      }
      await this._loader.load(toLoad);
      this._isLoading = false;
      this._next();
    }
  }
  get active() {
    return this._isActive;
  }
  set active(value) {
    if (this._isActive === value)
      return;
    this._isActive = value;
    if (value && !this._isLoading) {
      this._next();
    }
  }
}


//# sourceMappingURL=BackgroundLoader.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/cache/Cache.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/cache/Cache.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Cache": () => (/* binding */ Cache)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/index.mjs */ "./node_modules/@pixi/assets/lib/utils/index.mjs");
/* harmony import */ var _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");




class CacheClass {
  constructor() {
    this._parsers = [];
    this._cache = /* @__PURE__ */ new Map();
    this._cacheMap = /* @__PURE__ */ new Map();
  }
  reset() {
    this._cacheMap.clear();
    this._cache.clear();
  }
  has(key) {
    return this._cache.has(key);
  }
  get(key) {
    const result = this._cache.get(key);
    if (!result) {
      console.warn(`[Assets] Asset id ${key} was not found in the Cache`);
    }
    return result;
  }
  set(key, value) {
    const keys = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_2__.convertToList)(key);
    let cacheableAssets;
    for (let i = 0; i < this.parsers.length; i++) {
      const parser = this.parsers[i];
      if (parser.test(value)) {
        cacheableAssets = parser.getCacheableAssets(keys, value);
        break;
      }
    }
    if (!cacheableAssets) {
      cacheableAssets = {};
      keys.forEach((key2) => {
        cacheableAssets[key2] = value;
      });
    }
    const cacheKeys = Object.keys(cacheableAssets);
    const cachedAssets = {
      cacheKeys,
      keys
    };
    keys.forEach((key2) => {
      this._cacheMap.set(key2, cachedAssets);
    });
    cacheKeys.forEach((key2) => {
      if (this._cache.has(key2) && this._cache.get(key2) !== value) {
        console.warn("[Cache] already has key:", key2);
      }
      this._cache.set(key2, cacheableAssets[key2]);
    });
    if (value instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture) {
      const texture = value;
      keys.forEach((key2) => {
        if (texture.baseTexture !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY.baseTexture) {
          _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture.addToCache(texture.baseTexture, key2);
        }
        _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.addToCache(texture, key2);
      });
    }
  }
  remove(key) {
    this._cacheMap.get(key);
    if (!this._cacheMap.has(key)) {
      console.warn(`[Assets] Asset id ${key} was not found in the Cache`);
      return;
    }
    const cacheMap = this._cacheMap.get(key);
    const cacheKeys = cacheMap.cacheKeys;
    cacheKeys.forEach((key2) => {
      this._cache.delete(key2);
    });
    cacheMap.keys.forEach((key2) => {
      this._cacheMap.delete(key2);
    });
  }
  get parsers() {
    return this._parsers;
  }
}
const Cache = new CacheClass();


//# sourceMappingURL=Cache.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/cache/CacheParser.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/cache/CacheParser.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=CacheParser.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/cache/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/cache/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Cache": () => (/* reexport safe */ _Cache_mjs__WEBPACK_IMPORTED_MODULE_0__.Cache)
/* harmony export */ });
/* harmony import */ var _Cache_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Cache.mjs */ "./node_modules/@pixi/assets/lib/cache/Cache.mjs");
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsers/index.mjs */ "./node_modules/@pixi/assets/lib/cache/parsers/index.mjs");
/* harmony import */ var _CacheParser_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CacheParser.mjs */ "./node_modules/@pixi/assets/lib/cache/CacheParser.mjs");



//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/cache/parsers/cacheTextureArray.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/cache/parsers/cacheTextureArray.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cacheTextureArray": () => (/* binding */ cacheTextureArray)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const cacheTextureArray = {
  extension: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CacheParser,
  test: (asset) => Array.isArray(asset) && asset.every((t) => t instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture),
  getCacheableAssets: (keys, asset) => {
    const out = {};
    keys.forEach((key) => {
      asset.forEach((item, i) => {
        out[key + (i === 0 ? "" : i + 1)] = item;
      });
    });
    return out;
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(cacheTextureArray);


//# sourceMappingURL=cacheTextureArray.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/cache/parsers/index.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/cache/parsers/index.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cacheTextureArray": () => (/* reexport safe */ _cacheTextureArray_mjs__WEBPACK_IMPORTED_MODULE_0__.cacheTextureArray)
/* harmony export */ });
/* harmony import */ var _cacheTextureArray_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cacheTextureArray.mjs */ "./node_modules/@pixi/assets/lib/cache/parsers/cacheTextureArray.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/detections/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/detections/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers/index.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/index.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/detections/parsers/detectAvif.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/detections/parsers/detectAvif.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "detectAvif": () => (/* binding */ detectAvif)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const detectAvif = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser,
    priority: 1
  },
  test: async () => {
    if (!globalThis.createImageBitmap)
      return false;
    const avifData = "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=";
    const blob = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(avifData).then((r) => r.blob());
    return createImageBitmap(blob).then(() => true, () => false);
  },
  add: async (formats) => [...formats, "avif"],
  remove: async (formats) => formats.filter((f) => f !== "avif")
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(detectAvif);


//# sourceMappingURL=detectAvif.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/detections/parsers/detectDefaults.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/detections/parsers/detectDefaults.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "detectDefaults": () => (/* binding */ detectDefaults)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const imageFormats = ["png", "jpg", "jpeg"];
const detectDefaults = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser,
    priority: -1
  },
  test: () => Promise.resolve(true),
  add: async (formats) => [...formats, ...imageFormats],
  remove: async (formats) => formats.filter((f) => !imageFormats.includes(f))
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(detectDefaults);


//# sourceMappingURL=detectDefaults.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/detections/parsers/detectWebp.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/detections/parsers/detectWebp.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "detectWebp": () => (/* binding */ detectWebp)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const detectWebp = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser,
    priority: 0
  },
  test: async () => {
    if (!globalThis.createImageBitmap)
      return false;
    const webpData = "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=";
    const blob = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(webpData).then((r) => r.blob());
    return createImageBitmap(blob).then(() => true, () => false);
  },
  add: async (formats) => [...formats, "webp"],
  remove: async (formats) => formats.filter((f) => f !== "webp")
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(detectWebp);


//# sourceMappingURL=detectWebp.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/detections/parsers/index.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/detections/parsers/index.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "detectAvif": () => (/* reexport safe */ _detectAvif_mjs__WEBPACK_IMPORTED_MODULE_0__.detectAvif),
/* harmony export */   "detectDefaults": () => (/* reexport safe */ _detectDefaults_mjs__WEBPACK_IMPORTED_MODULE_2__.detectDefaults),
/* harmony export */   "detectWebp": () => (/* reexport safe */ _detectWebp_mjs__WEBPACK_IMPORTED_MODULE_1__.detectWebp)
/* harmony export */ });
/* harmony import */ var _detectAvif_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./detectAvif.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectAvif.mjs");
/* harmony import */ var _detectWebp_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./detectWebp.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectWebp.mjs");
/* harmony import */ var _detectDefaults_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./detectDefaults.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectDefaults.mjs");



//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Assets": () => (/* reexport safe */ _Assets_mjs__WEBPACK_IMPORTED_MODULE_0__.Assets),
/* harmony export */   "AssetsClass": () => (/* reexport safe */ _Assets_mjs__WEBPACK_IMPORTED_MODULE_0__.AssetsClass),
/* harmony export */   "Cache": () => (/* reexport safe */ _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_12__.Cache),
/* harmony export */   "LoaderParserPriority": () => (/* reexport safe */ _loader_parsers_LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_14__.LoaderParserPriority),
/* harmony export */   "cacheTextureArray": () => (/* reexport safe */ _cache_parsers_cacheTextureArray_mjs__WEBPACK_IMPORTED_MODULE_13__.cacheTextureArray),
/* harmony export */   "checkDataUrl": () => (/* reexport safe */ _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_7__.checkDataUrl),
/* harmony export */   "checkExtension": () => (/* reexport safe */ _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_8__.checkExtension),
/* harmony export */   "convertToList": () => (/* reexport safe */ _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_9__.convertToList),
/* harmony export */   "createStringVariations": () => (/* reexport safe */ _utils_createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_10__.createStringVariations),
/* harmony export */   "createTexture": () => (/* reexport safe */ _loader_parsers_textures_utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_20__.createTexture),
/* harmony export */   "detectAvif": () => (/* reexport safe */ _detections_parsers_detectAvif_mjs__WEBPACK_IMPORTED_MODULE_22__.detectAvif),
/* harmony export */   "detectDefaults": () => (/* reexport safe */ _detections_parsers_detectDefaults_mjs__WEBPACK_IMPORTED_MODULE_24__.detectDefaults),
/* harmony export */   "detectWebp": () => (/* reexport safe */ _detections_parsers_detectWebp_mjs__WEBPACK_IMPORTED_MODULE_23__.detectWebp),
/* harmony export */   "getFontFamilyName": () => (/* reexport safe */ _loader_parsers_loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_17__.getFontFamilyName),
/* harmony export */   "isSingleItem": () => (/* reexport safe */ _utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_11__.isSingleItem),
/* harmony export */   "loadImageBitmap": () => (/* reexport safe */ _loader_parsers_textures_loadTexture_mjs__WEBPACK_IMPORTED_MODULE_19__.loadImageBitmap),
/* harmony export */   "loadJson": () => (/* reexport safe */ _loader_parsers_loadJson_mjs__WEBPACK_IMPORTED_MODULE_15__.loadJson),
/* harmony export */   "loadSVG": () => (/* reexport safe */ _loader_parsers_textures_loadSVG_mjs__WEBPACK_IMPORTED_MODULE_18__.loadSVG),
/* harmony export */   "loadTextures": () => (/* reexport safe */ _loader_parsers_textures_loadTexture_mjs__WEBPACK_IMPORTED_MODULE_19__.loadTextures),
/* harmony export */   "loadTxt": () => (/* reexport safe */ _loader_parsers_loadTxt_mjs__WEBPACK_IMPORTED_MODULE_16__.loadTxt),
/* harmony export */   "loadWebFont": () => (/* reexport safe */ _loader_parsers_loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_17__.loadWebFont),
/* harmony export */   "resolveTextureUrl": () => (/* reexport safe */ _resolver_parsers_resolveTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_21__.resolveTextureUrl)
/* harmony export */ });
/* harmony import */ var _Assets_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Assets.mjs */ "./node_modules/@pixi/assets/lib/Assets.mjs");
/* harmony import */ var _AssetExtension_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AssetExtension.mjs */ "./node_modules/@pixi/assets/lib/AssetExtension.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/assets/lib/utils/index.mjs");
/* harmony import */ var _cache_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cache/index.mjs */ "./node_modules/@pixi/assets/lib/cache/index.mjs");
/* harmony import */ var _loader_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./loader/index.mjs */ "./node_modules/@pixi/assets/lib/loader/index.mjs");
/* harmony import */ var _resolver_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./resolver/index.mjs */ "./node_modules/@pixi/assets/lib/resolver/index.mjs");
/* harmony import */ var _detections_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./detections/index.mjs */ "./node_modules/@pixi/assets/lib/detections/index.mjs");
/* harmony import */ var _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");
/* harmony import */ var _utils_createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/createStringVariations.mjs */ "./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs");
/* harmony import */ var _utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/isSingleItem.mjs */ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs");
/* harmony import */ var _cache_Cache_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./cache/Cache.mjs */ "./node_modules/@pixi/assets/lib/cache/Cache.mjs");
/* harmony import */ var _cache_parsers_cacheTextureArray_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./cache/parsers/cacheTextureArray.mjs */ "./node_modules/@pixi/assets/lib/cache/parsers/cacheTextureArray.mjs");
/* harmony import */ var _loader_parsers_LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./loader/parsers/LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");
/* harmony import */ var _loader_parsers_loadJson_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./loader/parsers/loadJson.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadJson.mjs");
/* harmony import */ var _loader_parsers_loadTxt_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./loader/parsers/loadTxt.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadTxt.mjs");
/* harmony import */ var _loader_parsers_loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./loader/parsers/loadWebFont.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadWebFont.mjs");
/* harmony import */ var _loader_parsers_textures_loadSVG_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./loader/parsers/textures/loadSVG.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadSVG.mjs");
/* harmony import */ var _loader_parsers_textures_loadTexture_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./loader/parsers/textures/loadTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTexture.mjs");
/* harmony import */ var _loader_parsers_textures_utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./loader/parsers/textures/utils/createTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs");
/* harmony import */ var _resolver_parsers_resolveTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./resolver/parsers/resolveTextureUrl.mjs */ "./node_modules/@pixi/assets/lib/resolver/parsers/resolveTextureUrl.mjs");
/* harmony import */ var _detections_parsers_detectAvif_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./detections/parsers/detectAvif.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectAvif.mjs");
/* harmony import */ var _detections_parsers_detectWebp_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./detections/parsers/detectWebp.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectWebp.mjs");
/* harmony import */ var _detections_parsers_detectDefaults_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./detections/parsers/detectDefaults.mjs */ "./node_modules/@pixi/assets/lib/detections/parsers/detectDefaults.mjs");

























//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/Loader.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/Loader.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Loader": () => (/* binding */ Loader)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/index.mjs */ "./node_modules/@pixi/assets/lib/utils/index.mjs");
/* harmony import */ var _utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/isSingleItem.mjs */ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs");
/* harmony import */ var _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");





class Loader {
  constructor() {
    this._parsers = [];
    this.promiseCache = {};
  }
  reset() {
    this.promiseCache = {};
  }
  _getLoadPromiseAndParser(url, data) {
    const result = {
      promise: null,
      parser: null
    };
    result.promise = (async () => {
      let asset = null;
      for (let i = 0; i < this.parsers.length; i++) {
        const parser = this.parsers[i];
        if (parser.load && parser.test?.(url, data, this)) {
          asset = await parser.load(url, data, this);
          result.parser = parser;
          break;
        }
      }
      if (!result.parser) {
        console.warn(`[Assets] ${url} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`);
        return null;
      }
      for (let i = 0; i < this.parsers.length; i++) {
        const parser = this.parsers[i];
        if (parser.parse) {
          if (parser.parse && await parser.testParse?.(asset, data, this)) {
            asset = await parser.parse(asset, data, this) || asset;
            result.parser = parser;
          }
        }
      }
      return asset;
    })();
    return result;
  }
  async load(assetsToLoadIn, onProgress) {
    let count = 0;
    const assets = {};
    const singleAsset = (0,_utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_2__.isSingleItem)(assetsToLoadIn);
    const assetsToLoad = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_3__.convertToList)(assetsToLoadIn, (item) => ({
      src: item
    }));
    const total = assetsToLoad.length;
    const promises = assetsToLoad.map(async (asset) => {
      const url = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.toAbsolute(asset.src);
      if (!assets[asset.src]) {
        try {
          if (!this.promiseCache[url]) {
            this.promiseCache[url] = this._getLoadPromiseAndParser(url, asset);
          }
          assets[asset.src] = await this.promiseCache[url].promise;
          if (onProgress)
            onProgress(++count / total);
        } catch (e) {
          delete this.promiseCache[url];
          delete assets[asset.src];
          throw new Error(`[Loader.load] Failed to load ${url}.
${e}`);
        }
      }
    });
    await Promise.all(promises);
    return singleAsset ? assets[assetsToLoad[0].src] : assets;
  }
  async unload(assetsToUnloadIn) {
    const assetsToUnload = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_3__.convertToList)(assetsToUnloadIn, (item) => ({
      src: item
    }));
    const promises = assetsToUnload.map(async (asset) => {
      const url = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.toAbsolute(asset.src);
      const loadPromise = this.promiseCache[url];
      if (loadPromise) {
        const loadedAsset = await loadPromise.promise;
        loadPromise.parser?.unload?.(loadedAsset, asset, this);
        delete this.promiseCache[url];
      }
    });
    await Promise.all(promises);
  }
  get parsers() {
    return this._parsers;
  }
}


//# sourceMappingURL=Loader.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.mjs */ "./node_modules/@pixi/assets/lib/loader/types.mjs");
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsers/index.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/index.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoaderParserPriority": () => (/* binding */ LoaderParserPriority)
/* harmony export */ });
var LoaderParserPriority = /* @__PURE__ */ ((LoaderParserPriority2) => {
  LoaderParserPriority2[LoaderParserPriority2["Low"] = 0] = "Low";
  LoaderParserPriority2[LoaderParserPriority2["Normal"] = 1] = "Normal";
  LoaderParserPriority2[LoaderParserPriority2["High"] = 2] = "High";
  return LoaderParserPriority2;
})(LoaderParserPriority || {});


//# sourceMappingURL=LoaderParser.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/WorkerManager.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/WorkerManager.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WorkerManager": () => (/* binding */ WorkerManager)
/* harmony export */ });
let UUID = 0;
let MAX_WORKERS;
const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
const checkImageBitmapCode = {
  id: "checkImageBitmap",
  code: `
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${WHITE_PNG}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `
};
const workerCode = {
  id: "loadImageBitmap",
  code: `
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`
};
let workerURL;
class WorkerManagerClass {
  constructor() {
    this._initialized = false;
    this._createdWorkers = 0;
    this.workerPool = [];
    this.queue = [];
    this.resolveHash = {};
  }
  isImageBitmapSupported() {
    if (this._isImageBitmapSupported !== void 0)
      return this._isImageBitmapSupported;
    this._isImageBitmapSupported = new Promise((resolve) => {
      const workerURL2 = URL.createObjectURL(new Blob([checkImageBitmapCode.code], { type: "application/javascript" }));
      const worker = new Worker(workerURL2);
      worker.addEventListener("message", (event) => {
        worker.terminate();
        URL.revokeObjectURL(workerURL2);
        resolve(event.data);
      });
    });
    return this._isImageBitmapSupported;
  }
  loadImageBitmap(src) {
    return this._run("loadImageBitmap", [src]);
  }
  async _initWorkers() {
    if (this._initialized)
      return;
    this._initialized = true;
  }
  getWorker() {
    if (MAX_WORKERS === void 0) {
      MAX_WORKERS = navigator.hardwareConcurrency || 4;
    }
    let worker = this.workerPool.pop();
    if (!worker && this._createdWorkers < MAX_WORKERS) {
      if (!workerURL) {
        workerURL = URL.createObjectURL(new Blob([workerCode.code], { type: "application/javascript" }));
      }
      this._createdWorkers++;
      worker = new Worker(workerURL);
      worker.addEventListener("message", (event) => {
        this.complete(event.data);
        this.returnWorker(event.target);
        this.next();
      });
    }
    return worker;
  }
  returnWorker(worker) {
    this.workerPool.push(worker);
  }
  complete(data) {
    if (data.error !== void 0) {
      this.resolveHash[data.uuid].reject(data.error);
    } else {
      this.resolveHash[data.uuid].resolve(data.data);
    }
    this.resolveHash[data.uuid] = null;
  }
  async _run(id, args) {
    await this._initWorkers();
    const promise = new Promise((resolve, reject) => {
      this.queue.push({ id, arguments: args, resolve, reject });
    });
    this.next();
    return promise;
  }
  next() {
    if (!this.queue.length)
      return;
    const worker = this.getWorker();
    if (!worker) {
      return;
    }
    const toDo = this.queue.pop();
    const id = toDo.id;
    this.resolveHash[UUID] = { resolve: toDo.resolve, reject: toDo.reject };
    worker.postMessage({
      data: toDo.arguments,
      uuid: UUID++,
      id
    });
  }
}
const WorkerManager = new WorkerManagerClass();


//# sourceMappingURL=WorkerManager.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/index.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/index.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoaderParserPriority": () => (/* reexport safe */ _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_0__.LoaderParserPriority),
/* harmony export */   "getFontFamilyName": () => (/* reexport safe */ _loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_3__.getFontFamilyName),
/* harmony export */   "loadJson": () => (/* reexport safe */ _loadJson_mjs__WEBPACK_IMPORTED_MODULE_1__.loadJson),
/* harmony export */   "loadTxt": () => (/* reexport safe */ _loadTxt_mjs__WEBPACK_IMPORTED_MODULE_2__.loadTxt),
/* harmony export */   "loadWebFont": () => (/* reexport safe */ _loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_3__.loadWebFont)
/* harmony export */ });
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");
/* harmony import */ var _loadJson_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loadJson.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadJson.mjs");
/* harmony import */ var _loadTxt_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loadTxt.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadTxt.mjs");
/* harmony import */ var _loadWebFont_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./loadWebFont.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/loadWebFont.mjs");
/* harmony import */ var _textures_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./textures/index.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/index.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/loadJson.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/loadJson.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadJson": () => (/* binding */ loadJson)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");



const loadJson = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_1__.LoaderParserPriority.Low
  },
  test(url) {
    return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.extname(url).includes(".json");
  },
  async load(url) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
    const json = await response.json();
    return json;
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadJson);


//# sourceMappingURL=loadJson.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/loadTxt.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/loadTxt.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadTxt": () => (/* binding */ loadTxt)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");



const loadTxt = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_1__.LoaderParserPriority.Low
  },
  test(url) {
    return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.extname(url).includes(".txt");
  },
  async load(url) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
    const txt = await response.text();
    return txt;
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadTxt);


//# sourceMappingURL=loadTxt.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/loadWebFont.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/loadWebFont.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFontFamilyName": () => (/* binding */ getFontFamilyName),
/* harmony export */   "loadWebFont": () => (/* binding */ loadWebFont)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");





const validWeights = [
  "normal",
  "bold",
  "100",
  "200",
  "300",
  "400",
  "500",
  "600",
  "700",
  "800",
  "900"
];
const validFontExtensions = [".ttf", ".otf", ".woff", ".woff2"];
const validFontMIMEs = [
  "font/ttf",
  "font/otf",
  "font/woff",
  "font/woff2"
];
function getFontFamilyName(url) {
  const ext = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.extname(url);
  const name = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.basename(url, ext);
  const nameWithSpaces = name.replace(/(-|_)/g, " ");
  const nameTitleCase = nameWithSpaces.toLowerCase().split(" ").map((word) => word.charAt(0).toUpperCase() + word.slice(1)).join(" ");
  return nameTitleCase;
}
const loadWebFont = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__.LoaderParserPriority.Low
  },
  test(url) {
    return (0,_utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__.checkDataUrl)(url, validFontMIMEs) || (0,_utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__.checkExtension)(url, validFontExtensions);
  },
  async load(url, options) {
    if (!globalThis.navigator.onLine) {
      throw new Error("[loadWebFont] Cannot load font - navigator is offline");
    }
    const fonts = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.getFontFaceSet();
    if (fonts) {
      const fontFaces = [];
      const name = options.data?.family ?? getFontFamilyName(url);
      const weights = options.data?.weights?.filter((weight) => validWeights.includes(weight)) ?? ["normal"];
      const data = options.data ?? {};
      for (let i = 0; i < weights.length; i++) {
        const weight = weights[i];
        const font = new FontFace(name, `url(${encodeURI(url)})`, {
          ...data,
          weight
        });
        await font.load();
        fonts.add(font);
        fontFaces.push(font);
      }
      return fontFaces.length === 1 ? fontFaces[0] : fontFaces;
    }
    console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font");
    return null;
  },
  unload(font) {
    (Array.isArray(font) ? font : [font]).forEach((t) => _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.getFontFaceSet().delete(t));
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadWebFont);


//# sourceMappingURL=loadWebFont.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/textures/index.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/textures/index.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadImageBitmap": () => (/* reexport safe */ _loadTexture_mjs__WEBPACK_IMPORTED_MODULE_1__.loadImageBitmap),
/* harmony export */   "loadSVG": () => (/* reexport safe */ _loadSVG_mjs__WEBPACK_IMPORTED_MODULE_0__.loadSVG),
/* harmony export */   "loadTextures": () => (/* reexport safe */ _loadTexture_mjs__WEBPACK_IMPORTED_MODULE_1__.loadTextures)
/* harmony export */ });
/* harmony import */ var _loadSVG_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loadSVG.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadSVG.mjs");
/* harmony import */ var _loadTexture_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loadTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTexture.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/index.mjs");



//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadSVG.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/textures/loadSVG.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadSVG": () => (/* binding */ loadSVG)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");
/* harmony import */ var _loadTexture_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loadTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTexture.mjs");
/* harmony import */ var _utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/createTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs");





const loadSVG = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_1__.LoaderParserPriority.High
  },
  test(url) {
    return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.extname(url).includes(".svg");
  },
  async testParse(data) {
    return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SVGResource.test(data);
  },
  async parse(asset, data, loader) {
    const src = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SVGResource(asset, data?.data?.resourceOptions);
    const base = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture(src, {
      resolution: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.getResolutionOfUrl(asset),
      ...data?.data
    });
    base.resource.src = asset;
    const texture = (0,_utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_3__.createTexture)(base, loader, asset);
    if (!data?.data?.resourceOptions?.autoLoad) {
      await src.load();
    }
    return texture;
  },
  async load(url, _options) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
    return response.text();
  },
  unload: _loadTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.loadTextures.unload
};


//# sourceMappingURL=loadSVG.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTexture.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTexture.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadImageBitmap": () => (/* binding */ loadImageBitmap),
/* harmony export */   "loadTextures": () => (/* binding */ loadTextures)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LoaderParser.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs");
/* harmony import */ var _WorkerManager_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../WorkerManager.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/WorkerManager.mjs");
/* harmony import */ var _utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/createTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs");







const validImageExtensions = [".jpeg", ".jpg", ".png", ".webp", ".avif"];
const validImageMIMEs = [
  "image/jpeg",
  "image/png",
  "image/webp",
  "image/avif"
];
async function loadImageBitmap(url) {
  const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
  if (!response.ok) {
    throw new Error(`[loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);
  }
  const imageBlob = await response.blob();
  const imageBitmap = await createImageBitmap(imageBlob);
  return imageBitmap;
}
const loadTextures = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _LoaderParser_mjs__WEBPACK_IMPORTED_MODULE_3__.LoaderParserPriority.High
  },
  config: {
    preferWorkers: true
  },
  test(url) {
    return (0,_utils_checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_1__.checkDataUrl)(url, validImageMIMEs) || (0,_utils_checkExtension_mjs__WEBPACK_IMPORTED_MODULE_2__.checkExtension)(url, validImageExtensions);
  },
  async load(url, asset, loader) {
    let src = null;
    if (globalThis.createImageBitmap) {
      if (this.config.preferWorkers && await _WorkerManager_mjs__WEBPACK_IMPORTED_MODULE_4__.WorkerManager.isImageBitmapSupported()) {
        src = await _WorkerManager_mjs__WEBPACK_IMPORTED_MODULE_4__.WorkerManager.loadImageBitmap(url);
      } else {
        src = await loadImageBitmap(url);
      }
    } else {
      src = await new Promise((resolve) => {
        src = new Image();
        src.crossOrigin = "anonymous";
        src.src = url;
        if (src.complete) {
          resolve(src);
        } else {
          src.onload = () => {
            resolve(src);
          };
        }
      });
    }
    const base = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture(src, {
      resolution: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.getResolutionOfUrl(url),
      ...asset.data
    });
    base.resource.src = url;
    return (0,_utils_createTexture_mjs__WEBPACK_IMPORTED_MODULE_5__.createTexture)(base, loader, url);
  },
  unload(texture) {
    texture.destroy(true);
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadTextures);


//# sourceMappingURL=loadTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createTexture": () => (/* binding */ createTexture)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


function createTexture(base, loader, url) {
  const texture = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture(base);
  texture.baseTexture.on("dispose", () => {
    delete loader.promiseCache[url];
  });
  return texture;
}


//# sourceMappingURL=createTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/index.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/index.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createTexture": () => (/* reexport safe */ _createTexture_mjs__WEBPACK_IMPORTED_MODULE_0__.createTexture)
/* harmony export */ });
/* harmony import */ var _createTexture_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/loader/types.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/loader/types.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=types.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/resolver/Resolver.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/resolver/Resolver.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Resolver": () => (/* binding */ Resolver)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");
/* harmony import */ var _utils_createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/createStringVariations.mjs */ "./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs");
/* harmony import */ var _utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/isSingleItem.mjs */ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs");





class Resolver {
  constructor() {
    this._assetMap = {};
    this._preferredOrder = [];
    this._parsers = [];
    this._resolverHash = {};
    this._bundles = {};
  }
  prefer(...preferOrders) {
    preferOrders.forEach((prefer) => {
      this._preferredOrder.push(prefer);
      if (!prefer.priority) {
        prefer.priority = Object.keys(prefer.params);
      }
    });
    this._resolverHash = {};
  }
  set basePath(basePath) {
    this._basePath = basePath;
  }
  get basePath() {
    return this._basePath;
  }
  set rootPath(rootPath) {
    this._rootPath = rootPath;
  }
  get rootPath() {
    return this._rootPath;
  }
  get parsers() {
    return this._parsers;
  }
  reset() {
    this._preferredOrder = [];
    this._resolverHash = {};
    this._assetMap = {};
    this._rootPath = null;
    this._basePath = null;
    this._manifest = null;
  }
  addManifest(manifest) {
    if (this._manifest) {
      console.warn("[Resolver] Manifest already exists, this will be overwritten");
    }
    this._manifest = manifest;
    manifest.bundles.forEach((bundle) => {
      this.addBundle(bundle.name, bundle.assets);
    });
  }
  addBundle(bundleId, assets) {
    const assetNames = [];
    if (Array.isArray(assets)) {
      assets.forEach((asset) => {
        if (typeof asset.name === "string") {
          assetNames.push(asset.name);
        } else {
          assetNames.push(...asset.name);
        }
        this.add(asset.name, asset.srcs);
      });
    } else {
      Object.keys(assets).forEach((key) => {
        assetNames.push(key);
        this.add(key, assets[key]);
      });
    }
    this._bundles[bundleId] = assetNames;
  }
  add(keysIn, assetsIn, data) {
    const keys = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_1__.convertToList)(keysIn);
    keys.forEach((key) => {
      if (this._assetMap[key]) {
        console.warn(`[Resolver] already has key: ${key} overwriting`);
      }
    });
    if (!Array.isArray(assetsIn)) {
      if (typeof assetsIn === "string") {
        assetsIn = (0,_utils_createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_2__.createStringVariations)(assetsIn);
      } else {
        assetsIn = [assetsIn];
      }
    }
    const assetMap = assetsIn.map((asset) => {
      let formattedAsset = asset;
      if (typeof asset === "string") {
        let parsed = false;
        for (let i = 0; i < this._parsers.length; i++) {
          const parser = this._parsers[i];
          if (parser.test(asset)) {
            formattedAsset = parser.parse(asset);
            parsed = true;
            break;
          }
        }
        if (!parsed) {
          formattedAsset = {
            src: asset
          };
        }
      }
      if (!formattedAsset.format) {
        formattedAsset.format = formattedAsset.src.split(".").pop();
      }
      if (!formattedAsset.alias) {
        formattedAsset.alias = keys;
      }
      if (this._basePath || this._rootPath) {
        formattedAsset.src = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.toAbsolute(formattedAsset.src, this._basePath, this._rootPath);
      }
      formattedAsset.data = formattedAsset.data ?? data;
      return formattedAsset;
    });
    keys.forEach((key) => {
      this._assetMap[key] = assetMap;
    });
  }
  resolveBundle(bundleIds) {
    const singleAsset = (0,_utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_3__.isSingleItem)(bundleIds);
    bundleIds = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_1__.convertToList)(bundleIds);
    const out = {};
    bundleIds.forEach((bundleId) => {
      const assetNames = this._bundles[bundleId];
      if (assetNames) {
        out[bundleId] = this.resolve(assetNames);
      }
    });
    return singleAsset ? out[bundleIds[0]] : out;
  }
  resolveUrl(key) {
    const result = this.resolve(key);
    if (typeof key !== "string") {
      const out = {};
      for (const i in result) {
        out[i] = result[i].src;
      }
      return out;
    }
    return result.src;
  }
  resolve(keys) {
    const singleAsset = (0,_utils_isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_3__.isSingleItem)(keys);
    keys = (0,_utils_convertToList_mjs__WEBPACK_IMPORTED_MODULE_1__.convertToList)(keys);
    const result = {};
    keys.forEach((key) => {
      if (!this._resolverHash[key]) {
        if (this._assetMap[key]) {
          let assets = this._assetMap[key];
          const preferredOrder = this._getPreferredOrder(assets);
          const bestAsset = assets[0];
          preferredOrder?.priority.forEach((priorityKey) => {
            preferredOrder.params[priorityKey].forEach((value) => {
              const filteredAssets = assets.filter((asset) => {
                if (asset[priorityKey]) {
                  return asset[priorityKey] === value;
                }
                return false;
              });
              if (filteredAssets.length) {
                assets = filteredAssets;
              }
            });
          });
          this._resolverHash[key] = assets[0] ?? bestAsset;
        } else {
          let src = key;
          if (this._basePath || this._rootPath) {
            src = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.toAbsolute(src, this._basePath, this._rootPath);
          }
          this._resolverHash[key] = {
            src
          };
        }
      }
      result[key] = this._resolverHash[key];
    });
    return singleAsset ? result[keys[0]] : result;
  }
  _getPreferredOrder(assets) {
    for (let i = 0; i < assets.length; i++) {
      const asset = assets[0];
      const preferred = this._preferredOrder.find((preference) => preference.params.format.includes(asset.format));
      if (preferred) {
        return preferred;
      }
    }
    return this._preferredOrder[0];
  }
}


//# sourceMappingURL=Resolver.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/resolver/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/resolver/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.mjs */ "./node_modules/@pixi/assets/lib/resolver/types.mjs");
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsers/index.mjs */ "./node_modules/@pixi/assets/lib/resolver/parsers/index.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/resolver/parsers/index.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/resolver/parsers/index.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "resolveTextureUrl": () => (/* reexport safe */ _resolveTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.resolveTextureUrl)
/* harmony export */ });
/* harmony import */ var _resolveTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./resolveTextureUrl.mjs */ "./node_modules/@pixi/assets/lib/resolver/parsers/resolveTextureUrl.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/resolver/parsers/resolveTextureUrl.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/resolver/parsers/resolveTextureUrl.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "resolveTextureUrl": () => (/* binding */ resolveTextureUrl)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _loader_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../loader/index.mjs */ "./node_modules/@pixi/assets/lib/loader/index.mjs");
/* harmony import */ var _loader_parsers_textures_loadTexture_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../loader/parsers/textures/loadTexture.mjs */ "./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTexture.mjs");




const resolveTextureUrl = {
  extension: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.ResolveParser,
  test: _loader_parsers_textures_loadTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.loadTextures.test,
  parse: (value) => ({
    resolution: parseFloat(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
    format: value.split(".").pop(),
    src: value
  })
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(resolveTextureUrl);


//# sourceMappingURL=resolveTextureUrl.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/resolver/types.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/resolver/types.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=types.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkDataUrl": () => (/* binding */ checkDataUrl)
/* harmony export */ });
function checkDataUrl(url, mimes) {
  if (Array.isArray(mimes)) {
    for (const mime of mimes) {
      if (url.startsWith(`data:${mime}`))
        return true;
    }
    return false;
  }
  return url.startsWith(`data:${mimes}`);
}


//# sourceMappingURL=checkDataUrl.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/checkExtension.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkExtension": () => (/* binding */ checkExtension)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


function checkExtension(url, extension) {
  const tempURL = url.split("?")[0];
  const ext = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.extname(tempURL).toLowerCase();
  if (Array.isArray(extension)) {
    return extension.includes(ext.toLowerCase());
  }
  return ext.toLowerCase() === extension;
}


//# sourceMappingURL=checkExtension.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/convertToList.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertToList": () => (/* binding */ convertToList)
/* harmony export */ });
const convertToList = (input, transform) => {
  if (!Array.isArray(input)) {
    input = [input];
  }
  if (!transform) {
    return input;
  }
  return input.map((item) => {
    if (typeof item === "string") {
      return transform(item);
    }
    return item;
  });
};


//# sourceMappingURL=convertToList.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createStringVariations": () => (/* binding */ createStringVariations)
/* harmony export */ });
function processX(base, ids, depth, result, tags) {
  const id = ids[depth];
  for (let i = 0; i < id.length; i++) {
    const value = id[i];
    if (depth < ids.length - 1) {
      processX(base.replace(result[depth], value), ids, depth + 1, result, tags);
    } else {
      tags.push(base.replace(result[depth], value));
    }
  }
}
function createStringVariations(string) {
  const regex = /\{(.*?)\}/g;
  const result = string.match(regex);
  const tags = [];
  if (result) {
    const ids = [];
    result.forEach((vars) => {
      const split = vars.substring(1, vars.length - 1).split(",");
      ids.push(split);
    });
    processX(string, ids, 0, result, tags);
  } else {
    tags.push(string);
  }
  return tags;
}


//# sourceMappingURL=createStringVariations.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkDataUrl": () => (/* reexport safe */ _checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.checkDataUrl),
/* harmony export */   "checkExtension": () => (/* reexport safe */ _checkExtension_mjs__WEBPACK_IMPORTED_MODULE_1__.checkExtension),
/* harmony export */   "convertToList": () => (/* reexport safe */ _convertToList_mjs__WEBPACK_IMPORTED_MODULE_2__.convertToList),
/* harmony export */   "createStringVariations": () => (/* reexport safe */ _createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_3__.createStringVariations),
/* harmony export */   "isSingleItem": () => (/* reexport safe */ _isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_4__.isSingleItem)
/* harmony export */ });
/* harmony import */ var _checkDataUrl_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./checkDataUrl.mjs */ "./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs");
/* harmony import */ var _checkExtension_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./checkExtension.mjs */ "./node_modules/@pixi/assets/lib/utils/checkExtension.mjs");
/* harmony import */ var _convertToList_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./convertToList.mjs */ "./node_modules/@pixi/assets/lib/utils/convertToList.mjs");
/* harmony import */ var _createStringVariations_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./createStringVariations.mjs */ "./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs");
/* harmony import */ var _isSingleItem_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./isSingleItem.mjs */ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isSingleItem": () => (/* binding */ isSingleItem)
/* harmony export */ });
const isSingleItem = (item) => !Array.isArray(item);


//# sourceMappingURL=isSingleItem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/const.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/const.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "INTERNAL_FORMATS": () => (/* binding */ INTERNAL_FORMATS),
/* harmony export */   "INTERNAL_FORMAT_TO_BYTES_PER_PIXEL": () => (/* binding */ INTERNAL_FORMAT_TO_BYTES_PER_PIXEL)
/* harmony export */ });
var INTERNAL_FORMATS = /* @__PURE__ */ ((INTERNAL_FORMATS2) => {
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_S3TC_DXT1_EXT"] = 33776] = "COMPRESSED_RGB_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_S3TC_DXT1_EXT"] = 33777] = "COMPRESSED_RGBA_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_S3TC_DXT3_EXT"] = 33778] = "COMPRESSED_RGBA_S3TC_DXT3_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_S3TC_DXT5_EXT"] = 33779] = "COMPRESSED_RGBA_S3TC_DXT5_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT"] = 35917] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT"] = 35918] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT"] = 35919] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_S3TC_DXT1_EXT"] = 35916] = "COMPRESSED_SRGB_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_R11_EAC"] = 37488] = "COMPRESSED_R11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SIGNED_R11_EAC"] = 37489] = "COMPRESSED_SIGNED_R11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RG11_EAC"] = 37490] = "COMPRESSED_RG11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SIGNED_RG11_EAC"] = 37491] = "COMPRESSED_SIGNED_RG11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB8_ETC2"] = 37492] = "COMPRESSED_RGB8_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA8_ETC2_EAC"] = 37496] = "COMPRESSED_RGBA8_ETC2_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB8_ETC2"] = 37493] = "COMPRESSED_SRGB8_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"] = 37497] = "COMPRESSED_SRGB8_ALPHA8_ETC2_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2"] = 37494] = "COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2"] = 37495] = "COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_PVRTC_4BPPV1_IMG"] = 35840] = "COMPRESSED_RGB_PVRTC_4BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_PVRTC_4BPPV1_IMG"] = 35842] = "COMPRESSED_RGBA_PVRTC_4BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_PVRTC_2BPPV1_IMG"] = 35841] = "COMPRESSED_RGB_PVRTC_2BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_PVRTC_2BPPV1_IMG"] = 35843] = "COMPRESSED_RGBA_PVRTC_2BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_ETC1_WEBGL"] = 36196] = "COMPRESSED_RGB_ETC1_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_ATC_WEBGL"] = 35986] = "COMPRESSED_RGB_ATC_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL"] = 35986] = "COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"] = 34798] = "COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_ASTC_4x4_KHR"] = 37808] = "COMPRESSED_RGBA_ASTC_4x4_KHR";
  return INTERNAL_FORMATS2;
})(INTERNAL_FORMATS || {});
const INTERNAL_FORMAT_TO_BYTES_PER_PIXEL = {
  [33776 /* COMPRESSED_RGB_S3TC_DXT1_EXT */]: 0.5,
  [33777 /* COMPRESSED_RGBA_S3TC_DXT1_EXT */]: 0.5,
  [33778 /* COMPRESSED_RGBA_S3TC_DXT3_EXT */]: 1,
  [33779 /* COMPRESSED_RGBA_S3TC_DXT5_EXT */]: 1,
  [35916 /* COMPRESSED_SRGB_S3TC_DXT1_EXT */]: 0.5,
  [35917 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT */]: 0.5,
  [35918 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT */]: 1,
  [35919 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT */]: 1,
  [37488 /* COMPRESSED_R11_EAC */]: 0.5,
  [37489 /* COMPRESSED_SIGNED_R11_EAC */]: 0.5,
  [37490 /* COMPRESSED_RG11_EAC */]: 1,
  [37491 /* COMPRESSED_SIGNED_RG11_EAC */]: 1,
  [37492 /* COMPRESSED_RGB8_ETC2 */]: 0.5,
  [37496 /* COMPRESSED_RGBA8_ETC2_EAC */]: 1,
  [37493 /* COMPRESSED_SRGB8_ETC2 */]: 0.5,
  [37497 /* COMPRESSED_SRGB8_ALPHA8_ETC2_EAC */]: 1,
  [37494 /* COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 */]: 0.5,
  [37495 /* COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 */]: 0.5,
  [35840 /* COMPRESSED_RGB_PVRTC_4BPPV1_IMG */]: 0.5,
  [35842 /* COMPRESSED_RGBA_PVRTC_4BPPV1_IMG */]: 0.5,
  [35841 /* COMPRESSED_RGB_PVRTC_2BPPV1_IMG */]: 0.25,
  [35843 /* COMPRESSED_RGBA_PVRTC_2BPPV1_IMG */]: 0.25,
  [36196 /* COMPRESSED_RGB_ETC1_WEBGL */]: 0.5,
  [35986 /* COMPRESSED_RGB_ATC_WEBGL */]: 0.5,
  [35986 /* COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL */]: 1,
  [34798 /* COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL */]: 1,
  [37808 /* COMPRESSED_RGBA_ASTC_4x4_KHR */]: 1
};


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BlobResource": () => (/* reexport safe */ _resources_BlobResource_mjs__WEBPACK_IMPORTED_MODULE_4__.BlobResource),
/* harmony export */   "CompressedTextureResource": () => (/* reexport safe */ _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_5__.CompressedTextureResource),
/* harmony export */   "FORMATS_TO_COMPONENTS": () => (/* reexport safe */ _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_11__.FORMATS_TO_COMPONENTS),
/* harmony export */   "INTERNAL_FORMATS": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMATS),
/* harmony export */   "INTERNAL_FORMAT_TO_BYTES_PER_PIXEL": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL),
/* harmony export */   "TYPES_TO_BYTES_PER_COMPONENT": () => (/* reexport safe */ _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_11__.TYPES_TO_BYTES_PER_COMPONENT),
/* harmony export */   "TYPES_TO_BYTES_PER_PIXEL": () => (/* reexport safe */ _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_11__.TYPES_TO_BYTES_PER_PIXEL),
/* harmony export */   "detectCompressedTextures": () => (/* reexport safe */ _loaders_detectCompressedTextures_mjs__WEBPACK_IMPORTED_MODULE_6__.detectCompressedTextures),
/* harmony export */   "loadDDS": () => (/* reexport safe */ _loaders_loadDDS_mjs__WEBPACK_IMPORTED_MODULE_7__.loadDDS),
/* harmony export */   "loadKTX": () => (/* reexport safe */ _loaders_loadKTX_mjs__WEBPACK_IMPORTED_MODULE_8__.loadKTX),
/* harmony export */   "parseDDS": () => (/* reexport safe */ _parsers_parseDDS_mjs__WEBPACK_IMPORTED_MODULE_10__.parseDDS),
/* harmony export */   "parseKTX": () => (/* reexport safe */ _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_11__.parseKTX),
/* harmony export */   "resolveCompressedTextureUrl": () => (/* reexport safe */ _loaders_resolveCompressedTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_9__.resolveCompressedTextureUrl)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/compressed-textures/lib/const.mjs");
/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./resources/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/index.mjs");
/* harmony import */ var _loaders_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loaders/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/index.mjs");
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parsers/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/index.mjs");
/* harmony import */ var _resources_BlobResource_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources/BlobResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs");
/* harmony import */ var _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./resources/CompressedTextureResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs");
/* harmony import */ var _loaders_detectCompressedTextures_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./loaders/detectCompressedTextures.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/detectCompressedTextures.mjs");
/* harmony import */ var _loaders_loadDDS_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./loaders/loadDDS.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/loadDDS.mjs");
/* harmony import */ var _loaders_loadKTX_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./loaders/loadKTX.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/loadKTX.mjs");
/* harmony import */ var _loaders_resolveCompressedTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./loaders/resolveCompressedTextureUrl.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/resolveCompressedTextureUrl.mjs");
/* harmony import */ var _parsers_parseDDS_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./parsers/parseDDS.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs");
/* harmony import */ var _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./parsers/parseKTX.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs");












//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/compressedTextureExtensions.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/compressedTextureExtensions.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=compressedTextureExtensions.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/detectCompressedTextures.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/detectCompressedTextures.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "detectCompressedTextures": () => (/* binding */ detectCompressedTextures)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


let storedGl;
let extensions;
function getCompressedTextureExtensions() {
  extensions = {
    s3tc: storedGl.getExtension("WEBGL_compressed_texture_s3tc"),
    s3tc_sRGB: storedGl.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
    etc: storedGl.getExtension("WEBGL_compressed_texture_etc"),
    etc1: storedGl.getExtension("WEBGL_compressed_texture_etc1"),
    pvrtc: storedGl.getExtension("WEBGL_compressed_texture_pvrtc") || storedGl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
    atc: storedGl.getExtension("WEBGL_compressed_texture_atc"),
    astc: storedGl.getExtension("WEBGL_compressed_texture_astc")
  };
}
const detectCompressedTextures = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.DetectionParser,
    priority: 2
  },
  test: async () => {
    const canvas = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
    const gl = canvas.getContext("webgl");
    if (!gl) {
      console.warn("WebGL not available for compressed textures.");
      return false;
    }
    storedGl = gl;
    return true;
  },
  add: async (formats) => {
    if (!extensions)
      getCompressedTextureExtensions();
    const textureFormats = [];
    for (const extensionName in extensions) {
      const extension = extensions[extensionName];
      if (!extension) {
        continue;
      }
      textureFormats.push(extensionName);
    }
    return [...textureFormats, ...formats];
  },
  remove: async (formats) => {
    if (!extensions)
      getCompressedTextureExtensions();
    return formats.filter((f) => !(f in extensions));
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(detectCompressedTextures);


//# sourceMappingURL=detectCompressedTextures.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/index.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/index.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "detectCompressedTextures": () => (/* reexport safe */ _detectCompressedTextures_mjs__WEBPACK_IMPORTED_MODULE_0__.detectCompressedTextures),
/* harmony export */   "loadDDS": () => (/* reexport safe */ _loadDDS_mjs__WEBPACK_IMPORTED_MODULE_1__.loadDDS),
/* harmony export */   "loadKTX": () => (/* reexport safe */ _loadKTX_mjs__WEBPACK_IMPORTED_MODULE_2__.loadKTX),
/* harmony export */   "resolveCompressedTextureUrl": () => (/* reexport safe */ _resolveCompressedTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_4__.resolveCompressedTextureUrl)
/* harmony export */ });
/* harmony import */ var _detectCompressedTextures_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./detectCompressedTextures.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/detectCompressedTextures.mjs");
/* harmony import */ var _loadDDS_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loadDDS.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/loadDDS.mjs");
/* harmony import */ var _loadKTX_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loadKTX.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/loadKTX.mjs");
/* harmony import */ var _compressedTextureExtensions_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./compressedTextureExtensions.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/compressedTextureExtensions.mjs");
/* harmony import */ var _resolveCompressedTextureUrl_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resolveCompressedTextureUrl.mjs */ "./node_modules/@pixi/compressed-textures/lib/loaders/resolveCompressedTextureUrl.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/loadDDS.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/loadDDS.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadDDS": () => (/* binding */ loadDDS)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_assets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/assets */ "./node_modules/@pixi/assets/lib/index.mjs");
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parsers/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/index.mjs");
/* harmony import */ var _parsers_parseDDS_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parsers/parseDDS.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs");





const loadDDS = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _pixi_assets__WEBPACK_IMPORTED_MODULE_1__.LoaderParserPriority.High
  },
  test(url) {
    return (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_1__.checkExtension)(url, ".dds");
  },
  async load(url, asset, loader) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
    const arrayBuffer = await response.arrayBuffer();
    const resources = (0,_parsers_parseDDS_mjs__WEBPACK_IMPORTED_MODULE_3__.parseDDS)(arrayBuffer);
    const textures = resources.map((resource) => {
      const base = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture(resource, {
        mipmap: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.MIPMAP_MODES.OFF,
        alphaMode: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,
        resolution: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.getResolutionOfUrl(url),
        ...asset.data
      });
      return (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_1__.createTexture)(base, loader, url);
    });
    return textures.length === 1 ? textures[0] : textures;
  },
  unload(texture) {
    if (Array.isArray(texture)) {
      texture.forEach((t) => t.destroy(true));
    } else {
      texture.destroy(true);
    }
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadDDS);


//# sourceMappingURL=loadDDS.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/loadKTX.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/loadKTX.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadKTX": () => (/* binding */ loadKTX)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_assets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/assets */ "./node_modules/@pixi/assets/lib/index.mjs");
/* harmony import */ var _parsers_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parsers/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/index.mjs");
/* harmony import */ var _parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../parsers/parseKTX.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs");





const loadKTX = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _pixi_assets__WEBPACK_IMPORTED_MODULE_1__.LoaderParserPriority.High
  },
  test(url) {
    return (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_1__.checkExtension)(url, ".ktx");
  },
  async load(url, asset, loader) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
    const arrayBuffer = await response.arrayBuffer();
    const { compressed, uncompressed, kvData } = (0,_parsers_parseKTX_mjs__WEBPACK_IMPORTED_MODULE_3__.parseKTX)(url, arrayBuffer);
    const resources = compressed ?? uncompressed;
    const options = {
      mipmap: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.MIPMAP_MODES.OFF,
      alphaMode: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,
      resolution: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.getResolutionOfUrl(url),
      ...asset.data
    };
    const textures = resources.map((resource) => {
      if (resources === uncompressed) {
        Object.assign(options, {
          type: resource.type,
          format: resource.format
        });
      }
      const base = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture(resource, options);
      base.ktxKeyValueData = kvData;
      return (0,_pixi_assets__WEBPACK_IMPORTED_MODULE_1__.createTexture)(base, loader, url);
    });
    return textures.length === 1 ? textures[0] : textures;
  },
  unload(texture) {
    if (Array.isArray(texture)) {
      texture.forEach((t) => t.destroy(true));
    } else {
      texture.destroy(true);
    }
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadKTX);


//# sourceMappingURL=loadKTX.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/loaders/resolveCompressedTextureUrl.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/loaders/resolveCompressedTextureUrl.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "resolveCompressedTextureUrl": () => (/* binding */ resolveCompressedTextureUrl)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const resolveCompressedTextureUrl = {
  extension: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.ResolveParser,
  test: (value) => {
    const temp = value.split("?")[0];
    const extension = temp.split(".").pop();
    return ["basis", "ktx", "dds"].includes(extension);
  },
  parse: (value) => {
    const temp = value.split("?")[0];
    const extension = temp.split(".").pop();
    if (extension === "ktx") {
      const extensions2 = [
        ".s3tc.ktx",
        ".s3tc_sRGB.ktx",
        ".etc.ktx",
        ".etc1.ktx",
        ".pvrt.ktx",
        ".atc.ktx",
        ".astc.ktx"
      ];
      if (extensions2.some((ext) => value.endsWith(ext))) {
        return {
          resolution: parseFloat(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
          format: extensions2.find((ext) => value.endsWith(ext)),
          src: value
        };
      }
    }
    return {
      resolution: parseFloat(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
      format: value.split(".").pop(),
      src: value
    };
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(resolveCompressedTextureUrl);


//# sourceMappingURL=resolveCompressedTextureUrl.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/parsers/index.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/parsers/index.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FORMATS_TO_COMPONENTS": () => (/* reexport safe */ _parseKTX_mjs__WEBPACK_IMPORTED_MODULE_1__.FORMATS_TO_COMPONENTS),
/* harmony export */   "TYPES_TO_BYTES_PER_COMPONENT": () => (/* reexport safe */ _parseKTX_mjs__WEBPACK_IMPORTED_MODULE_1__.TYPES_TO_BYTES_PER_COMPONENT),
/* harmony export */   "TYPES_TO_BYTES_PER_PIXEL": () => (/* reexport safe */ _parseKTX_mjs__WEBPACK_IMPORTED_MODULE_1__.TYPES_TO_BYTES_PER_PIXEL),
/* harmony export */   "parseDDS": () => (/* reexport safe */ _parseDDS_mjs__WEBPACK_IMPORTED_MODULE_0__.parseDDS),
/* harmony export */   "parseKTX": () => (/* reexport safe */ _parseKTX_mjs__WEBPACK_IMPORTED_MODULE_1__.parseKTX)
/* harmony export */ });
/* harmony import */ var _parseDDS_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parseDDS.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs");
/* harmony import */ var _parseKTX_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parseKTX.mjs */ "./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "parseDDS": () => (/* binding */ parseDDS)
/* harmony export */ });
/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resources/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/compressed-textures/lib/const.mjs");
/* harmony import */ var _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resources/CompressedTextureResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs");




const DDS_MAGIC_SIZE = 4;
const DDS_HEADER_SIZE = 124;
const DDS_HEADER_PF_SIZE = 32;
const DDS_HEADER_DX10_SIZE = 20;
const DDS_MAGIC = 542327876;
const DDS_FIELDS = {
  SIZE: 1,
  FLAGS: 2,
  HEIGHT: 3,
  WIDTH: 4,
  MIPMAP_COUNT: 7,
  PIXEL_FORMAT: 19
};
const DDS_PF_FIELDS = {
  SIZE: 0,
  FLAGS: 1,
  FOURCC: 2,
  RGB_BITCOUNT: 3,
  R_BIT_MASK: 4,
  G_BIT_MASK: 5,
  B_BIT_MASK: 6,
  A_BIT_MASK: 7
};
const DDS_DX10_FIELDS = {
  DXGI_FORMAT: 0,
  RESOURCE_DIMENSION: 1,
  MISC_FLAG: 2,
  ARRAY_SIZE: 3,
  MISC_FLAGS2: 4
};
var DXGI_FORMAT = /* @__PURE__ */ ((DXGI_FORMAT2) => {
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_UNKNOWN"] = 0] = "DXGI_FORMAT_UNKNOWN";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32A32_TYPELESS"] = 1] = "DXGI_FORMAT_R32G32B32A32_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32A32_FLOAT"] = 2] = "DXGI_FORMAT_R32G32B32A32_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32A32_UINT"] = 3] = "DXGI_FORMAT_R32G32B32A32_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32A32_SINT"] = 4] = "DXGI_FORMAT_R32G32B32A32_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32_TYPELESS"] = 5] = "DXGI_FORMAT_R32G32B32_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32_FLOAT"] = 6] = "DXGI_FORMAT_R32G32B32_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32_UINT"] = 7] = "DXGI_FORMAT_R32G32B32_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32B32_SINT"] = 8] = "DXGI_FORMAT_R32G32B32_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_TYPELESS"] = 9] = "DXGI_FORMAT_R16G16B16A16_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_FLOAT"] = 10] = "DXGI_FORMAT_R16G16B16A16_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_UNORM"] = 11] = "DXGI_FORMAT_R16G16B16A16_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_UINT"] = 12] = "DXGI_FORMAT_R16G16B16A16_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_SNORM"] = 13] = "DXGI_FORMAT_R16G16B16A16_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16B16A16_SINT"] = 14] = "DXGI_FORMAT_R16G16B16A16_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32_TYPELESS"] = 15] = "DXGI_FORMAT_R32G32_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32_FLOAT"] = 16] = "DXGI_FORMAT_R32G32_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32_UINT"] = 17] = "DXGI_FORMAT_R32G32_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G32_SINT"] = 18] = "DXGI_FORMAT_R32G32_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32G8X24_TYPELESS"] = 19] = "DXGI_FORMAT_R32G8X24_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_D32_FLOAT_S8X24_UINT"] = 20] = "DXGI_FORMAT_D32_FLOAT_S8X24_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS"] = 21] = "DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_X32_TYPELESS_G8X24_UINT"] = 22] = "DXGI_FORMAT_X32_TYPELESS_G8X24_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R10G10B10A2_TYPELESS"] = 23] = "DXGI_FORMAT_R10G10B10A2_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R10G10B10A2_UNORM"] = 24] = "DXGI_FORMAT_R10G10B10A2_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R10G10B10A2_UINT"] = 25] = "DXGI_FORMAT_R10G10B10A2_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R11G11B10_FLOAT"] = 26] = "DXGI_FORMAT_R11G11B10_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_TYPELESS"] = 27] = "DXGI_FORMAT_R8G8B8A8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_UNORM"] = 28] = "DXGI_FORMAT_R8G8B8A8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_UNORM_SRGB"] = 29] = "DXGI_FORMAT_R8G8B8A8_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_UINT"] = 30] = "DXGI_FORMAT_R8G8B8A8_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_SNORM"] = 31] = "DXGI_FORMAT_R8G8B8A8_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8B8A8_SINT"] = 32] = "DXGI_FORMAT_R8G8B8A8_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_TYPELESS"] = 33] = "DXGI_FORMAT_R16G16_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_FLOAT"] = 34] = "DXGI_FORMAT_R16G16_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_UNORM"] = 35] = "DXGI_FORMAT_R16G16_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_UINT"] = 36] = "DXGI_FORMAT_R16G16_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_SNORM"] = 37] = "DXGI_FORMAT_R16G16_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16G16_SINT"] = 38] = "DXGI_FORMAT_R16G16_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32_TYPELESS"] = 39] = "DXGI_FORMAT_R32_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_D32_FLOAT"] = 40] = "DXGI_FORMAT_D32_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32_FLOAT"] = 41] = "DXGI_FORMAT_R32_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32_UINT"] = 42] = "DXGI_FORMAT_R32_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R32_SINT"] = 43] = "DXGI_FORMAT_R32_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R24G8_TYPELESS"] = 44] = "DXGI_FORMAT_R24G8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_D24_UNORM_S8_UINT"] = 45] = "DXGI_FORMAT_D24_UNORM_S8_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R24_UNORM_X8_TYPELESS"] = 46] = "DXGI_FORMAT_R24_UNORM_X8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_X24_TYPELESS_G8_UINT"] = 47] = "DXGI_FORMAT_X24_TYPELESS_G8_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_TYPELESS"] = 48] = "DXGI_FORMAT_R8G8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_UNORM"] = 49] = "DXGI_FORMAT_R8G8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_UINT"] = 50] = "DXGI_FORMAT_R8G8_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_SNORM"] = 51] = "DXGI_FORMAT_R8G8_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_SINT"] = 52] = "DXGI_FORMAT_R8G8_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_TYPELESS"] = 53] = "DXGI_FORMAT_R16_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_FLOAT"] = 54] = "DXGI_FORMAT_R16_FLOAT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_D16_UNORM"] = 55] = "DXGI_FORMAT_D16_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_UNORM"] = 56] = "DXGI_FORMAT_R16_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_UINT"] = 57] = "DXGI_FORMAT_R16_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_SNORM"] = 58] = "DXGI_FORMAT_R16_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R16_SINT"] = 59] = "DXGI_FORMAT_R16_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8_TYPELESS"] = 60] = "DXGI_FORMAT_R8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8_UNORM"] = 61] = "DXGI_FORMAT_R8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8_UINT"] = 62] = "DXGI_FORMAT_R8_UINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8_SNORM"] = 63] = "DXGI_FORMAT_R8_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8_SINT"] = 64] = "DXGI_FORMAT_R8_SINT";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_A8_UNORM"] = 65] = "DXGI_FORMAT_A8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R1_UNORM"] = 66] = "DXGI_FORMAT_R1_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R9G9B9E5_SHAREDEXP"] = 67] = "DXGI_FORMAT_R9G9B9E5_SHAREDEXP";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R8G8_B8G8_UNORM"] = 68] = "DXGI_FORMAT_R8G8_B8G8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_G8R8_G8B8_UNORM"] = 69] = "DXGI_FORMAT_G8R8_G8B8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC1_TYPELESS"] = 70] = "DXGI_FORMAT_BC1_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC1_UNORM"] = 71] = "DXGI_FORMAT_BC1_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC1_UNORM_SRGB"] = 72] = "DXGI_FORMAT_BC1_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC2_TYPELESS"] = 73] = "DXGI_FORMAT_BC2_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC2_UNORM"] = 74] = "DXGI_FORMAT_BC2_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC2_UNORM_SRGB"] = 75] = "DXGI_FORMAT_BC2_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC3_TYPELESS"] = 76] = "DXGI_FORMAT_BC3_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC3_UNORM"] = 77] = "DXGI_FORMAT_BC3_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC3_UNORM_SRGB"] = 78] = "DXGI_FORMAT_BC3_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC4_TYPELESS"] = 79] = "DXGI_FORMAT_BC4_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC4_UNORM"] = 80] = "DXGI_FORMAT_BC4_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC4_SNORM"] = 81] = "DXGI_FORMAT_BC4_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC5_TYPELESS"] = 82] = "DXGI_FORMAT_BC5_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC5_UNORM"] = 83] = "DXGI_FORMAT_BC5_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC5_SNORM"] = 84] = "DXGI_FORMAT_BC5_SNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B5G6R5_UNORM"] = 85] = "DXGI_FORMAT_B5G6R5_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B5G5R5A1_UNORM"] = 86] = "DXGI_FORMAT_B5G5R5A1_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8A8_UNORM"] = 87] = "DXGI_FORMAT_B8G8R8A8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8X8_UNORM"] = 88] = "DXGI_FORMAT_B8G8R8X8_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM"] = 89] = "DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8A8_TYPELESS"] = 90] = "DXGI_FORMAT_B8G8R8A8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8A8_UNORM_SRGB"] = 91] = "DXGI_FORMAT_B8G8R8A8_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8X8_TYPELESS"] = 92] = "DXGI_FORMAT_B8G8R8X8_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B8G8R8X8_UNORM_SRGB"] = 93] = "DXGI_FORMAT_B8G8R8X8_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC6H_TYPELESS"] = 94] = "DXGI_FORMAT_BC6H_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC6H_UF16"] = 95] = "DXGI_FORMAT_BC6H_UF16";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC6H_SF16"] = 96] = "DXGI_FORMAT_BC6H_SF16";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC7_TYPELESS"] = 97] = "DXGI_FORMAT_BC7_TYPELESS";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC7_UNORM"] = 98] = "DXGI_FORMAT_BC7_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_BC7_UNORM_SRGB"] = 99] = "DXGI_FORMAT_BC7_UNORM_SRGB";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_AYUV"] = 100] = "DXGI_FORMAT_AYUV";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_Y410"] = 101] = "DXGI_FORMAT_Y410";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_Y416"] = 102] = "DXGI_FORMAT_Y416";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_NV12"] = 103] = "DXGI_FORMAT_NV12";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_P010"] = 104] = "DXGI_FORMAT_P010";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_P016"] = 105] = "DXGI_FORMAT_P016";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_420_OPAQUE"] = 106] = "DXGI_FORMAT_420_OPAQUE";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_YUY2"] = 107] = "DXGI_FORMAT_YUY2";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_Y210"] = 108] = "DXGI_FORMAT_Y210";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_Y216"] = 109] = "DXGI_FORMAT_Y216";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_NV11"] = 110] = "DXGI_FORMAT_NV11";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_AI44"] = 111] = "DXGI_FORMAT_AI44";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_IA44"] = 112] = "DXGI_FORMAT_IA44";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_P8"] = 113] = "DXGI_FORMAT_P8";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_A8P8"] = 114] = "DXGI_FORMAT_A8P8";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_B4G4R4A4_UNORM"] = 115] = "DXGI_FORMAT_B4G4R4A4_UNORM";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_P208"] = 116] = "DXGI_FORMAT_P208";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_V208"] = 117] = "DXGI_FORMAT_V208";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_V408"] = 118] = "DXGI_FORMAT_V408";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE"] = 119] = "DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE"] = 120] = "DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE";
  DXGI_FORMAT2[DXGI_FORMAT2["DXGI_FORMAT_FORCE_UINT"] = 121] = "DXGI_FORMAT_FORCE_UINT";
  return DXGI_FORMAT2;
})(DXGI_FORMAT || {});
var D3D10_RESOURCE_DIMENSION = /* @__PURE__ */ ((D3D10_RESOURCE_DIMENSION2) => {
  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2["DDS_DIMENSION_TEXTURE1D"] = 2] = "DDS_DIMENSION_TEXTURE1D";
  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2["DDS_DIMENSION_TEXTURE2D"] = 3] = "DDS_DIMENSION_TEXTURE2D";
  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2["DDS_DIMENSION_TEXTURE3D"] = 6] = "DDS_DIMENSION_TEXTURE3D";
  return D3D10_RESOURCE_DIMENSION2;
})(D3D10_RESOURCE_DIMENSION || {});
const PF_FLAGS = 1;
const DDPF_ALPHA = 2;
const DDPF_FOURCC = 4;
const DDPF_RGB = 64;
const DDPF_YUV = 512;
const DDPF_LUMINANCE = 131072;
const FOURCC_DXT1 = 827611204;
const FOURCC_DXT3 = 861165636;
const FOURCC_DXT5 = 894720068;
const FOURCC_DX10 = 808540228;
const DDS_RESOURCE_MISC_TEXTURECUBE = 4;
const FOURCC_TO_FORMAT = {
  [FOURCC_DXT1]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,
  [FOURCC_DXT3]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,
  [FOURCC_DXT5]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT
};
const DXGI_TO_FORMAT = {
  [70 /* DXGI_FORMAT_BC1_TYPELESS */]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,
  [71 /* DXGI_FORMAT_BC1_UNORM */]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,
  [73 /* DXGI_FORMAT_BC2_TYPELESS */]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,
  [74 /* DXGI_FORMAT_BC2_UNORM */]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,
  [76 /* DXGI_FORMAT_BC3_TYPELESS */]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,
  [77 /* DXGI_FORMAT_BC3_UNORM */]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,
  [72 /* DXGI_FORMAT_BC1_UNORM_SRGB */]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,
  [75 /* DXGI_FORMAT_BC2_UNORM_SRGB */]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,
  [78 /* DXGI_FORMAT_BC3_UNORM_SRGB */]: _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT
};
function parseDDS(arrayBuffer) {
  const data = new Uint32Array(arrayBuffer);
  const magicWord = data[0];
  if (magicWord !== DDS_MAGIC) {
    throw new Error("Invalid DDS file magic word");
  }
  const header = new Uint32Array(arrayBuffer, 0, DDS_HEADER_SIZE / Uint32Array.BYTES_PER_ELEMENT);
  const height = header[DDS_FIELDS.HEIGHT];
  const width = header[DDS_FIELDS.WIDTH];
  const mipmapCount = header[DDS_FIELDS.MIPMAP_COUNT];
  const pixelFormat = new Uint32Array(arrayBuffer, DDS_FIELDS.PIXEL_FORMAT * Uint32Array.BYTES_PER_ELEMENT, DDS_HEADER_PF_SIZE / Uint32Array.BYTES_PER_ELEMENT);
  const formatFlags = pixelFormat[PF_FLAGS];
  if (formatFlags & DDPF_FOURCC) {
    const fourCC = pixelFormat[DDS_PF_FIELDS.FOURCC];
    if (fourCC !== FOURCC_DX10) {
      const internalFormat2 = FOURCC_TO_FORMAT[fourCC];
      const dataOffset2 = DDS_MAGIC_SIZE + DDS_HEADER_SIZE;
      const texData = new Uint8Array(arrayBuffer, dataOffset2);
      const resource = new _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_2__.CompressedTextureResource(texData, {
        format: internalFormat2,
        width,
        height,
        levels: mipmapCount
      });
      return [resource];
    }
    const dx10Offset = DDS_MAGIC_SIZE + DDS_HEADER_SIZE;
    const dx10Header = new Uint32Array(data.buffer, dx10Offset, DDS_HEADER_DX10_SIZE / Uint32Array.BYTES_PER_ELEMENT);
    const dxgiFormat = dx10Header[DDS_DX10_FIELDS.DXGI_FORMAT];
    const resourceDimension = dx10Header[DDS_DX10_FIELDS.RESOURCE_DIMENSION];
    const miscFlag = dx10Header[DDS_DX10_FIELDS.MISC_FLAG];
    const arraySize = dx10Header[DDS_DX10_FIELDS.ARRAY_SIZE];
    const internalFormat = DXGI_TO_FORMAT[dxgiFormat];
    if (internalFormat === void 0) {
      throw new Error(`DDSParser cannot parse texture data with DXGI format ${dxgiFormat}`);
    }
    if (miscFlag === DDS_RESOURCE_MISC_TEXTURECUBE) {
      throw new Error("DDSParser does not support cubemap textures");
    }
    if (resourceDimension === 6 /* DDS_DIMENSION_TEXTURE3D */) {
      throw new Error("DDSParser does not supported 3D texture data");
    }
    const imageBuffers = new Array();
    const dataOffset = DDS_MAGIC_SIZE + DDS_HEADER_SIZE + DDS_HEADER_DX10_SIZE;
    if (arraySize === 1) {
      imageBuffers.push(new Uint8Array(arrayBuffer, dataOffset));
    } else {
      const pixelSize = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[internalFormat];
      let imageSize = 0;
      let levelWidth = width;
      let levelHeight = height;
      for (let i = 0; i < mipmapCount; i++) {
        const alignedLevelWidth = Math.max(1, levelWidth + 3 & ~3);
        const alignedLevelHeight = Math.max(1, levelHeight + 3 & ~3);
        const levelSize = alignedLevelWidth * alignedLevelHeight * pixelSize;
        imageSize += levelSize;
        levelWidth = levelWidth >>> 1;
        levelHeight = levelHeight >>> 1;
      }
      let imageOffset = dataOffset;
      for (let i = 0; i < arraySize; i++) {
        imageBuffers.push(new Uint8Array(arrayBuffer, imageOffset, imageSize));
        imageOffset += imageSize;
      }
    }
    return imageBuffers.map((buffer) => new _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_2__.CompressedTextureResource(buffer, {
      format: internalFormat,
      width,
      height,
      levels: mipmapCount
    }));
  }
  if (formatFlags & DDPF_RGB) {
    throw new Error("DDSParser does not support uncompressed texture data.");
  }
  if (formatFlags & DDPF_YUV) {
    throw new Error("DDSParser does not supported YUV uncompressed texture data.");
  }
  if (formatFlags & DDPF_LUMINANCE) {
    throw new Error("DDSParser does not support single-channel (lumninance) texture data!");
  }
  if (formatFlags & DDPF_ALPHA) {
    throw new Error("DDSParser does not support single-channel (alpha) texture data!");
  }
  throw new Error("DDSParser failed to load a texture file due to an unknown reason!");
}


//# sourceMappingURL=parseDDS.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FORMATS_TO_COMPONENTS": () => (/* binding */ FORMATS_TO_COMPONENTS),
/* harmony export */   "TYPES_TO_BYTES_PER_COMPONENT": () => (/* binding */ TYPES_TO_BYTES_PER_COMPONENT),
/* harmony export */   "TYPES_TO_BYTES_PER_PIXEL": () => (/* binding */ TYPES_TO_BYTES_PER_PIXEL),
/* harmony export */   "parseKTX": () => (/* binding */ parseKTX)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/compressed-textures/lib/const.mjs");
/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../resources/index.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/index.mjs");
/* harmony import */ var _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../resources/CompressedTextureResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs");





const FILE_IDENTIFIER = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10];
const ENDIANNESS = 67305985;
const KTX_FIELDS = {
  FILE_IDENTIFIER: 0,
  ENDIANNESS: 12,
  GL_TYPE: 16,
  GL_TYPE_SIZE: 20,
  GL_FORMAT: 24,
  GL_INTERNAL_FORMAT: 28,
  GL_BASE_INTERNAL_FORMAT: 32,
  PIXEL_WIDTH: 36,
  PIXEL_HEIGHT: 40,
  PIXEL_DEPTH: 44,
  NUMBER_OF_ARRAY_ELEMENTS: 48,
  NUMBER_OF_FACES: 52,
  NUMBER_OF_MIPMAP_LEVELS: 56,
  BYTES_OF_KEY_VALUE_DATA: 60
};
const FILE_HEADER_SIZE = 64;
const TYPES_TO_BYTES_PER_COMPONENT = {
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE]: 1,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT]: 2,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.INT]: 4,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT]: 4,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT]: 4,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.HALF_FLOAT]: 8
};
const FORMATS_TO_COMPONENTS = {
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: 4,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: 3,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG]: 2,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED]: 1,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE]: 1,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE_ALPHA]: 2,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.ALPHA]: 1
};
const TYPES_TO_BYTES_PER_PIXEL = {
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_4_4_4_4]: 2,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_5_5_1]: 2,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_6_5]: 2
};
function parseKTX(url, arrayBuffer, loadKeyValueData = false) {
  const dataView = new DataView(arrayBuffer);
  if (!validate(url, dataView)) {
    return null;
  }
  const littleEndian = dataView.getUint32(KTX_FIELDS.ENDIANNESS, true) === ENDIANNESS;
  const glType = dataView.getUint32(KTX_FIELDS.GL_TYPE, littleEndian);
  const glFormat = dataView.getUint32(KTX_FIELDS.GL_FORMAT, littleEndian);
  const glInternalFormat = dataView.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT, littleEndian);
  const pixelWidth = dataView.getUint32(KTX_FIELDS.PIXEL_WIDTH, littleEndian);
  const pixelHeight = dataView.getUint32(KTX_FIELDS.PIXEL_HEIGHT, littleEndian) || 1;
  const pixelDepth = dataView.getUint32(KTX_FIELDS.PIXEL_DEPTH, littleEndian) || 1;
  const numberOfArrayElements = dataView.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS, littleEndian) || 1;
  const numberOfFaces = dataView.getUint32(KTX_FIELDS.NUMBER_OF_FACES, littleEndian);
  const numberOfMipmapLevels = dataView.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS, littleEndian);
  const bytesOfKeyValueData = dataView.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA, littleEndian);
  if (pixelHeight === 0 || pixelDepth !== 1) {
    throw new Error("Only 2D textures are supported");
  }
  if (numberOfFaces !== 1) {
    throw new Error("CubeTextures are not supported by KTXLoader yet!");
  }
  if (numberOfArrayElements !== 1) {
    throw new Error("WebGL does not support array textures");
  }
  const blockWidth = 4;
  const blockHeight = 4;
  const alignedWidth = pixelWidth + 3 & ~3;
  const alignedHeight = pixelHeight + 3 & ~3;
  const imageBuffers = new Array(numberOfArrayElements);
  let imagePixels = pixelWidth * pixelHeight;
  if (glType === 0) {
    imagePixels = alignedWidth * alignedHeight;
  }
  let imagePixelByteSize;
  if (glType !== 0) {
    if (TYPES_TO_BYTES_PER_COMPONENT[glType]) {
      imagePixelByteSize = TYPES_TO_BYTES_PER_COMPONENT[glType] * FORMATS_TO_COMPONENTS[glFormat];
    } else {
      imagePixelByteSize = TYPES_TO_BYTES_PER_PIXEL[glType];
    }
  } else {
    imagePixelByteSize = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[glInternalFormat];
  }
  if (imagePixelByteSize === void 0) {
    throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");
  }
  const kvData = loadKeyValueData ? parseKvData(dataView, bytesOfKeyValueData, littleEndian) : null;
  const imageByteSize = imagePixels * imagePixelByteSize;
  let mipByteSize = imageByteSize;
  let mipWidth = pixelWidth;
  let mipHeight = pixelHeight;
  let alignedMipWidth = alignedWidth;
  let alignedMipHeight = alignedHeight;
  let imageOffset = FILE_HEADER_SIZE + bytesOfKeyValueData;
  for (let mipmapLevel = 0; mipmapLevel < numberOfMipmapLevels; mipmapLevel++) {
    const imageSize = dataView.getUint32(imageOffset, littleEndian);
    let elementOffset = imageOffset + 4;
    for (let arrayElement = 0; arrayElement < numberOfArrayElements; arrayElement++) {
      let mips = imageBuffers[arrayElement];
      if (!mips) {
        mips = imageBuffers[arrayElement] = new Array(numberOfMipmapLevels);
      }
      mips[mipmapLevel] = {
        levelID: mipmapLevel,
        levelWidth: numberOfMipmapLevels > 1 || glType !== 0 ? mipWidth : alignedMipWidth,
        levelHeight: numberOfMipmapLevels > 1 || glType !== 0 ? mipHeight : alignedMipHeight,
        levelBuffer: new Uint8Array(arrayBuffer, elementOffset, mipByteSize)
      };
      elementOffset += mipByteSize;
    }
    imageOffset += imageSize + 4;
    imageOffset = imageOffset % 4 !== 0 ? imageOffset + 4 - imageOffset % 4 : imageOffset;
    mipWidth = mipWidth >> 1 || 1;
    mipHeight = mipHeight >> 1 || 1;
    alignedMipWidth = mipWidth + blockWidth - 1 & ~(blockWidth - 1);
    alignedMipHeight = mipHeight + blockHeight - 1 & ~(blockHeight - 1);
    mipByteSize = alignedMipWidth * alignedMipHeight * imagePixelByteSize;
  }
  if (glType !== 0) {
    return {
      uncompressed: imageBuffers.map((levelBuffers) => {
        let buffer = levelBuffers[0].levelBuffer;
        let convertToInt = false;
        if (glType === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT) {
          buffer = new Float32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);
        } else if (glType === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT) {
          convertToInt = true;
          buffer = new Uint32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);
        } else if (glType === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.INT) {
          convertToInt = true;
          buffer = new Int32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);
        }
        return {
          resource: new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BufferResource(buffer, {
            width: levelBuffers[0].levelWidth,
            height: levelBuffers[0].levelHeight
          }),
          type: glType,
          format: convertToInt ? convertFormatToInteger(glFormat) : glFormat
        };
      }),
      kvData
    };
  }
  return {
    compressed: imageBuffers.map((levelBuffers) => new _resources_CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_3__.CompressedTextureResource(null, {
      format: glInternalFormat,
      width: pixelWidth,
      height: pixelHeight,
      levels: numberOfMipmapLevels,
      levelBuffers
    })),
    kvData
  };
}
function validate(url, dataView) {
  for (let i = 0; i < FILE_IDENTIFIER.length; i++) {
    if (dataView.getUint8(i) !== FILE_IDENTIFIER[i]) {
      console.error(`${url} is not a valid *.ktx file!`);
      return false;
    }
  }
  return true;
}
function convertFormatToInteger(format) {
  switch (format) {
    case _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA:
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER;
    case _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB:
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER;
    case _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG:
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER;
    case _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED:
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER;
    default:
      return format;
  }
}
function parseKvData(dataView, bytesOfKeyValueData, littleEndian) {
  const kvData = /* @__PURE__ */ new Map();
  let bytesIntoKeyValueData = 0;
  while (bytesIntoKeyValueData < bytesOfKeyValueData) {
    const keyAndValueByteSize = dataView.getUint32(FILE_HEADER_SIZE + bytesIntoKeyValueData, littleEndian);
    const keyAndValueByteOffset = FILE_HEADER_SIZE + bytesIntoKeyValueData + 4;
    const valuePadding = 3 - (keyAndValueByteSize + 3) % 4;
    if (keyAndValueByteSize === 0 || keyAndValueByteSize > bytesOfKeyValueData - bytesIntoKeyValueData) {
      console.error("KTXLoader: keyAndValueByteSize out of bounds");
      break;
    }
    let keyNulByte = 0;
    for (; keyNulByte < keyAndValueByteSize; keyNulByte++) {
      if (dataView.getUint8(keyAndValueByteOffset + keyNulByte) === 0) {
        break;
      }
    }
    if (keyNulByte === -1) {
      console.error("KTXLoader: Failed to find null byte terminating kvData key");
      break;
    }
    const key = new TextDecoder().decode(new Uint8Array(dataView.buffer, keyAndValueByteOffset, keyNulByte));
    const value = new DataView(dataView.buffer, keyAndValueByteOffset + keyNulByte + 1, keyAndValueByteSize - keyNulByte - 1);
    kvData.set(key, value);
    bytesIntoKeyValueData += 4 + keyAndValueByteSize + valuePadding;
  }
  return kvData;
}


//# sourceMappingURL=parseKTX.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BlobResource": () => (/* binding */ BlobResource)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class BlobResource extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BufferResource {
  constructor(source, options = { width: 1, height: 1, autoLoad: true }) {
    let origin;
    let data;
    if (typeof source === "string") {
      origin = source;
      data = new Uint8Array();
    } else {
      origin = null;
      data = source;
    }
    super(data, options);
    this.origin = origin;
    this.buffer = data ? new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ViewableBuffer(data) : null;
    if (this.origin && options.autoLoad !== false) {
      this.load();
    }
    if (data?.length) {
      this.loaded = true;
      this.onBlobLoaded(this.buffer.rawBinaryData);
    }
  }
  onBlobLoaded(_data) {
  }
  async load() {
    const response = await fetch(this.origin);
    const blob = await response.blob();
    const arrayBuffer = await blob.arrayBuffer();
    this.data = new Uint32Array(arrayBuffer);
    this.buffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ViewableBuffer(arrayBuffer);
    this.loaded = true;
    this.onBlobLoaded(arrayBuffer);
    this.update();
    return this;
  }
}


//# sourceMappingURL=BlobResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CompressedTextureResource": () => (/* binding */ CompressedTextureResource)
/* harmony export */ });
/* harmony import */ var _BlobResource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BlobResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/compressed-textures/lib/const.mjs");



class CompressedTextureResource extends _BlobResource_mjs__WEBPACK_IMPORTED_MODULE_0__.BlobResource {
  constructor(source, options) {
    super(source, options);
    this.format = options.format;
    this.levels = options.levels || 1;
    this._width = options.width;
    this._height = options.height;
    this._extension = CompressedTextureResource._formatToExtension(this.format);
    if (options.levelBuffers || this.buffer) {
      this._levelBuffers = options.levelBuffers || CompressedTextureResource._createLevelBuffers(source instanceof Uint8Array ? source : this.buffer.uint8View, this.format, this.levels, 4, 4, this.width, this.height);
    }
  }
  upload(renderer, _texture, _glTexture) {
    const gl = renderer.gl;
    const extension = renderer.context.extensions[this._extension];
    if (!extension) {
      throw new Error(`${this._extension} textures are not supported on the current machine`);
    }
    if (!this._levelBuffers) {
      return false;
    }
    for (let i = 0, j = this.levels; i < j; i++) {
      const { levelID, levelWidth, levelHeight, levelBuffer } = this._levelBuffers[i];
      gl.compressedTexImage2D(gl.TEXTURE_2D, levelID, this.format, levelWidth, levelHeight, 0, levelBuffer);
    }
    return true;
  }
  onBlobLoaded() {
    this._levelBuffers = CompressedTextureResource._createLevelBuffers(this.buffer.uint8View, this.format, this.levels, 4, 4, this.width, this.height);
  }
  static _formatToExtension(format) {
    if (format >= 33776 && format <= 33779) {
      return "s3tc";
    } else if (format >= 37488 && format <= 37497) {
      return "etc";
    } else if (format >= 35840 && format <= 35843) {
      return "pvrtc";
    } else if (format >= 36196) {
      return "etc1";
    } else if (format >= 35986 && format <= 34798) {
      return "atc";
    }
    throw new Error("Invalid (compressed) texture format given!");
  }
  static _createLevelBuffers(buffer, format, levels, blockWidth, blockHeight, imageWidth, imageHeight) {
    const buffers = new Array(levels);
    let offset = buffer.byteOffset;
    let levelWidth = imageWidth;
    let levelHeight = imageHeight;
    let alignedLevelWidth = levelWidth + blockWidth - 1 & ~(blockWidth - 1);
    let alignedLevelHeight = levelHeight + blockHeight - 1 & ~(blockHeight - 1);
    let levelSize = alignedLevelWidth * alignedLevelHeight * _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[format];
    for (let i = 0; i < levels; i++) {
      buffers[i] = {
        levelID: i,
        levelWidth: levels > 1 ? levelWidth : alignedLevelWidth,
        levelHeight: levels > 1 ? levelHeight : alignedLevelHeight,
        levelBuffer: new Uint8Array(buffer.buffer, offset, levelSize)
      };
      offset += levelSize;
      levelWidth = levelWidth >> 1 || 1;
      levelHeight = levelHeight >> 1 || 1;
      alignedLevelWidth = levelWidth + blockWidth - 1 & ~(blockWidth - 1);
      alignedLevelHeight = levelHeight + blockHeight - 1 & ~(blockHeight - 1);
      levelSize = alignedLevelWidth * alignedLevelHeight * _const_mjs__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[format];
    }
    return buffers;
  }
}


//# sourceMappingURL=CompressedTextureResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/compressed-textures/lib/resources/index.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/compressed-textures/lib/resources/index.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BlobResource": () => (/* reexport safe */ _BlobResource_mjs__WEBPACK_IMPORTED_MODULE_0__.BlobResource),
/* harmony export */   "CompressedTextureResource": () => (/* reexport safe */ _CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_1__.CompressedTextureResource)
/* harmony export */ });
/* harmony import */ var _BlobResource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BlobResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs");
/* harmony import */ var _CompressedTextureResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CompressedTextureResource.mjs */ "./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/constants/lib/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/constants/lib/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ALPHA_MODES": () => (/* binding */ ALPHA_MODES),
/* harmony export */   "BLEND_MODES": () => (/* binding */ BLEND_MODES),
/* harmony export */   "BUFFER_BITS": () => (/* binding */ BUFFER_BITS),
/* harmony export */   "BUFFER_TYPE": () => (/* binding */ BUFFER_TYPE),
/* harmony export */   "CLEAR_MODES": () => (/* binding */ CLEAR_MODES),
/* harmony export */   "COLOR_MASK_BITS": () => (/* binding */ COLOR_MASK_BITS),
/* harmony export */   "DRAW_MODES": () => (/* binding */ DRAW_MODES),
/* harmony export */   "ENV": () => (/* binding */ ENV),
/* harmony export */   "FORMATS": () => (/* binding */ FORMATS),
/* harmony export */   "GC_MODES": () => (/* binding */ GC_MODES),
/* harmony export */   "MASK_TYPES": () => (/* binding */ MASK_TYPES),
/* harmony export */   "MIPMAP_MODES": () => (/* binding */ MIPMAP_MODES),
/* harmony export */   "MSAA_QUALITY": () => (/* binding */ MSAA_QUALITY),
/* harmony export */   "PRECISION": () => (/* binding */ PRECISION),
/* harmony export */   "RENDERER_TYPE": () => (/* binding */ RENDERER_TYPE),
/* harmony export */   "SAMPLER_TYPES": () => (/* binding */ SAMPLER_TYPES),
/* harmony export */   "SCALE_MODES": () => (/* binding */ SCALE_MODES),
/* harmony export */   "TARGETS": () => (/* binding */ TARGETS),
/* harmony export */   "TYPES": () => (/* binding */ TYPES),
/* harmony export */   "WRAP_MODES": () => (/* binding */ WRAP_MODES)
/* harmony export */ });
var ENV = /* @__PURE__ */ ((ENV2) => {
  ENV2[ENV2["WEBGL_LEGACY"] = 0] = "WEBGL_LEGACY";
  ENV2[ENV2["WEBGL"] = 1] = "WEBGL";
  ENV2[ENV2["WEBGL2"] = 2] = "WEBGL2";
  return ENV2;
})(ENV || {});
var RENDERER_TYPE = /* @__PURE__ */ ((RENDERER_TYPE2) => {
  RENDERER_TYPE2[RENDERER_TYPE2["UNKNOWN"] = 0] = "UNKNOWN";
  RENDERER_TYPE2[RENDERER_TYPE2["WEBGL"] = 1] = "WEBGL";
  RENDERER_TYPE2[RENDERER_TYPE2["CANVAS"] = 2] = "CANVAS";
  return RENDERER_TYPE2;
})(RENDERER_TYPE || {});
var BUFFER_BITS = /* @__PURE__ */ ((BUFFER_BITS2) => {
  BUFFER_BITS2[BUFFER_BITS2["COLOR"] = 16384] = "COLOR";
  BUFFER_BITS2[BUFFER_BITS2["DEPTH"] = 256] = "DEPTH";
  BUFFER_BITS2[BUFFER_BITS2["STENCIL"] = 1024] = "STENCIL";
  return BUFFER_BITS2;
})(BUFFER_BITS || {});
var BLEND_MODES = /* @__PURE__ */ ((BLEND_MODES2) => {
  BLEND_MODES2[BLEND_MODES2["NORMAL"] = 0] = "NORMAL";
  BLEND_MODES2[BLEND_MODES2["ADD"] = 1] = "ADD";
  BLEND_MODES2[BLEND_MODES2["MULTIPLY"] = 2] = "MULTIPLY";
  BLEND_MODES2[BLEND_MODES2["SCREEN"] = 3] = "SCREEN";
  BLEND_MODES2[BLEND_MODES2["OVERLAY"] = 4] = "OVERLAY";
  BLEND_MODES2[BLEND_MODES2["DARKEN"] = 5] = "DARKEN";
  BLEND_MODES2[BLEND_MODES2["LIGHTEN"] = 6] = "LIGHTEN";
  BLEND_MODES2[BLEND_MODES2["COLOR_DODGE"] = 7] = "COLOR_DODGE";
  BLEND_MODES2[BLEND_MODES2["COLOR_BURN"] = 8] = "COLOR_BURN";
  BLEND_MODES2[BLEND_MODES2["HARD_LIGHT"] = 9] = "HARD_LIGHT";
  BLEND_MODES2[BLEND_MODES2["SOFT_LIGHT"] = 10] = "SOFT_LIGHT";
  BLEND_MODES2[BLEND_MODES2["DIFFERENCE"] = 11] = "DIFFERENCE";
  BLEND_MODES2[BLEND_MODES2["EXCLUSION"] = 12] = "EXCLUSION";
  BLEND_MODES2[BLEND_MODES2["HUE"] = 13] = "HUE";
  BLEND_MODES2[BLEND_MODES2["SATURATION"] = 14] = "SATURATION";
  BLEND_MODES2[BLEND_MODES2["COLOR"] = 15] = "COLOR";
  BLEND_MODES2[BLEND_MODES2["LUMINOSITY"] = 16] = "LUMINOSITY";
  BLEND_MODES2[BLEND_MODES2["NORMAL_NPM"] = 17] = "NORMAL_NPM";
  BLEND_MODES2[BLEND_MODES2["ADD_NPM"] = 18] = "ADD_NPM";
  BLEND_MODES2[BLEND_MODES2["SCREEN_NPM"] = 19] = "SCREEN_NPM";
  BLEND_MODES2[BLEND_MODES2["NONE"] = 20] = "NONE";
  BLEND_MODES2[BLEND_MODES2["SRC_OVER"] = 0] = "SRC_OVER";
  BLEND_MODES2[BLEND_MODES2["SRC_IN"] = 21] = "SRC_IN";
  BLEND_MODES2[BLEND_MODES2["SRC_OUT"] = 22] = "SRC_OUT";
  BLEND_MODES2[BLEND_MODES2["SRC_ATOP"] = 23] = "SRC_ATOP";
  BLEND_MODES2[BLEND_MODES2["DST_OVER"] = 24] = "DST_OVER";
  BLEND_MODES2[BLEND_MODES2["DST_IN"] = 25] = "DST_IN";
  BLEND_MODES2[BLEND_MODES2["DST_OUT"] = 26] = "DST_OUT";
  BLEND_MODES2[BLEND_MODES2["DST_ATOP"] = 27] = "DST_ATOP";
  BLEND_MODES2[BLEND_MODES2["ERASE"] = 26] = "ERASE";
  BLEND_MODES2[BLEND_MODES2["SUBTRACT"] = 28] = "SUBTRACT";
  BLEND_MODES2[BLEND_MODES2["XOR"] = 29] = "XOR";
  return BLEND_MODES2;
})(BLEND_MODES || {});
var DRAW_MODES = /* @__PURE__ */ ((DRAW_MODES2) => {
  DRAW_MODES2[DRAW_MODES2["POINTS"] = 0] = "POINTS";
  DRAW_MODES2[DRAW_MODES2["LINES"] = 1] = "LINES";
  DRAW_MODES2[DRAW_MODES2["LINE_LOOP"] = 2] = "LINE_LOOP";
  DRAW_MODES2[DRAW_MODES2["LINE_STRIP"] = 3] = "LINE_STRIP";
  DRAW_MODES2[DRAW_MODES2["TRIANGLES"] = 4] = "TRIANGLES";
  DRAW_MODES2[DRAW_MODES2["TRIANGLE_STRIP"] = 5] = "TRIANGLE_STRIP";
  DRAW_MODES2[DRAW_MODES2["TRIANGLE_FAN"] = 6] = "TRIANGLE_FAN";
  return DRAW_MODES2;
})(DRAW_MODES || {});
var FORMATS = /* @__PURE__ */ ((FORMATS2) => {
  FORMATS2[FORMATS2["RGBA"] = 6408] = "RGBA";
  FORMATS2[FORMATS2["RGB"] = 6407] = "RGB";
  FORMATS2[FORMATS2["RG"] = 33319] = "RG";
  FORMATS2[FORMATS2["RED"] = 6403] = "RED";
  FORMATS2[FORMATS2["RGBA_INTEGER"] = 36249] = "RGBA_INTEGER";
  FORMATS2[FORMATS2["RGB_INTEGER"] = 36248] = "RGB_INTEGER";
  FORMATS2[FORMATS2["RG_INTEGER"] = 33320] = "RG_INTEGER";
  FORMATS2[FORMATS2["RED_INTEGER"] = 36244] = "RED_INTEGER";
  FORMATS2[FORMATS2["ALPHA"] = 6406] = "ALPHA";
  FORMATS2[FORMATS2["LUMINANCE"] = 6409] = "LUMINANCE";
  FORMATS2[FORMATS2["LUMINANCE_ALPHA"] = 6410] = "LUMINANCE_ALPHA";
  FORMATS2[FORMATS2["DEPTH_COMPONENT"] = 6402] = "DEPTH_COMPONENT";
  FORMATS2[FORMATS2["DEPTH_STENCIL"] = 34041] = "DEPTH_STENCIL";
  return FORMATS2;
})(FORMATS || {});
var TARGETS = /* @__PURE__ */ ((TARGETS2) => {
  TARGETS2[TARGETS2["TEXTURE_2D"] = 3553] = "TEXTURE_2D";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP"] = 34067] = "TEXTURE_CUBE_MAP";
  TARGETS2[TARGETS2["TEXTURE_2D_ARRAY"] = 35866] = "TEXTURE_2D_ARRAY";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_POSITIVE_X"] = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_NEGATIVE_X"] = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_POSITIVE_Y"] = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_NEGATIVE_Y"] = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_POSITIVE_Z"] = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_NEGATIVE_Z"] = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z";
  return TARGETS2;
})(TARGETS || {});
var TYPES = /* @__PURE__ */ ((TYPES2) => {
  TYPES2[TYPES2["UNSIGNED_BYTE"] = 5121] = "UNSIGNED_BYTE";
  TYPES2[TYPES2["UNSIGNED_SHORT"] = 5123] = "UNSIGNED_SHORT";
  TYPES2[TYPES2["UNSIGNED_SHORT_5_6_5"] = 33635] = "UNSIGNED_SHORT_5_6_5";
  TYPES2[TYPES2["UNSIGNED_SHORT_4_4_4_4"] = 32819] = "UNSIGNED_SHORT_4_4_4_4";
  TYPES2[TYPES2["UNSIGNED_SHORT_5_5_5_1"] = 32820] = "UNSIGNED_SHORT_5_5_5_1";
  TYPES2[TYPES2["UNSIGNED_INT"] = 5125] = "UNSIGNED_INT";
  TYPES2[TYPES2["UNSIGNED_INT_10F_11F_11F_REV"] = 35899] = "UNSIGNED_INT_10F_11F_11F_REV";
  TYPES2[TYPES2["UNSIGNED_INT_2_10_10_10_REV"] = 33640] = "UNSIGNED_INT_2_10_10_10_REV";
  TYPES2[TYPES2["UNSIGNED_INT_24_8"] = 34042] = "UNSIGNED_INT_24_8";
  TYPES2[TYPES2["UNSIGNED_INT_5_9_9_9_REV"] = 35902] = "UNSIGNED_INT_5_9_9_9_REV";
  TYPES2[TYPES2["BYTE"] = 5120] = "BYTE";
  TYPES2[TYPES2["SHORT"] = 5122] = "SHORT";
  TYPES2[TYPES2["INT"] = 5124] = "INT";
  TYPES2[TYPES2["FLOAT"] = 5126] = "FLOAT";
  TYPES2[TYPES2["FLOAT_32_UNSIGNED_INT_24_8_REV"] = 36269] = "FLOAT_32_UNSIGNED_INT_24_8_REV";
  TYPES2[TYPES2["HALF_FLOAT"] = 36193] = "HALF_FLOAT";
  return TYPES2;
})(TYPES || {});
var SAMPLER_TYPES = /* @__PURE__ */ ((SAMPLER_TYPES2) => {
  SAMPLER_TYPES2[SAMPLER_TYPES2["FLOAT"] = 0] = "FLOAT";
  SAMPLER_TYPES2[SAMPLER_TYPES2["INT"] = 1] = "INT";
  SAMPLER_TYPES2[SAMPLER_TYPES2["UINT"] = 2] = "UINT";
  return SAMPLER_TYPES2;
})(SAMPLER_TYPES || {});
var SCALE_MODES = /* @__PURE__ */ ((SCALE_MODES2) => {
  SCALE_MODES2[SCALE_MODES2["NEAREST"] = 0] = "NEAREST";
  SCALE_MODES2[SCALE_MODES2["LINEAR"] = 1] = "LINEAR";
  return SCALE_MODES2;
})(SCALE_MODES || {});
var WRAP_MODES = /* @__PURE__ */ ((WRAP_MODES2) => {
  WRAP_MODES2[WRAP_MODES2["CLAMP"] = 33071] = "CLAMP";
  WRAP_MODES2[WRAP_MODES2["REPEAT"] = 10497] = "REPEAT";
  WRAP_MODES2[WRAP_MODES2["MIRRORED_REPEAT"] = 33648] = "MIRRORED_REPEAT";
  return WRAP_MODES2;
})(WRAP_MODES || {});
var MIPMAP_MODES = /* @__PURE__ */ ((MIPMAP_MODES2) => {
  MIPMAP_MODES2[MIPMAP_MODES2["OFF"] = 0] = "OFF";
  MIPMAP_MODES2[MIPMAP_MODES2["POW2"] = 1] = "POW2";
  MIPMAP_MODES2[MIPMAP_MODES2["ON"] = 2] = "ON";
  MIPMAP_MODES2[MIPMAP_MODES2["ON_MANUAL"] = 3] = "ON_MANUAL";
  return MIPMAP_MODES2;
})(MIPMAP_MODES || {});
var ALPHA_MODES = /* @__PURE__ */ ((ALPHA_MODES2) => {
  ALPHA_MODES2[ALPHA_MODES2["NPM"] = 0] = "NPM";
  ALPHA_MODES2[ALPHA_MODES2["UNPACK"] = 1] = "UNPACK";
  ALPHA_MODES2[ALPHA_MODES2["PMA"] = 2] = "PMA";
  ALPHA_MODES2[ALPHA_MODES2["NO_PREMULTIPLIED_ALPHA"] = 0] = "NO_PREMULTIPLIED_ALPHA";
  ALPHA_MODES2[ALPHA_MODES2["PREMULTIPLY_ON_UPLOAD"] = 1] = "PREMULTIPLY_ON_UPLOAD";
  ALPHA_MODES2[ALPHA_MODES2["PREMULTIPLIED_ALPHA"] = 2] = "PREMULTIPLIED_ALPHA";
  return ALPHA_MODES2;
})(ALPHA_MODES || {});
var CLEAR_MODES = /* @__PURE__ */ ((CLEAR_MODES2) => {
  CLEAR_MODES2[CLEAR_MODES2["NO"] = 0] = "NO";
  CLEAR_MODES2[CLEAR_MODES2["YES"] = 1] = "YES";
  CLEAR_MODES2[CLEAR_MODES2["AUTO"] = 2] = "AUTO";
  CLEAR_MODES2[CLEAR_MODES2["BLEND"] = 0] = "BLEND";
  CLEAR_MODES2[CLEAR_MODES2["CLEAR"] = 1] = "CLEAR";
  CLEAR_MODES2[CLEAR_MODES2["BLIT"] = 2] = "BLIT";
  return CLEAR_MODES2;
})(CLEAR_MODES || {});
var GC_MODES = /* @__PURE__ */ ((GC_MODES2) => {
  GC_MODES2[GC_MODES2["AUTO"] = 0] = "AUTO";
  GC_MODES2[GC_MODES2["MANUAL"] = 1] = "MANUAL";
  return GC_MODES2;
})(GC_MODES || {});
var PRECISION = /* @__PURE__ */ ((PRECISION2) => {
  PRECISION2["LOW"] = "lowp";
  PRECISION2["MEDIUM"] = "mediump";
  PRECISION2["HIGH"] = "highp";
  return PRECISION2;
})(PRECISION || {});
var MASK_TYPES = /* @__PURE__ */ ((MASK_TYPES2) => {
  MASK_TYPES2[MASK_TYPES2["NONE"] = 0] = "NONE";
  MASK_TYPES2[MASK_TYPES2["SCISSOR"] = 1] = "SCISSOR";
  MASK_TYPES2[MASK_TYPES2["STENCIL"] = 2] = "STENCIL";
  MASK_TYPES2[MASK_TYPES2["SPRITE"] = 3] = "SPRITE";
  MASK_TYPES2[MASK_TYPES2["COLOR"] = 4] = "COLOR";
  return MASK_TYPES2;
})(MASK_TYPES || {});
var COLOR_MASK_BITS = /* @__PURE__ */ ((COLOR_MASK_BITS2) => {
  COLOR_MASK_BITS2[COLOR_MASK_BITS2["RED"] = 1] = "RED";
  COLOR_MASK_BITS2[COLOR_MASK_BITS2["GREEN"] = 2] = "GREEN";
  COLOR_MASK_BITS2[COLOR_MASK_BITS2["BLUE"] = 4] = "BLUE";
  COLOR_MASK_BITS2[COLOR_MASK_BITS2["ALPHA"] = 8] = "ALPHA";
  return COLOR_MASK_BITS2;
})(COLOR_MASK_BITS || {});
var MSAA_QUALITY = /* @__PURE__ */ ((MSAA_QUALITY2) => {
  MSAA_QUALITY2[MSAA_QUALITY2["NONE"] = 0] = "NONE";
  MSAA_QUALITY2[MSAA_QUALITY2["LOW"] = 2] = "LOW";
  MSAA_QUALITY2[MSAA_QUALITY2["MEDIUM"] = 4] = "MEDIUM";
  MSAA_QUALITY2[MSAA_QUALITY2["HIGH"] = 8] = "HIGH";
  return MSAA_QUALITY2;
})(MSAA_QUALITY || {});
var BUFFER_TYPE = /* @__PURE__ */ ((BUFFER_TYPE2) => {
  BUFFER_TYPE2[BUFFER_TYPE2["ELEMENT_ARRAY_BUFFER"] = 34963] = "ELEMENT_ARRAY_BUFFER";
  BUFFER_TYPE2[BUFFER_TYPE2["ARRAY_BUFFER"] = 34962] = "ARRAY_BUFFER";
  BUFFER_TYPE2[BUFFER_TYPE2["UNIFORM_BUFFER"] = 35345] = "UNIFORM_BUFFER";
  return BUFFER_TYPE2;
})(BUFFER_TYPE || {});


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/IRenderer.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/core/lib/IRenderer.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=IRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/Renderer.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/core/lib/Renderer.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Renderer": () => (/* binding */ Renderer)
/* harmony export */ });
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shader/UniformGroup.mjs */ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./system/SystemManager.mjs */ "./node_modules/@pixi/core/lib/system/SystemManager.mjs");







const _Renderer = class extends _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_5__.SystemManager {
  constructor(options) {
    super();
    options = Object.assign({}, _pixi_settings__WEBPACK_IMPORTED_MODULE_4__.settings.RENDER_OPTIONS, options);
    this.gl = null;
    this.CONTEXT_UID = 0;
    this.globalUniforms = new _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_1__.UniformGroup({
      projectionMatrix: new _pixi_math__WEBPACK_IMPORTED_MODULE_2__.Matrix()
    }, true);
    const systemConfig = {
      runners: [
        "init",
        "destroy",
        "contextChange",
        "resolutionChange",
        "reset",
        "update",
        "postrender",
        "prerender",
        "resize"
      ],
      systems: _Renderer.__systems,
      priority: [
        "_view",
        "textureGenerator",
        "background",
        "_plugin",
        "startup",
        "context",
        "state",
        "texture",
        "buffer",
        "geometry",
        "framebuffer",
        "transformFeedback",
        "mask",
        "scissor",
        "stencil",
        "projection",
        "textureGC",
        "filter",
        "renderTexture",
        "batch",
        "objectRenderer",
        "_multisample"
      ]
    };
    this.setup(systemConfig);
    if ("useContextAlpha" in options) {
      (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead");
      options.premultipliedAlpha = options.useContextAlpha && options.useContextAlpha !== "notMultiplied";
      options.backgroundAlpha = options.useContextAlpha === false ? 1 : options.backgroundAlpha;
    }
    const startupOptions = {
      hello: options.hello,
      _plugin: _Renderer.__plugins,
      background: {
        alpha: options.backgroundAlpha,
        color: options.background ?? options.backgroundColor,
        clearBeforeRender: options.clearBeforeRender
      },
      _view: {
        height: options.height,
        width: options.width,
        autoDensity: options.autoDensity,
        resolution: options.resolution,
        view: options.view
      },
      context: {
        antialias: options.antialias,
        context: options.context,
        powerPreference: options.powerPreference,
        premultipliedAlpha: options.premultipliedAlpha,
        preserveDrawingBuffer: options.preserveDrawingBuffer
      }
    };
    this.startup.run(startupOptions);
  }
  static test(options) {
    if (options?.forceCanvas) {
      return false;
    }
    return (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.isWebGLSupported)();
  }
  render(displayObject, options) {
    this.objectRenderer.render(displayObject, options);
  }
  resize(desiredScreenWidth, desiredScreenHeight) {
    this._view.resizeView(desiredScreenWidth, desiredScreenHeight);
  }
  reset() {
    this.runners.reset.emit();
    return this;
  }
  clear() {
    this.renderTexture.bind();
    this.renderTexture.clear();
  }
  destroy(removeView = false) {
    this.runners.destroy.items.reverse();
    this.emitWithCustomOptions(this.runners.destroy, {
      _view: removeView
    });
    super.destroy();
  }
  get plugins() {
    return this._plugin.plugins;
  }
  get multisample() {
    return this._multisample.multisample;
  }
  get width() {
    return this._view.element.width;
  }
  get height() {
    return this._view.element.height;
  }
  get resolution() {
    return this._view.resolution;
  }
  set resolution(value) {
    this._view.resolution = value;
    this.runners.resolutionChange.emit(value);
  }
  get autoDensity() {
    return this._view.autoDensity;
  }
  get view() {
    return this._view.element;
  }
  get screen() {
    return this._view.screen;
  }
  get lastObjectRendered() {
    return this.objectRenderer.lastObjectRendered;
  }
  get renderingToScreen() {
    return this.objectRenderer.renderingToScreen;
  }
  get rendererLogId() {
    return `WebGL ${this.context.webGLVersion}`;
  }
  get clearBeforeRender() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead.");
    return this.background.clearBeforeRender;
  }
  get useContextAlpha() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead.");
    return this.context.useContextAlpha;
  }
  get preserveDrawingBuffer() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context");
    return this.context.preserveDrawingBuffer;
  }
  get backgroundColor() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.backgroundColor has been deprecated, use renderer.background.color instead.");
    return this.background.color;
  }
  set backgroundColor(value) {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.backgroundColor has been deprecated, use renderer.background.color instead.");
    this.background.color = value;
  }
  get backgroundAlpha() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead.");
    return this.background.color;
  }
  set backgroundAlpha(value) {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead.");
    this.background.alpha = value;
  }
  get powerPreference() {
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.powerPreference has been deprecated, we can only know this if pixi creates the context");
    return this.context.powerPreference;
  }
  generateTexture(displayObject, options) {
    return this.textureGenerator.generateTexture(displayObject, options);
  }
};
let Renderer = _Renderer;
Renderer.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.ExtensionType.Renderer,
  priority: 1
};
Renderer.__plugins = {};
Renderer.__systems = {};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.extensions.handleByMap(_pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.ExtensionType.RendererPlugin, Renderer.__plugins);
_pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.extensions.handleByMap(_pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.ExtensionType.RendererSystem, Renderer.__systems);
_pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.extensions.add(Renderer);


//# sourceMappingURL=Renderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/autoDetectRenderer.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/autoDetectRenderer.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "autoDetectRenderer": () => (/* binding */ autoDetectRenderer)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");


const renderers = [];
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.handleByList(_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Renderer, renderers);
function autoDetectRenderer(options) {
  for (const RendererType of renderers) {
    if (RendererType.test(options)) {
      return new RendererType(options);
    }
  }
  throw new Error("Unable to auto-detect a suitable renderer.");
}


//# sourceMappingURL=autoDetectRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/background/BackgroundSystem.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/background/BackgroundSystem.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BackgroundSystem": () => (/* binding */ BackgroundSystem)
/* harmony export */ });
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");



class BackgroundSystem {
  constructor() {
    this.clearBeforeRender = true;
    this._backgroundColor = 0;
    this._backgroundColorRgba = [0, 0, 0, 1];
    this._backgroundColorString = "#000000";
    this.color = this._backgroundColor;
    this.alpha = 1;
  }
  init(options) {
    this.clearBeforeRender = options.clearBeforeRender;
    if (options.color) {
      this.color = typeof options.color === "string" ? (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.string2hex)(options.color) : options.color;
    }
    this.alpha = options.alpha;
  }
  get color() {
    return this._backgroundColor;
  }
  set color(value) {
    this._backgroundColor = value;
    this._backgroundColorString = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.hex2string)(value);
    (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.hex2rgb)(value, this._backgroundColorRgba);
  }
  get alpha() {
    return this._backgroundColorRgba[3];
  }
  set alpha(value) {
    this._backgroundColorRgba[3] = value;
  }
  get colorRgba() {
    return this._backgroundColorRgba;
  }
  get colorString() {
    return this._backgroundColorString;
  }
  destroy() {
  }
}
BackgroundSystem.extension = {
  type: [
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.CanvasRendererSystem
  ],
  name: "background"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(BackgroundSystem);


//# sourceMappingURL=BackgroundSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchDrawCall.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchDrawCall.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BatchDrawCall": () => (/* binding */ BatchDrawCall)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


class BatchDrawCall {
  constructor() {
    this.texArray = null;
    this.blend = 0;
    this.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLES;
    this.start = 0;
    this.size = 0;
    this.data = null;
  }
}


//# sourceMappingURL=BatchDrawCall.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchGeometry.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchGeometry.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BatchGeometry": () => (/* binding */ BatchGeometry)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/Geometry.mjs */ "./node_modules/@pixi/core/lib/geometry/Geometry.mjs");
/* harmony import */ var _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../geometry/Buffer.mjs */ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs");




class BatchGeometry extends _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_1__.Geometry {
  constructor(_static = false) {
    super();
    this._buffer = new _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_2__.Buffer(null, _static, false);
    this._indexBuffer = new _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_2__.Buffer(null, _static, true);
    this.addAttribute("aVertexPosition", this._buffer, 2, false, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT).addAttribute("aTextureCoord", this._buffer, 2, false, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT).addAttribute("aColor", this._buffer, 4, true, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId", this._buffer, 1, true, _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT).addIndex(this._indexBuffer);
  }
}


//# sourceMappingURL=BatchGeometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchRenderer.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchRenderer.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BatchRenderer": () => (/* binding */ BatchRenderer)
/* harmony export */ });
/* harmony import */ var _BatchDrawCall_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BatchDrawCall.mjs */ "./node_modules/@pixi/core/lib/batch/BatchDrawCall.mjs");
/* harmony import */ var _BatchTextureArray_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BatchTextureArray.mjs */ "./node_modules/@pixi/core/lib/batch/BatchTextureArray.mjs");
/* harmony import */ var _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../textures/BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ObjectRenderer.mjs */ "./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs");
/* harmony import */ var _state_State_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../state/State.mjs */ "./node_modules/@pixi/core/lib/state/State.mjs");
/* harmony import */ var _geometry_ViewableBuffer_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../geometry/ViewableBuffer.mjs */ "./node_modules/@pixi/core/lib/geometry/ViewableBuffer.mjs");
/* harmony import */ var _BatchShaderGenerator_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BatchShaderGenerator.mjs */ "./node_modules/@pixi/core/lib/batch/BatchShaderGenerator.mjs");
/* harmony import */ var _shader_utils_checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shader/utils/checkMaxIfStatementsInShader.mjs */ "./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _BatchGeometry_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BatchGeometry.mjs */ "./node_modules/@pixi/core/lib/batch/BatchGeometry.mjs");
/* harmony import */ var _texture_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./texture.mjs */ "./node_modules/@pixi/core/lib/batch/texture.mjs");
/* harmony import */ var _texture2_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./texture2.mjs */ "./node_modules/@pixi/core/lib/batch/texture2.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
















const _BatchRenderer = class extends _ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_3__.ObjectRenderer {
  constructor(renderer) {
    super(renderer);
    this.setShaderGenerator();
    this.geometryClass = _BatchGeometry_mjs__WEBPACK_IMPORTED_MODULE_11__.BatchGeometry;
    this.vertexSize = 6;
    this.state = _state_State_mjs__WEBPACK_IMPORTED_MODULE_4__.State.for2d();
    this.size = _pixi_settings__WEBPACK_IMPORTED_MODULE_8__.settings.SPRITE_BATCH_SIZE * 4;
    this._vertexCount = 0;
    this._indexCount = 0;
    this._bufferedElements = [];
    this._bufferedTextures = [];
    this._bufferSize = 0;
    this._shader = null;
    this._packedGeometries = [];
    this._packedGeometryPoolSize = 2;
    this._flushId = 0;
    this._aBuffers = {};
    this._iBuffers = {};
    this.MAX_TEXTURES = 1;
    this.renderer.on("prerender", this.onPrerender, this);
    renderer.runners.contextChange.add(this);
    this._dcIndex = 0;
    this._aIndex = 0;
    this._iIndex = 0;
    this._attributeBuffer = null;
    this._indexBuffer = null;
    this._tempBoundTextures = [];
  }
  static get defaultVertexSrc() {
    return _texture_mjs__WEBPACK_IMPORTED_MODULE_12__["default"];
  }
  static get defaultFragmentTemplate() {
    return _texture2_mjs__WEBPACK_IMPORTED_MODULE_13__["default"];
  }
  setShaderGenerator({
    vertex = _BatchRenderer.defaultVertexSrc,
    fragment = _BatchRenderer.defaultFragmentTemplate
  } = {}) {
    this.shaderGenerator = new _BatchShaderGenerator_mjs__WEBPACK_IMPORTED_MODULE_6__.BatchShaderGenerator(vertex, fragment);
  }
  contextChange() {
    const gl = this.renderer.gl;
    if (_pixi_settings__WEBPACK_IMPORTED_MODULE_8__.settings.PREFER_ENV === _pixi_constants__WEBPACK_IMPORTED_MODULE_10__.ENV.WEBGL_LEGACY) {
      this.MAX_TEXTURES = 1;
    } else {
      this.MAX_TEXTURES = Math.min(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS), _pixi_settings__WEBPACK_IMPORTED_MODULE_8__.settings.SPRITE_MAX_TEXTURES);
      this.MAX_TEXTURES = (0,_shader_utils_checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_7__.checkMaxIfStatementsInShader)(this.MAX_TEXTURES, gl);
    }
    this._shader = this.shaderGenerator.generateShader(this.MAX_TEXTURES);
    for (let i = 0; i < this._packedGeometryPoolSize; i++) {
      this._packedGeometries[i] = new this.geometryClass();
    }
    this.initFlushBuffers();
  }
  initFlushBuffers() {
    const {
      _drawCallPool,
      _textureArrayPool
    } = _BatchRenderer;
    const MAX_SPRITES = this.size / 4;
    const MAX_TA = Math.floor(MAX_SPRITES / this.MAX_TEXTURES) + 1;
    while (_drawCallPool.length < MAX_SPRITES) {
      _drawCallPool.push(new _BatchDrawCall_mjs__WEBPACK_IMPORTED_MODULE_0__.BatchDrawCall());
    }
    while (_textureArrayPool.length < MAX_TA) {
      _textureArrayPool.push(new _BatchTextureArray_mjs__WEBPACK_IMPORTED_MODULE_1__.BatchTextureArray());
    }
    for (let i = 0; i < this.MAX_TEXTURES; i++) {
      this._tempBoundTextures[i] = null;
    }
  }
  onPrerender() {
    this._flushId = 0;
  }
  render(element) {
    if (!element._texture.valid) {
      return;
    }
    if (this._vertexCount + element.vertexData.length / 2 > this.size) {
      this.flush();
    }
    this._vertexCount += element.vertexData.length / 2;
    this._indexCount += element.indices.length;
    this._bufferedTextures[this._bufferSize] = element._texture.baseTexture;
    this._bufferedElements[this._bufferSize++] = element;
  }
  buildTexturesAndDrawCalls() {
    const {
      _bufferedTextures: textures,
      MAX_TEXTURES
    } = this;
    const textureArrays = _BatchRenderer._textureArrayPool;
    const batch = this.renderer.batch;
    const boundTextures = this._tempBoundTextures;
    const touch = this.renderer.textureGC.count;
    let TICK = ++_textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseTexture._globalBatch;
    let countTexArrays = 0;
    let texArray = textureArrays[0];
    let start = 0;
    batch.copyBoundTextures(boundTextures, MAX_TEXTURES);
    for (let i = 0; i < this._bufferSize; ++i) {
      const tex = textures[i];
      textures[i] = null;
      if (tex._batchEnabled === TICK) {
        continue;
      }
      if (texArray.count >= MAX_TEXTURES) {
        batch.boundArray(texArray, boundTextures, TICK, MAX_TEXTURES);
        this.buildDrawCalls(texArray, start, i);
        start = i;
        texArray = textureArrays[++countTexArrays];
        ++TICK;
      }
      tex._batchEnabled = TICK;
      tex.touched = touch;
      texArray.elements[texArray.count++] = tex;
    }
    if (texArray.count > 0) {
      batch.boundArray(texArray, boundTextures, TICK, MAX_TEXTURES);
      this.buildDrawCalls(texArray, start, this._bufferSize);
      ++countTexArrays;
      ++TICK;
    }
    for (let i = 0; i < boundTextures.length; i++) {
      boundTextures[i] = null;
    }
    _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseTexture._globalBatch = TICK;
  }
  buildDrawCalls(texArray, start, finish) {
    const {
      _bufferedElements: elements,
      _attributeBuffer,
      _indexBuffer,
      vertexSize
    } = this;
    const drawCalls = _BatchRenderer._drawCallPool;
    let dcIndex = this._dcIndex;
    let aIndex = this._aIndex;
    let iIndex = this._iIndex;
    let drawCall = drawCalls[dcIndex];
    drawCall.start = this._iIndex;
    drawCall.texArray = texArray;
    for (let i = start; i < finish; ++i) {
      const sprite = elements[i];
      const tex = sprite._texture.baseTexture;
      const spriteBlendMode = _pixi_utils__WEBPACK_IMPORTED_MODULE_9__.premultiplyBlendMode[tex.alphaMode ? 1 : 0][sprite.blendMode];
      elements[i] = null;
      if (start < i && drawCall.blend !== spriteBlendMode) {
        drawCall.size = iIndex - drawCall.start;
        start = i;
        drawCall = drawCalls[++dcIndex];
        drawCall.texArray = texArray;
        drawCall.start = iIndex;
      }
      this.packInterleavedGeometry(sprite, _attributeBuffer, _indexBuffer, aIndex, iIndex);
      aIndex += sprite.vertexData.length / 2 * vertexSize;
      iIndex += sprite.indices.length;
      drawCall.blend = spriteBlendMode;
    }
    if (start < finish) {
      drawCall.size = iIndex - drawCall.start;
      ++dcIndex;
    }
    this._dcIndex = dcIndex;
    this._aIndex = aIndex;
    this._iIndex = iIndex;
  }
  bindAndClearTexArray(texArray) {
    const textureSystem = this.renderer.texture;
    for (let j = 0; j < texArray.count; j++) {
      textureSystem.bind(texArray.elements[j], texArray.ids[j]);
      texArray.elements[j] = null;
    }
    texArray.count = 0;
  }
  updateGeometry() {
    const {
      _packedGeometries: packedGeometries,
      _attributeBuffer: attributeBuffer,
      _indexBuffer: indexBuffer
    } = this;
    if (!_pixi_settings__WEBPACK_IMPORTED_MODULE_8__.settings.CAN_UPLOAD_SAME_BUFFER) {
      if (this._packedGeometryPoolSize <= this._flushId) {
        this._packedGeometryPoolSize++;
        packedGeometries[this._flushId] = new this.geometryClass();
      }
      packedGeometries[this._flushId]._buffer.update(attributeBuffer.rawBinaryData);
      packedGeometries[this._flushId]._indexBuffer.update(indexBuffer);
      this.renderer.geometry.bind(packedGeometries[this._flushId]);
      this.renderer.geometry.updateBuffers();
      this._flushId++;
    } else {
      packedGeometries[this._flushId]._buffer.update(attributeBuffer.rawBinaryData);
      packedGeometries[this._flushId]._indexBuffer.update(indexBuffer);
      this.renderer.geometry.updateBuffers();
    }
  }
  drawBatches() {
    const dcCount = this._dcIndex;
    const { gl, state: stateSystem } = this.renderer;
    const drawCalls = _BatchRenderer._drawCallPool;
    let curTexArray = null;
    for (let i = 0; i < dcCount; i++) {
      const { texArray, type, size, start, blend } = drawCalls[i];
      if (curTexArray !== texArray) {
        curTexArray = texArray;
        this.bindAndClearTexArray(texArray);
      }
      this.state.blendMode = blend;
      stateSystem.set(this.state);
      gl.drawElements(type, size, gl.UNSIGNED_SHORT, start * 2);
    }
  }
  flush() {
    if (this._vertexCount === 0) {
      return;
    }
    this._attributeBuffer = this.getAttributeBuffer(this._vertexCount);
    this._indexBuffer = this.getIndexBuffer(this._indexCount);
    this._aIndex = 0;
    this._iIndex = 0;
    this._dcIndex = 0;
    this.buildTexturesAndDrawCalls();
    this.updateGeometry();
    this.drawBatches();
    this._bufferSize = 0;
    this._vertexCount = 0;
    this._indexCount = 0;
  }
  start() {
    this.renderer.state.set(this.state);
    this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES);
    this.renderer.shader.bind(this._shader);
    if (_pixi_settings__WEBPACK_IMPORTED_MODULE_8__.settings.CAN_UPLOAD_SAME_BUFFER) {
      this.renderer.geometry.bind(this._packedGeometries[this._flushId]);
    }
  }
  stop() {
    this.flush();
  }
  destroy() {
    for (let i = 0; i < this._packedGeometryPoolSize; i++) {
      if (this._packedGeometries[i]) {
        this._packedGeometries[i].destroy();
      }
    }
    this.renderer.off("prerender", this.onPrerender, this);
    this._aBuffers = null;
    this._iBuffers = null;
    this._packedGeometries = null;
    this._attributeBuffer = null;
    this._indexBuffer = null;
    if (this._shader) {
      this._shader.destroy();
      this._shader = null;
    }
    super.destroy();
  }
  getAttributeBuffer(size) {
    const roundedP2 = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_9__.nextPow2)(Math.ceil(size / 8));
    const roundedSizeIndex = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_9__.log2)(roundedP2);
    const roundedSize = roundedP2 * 8;
    if (this._aBuffers.length <= roundedSizeIndex) {
      this._iBuffers.length = roundedSizeIndex + 1;
    }
    let buffer = this._aBuffers[roundedSize];
    if (!buffer) {
      this._aBuffers[roundedSize] = buffer = new _geometry_ViewableBuffer_mjs__WEBPACK_IMPORTED_MODULE_5__.ViewableBuffer(roundedSize * this.vertexSize * 4);
    }
    return buffer;
  }
  getIndexBuffer(size) {
    const roundedP2 = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_9__.nextPow2)(Math.ceil(size / 12));
    const roundedSizeIndex = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_9__.log2)(roundedP2);
    const roundedSize = roundedP2 * 12;
    if (this._iBuffers.length <= roundedSizeIndex) {
      this._iBuffers.length = roundedSizeIndex + 1;
    }
    let buffer = this._iBuffers[roundedSizeIndex];
    if (!buffer) {
      this._iBuffers[roundedSizeIndex] = buffer = new Uint16Array(roundedSize);
    }
    return buffer;
  }
  packInterleavedGeometry(element, attributeBuffer, indexBuffer, aIndex, iIndex) {
    const {
      uint32View,
      float32View
    } = attributeBuffer;
    const packedVertices = aIndex / this.vertexSize;
    const uvs = element.uvs;
    const indicies = element.indices;
    const vertexData = element.vertexData;
    const textureId = element._texture.baseTexture._batchLocation;
    const alpha = Math.min(element.worldAlpha, 1);
    const argb = alpha < 1 && element._texture.baseTexture.alphaMode ? (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_9__.premultiplyTint)(element._tintRGB, alpha) : element._tintRGB + (alpha * 255 << 24);
    for (let i = 0; i < vertexData.length; i += 2) {
      float32View[aIndex++] = vertexData[i];
      float32View[aIndex++] = vertexData[i + 1];
      float32View[aIndex++] = uvs[i];
      float32View[aIndex++] = uvs[i + 1];
      uint32View[aIndex++] = argb;
      float32View[aIndex++] = textureId;
    }
    for (let i = 0; i < indicies.length; i++) {
      indexBuffer[iIndex++] = packedVertices + indicies[i];
    }
  }
};
let BatchRenderer = _BatchRenderer;
BatchRenderer.extension = {
  name: "batch",
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_14__.ExtensionType.RendererPlugin
};
BatchRenderer._drawCallPool = [];
BatchRenderer._textureArrayPool = [];
_pixi_extensions__WEBPACK_IMPORTED_MODULE_14__.extensions.add(BatchRenderer);


//# sourceMappingURL=BatchRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchShaderGenerator.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchShaderGenerator.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BatchShaderGenerator": () => (/* binding */ BatchShaderGenerator)
/* harmony export */ });
/* harmony import */ var _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shader/Shader.mjs */ "./node_modules/@pixi/core/lib/shader/Shader.mjs");
/* harmony import */ var _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shader/Program.mjs */ "./node_modules/@pixi/core/lib/shader/Program.mjs");
/* harmony import */ var _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shader/UniformGroup.mjs */ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");





class BatchShaderGenerator {
  constructor(vertexSrc, fragTemplate) {
    this.vertexSrc = vertexSrc;
    this.fragTemplate = fragTemplate;
    this.programCache = {};
    this.defaultGroupCache = {};
    if (!fragTemplate.includes("%count%")) {
      throw new Error('Fragment template must contain "%count%".');
    }
    if (!fragTemplate.includes("%forloop%")) {
      throw new Error('Fragment template must contain "%forloop%".');
    }
  }
  generateShader(maxTextures) {
    if (!this.programCache[maxTextures]) {
      const sampleValues = new Int32Array(maxTextures);
      for (let i = 0; i < maxTextures; i++) {
        sampleValues[i] = i;
      }
      this.defaultGroupCache[maxTextures] = _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_2__.UniformGroup.from({ uSamplers: sampleValues }, true);
      let fragmentSrc = this.fragTemplate;
      fragmentSrc = fragmentSrc.replace(/%count%/gi, `${maxTextures}`);
      fragmentSrc = fragmentSrc.replace(/%forloop%/gi, this.generateSampleSrc(maxTextures));
      this.programCache[maxTextures] = new _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_1__.Program(this.vertexSrc, fragmentSrc);
    }
    const uniforms = {
      tint: new Float32Array([1, 1, 1, 1]),
      translationMatrix: new _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Matrix(),
      default: this.defaultGroupCache[maxTextures]
    };
    return new _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_0__.Shader(this.programCache[maxTextures], uniforms);
  }
  generateSampleSrc(maxTextures) {
    let src = "";
    src += "\n";
    src += "\n";
    for (let i = 0; i < maxTextures; i++) {
      if (i > 0) {
        src += "\nelse ";
      }
      if (i < maxTextures - 1) {
        src += `if(vTextureId < ${i}.5)`;
      }
      src += "\n{";
      src += `
	color = texture2D(uSamplers[${i}], vTextureCoord);`;
      src += "\n}";
    }
    src += "\n";
    src += "\n";
    return src;
  }
}


//# sourceMappingURL=BatchShaderGenerator.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchSystem.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchSystem.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BatchSystem": () => (/* binding */ BatchSystem)
/* harmony export */ });
/* harmony import */ var _ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectRenderer.mjs */ "./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");



class BatchSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.emptyRenderer = new _ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_0__.ObjectRenderer(renderer);
    this.currentRenderer = this.emptyRenderer;
  }
  setObjectRenderer(objectRenderer) {
    if (this.currentRenderer === objectRenderer) {
      return;
    }
    this.currentRenderer.stop();
    this.currentRenderer = objectRenderer;
    this.currentRenderer.start();
  }
  flush() {
    this.setObjectRenderer(this.emptyRenderer);
  }
  reset() {
    this.setObjectRenderer(this.emptyRenderer);
  }
  copyBoundTextures(arr, maxTextures) {
    const { boundTextures } = this.renderer.texture;
    for (let i = maxTextures - 1; i >= 0; --i) {
      arr[i] = boundTextures[i] || null;
      if (arr[i]) {
        arr[i]._batchLocation = i;
      }
    }
  }
  boundArray(texArray, boundTextures, batchId, maxTextures) {
    const { elements, ids, count } = texArray;
    let j = 0;
    for (let i = 0; i < count; i++) {
      const tex = elements[i];
      const loc = tex._batchLocation;
      if (loc >= 0 && loc < maxTextures && boundTextures[loc] === tex) {
        ids[i] = loc;
        continue;
      }
      while (j < maxTextures) {
        const bound = boundTextures[j];
        if (bound && bound._batchEnabled === batchId && bound._batchLocation === j) {
          j++;
          continue;
        }
        ids[i] = j;
        tex._batchLocation = j;
        boundTextures[j] = tex;
        break;
      }
    }
  }
  destroy() {
    this.renderer = null;
  }
}
BatchSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "batch"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(BatchSystem);


//# sourceMappingURL=BatchSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/BatchTextureArray.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/BatchTextureArray.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BatchTextureArray": () => (/* binding */ BatchTextureArray)
/* harmony export */ });
class BatchTextureArray {
  constructor() {
    this.elements = [];
    this.ids = [];
    this.count = 0;
  }
  clear() {
    for (let i = 0; i < this.count; i++) {
      this.elements[i] = null;
    }
    this.count = 0;
  }
}


//# sourceMappingURL=BatchTextureArray.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ObjectRenderer": () => (/* binding */ ObjectRenderer)
/* harmony export */ });
class ObjectRenderer {
  constructor(renderer) {
    this.renderer = renderer;
  }
  flush() {
  }
  destroy() {
    this.renderer = null;
  }
  start() {
  }
  stop() {
    this.flush();
  }
  render(_object) {
  }
}


//# sourceMappingURL=ObjectRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/texture.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/texture.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultVertex)
/* harmony export */ });
var defaultVertex = "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";


//# sourceMappingURL=texture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/batch/texture2.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/batch/texture2.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultFragment)
/* harmony export */ });
var defaultFragment = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n";


//# sourceMappingURL=texture2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/context/ContextSystem.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/context/ContextSystem.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ContextSystem": () => (/* binding */ ContextSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../settings.mjs */ "./node_modules/@pixi/core/lib/settings.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");





let CONTEXT_UID_COUNTER = 0;
class ContextSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.webGLVersion = 1;
    this.extensions = {};
    this.supports = {
      uint32Indices: false
    };
    this.handleContextLost = this.handleContextLost.bind(this);
    this.handleContextRestored = this.handleContextRestored.bind(this);
  }
  get isLost() {
    return !this.gl || this.gl.isContextLost();
  }
  contextChange(gl) {
    this.gl = gl;
    this.renderer.gl = gl;
    this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;
  }
  init(options) {
    if (options.context) {
      this.initFromContext(options.context);
    } else {
      const alpha = this.renderer.background.alpha < 1;
      const premultipliedAlpha = options.premultipliedAlpha;
      this.preserveDrawingBuffer = options.preserveDrawingBuffer;
      this.useContextAlpha = options.useContextAlpha;
      this.powerPreference = options.powerPreference;
      this.initFromOptions({
        alpha,
        premultipliedAlpha,
        antialias: options.antialias,
        stencil: true,
        preserveDrawingBuffer: options.preserveDrawingBuffer,
        powerPreference: options.powerPreference
      });
    }
  }
  initFromContext(gl) {
    this.gl = gl;
    this.validateContext(gl);
    this.renderer.gl = gl;
    this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;
    this.renderer.runners.contextChange.emit(gl);
    const view = this.renderer.view;
    if (view.addEventListener !== void 0) {
      view.addEventListener("webglcontextlost", this.handleContextLost, false);
      view.addEventListener("webglcontextrestored", this.handleContextRestored, false);
    }
  }
  initFromOptions(options) {
    const gl = this.createContext(this.renderer.view, options);
    this.initFromContext(gl);
  }
  createContext(canvas, options) {
    let gl;
    if (_pixi_settings__WEBPACK_IMPORTED_MODULE_3__.settings.PREFER_ENV >= _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ENV.WEBGL2) {
      gl = canvas.getContext("webgl2", options);
    }
    if (gl) {
      this.webGLVersion = 2;
    } else {
      this.webGLVersion = 1;
      gl = canvas.getContext("webgl", options) || canvas.getContext("experimental-webgl", options);
      if (!gl) {
        throw new Error("This browser does not support WebGL. Try using the canvas renderer");
      }
    }
    this.gl = gl;
    this.getExtensions();
    return this.gl;
  }
  getExtensions() {
    const { gl } = this;
    const common = {
      loseContext: gl.getExtension("WEBGL_lose_context"),
      anisotropicFiltering: gl.getExtension("EXT_texture_filter_anisotropic"),
      floatTextureLinear: gl.getExtension("OES_texture_float_linear"),
      s3tc: gl.getExtension("WEBGL_compressed_texture_s3tc"),
      s3tc_sRGB: gl.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
      etc: gl.getExtension("WEBGL_compressed_texture_etc"),
      etc1: gl.getExtension("WEBGL_compressed_texture_etc1"),
      pvrtc: gl.getExtension("WEBGL_compressed_texture_pvrtc") || gl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
      atc: gl.getExtension("WEBGL_compressed_texture_atc"),
      astc: gl.getExtension("WEBGL_compressed_texture_astc")
    };
    if (this.webGLVersion === 1) {
      Object.assign(this.extensions, common, {
        drawBuffers: gl.getExtension("WEBGL_draw_buffers"),
        depthTexture: gl.getExtension("WEBGL_depth_texture"),
        vertexArrayObject: gl.getExtension("OES_vertex_array_object") || gl.getExtension("MOZ_OES_vertex_array_object") || gl.getExtension("WEBKIT_OES_vertex_array_object"),
        uint32ElementIndex: gl.getExtension("OES_element_index_uint"),
        floatTexture: gl.getExtension("OES_texture_float"),
        floatTextureLinear: gl.getExtension("OES_texture_float_linear"),
        textureHalfFloat: gl.getExtension("OES_texture_half_float"),
        textureHalfFloatLinear: gl.getExtension("OES_texture_half_float_linear")
      });
    } else if (this.webGLVersion === 2) {
      Object.assign(this.extensions, common, {
        colorBufferFloat: gl.getExtension("EXT_color_buffer_float")
      });
    }
  }
  handleContextLost(event) {
    event.preventDefault();
    setTimeout(() => {
      if (this.gl.isContextLost() && this.extensions.loseContext) {
        this.extensions.loseContext.restoreContext();
      }
    }, 0);
  }
  handleContextRestored() {
    this.renderer.runners.contextChange.emit(this.gl);
  }
  destroy() {
    const view = this.renderer.view;
    this.renderer = null;
    if (view.removeEventListener !== void 0) {
      view.removeEventListener("webglcontextlost", this.handleContextLost);
      view.removeEventListener("webglcontextrestored", this.handleContextRestored);
    }
    this.gl.useProgram(null);
    if (this.extensions.loseContext) {
      this.extensions.loseContext.loseContext();
    }
  }
  postrender() {
    if (this.renderer.objectRenderer.renderingToScreen) {
      this.gl.flush();
    }
  }
  validateContext(gl) {
    const attributes = gl.getContextAttributes();
    const isWebGl2 = "WebGL2RenderingContext" in globalThis && gl instanceof globalThis.WebGL2RenderingContext;
    if (isWebGl2) {
      this.webGLVersion = 2;
    }
    if (attributes && !attributes.stencil) {
      console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");
    }
    const hasuint32 = isWebGl2 || !!gl.getExtension("OES_element_index_uint");
    this.supports.uint32Indices = hasuint32;
    if (!hasuint32) {
      console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly");
    }
  }
}
ContextSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "context"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(ContextSystem);


//# sourceMappingURL=ContextSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/Filter.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/Filter.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Filter": () => (/* binding */ Filter)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shader/Program.mjs */ "./node_modules/@pixi/core/lib/shader/Program.mjs");
/* harmony import */ var _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shader/Shader.mjs */ "./node_modules/@pixi/core/lib/shader/Shader.mjs");
/* harmony import */ var _state_State_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../state/State.mjs */ "./node_modules/@pixi/core/lib/state/State.mjs");
/* harmony import */ var _defaultFilter_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./defaultFilter.mjs */ "./node_modules/@pixi/core/lib/filters/defaultFilter.mjs");
/* harmony import */ var _defaultFilter2_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./defaultFilter2.mjs */ "./node_modules/@pixi/core/lib/filters/defaultFilter2.mjs");







class Filter extends _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_2__.Shader {
  constructor(vertexSrc, fragmentSrc, uniforms) {
    const program = _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_1__.Program.from(vertexSrc || Filter.defaultVertexSrc, fragmentSrc || Filter.defaultFragmentSrc);
    super(program, uniforms);
    this.padding = 0;
    this.resolution = _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.FILTER_RESOLUTION;
    this.multisample = _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.FILTER_MULTISAMPLE;
    this.enabled = true;
    this.autoFit = true;
    this.state = new _state_State_mjs__WEBPACK_IMPORTED_MODULE_3__.State();
  }
  apply(filterManager, input, output, clearMode, _currentState) {
    filterManager.applyFilter(this, input, output, clearMode);
  }
  get blendMode() {
    return this.state.blendMode;
  }
  set blendMode(value) {
    this.state.blendMode = value;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._resolution = value;
  }
  static get defaultVertexSrc() {
    return _defaultFilter2_mjs__WEBPACK_IMPORTED_MODULE_5__["default"];
  }
  static get defaultFragmentSrc() {
    return _defaultFilter_mjs__WEBPACK_IMPORTED_MODULE_4__["default"];
  }
}


//# sourceMappingURL=Filter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/FilterState.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/FilterState.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FilterState": () => (/* binding */ FilterState)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");



class FilterState {
  constructor() {
    this.renderTexture = null;
    this.target = null;
    this.legacy = false;
    this.resolution = 1;
    this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.MSAA_QUALITY.NONE;
    this.sourceFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    this.destinationFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    this.bindingSourceFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    this.bindingDestinationFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    this.filters = [];
    this.transform = null;
  }
  clear() {
    this.target = null;
    this.filters = null;
    this.renderTexture = null;
  }
}


//# sourceMappingURL=FilterState.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/FilterSystem.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/FilterSystem.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FilterSystem": () => (/* binding */ FilterSystem)
/* harmony export */ });
/* harmony import */ var _renderTexture_RenderTexturePool_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../renderTexture/RenderTexturePool.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTexturePool.mjs");
/* harmony import */ var _utils_Quad_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Quad.mjs */ "./node_modules/@pixi/core/lib/utils/Quad.mjs");
/* harmony import */ var _utils_QuadUv_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/QuadUv.mjs */ "./node_modules/@pixi/core/lib/utils/QuadUv.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shader/UniformGroup.mjs */ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _FilterState_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FilterState.mjs */ "./node_modules/@pixi/core/lib/filters/FilterState.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");









const tempPoints = [new _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Point(), new _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Point(), new _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Point(), new _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Point()];
const tempMatrix = new _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Matrix();
class FilterSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.defaultFilterStack = [{}];
    this.texturePool = new _renderTexture_RenderTexturePool_mjs__WEBPACK_IMPORTED_MODULE_0__.RenderTexturePool();
    this.statePool = [];
    this.quad = new _utils_Quad_mjs__WEBPACK_IMPORTED_MODULE_1__.Quad();
    this.quadUv = new _utils_QuadUv_mjs__WEBPACK_IMPORTED_MODULE_2__.QuadUv();
    this.tempRect = new _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Rectangle();
    this.activeState = {};
    this.globalUniforms = new _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_4__.UniformGroup({
      outputFrame: new _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Rectangle(),
      inputSize: new Float32Array(4),
      inputPixel: new Float32Array(4),
      inputClamp: new Float32Array(4),
      resolution: 1,
      filterArea: new Float32Array(4),
      filterClamp: new Float32Array(4)
    }, true);
    this.forceClear = false;
    this.useMaxPadding = false;
  }
  init() {
    this.texturePool.setScreenSize(this.renderer.view);
  }
  push(target, filters) {
    const renderer = this.renderer;
    const filterStack = this.defaultFilterStack;
    const state = this.statePool.pop() || new _FilterState_mjs__WEBPACK_IMPORTED_MODULE_6__.FilterState();
    const renderTextureSystem = this.renderer.renderTexture;
    let resolution = filters[0].resolution;
    let multisample = filters[0].multisample;
    let padding = filters[0].padding;
    let autoFit = filters[0].autoFit;
    let legacy = filters[0].legacy ?? true;
    for (let i = 1; i < filters.length; i++) {
      const filter = filters[i];
      resolution = Math.min(resolution, filter.resolution);
      multisample = Math.min(multisample, filter.multisample);
      padding = this.useMaxPadding ? Math.max(padding, filter.padding) : padding + filter.padding;
      autoFit = autoFit && filter.autoFit;
      legacy = legacy || (filter.legacy ?? true);
    }
    if (filterStack.length === 1) {
      this.defaultFilterStack[0].renderTexture = renderTextureSystem.current;
    }
    filterStack.push(state);
    state.resolution = resolution;
    state.multisample = multisample;
    state.legacy = legacy;
    state.target = target;
    state.sourceFrame.copyFrom(target.filterArea || target.getBounds(true));
    state.sourceFrame.pad(padding);
    const sourceFrameProjected = this.tempRect.copyFrom(renderTextureSystem.sourceFrame);
    if (renderer.projection.transform) {
      this.transformAABB(tempMatrix.copyFrom(renderer.projection.transform).invert(), sourceFrameProjected);
    }
    if (autoFit) {
      state.sourceFrame.fit(sourceFrameProjected);
      if (state.sourceFrame.width <= 0 || state.sourceFrame.height <= 0) {
        state.sourceFrame.width = 0;
        state.sourceFrame.height = 0;
      }
    } else if (!state.sourceFrame.intersects(sourceFrameProjected)) {
      state.sourceFrame.width = 0;
      state.sourceFrame.height = 0;
    }
    this.roundFrame(state.sourceFrame, renderTextureSystem.current ? renderTextureSystem.current.resolution : renderer.resolution, renderTextureSystem.sourceFrame, renderTextureSystem.destinationFrame, renderer.projection.transform);
    state.renderTexture = this.getOptimalFilterTexture(state.sourceFrame.width, state.sourceFrame.height, resolution, multisample);
    state.filters = filters;
    state.destinationFrame.width = state.renderTexture.width;
    state.destinationFrame.height = state.renderTexture.height;
    const destinationFrame = this.tempRect;
    destinationFrame.x = 0;
    destinationFrame.y = 0;
    destinationFrame.width = state.sourceFrame.width;
    destinationFrame.height = state.sourceFrame.height;
    state.renderTexture.filterFrame = state.sourceFrame;
    state.bindingSourceFrame.copyFrom(renderTextureSystem.sourceFrame);
    state.bindingDestinationFrame.copyFrom(renderTextureSystem.destinationFrame);
    state.transform = renderer.projection.transform;
    renderer.projection.transform = null;
    renderTextureSystem.bind(state.renderTexture, state.sourceFrame, destinationFrame);
    renderer.framebuffer.clear(0, 0, 0, 0);
  }
  pop() {
    const filterStack = this.defaultFilterStack;
    const state = filterStack.pop();
    const filters = state.filters;
    this.activeState = state;
    const globalUniforms = this.globalUniforms.uniforms;
    globalUniforms.outputFrame = state.sourceFrame;
    globalUniforms.resolution = state.resolution;
    const inputSize = globalUniforms.inputSize;
    const inputPixel = globalUniforms.inputPixel;
    const inputClamp = globalUniforms.inputClamp;
    inputSize[0] = state.destinationFrame.width;
    inputSize[1] = state.destinationFrame.height;
    inputSize[2] = 1 / inputSize[0];
    inputSize[3] = 1 / inputSize[1];
    inputPixel[0] = Math.round(inputSize[0] * state.resolution);
    inputPixel[1] = Math.round(inputSize[1] * state.resolution);
    inputPixel[2] = 1 / inputPixel[0];
    inputPixel[3] = 1 / inputPixel[1];
    inputClamp[0] = 0.5 * inputPixel[2];
    inputClamp[1] = 0.5 * inputPixel[3];
    inputClamp[2] = state.sourceFrame.width * inputSize[2] - 0.5 * inputPixel[2];
    inputClamp[3] = state.sourceFrame.height * inputSize[3] - 0.5 * inputPixel[3];
    if (state.legacy) {
      const filterArea = globalUniforms.filterArea;
      filterArea[0] = state.destinationFrame.width;
      filterArea[1] = state.destinationFrame.height;
      filterArea[2] = state.sourceFrame.x;
      filterArea[3] = state.sourceFrame.y;
      globalUniforms.filterClamp = globalUniforms.inputClamp;
    }
    this.globalUniforms.update();
    const lastState = filterStack[filterStack.length - 1];
    this.renderer.framebuffer.blit();
    if (filters.length === 1) {
      filters[0].apply(this, state.renderTexture, lastState.renderTexture, _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.CLEAR_MODES.BLEND, state);
      this.returnFilterTexture(state.renderTexture);
    } else {
      let flip = state.renderTexture;
      let flop = this.getOptimalFilterTexture(flip.width, flip.height, state.resolution);
      flop.filterFrame = flip.filterFrame;
      let i = 0;
      for (i = 0; i < filters.length - 1; ++i) {
        if (i === 1 && state.multisample > 1) {
          flop = this.getOptimalFilterTexture(flip.width, flip.height, state.resolution);
          flop.filterFrame = flip.filterFrame;
        }
        filters[i].apply(this, flip, flop, _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.CLEAR_MODES.CLEAR, state);
        const t = flip;
        flip = flop;
        flop = t;
      }
      filters[i].apply(this, flip, lastState.renderTexture, _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.CLEAR_MODES.BLEND, state);
      if (i > 1 && state.multisample > 1) {
        this.returnFilterTexture(state.renderTexture);
      }
      this.returnFilterTexture(flip);
      this.returnFilterTexture(flop);
    }
    state.clear();
    this.statePool.push(state);
  }
  bindAndClear(filterTexture, clearMode = _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.CLEAR_MODES.CLEAR) {
    const {
      renderTexture: renderTextureSystem,
      state: stateSystem
    } = this.renderer;
    if (filterTexture === this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture) {
      this.renderer.projection.transform = this.activeState.transform;
    } else {
      this.renderer.projection.transform = null;
    }
    if (filterTexture?.filterFrame) {
      const destinationFrame = this.tempRect;
      destinationFrame.x = 0;
      destinationFrame.y = 0;
      destinationFrame.width = filterTexture.filterFrame.width;
      destinationFrame.height = filterTexture.filterFrame.height;
      renderTextureSystem.bind(filterTexture, filterTexture.filterFrame, destinationFrame);
    } else if (filterTexture !== this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture) {
      renderTextureSystem.bind(filterTexture);
    } else {
      this.renderer.renderTexture.bind(filterTexture, this.activeState.bindingSourceFrame, this.activeState.bindingDestinationFrame);
    }
    const autoClear = stateSystem.stateId & 1 || this.forceClear;
    if (clearMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.CLEAR_MODES.CLEAR || clearMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.CLEAR_MODES.BLIT && autoClear) {
      this.renderer.framebuffer.clear(0, 0, 0, 0);
    }
  }
  applyFilter(filter, input, output, clearMode) {
    const renderer = this.renderer;
    renderer.state.set(filter.state);
    this.bindAndClear(output, clearMode);
    filter.uniforms.uSampler = input;
    filter.uniforms.filterGlobals = this.globalUniforms;
    renderer.shader.bind(filter);
    filter.legacy = !!filter.program.attributeData.aTextureCoord;
    if (filter.legacy) {
      this.quadUv.map(input._frame, input.filterFrame);
      renderer.geometry.bind(this.quadUv);
      renderer.geometry.draw(_pixi_constants__WEBPACK_IMPORTED_MODULE_5__.DRAW_MODES.TRIANGLES);
    } else {
      renderer.geometry.bind(this.quad);
      renderer.geometry.draw(_pixi_constants__WEBPACK_IMPORTED_MODULE_5__.DRAW_MODES.TRIANGLE_STRIP);
    }
  }
  calculateSpriteMatrix(outputMatrix, sprite) {
    const { sourceFrame, destinationFrame } = this.activeState;
    const { orig } = sprite._texture;
    const mappedMatrix = outputMatrix.set(destinationFrame.width, 0, 0, destinationFrame.height, sourceFrame.x, sourceFrame.y);
    const worldTransform = sprite.worldTransform.copyTo(_pixi_math__WEBPACK_IMPORTED_MODULE_3__.Matrix.TEMP_MATRIX);
    worldTransform.invert();
    mappedMatrix.prepend(worldTransform);
    mappedMatrix.scale(1 / orig.width, 1 / orig.height);
    mappedMatrix.translate(sprite.anchor.x, sprite.anchor.y);
    return mappedMatrix;
  }
  destroy() {
    this.renderer = null;
    this.texturePool.clear(false);
  }
  getOptimalFilterTexture(minWidth, minHeight, resolution = 1, multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.MSAA_QUALITY.NONE) {
    return this.texturePool.getOptimalTexture(minWidth, minHeight, resolution, multisample);
  }
  getFilterTexture(input, resolution, multisample) {
    if (typeof input === "number") {
      const swap = input;
      input = resolution;
      resolution = swap;
    }
    input = input || this.activeState.renderTexture;
    const filterTexture = this.texturePool.getOptimalTexture(input.width, input.height, resolution || input.resolution, multisample || _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.MSAA_QUALITY.NONE);
    filterTexture.filterFrame = input.filterFrame;
    return filterTexture;
  }
  returnFilterTexture(renderTexture) {
    this.texturePool.returnTexture(renderTexture);
  }
  emptyPool() {
    this.texturePool.clear(true);
  }
  resize() {
    this.texturePool.setScreenSize(this.renderer.view);
  }
  transformAABB(matrix, rect) {
    const lt = tempPoints[0];
    const lb = tempPoints[1];
    const rt = tempPoints[2];
    const rb = tempPoints[3];
    lt.set(rect.left, rect.top);
    lb.set(rect.left, rect.bottom);
    rt.set(rect.right, rect.top);
    rb.set(rect.right, rect.bottom);
    matrix.apply(lt, lt);
    matrix.apply(lb, lb);
    matrix.apply(rt, rt);
    matrix.apply(rb, rb);
    const x0 = Math.min(lt.x, lb.x, rt.x, rb.x);
    const y0 = Math.min(lt.y, lb.y, rt.y, rb.y);
    const x1 = Math.max(lt.x, lb.x, rt.x, rb.x);
    const y1 = Math.max(lt.y, lb.y, rt.y, rb.y);
    rect.x = x0;
    rect.y = y0;
    rect.width = x1 - x0;
    rect.height = y1 - y0;
  }
  roundFrame(frame, resolution, bindingSourceFrame, bindingDestinationFrame, transform) {
    if (frame.width <= 0 || frame.height <= 0 || bindingSourceFrame.width <= 0 || bindingSourceFrame.height <= 0) {
      return;
    }
    if (transform) {
      const { a, b, c, d } = transform;
      if ((Math.abs(b) > 1e-4 || Math.abs(c) > 1e-4) && (Math.abs(a) > 1e-4 || Math.abs(d) > 1e-4)) {
        return;
      }
    }
    transform = transform ? tempMatrix.copyFrom(transform) : tempMatrix.identity();
    transform.translate(-bindingSourceFrame.x, -bindingSourceFrame.y).scale(bindingDestinationFrame.width / bindingSourceFrame.width, bindingDestinationFrame.height / bindingSourceFrame.height).translate(bindingDestinationFrame.x, bindingDestinationFrame.y);
    this.transformAABB(transform, frame);
    frame.ceil(resolution);
    this.transformAABB(transform.invert(), frame);
  }
}
FilterSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_7__.ExtensionType.RendererSystem,
  name: "filter"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_7__.extensions.add(FilterSystem);


//# sourceMappingURL=FilterSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/IFilterTarget.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/IFilterTarget.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=IFilterTarget.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/defaultFilter.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/defaultFilter.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultFragment)
/* harmony export */ });
var defaultFragment = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n";


//# sourceMappingURL=defaultFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/defaultFilter2.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/defaultFilter2.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultVertex)
/* harmony export */ });
var defaultVertex = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";


//# sourceMappingURL=defaultFilter2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/spriteMask/SpriteMaskFilter.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/spriteMask/SpriteMaskFilter.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SpriteMaskFilter": () => (/* binding */ SpriteMaskFilter)
/* harmony export */ });
/* harmony import */ var _Filter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Filter.mjs */ "./node_modules/@pixi/core/lib/filters/Filter.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _spriteMaskFilter2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./spriteMaskFilter2.mjs */ "./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter2.mjs");
/* harmony import */ var _spriteMaskFilter3_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./spriteMaskFilter3.mjs */ "./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter3.mjs");
/* harmony import */ var _textures_TextureMatrix_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../textures/TextureMatrix.mjs */ "./node_modules/@pixi/core/lib/textures/TextureMatrix.mjs");






class SpriteMaskFilter extends _Filter_mjs__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(vertexSrc, fragmentSrc, uniforms) {
    let sprite = null;
    if (typeof vertexSrc !== "string" && fragmentSrc === void 0 && uniforms === void 0) {
      sprite = vertexSrc;
      vertexSrc = void 0;
      fragmentSrc = void 0;
      uniforms = void 0;
    }
    super(vertexSrc || _spriteMaskFilter2_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], fragmentSrc || _spriteMaskFilter3_mjs__WEBPACK_IMPORTED_MODULE_3__["default"], uniforms);
    this.maskSprite = sprite;
    this.maskMatrix = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Matrix();
  }
  get maskSprite() {
    return this._maskSprite;
  }
  set maskSprite(value) {
    this._maskSprite = value;
    if (this._maskSprite) {
      this._maskSprite.renderable = false;
    }
  }
  apply(filterManager, input, output, clearMode) {
    const maskSprite = this._maskSprite;
    const tex = maskSprite._texture;
    if (!tex.valid) {
      return;
    }
    if (!tex.uvMatrix) {
      tex.uvMatrix = new _textures_TextureMatrix_mjs__WEBPACK_IMPORTED_MODULE_4__.TextureMatrix(tex, 0);
    }
    tex.uvMatrix.update();
    this.uniforms.npmAlpha = tex.baseTexture.alphaMode ? 0 : 1;
    this.uniforms.mask = tex;
    this.uniforms.otherMatrix = filterManager.calculateSpriteMatrix(this.maskMatrix, maskSprite).prepend(tex.uvMatrix.mapCoord);
    this.uniforms.alpha = maskSprite.worldAlpha;
    this.uniforms.maskClamp = tex.uvMatrix.uClampFrame;
    filterManager.applyFilter(this, input, output, clearMode);
  }
}


//# sourceMappingURL=SpriteMaskFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter2.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter2.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ vertex)
/* harmony export */ });
var vertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";


//# sourceMappingURL=spriteMaskFilter2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter3.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter3.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n";


//# sourceMappingURL=spriteMaskFilter3.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/fragments/default.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/fragments/default.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ $defaultVertex)
/* harmony export */ });
var $defaultVertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}";


//# sourceMappingURL=default.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/fragments/defaultFilter.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/fragments/defaultFilter.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ $defaultFilterVertex)
/* harmony export */ });
var $defaultFilterVertex = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";


//# sourceMappingURL=defaultFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/fragments/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/fragments/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultFilterVertex": () => (/* binding */ defaultFilterVertex),
/* harmony export */   "defaultVertex": () => (/* binding */ defaultVertex)
/* harmony export */ });
/* harmony import */ var _default_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./default.mjs */ "./node_modules/@pixi/core/lib/fragments/default.mjs");
/* harmony import */ var _defaultFilter_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaultFilter.mjs */ "./node_modules/@pixi/core/lib/fragments/defaultFilter.mjs");



const defaultVertex = _default_mjs__WEBPACK_IMPORTED_MODULE_0__["default"];
const defaultFilterVertex = _defaultFilter_mjs__WEBPACK_IMPORTED_MODULE_1__["default"];


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Framebuffer": () => (/* binding */ Framebuffer)
/* harmony export */ });
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");
/* harmony import */ var _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../textures/BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _textures_resources_DepthResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../textures/resources/DepthResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/DepthResource.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");





class Framebuffer {
  constructor(width, height) {
    this.width = Math.round(width || 100);
    this.height = Math.round(height || 100);
    this.stencil = false;
    this.depth = false;
    this.dirtyId = 0;
    this.dirtyFormat = 0;
    this.dirtySize = 0;
    this.depthTexture = null;
    this.colorTextures = [];
    this.glFramebuffers = {};
    this.disposeRunner = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner("disposeFramebuffer");
    this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_3__.MSAA_QUALITY.NONE;
  }
  get colorTexture() {
    return this.colorTextures[0];
  }
  addColorTexture(index = 0, texture) {
    this.colorTextures[index] = texture || new _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_1__.BaseTexture(null, {
      scaleMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_3__.SCALE_MODES.NEAREST,
      resolution: 1,
      mipmap: _pixi_constants__WEBPACK_IMPORTED_MODULE_3__.MIPMAP_MODES.OFF,
      width: this.width,
      height: this.height
    });
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  addDepthTexture(texture) {
    this.depthTexture = texture || new _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_1__.BaseTexture(new _textures_resources_DepthResource_mjs__WEBPACK_IMPORTED_MODULE_2__.DepthResource(null, { width: this.width, height: this.height }), {
      scaleMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_3__.SCALE_MODES.NEAREST,
      resolution: 1,
      width: this.width,
      height: this.height,
      mipmap: _pixi_constants__WEBPACK_IMPORTED_MODULE_3__.MIPMAP_MODES.OFF,
      format: _pixi_constants__WEBPACK_IMPORTED_MODULE_3__.FORMATS.DEPTH_COMPONENT,
      type: _pixi_constants__WEBPACK_IMPORTED_MODULE_3__.TYPES.UNSIGNED_SHORT
    });
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  enableDepth() {
    this.depth = true;
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  enableStencil() {
    this.stencil = true;
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  resize(width, height) {
    width = Math.round(width);
    height = Math.round(height);
    if (width === this.width && height === this.height)
      return;
    this.width = width;
    this.height = height;
    this.dirtyId++;
    this.dirtySize++;
    for (let i = 0; i < this.colorTextures.length; i++) {
      const texture = this.colorTextures[i];
      const resolution = texture.resolution;
      texture.setSize(width / resolution, height / resolution);
    }
    if (this.depthTexture) {
      const resolution = this.depthTexture.resolution;
      this.depthTexture.setSize(width / resolution, height / resolution);
    }
  }
  dispose() {
    this.disposeRunner.emit(this, false);
  }
  destroyDepthTexture() {
    if (this.depthTexture) {
      this.depthTexture.destroy();
      this.depthTexture = null;
      ++this.dirtyId;
      ++this.dirtyFormat;
    }
  }
}


//# sourceMappingURL=Framebuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/framebuffer/FramebufferSystem.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/framebuffer/FramebufferSystem.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FramebufferSystem": () => (/* binding */ FramebufferSystem)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../settings.mjs */ "./node_modules/@pixi/core/lib/settings.mjs");
/* harmony import */ var _Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Framebuffer.mjs */ "./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs");
/* harmony import */ var _GLFramebuffer_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GLFramebuffer.mjs */ "./node_modules/@pixi/core/lib/framebuffer/GLFramebuffer.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");








const tempRectangle = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
class FramebufferSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.managedFramebuffers = [];
    this.unknownFramebuffer = new _Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_3__.Framebuffer(10, 10);
    this.msaaSamples = null;
  }
  contextChange() {
    this.disposeAll(true);
    const gl = this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
    this.current = this.unknownFramebuffer;
    this.viewport = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    this.hasMRT = true;
    this.writeDepthTexture = true;
    if (this.renderer.context.webGLVersion === 1) {
      let nativeDrawBuffersExtension = this.renderer.context.extensions.drawBuffers;
      let nativeDepthTextureExtension = this.renderer.context.extensions.depthTexture;
      if (_pixi_settings__WEBPACK_IMPORTED_MODULE_6__.settings.PREFER_ENV === _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.ENV.WEBGL_LEGACY) {
        nativeDrawBuffersExtension = null;
        nativeDepthTextureExtension = null;
      }
      if (nativeDrawBuffersExtension) {
        gl.drawBuffers = (activeTextures) => nativeDrawBuffersExtension.drawBuffersWEBGL(activeTextures);
      } else {
        this.hasMRT = false;
        gl.drawBuffers = () => {
        };
      }
      if (!nativeDepthTextureExtension) {
        this.writeDepthTexture = false;
      }
    } else {
      this.msaaSamples = gl.getInternalformatParameter(gl.RENDERBUFFER, gl.RGBA8, gl.SAMPLES);
    }
  }
  bind(framebuffer, frame, mipLevel = 0) {
    const { gl } = this;
    if (framebuffer) {
      const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(framebuffer);
      if (this.current !== framebuffer) {
        this.current = framebuffer;
        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo.framebuffer);
      }
      if (fbo.mipLevel !== mipLevel) {
        framebuffer.dirtyId++;
        framebuffer.dirtyFormat++;
        fbo.mipLevel = mipLevel;
      }
      if (fbo.dirtyId !== framebuffer.dirtyId) {
        fbo.dirtyId = framebuffer.dirtyId;
        if (fbo.dirtyFormat !== framebuffer.dirtyFormat) {
          fbo.dirtyFormat = framebuffer.dirtyFormat;
          fbo.dirtySize = framebuffer.dirtySize;
          this.updateFramebuffer(framebuffer, mipLevel);
        } else if (fbo.dirtySize !== framebuffer.dirtySize) {
          fbo.dirtySize = framebuffer.dirtySize;
          this.resizeFramebuffer(framebuffer);
        }
      }
      for (let i = 0; i < framebuffer.colorTextures.length; i++) {
        const tex = framebuffer.colorTextures[i];
        this.renderer.texture.unbind(tex.parentTextureArray || tex);
      }
      if (framebuffer.depthTexture) {
        this.renderer.texture.unbind(framebuffer.depthTexture);
      }
      if (frame) {
        const mipWidth = frame.width >> mipLevel;
        const mipHeight = frame.height >> mipLevel;
        const scale = mipWidth / frame.width;
        this.setViewport(frame.x * scale, frame.y * scale, mipWidth, mipHeight);
      } else {
        const mipWidth = framebuffer.width >> mipLevel;
        const mipHeight = framebuffer.height >> mipLevel;
        this.setViewport(0, 0, mipWidth, mipHeight);
      }
    } else {
      if (this.current) {
        this.current = null;
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);
      }
      if (frame) {
        this.setViewport(frame.x, frame.y, frame.width, frame.height);
      } else {
        this.setViewport(0, 0, this.renderer.width, this.renderer.height);
      }
    }
  }
  setViewport(x, y, width, height) {
    const v = this.viewport;
    x = Math.round(x);
    y = Math.round(y);
    width = Math.round(width);
    height = Math.round(height);
    if (v.width !== width || v.height !== height || v.x !== x || v.y !== y) {
      v.x = x;
      v.y = y;
      v.width = width;
      v.height = height;
      this.gl.viewport(x, y, width, height);
    }
  }
  get size() {
    if (this.current) {
      return { x: 0, y: 0, width: this.current.width, height: this.current.height };
    }
    return { x: 0, y: 0, width: this.renderer.width, height: this.renderer.height };
  }
  clear(r, g, b, a, mask = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BUFFER_BITS.COLOR | _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BUFFER_BITS.DEPTH) {
    const { gl } = this;
    gl.clearColor(r, g, b, a);
    gl.clear(mask);
  }
  initFramebuffer(framebuffer) {
    const { gl } = this;
    const fbo = new _GLFramebuffer_mjs__WEBPACK_IMPORTED_MODULE_4__.GLFramebuffer(gl.createFramebuffer());
    fbo.multisample = this.detectSamples(framebuffer.multisample);
    framebuffer.glFramebuffers[this.CONTEXT_UID] = fbo;
    this.managedFramebuffers.push(framebuffer);
    framebuffer.disposeRunner.add(this);
    return fbo;
  }
  resizeFramebuffer(framebuffer) {
    const { gl } = this;
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    if (fbo.stencil) {
      gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.stencil);
      if (fbo.msaaBuffer) {
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, framebuffer.width, framebuffer.height);
      } else {
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, framebuffer.width, framebuffer.height);
      }
    }
    const colorTextures = framebuffer.colorTextures;
    let count = colorTextures.length;
    if (!gl.drawBuffers) {
      count = Math.min(count, 1);
    }
    for (let i = 0; i < count; i++) {
      const texture = colorTextures[i];
      const parentTexture = texture.parentTextureArray || texture;
      this.renderer.texture.bind(parentTexture, 0);
      if (i === 0 && fbo.msaaBuffer) {
        gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.msaaBuffer);
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, parentTexture._glTextures[this.CONTEXT_UID].internalFormat, framebuffer.width, framebuffer.height);
      }
    }
    if (framebuffer.depthTexture && this.writeDepthTexture) {
      this.renderer.texture.bind(framebuffer.depthTexture, 0);
    }
  }
  updateFramebuffer(framebuffer, mipLevel) {
    const { gl } = this;
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    const colorTextures = framebuffer.colorTextures;
    let count = colorTextures.length;
    if (!gl.drawBuffers) {
      count = Math.min(count, 1);
    }
    if (fbo.multisample > 1 && this.canMultisampleFramebuffer(framebuffer)) {
      fbo.msaaBuffer = fbo.msaaBuffer || gl.createRenderbuffer();
    } else if (fbo.msaaBuffer) {
      gl.deleteRenderbuffer(fbo.msaaBuffer);
      fbo.msaaBuffer = null;
      if (fbo.blitFramebuffer) {
        fbo.blitFramebuffer.dispose();
        fbo.blitFramebuffer = null;
      }
    }
    const activeTextures = [];
    for (let i = 0; i < count; i++) {
      const texture = colorTextures[i];
      const parentTexture = texture.parentTextureArray || texture;
      this.renderer.texture.bind(parentTexture, 0);
      if (i === 0 && fbo.msaaBuffer) {
        gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.msaaBuffer);
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, parentTexture._glTextures[this.CONTEXT_UID].internalFormat, framebuffer.width, framebuffer.height);
        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.RENDERBUFFER, fbo.msaaBuffer);
      } else {
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i, texture.target, parentTexture._glTextures[this.CONTEXT_UID].texture, mipLevel);
        activeTextures.push(gl.COLOR_ATTACHMENT0 + i);
      }
    }
    if (activeTextures.length > 1) {
      gl.drawBuffers(activeTextures);
    }
    if (framebuffer.depthTexture) {
      const writeDepthTexture = this.writeDepthTexture;
      if (writeDepthTexture) {
        const depthTexture = framebuffer.depthTexture;
        this.renderer.texture.bind(depthTexture, 0);
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, depthTexture._glTextures[this.CONTEXT_UID].texture, mipLevel);
      }
    }
    if ((framebuffer.stencil || framebuffer.depth) && !(framebuffer.depthTexture && this.writeDepthTexture)) {
      fbo.stencil = fbo.stencil || gl.createRenderbuffer();
      gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.stencil);
      if (fbo.msaaBuffer) {
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, framebuffer.width, framebuffer.height);
      } else {
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, framebuffer.width, framebuffer.height);
      }
      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, fbo.stencil);
    } else if (fbo.stencil) {
      gl.deleteRenderbuffer(fbo.stencil);
      fbo.stencil = null;
    }
  }
  canMultisampleFramebuffer(framebuffer) {
    return this.renderer.context.webGLVersion !== 1 && framebuffer.colorTextures.length <= 1 && !framebuffer.depthTexture;
  }
  detectSamples(samples) {
    const { msaaSamples } = this;
    let res = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.MSAA_QUALITY.NONE;
    if (samples <= 1 || msaaSamples === null) {
      return res;
    }
    for (let i = 0; i < msaaSamples.length; i++) {
      if (msaaSamples[i] <= samples) {
        res = msaaSamples[i];
        break;
      }
    }
    if (res === 1) {
      res = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.MSAA_QUALITY.NONE;
    }
    return res;
  }
  blit(framebuffer, sourcePixels, destPixels) {
    const { current, renderer, gl, CONTEXT_UID } = this;
    if (renderer.context.webGLVersion !== 2) {
      return;
    }
    if (!current) {
      return;
    }
    const fbo = current.glFramebuffers[CONTEXT_UID];
    if (!fbo) {
      return;
    }
    if (!framebuffer) {
      if (!fbo.msaaBuffer) {
        return;
      }
      const colorTexture = current.colorTextures[0];
      if (!colorTexture) {
        return;
      }
      if (!fbo.blitFramebuffer) {
        fbo.blitFramebuffer = new _Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_3__.Framebuffer(current.width, current.height);
        fbo.blitFramebuffer.addColorTexture(0, colorTexture);
      }
      framebuffer = fbo.blitFramebuffer;
      if (framebuffer.colorTextures[0] !== colorTexture) {
        framebuffer.colorTextures[0] = colorTexture;
        framebuffer.dirtyId++;
        framebuffer.dirtyFormat++;
      }
      if (framebuffer.width !== current.width || framebuffer.height !== current.height) {
        framebuffer.width = current.width;
        framebuffer.height = current.height;
        framebuffer.dirtyId++;
        framebuffer.dirtySize++;
      }
    }
    if (!sourcePixels) {
      sourcePixels = tempRectangle;
      sourcePixels.width = current.width;
      sourcePixels.height = current.height;
    }
    if (!destPixels) {
      destPixels = sourcePixels;
    }
    const sameSize = sourcePixels.width === destPixels.width && sourcePixels.height === destPixels.height;
    this.bind(framebuffer);
    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, fbo.framebuffer);
    gl.blitFramebuffer(sourcePixels.left, sourcePixels.top, sourcePixels.right, sourcePixels.bottom, destPixels.left, destPixels.top, destPixels.right, destPixels.bottom, gl.COLOR_BUFFER_BIT, sameSize ? gl.NEAREST : gl.LINEAR);
  }
  disposeFramebuffer(framebuffer, contextLost) {
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    const gl = this.gl;
    if (!fbo) {
      return;
    }
    delete framebuffer.glFramebuffers[this.CONTEXT_UID];
    const index = this.managedFramebuffers.indexOf(framebuffer);
    if (index >= 0) {
      this.managedFramebuffers.splice(index, 1);
    }
    framebuffer.disposeRunner.remove(this);
    if (!contextLost) {
      gl.deleteFramebuffer(fbo.framebuffer);
      if (fbo.msaaBuffer) {
        gl.deleteRenderbuffer(fbo.msaaBuffer);
      }
      if (fbo.stencil) {
        gl.deleteRenderbuffer(fbo.stencil);
      }
    }
    if (fbo.blitFramebuffer) {
      fbo.blitFramebuffer.dispose();
    }
  }
  disposeAll(contextLost) {
    const list = this.managedFramebuffers;
    this.managedFramebuffers = [];
    for (let i = 0; i < list.length; i++) {
      this.disposeFramebuffer(list[i], contextLost);
    }
  }
  forceStencil() {
    const framebuffer = this.current;
    if (!framebuffer) {
      return;
    }
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    if (!fbo || fbo.stencil) {
      return;
    }
    framebuffer.stencil = true;
    const w = framebuffer.width;
    const h = framebuffer.height;
    const gl = this.gl;
    const stencil = gl.createRenderbuffer();
    gl.bindRenderbuffer(gl.RENDERBUFFER, stencil);
    if (fbo.msaaBuffer) {
      gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, w, h);
    } else {
      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, w, h);
    }
    fbo.stencil = stencil;
    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, stencil);
  }
  reset() {
    this.current = this.unknownFramebuffer;
    this.viewport = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
  }
  destroy() {
    this.renderer = null;
  }
}
FramebufferSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_5__.ExtensionType.RendererSystem,
  name: "framebuffer"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_5__.extensions.add(FramebufferSystem);


//# sourceMappingURL=FramebufferSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/framebuffer/GLFramebuffer.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/framebuffer/GLFramebuffer.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GLFramebuffer": () => (/* binding */ GLFramebuffer)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


class GLFramebuffer {
  constructor(framebuffer) {
    this.framebuffer = framebuffer;
    this.stencil = null;
    this.dirtyId = -1;
    this.dirtyFormat = -1;
    this.dirtySize = -1;
    this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE;
    this.msaaBuffer = null;
    this.blitFramebuffer = null;
    this.mipLevel = 0;
  }
}


//# sourceMappingURL=GLFramebuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/framebuffer/MultisampleSystem.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/framebuffer/MultisampleSystem.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MultisampleSystem": () => (/* binding */ MultisampleSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");



class MultisampleSystem {
  constructor(renderer) {
    this.renderer = renderer;
  }
  contextChange(gl) {
    let samples;
    if (this.renderer.context.webGLVersion === 1) {
      const framebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);
      gl.bindFramebuffer(gl.FRAMEBUFFER, null);
      samples = gl.getParameter(gl.SAMPLES);
      gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);
    } else {
      const framebuffer = gl.getParameter(gl.DRAW_FRAMEBUFFER_BINDING);
      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
      samples = gl.getParameter(gl.SAMPLES);
      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, framebuffer);
    }
    if (samples >= _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.HIGH) {
      this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.HIGH;
    } else if (samples >= _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.MEDIUM) {
      this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.MEDIUM;
    } else if (samples >= _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.LOW) {
      this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.LOW;
    } else {
      this.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE;
    }
  }
  destroy() {
  }
}
MultisampleSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "_multisample"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(MultisampleSystem);


//# sourceMappingURL=MultisampleSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/Attribute.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/Attribute.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Attribute": () => (/* binding */ Attribute)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


class Attribute {
  constructor(buffer, size = 0, normalized = false, type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT, stride, start, instance) {
    this.buffer = buffer;
    this.size = size;
    this.normalized = normalized;
    this.type = type;
    this.stride = stride;
    this.start = start;
    this.instance = instance;
  }
  destroy() {
    this.buffer = null;
  }
  static from(buffer, size, normalized, type, stride) {
    return new Attribute(buffer, size, normalized, type, stride);
  }
}


//# sourceMappingURL=Attribute.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/Buffer.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Buffer": () => (/* binding */ Buffer)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");



let UID = 0;
class Buffer {
  constructor(data, _static = true, index = false) {
    this.data = data || new Float32Array(1);
    this._glBuffers = {};
    this._updateID = 0;
    this.index = index;
    this.static = _static;
    this.id = UID++;
    this.disposeRunner = new _pixi_runner__WEBPACK_IMPORTED_MODULE_1__.Runner("disposeBuffer");
  }
  update(data) {
    if (data instanceof Array) {
      data = new Float32Array(data);
    }
    this.data = data || this.data;
    this._updateID++;
  }
  dispose() {
    this.disposeRunner.emit(this, false);
  }
  destroy() {
    this.dispose();
    this.data = null;
  }
  set index(value) {
    this.type = value ? _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER : _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ARRAY_BUFFER;
  }
  get index() {
    return this.type === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
  }
  static from(data) {
    if (data instanceof Array) {
      data = new Float32Array(data);
    }
    return new Buffer(data);
  }
}


//# sourceMappingURL=Buffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/BufferSystem.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/BufferSystem.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BufferSystem": () => (/* binding */ BufferSystem)
/* harmony export */ });
/* harmony import */ var _GLBuffer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GLBuffer.mjs */ "./node_modules/@pixi/core/lib/geometry/GLBuffer.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");



class BufferSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.managedBuffers = {};
    this.boundBufferBases = {};
  }
  destroy() {
    this.renderer = null;
  }
  contextChange() {
    this.disposeAll(true);
    this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
  }
  bind(buffer) {
    const { gl, CONTEXT_UID } = this;
    const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);
    gl.bindBuffer(buffer.type, glBuffer.buffer);
  }
  unbind(type) {
    const { gl } = this;
    gl.bindBuffer(type, null);
  }
  bindBufferBase(buffer, index) {
    const { gl, CONTEXT_UID } = this;
    if (this.boundBufferBases[index] !== buffer) {
      const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);
      this.boundBufferBases[index] = buffer;
      gl.bindBufferBase(gl.UNIFORM_BUFFER, index, glBuffer.buffer);
    }
  }
  bindBufferRange(buffer, index, offset) {
    const { gl, CONTEXT_UID } = this;
    offset = offset || 0;
    const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);
    gl.bindBufferRange(gl.UNIFORM_BUFFER, index || 0, glBuffer.buffer, offset * 256, 256);
  }
  update(buffer) {
    const { gl, CONTEXT_UID } = this;
    const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);
    if (buffer._updateID === glBuffer.updateID) {
      return;
    }
    glBuffer.updateID = buffer._updateID;
    gl.bindBuffer(buffer.type, glBuffer.buffer);
    if (glBuffer.byteLength >= buffer.data.byteLength) {
      gl.bufferSubData(buffer.type, 0, buffer.data);
    } else {
      const drawType = buffer.static ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW;
      glBuffer.byteLength = buffer.data.byteLength;
      gl.bufferData(buffer.type, buffer.data, drawType);
    }
  }
  dispose(buffer, contextLost) {
    if (!this.managedBuffers[buffer.id]) {
      return;
    }
    delete this.managedBuffers[buffer.id];
    const glBuffer = buffer._glBuffers[this.CONTEXT_UID];
    const gl = this.gl;
    buffer.disposeRunner.remove(this);
    if (!glBuffer) {
      return;
    }
    if (!contextLost) {
      gl.deleteBuffer(glBuffer.buffer);
    }
    delete buffer._glBuffers[this.CONTEXT_UID];
  }
  disposeAll(contextLost) {
    const all = Object.keys(this.managedBuffers);
    for (let i = 0; i < all.length; i++) {
      this.dispose(this.managedBuffers[all[i]], contextLost);
    }
  }
  createGLBuffer(buffer) {
    const { CONTEXT_UID, gl } = this;
    buffer._glBuffers[CONTEXT_UID] = new _GLBuffer_mjs__WEBPACK_IMPORTED_MODULE_0__.GLBuffer(gl.createBuffer());
    this.managedBuffers[buffer.id] = buffer;
    buffer.disposeRunner.add(this);
    return buffer._glBuffers[CONTEXT_UID];
  }
}
BufferSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "buffer"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(BufferSystem);


//# sourceMappingURL=BufferSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/GLBuffer.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/GLBuffer.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GLBuffer": () => (/* binding */ GLBuffer)
/* harmony export */ });
class GLBuffer {
  constructor(buffer) {
    this.buffer = buffer || null;
    this.updateID = -1;
    this.byteLength = -1;
    this.refCount = 0;
  }
}


//# sourceMappingURL=GLBuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/Geometry.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/Geometry.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Geometry": () => (/* binding */ Geometry)
/* harmony export */ });
/* harmony import */ var _Attribute_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Attribute.mjs */ "./node_modules/@pixi/core/lib/geometry/Attribute.mjs");
/* harmony import */ var _Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Buffer.mjs */ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs");
/* harmony import */ var _utils_interleaveTypedArrays_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/interleaveTypedArrays.mjs */ "./node_modules/@pixi/core/lib/geometry/utils/interleaveTypedArrays.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");







const byteSizeMap = { 5126: 4, 5123: 2, 5121: 1 };
let UID = 0;
const map = {
  Float32Array,
  Uint32Array,
  Int32Array,
  Uint8Array,
  Uint16Array
};
class Geometry {
  constructor(buffers = [], attributes = {}) {
    this.buffers = buffers;
    this.indexBuffer = null;
    this.attributes = attributes;
    this.glVertexArrayObjects = {};
    this.id = UID++;
    this.instanced = false;
    this.instanceCount = 1;
    this.disposeRunner = new _pixi_runner__WEBPACK_IMPORTED_MODULE_4__.Runner("disposeGeometry");
    this.refCount = 0;
  }
  addAttribute(id, buffer, size = 0, normalized = false, type, stride, start, instance = false) {
    if (!buffer) {
      throw new Error("You must pass a buffer when creating an attribute");
    }
    if (!(buffer instanceof _Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer)) {
      if (buffer instanceof Array) {
        buffer = new Float32Array(buffer);
      }
      buffer = new _Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer(buffer);
    }
    const ids = id.split("|");
    if (ids.length > 1) {
      for (let i = 0; i < ids.length; i++) {
        this.addAttribute(ids[i], buffer, size, normalized, type);
      }
      return this;
    }
    let bufferIndex = this.buffers.indexOf(buffer);
    if (bufferIndex === -1) {
      this.buffers.push(buffer);
      bufferIndex = this.buffers.length - 1;
    }
    this.attributes[id] = new _Attribute_mjs__WEBPACK_IMPORTED_MODULE_0__.Attribute(bufferIndex, size, normalized, type, stride, start, instance);
    this.instanced = this.instanced || instance;
    return this;
  }
  getAttribute(id) {
    return this.attributes[id];
  }
  getBuffer(id) {
    return this.buffers[this.getAttribute(id).buffer];
  }
  addIndex(buffer) {
    if (!(buffer instanceof _Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer)) {
      if (buffer instanceof Array) {
        buffer = new Uint16Array(buffer);
      }
      buffer = new _Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer(buffer);
    }
    buffer.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
    this.indexBuffer = buffer;
    if (!this.buffers.includes(buffer)) {
      this.buffers.push(buffer);
    }
    return this;
  }
  getIndex() {
    return this.indexBuffer;
  }
  interleave() {
    if (this.buffers.length === 1 || this.buffers.length === 2 && this.indexBuffer)
      return this;
    const arrays = [];
    const sizes = [];
    const interleavedBuffer = new _Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer();
    let i;
    for (i in this.attributes) {
      const attribute = this.attributes[i];
      const buffer = this.buffers[attribute.buffer];
      arrays.push(buffer.data);
      sizes.push(attribute.size * byteSizeMap[attribute.type] / 4);
      attribute.buffer = 0;
    }
    interleavedBuffer.data = (0,_utils_interleaveTypedArrays_mjs__WEBPACK_IMPORTED_MODULE_2__.interleaveTypedArrays)(arrays, sizes);
    for (i = 0; i < this.buffers.length; i++) {
      if (this.buffers[i] !== this.indexBuffer) {
        this.buffers[i].destroy();
      }
    }
    this.buffers = [interleavedBuffer];
    if (this.indexBuffer) {
      this.buffers.push(this.indexBuffer);
    }
    return this;
  }
  getSize() {
    for (const i in this.attributes) {
      const attribute = this.attributes[i];
      const buffer = this.buffers[attribute.buffer];
      return buffer.data.length / (attribute.stride / 4 || attribute.size);
    }
    return 0;
  }
  dispose() {
    this.disposeRunner.emit(this, false);
  }
  destroy() {
    this.dispose();
    this.buffers = null;
    this.indexBuffer = null;
    this.attributes = null;
  }
  clone() {
    const geometry = new Geometry();
    for (let i = 0; i < this.buffers.length; i++) {
      geometry.buffers[i] = new _Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer(this.buffers[i].data.slice(0));
    }
    for (const i in this.attributes) {
      const attrib = this.attributes[i];
      geometry.attributes[i] = new _Attribute_mjs__WEBPACK_IMPORTED_MODULE_0__.Attribute(attrib.buffer, attrib.size, attrib.normalized, attrib.type, attrib.stride, attrib.start, attrib.instance);
    }
    if (this.indexBuffer) {
      geometry.indexBuffer = geometry.buffers[this.buffers.indexOf(this.indexBuffer)];
      geometry.indexBuffer.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
    }
    return geometry;
  }
  static merge(geometries) {
    const geometryOut = new Geometry();
    const arrays = [];
    const sizes = [];
    const offsets = [];
    let geometry;
    for (let i = 0; i < geometries.length; i++) {
      geometry = geometries[i];
      for (let j = 0; j < geometry.buffers.length; j++) {
        sizes[j] = sizes[j] || 0;
        sizes[j] += geometry.buffers[j].data.length;
        offsets[j] = 0;
      }
    }
    for (let i = 0; i < geometry.buffers.length; i++) {
      arrays[i] = new map[(0,_pixi_utils__WEBPACK_IMPORTED_MODULE_3__.getBufferType)(geometry.buffers[i].data)](sizes[i]);
      geometryOut.buffers[i] = new _Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer(arrays[i]);
    }
    for (let i = 0; i < geometries.length; i++) {
      geometry = geometries[i];
      for (let j = 0; j < geometry.buffers.length; j++) {
        arrays[j].set(geometry.buffers[j].data, offsets[j]);
        offsets[j] += geometry.buffers[j].data.length;
      }
    }
    geometryOut.attributes = geometry.attributes;
    if (geometry.indexBuffer) {
      geometryOut.indexBuffer = geometryOut.buffers[geometry.buffers.indexOf(geometry.indexBuffer)];
      geometryOut.indexBuffer.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
      let offset = 0;
      let stride = 0;
      let offset2 = 0;
      let bufferIndexToCount = 0;
      for (let i = 0; i < geometry.buffers.length; i++) {
        if (geometry.buffers[i] !== geometry.indexBuffer) {
          bufferIndexToCount = i;
          break;
        }
      }
      for (const i in geometry.attributes) {
        const attribute = geometry.attributes[i];
        if ((attribute.buffer | 0) === bufferIndexToCount) {
          stride += attribute.size * byteSizeMap[attribute.type] / 4;
        }
      }
      for (let i = 0; i < geometries.length; i++) {
        const indexBufferData = geometries[i].indexBuffer.data;
        for (let j = 0; j < indexBufferData.length; j++) {
          geometryOut.indexBuffer.data[j + offset2] += offset;
        }
        offset += geometries[i].buffers[bufferIndexToCount].data.length / stride;
        offset2 += indexBufferData.length;
      }
    }
    return geometryOut;
  }
}


//# sourceMappingURL=Geometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/GeometrySystem.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/GeometrySystem.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeometrySystem": () => (/* binding */ GeometrySystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../settings.mjs */ "./node_modules/@pixi/core/lib/settings.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");





const byteSizeMap = { 5126: 4, 5123: 2, 5121: 1 };
class GeometrySystem {
  constructor(renderer) {
    this.renderer = renderer;
    this._activeGeometry = null;
    this._activeVao = null;
    this.hasVao = true;
    this.hasInstance = true;
    this.canUseUInt32ElementIndex = false;
    this.managedGeometries = {};
  }
  contextChange() {
    this.disposeAll(true);
    const gl = this.gl = this.renderer.gl;
    const context = this.renderer.context;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
    if (context.webGLVersion !== 2) {
      let nativeVaoExtension = this.renderer.context.extensions.vertexArrayObject;
      if (_pixi_settings__WEBPACK_IMPORTED_MODULE_3__.settings.PREFER_ENV === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ENV.WEBGL_LEGACY) {
        nativeVaoExtension = null;
      }
      if (nativeVaoExtension) {
        gl.createVertexArray = () => nativeVaoExtension.createVertexArrayOES();
        gl.bindVertexArray = (vao) => nativeVaoExtension.bindVertexArrayOES(vao);
        gl.deleteVertexArray = (vao) => nativeVaoExtension.deleteVertexArrayOES(vao);
      } else {
        this.hasVao = false;
        gl.createVertexArray = () => null;
        gl.bindVertexArray = () => null;
        gl.deleteVertexArray = () => null;
      }
    }
    if (context.webGLVersion !== 2) {
      const instanceExt = gl.getExtension("ANGLE_instanced_arrays");
      if (instanceExt) {
        gl.vertexAttribDivisor = (a, b) => instanceExt.vertexAttribDivisorANGLE(a, b);
        gl.drawElementsInstanced = (a, b, c, d, e) => instanceExt.drawElementsInstancedANGLE(a, b, c, d, e);
        gl.drawArraysInstanced = (a, b, c, d) => instanceExt.drawArraysInstancedANGLE(a, b, c, d);
      } else {
        this.hasInstance = false;
      }
    }
    this.canUseUInt32ElementIndex = context.webGLVersion === 2 || !!context.extensions.uint32ElementIndex;
  }
  bind(geometry, shader) {
    shader = shader || this.renderer.shader.shader;
    const { gl } = this;
    let vaos = geometry.glVertexArrayObjects[this.CONTEXT_UID];
    let incRefCount = false;
    if (!vaos) {
      this.managedGeometries[geometry.id] = geometry;
      geometry.disposeRunner.add(this);
      geometry.glVertexArrayObjects[this.CONTEXT_UID] = vaos = {};
      incRefCount = true;
    }
    const vao = vaos[shader.program.id] || this.initGeometryVao(geometry, shader, incRefCount);
    this._activeGeometry = geometry;
    if (this._activeVao !== vao) {
      this._activeVao = vao;
      if (this.hasVao) {
        gl.bindVertexArray(vao);
      } else {
        this.activateVao(geometry, shader.program);
      }
    }
    this.updateBuffers();
  }
  reset() {
    this.unbind();
  }
  updateBuffers() {
    const geometry = this._activeGeometry;
    const bufferSystem = this.renderer.buffer;
    for (let i = 0; i < geometry.buffers.length; i++) {
      const buffer = geometry.buffers[i];
      bufferSystem.update(buffer);
    }
  }
  checkCompatibility(geometry, program) {
    const geometryAttributes = geometry.attributes;
    const shaderAttributes = program.attributeData;
    for (const j in shaderAttributes) {
      if (!geometryAttributes[j]) {
        throw new Error(`shader and geometry incompatible, geometry missing the "${j}" attribute`);
      }
    }
  }
  getSignature(geometry, program) {
    const attribs = geometry.attributes;
    const shaderAttributes = program.attributeData;
    const strings = ["g", geometry.id];
    for (const i in attribs) {
      if (shaderAttributes[i]) {
        strings.push(i, shaderAttributes[i].location);
      }
    }
    return strings.join("-");
  }
  initGeometryVao(geometry, shader, incRefCount = true) {
    const gl = this.gl;
    const CONTEXT_UID = this.CONTEXT_UID;
    const bufferSystem = this.renderer.buffer;
    const program = shader.program;
    if (!program.glPrograms[CONTEXT_UID]) {
      this.renderer.shader.generateProgram(shader);
    }
    this.checkCompatibility(geometry, program);
    const signature = this.getSignature(geometry, program);
    const vaoObjectHash = geometry.glVertexArrayObjects[this.CONTEXT_UID];
    let vao = vaoObjectHash[signature];
    if (vao) {
      vaoObjectHash[program.id] = vao;
      return vao;
    }
    const buffers = geometry.buffers;
    const attributes = geometry.attributes;
    const tempStride = {};
    const tempStart = {};
    for (const j in buffers) {
      tempStride[j] = 0;
      tempStart[j] = 0;
    }
    for (const j in attributes) {
      if (!attributes[j].size && program.attributeData[j]) {
        attributes[j].size = program.attributeData[j].size;
      } else if (!attributes[j].size) {
        console.warn(`PIXI Geometry attribute '${j}' size cannot be determined (likely the bound shader does not have the attribute)`);
      }
      tempStride[attributes[j].buffer] += attributes[j].size * byteSizeMap[attributes[j].type];
    }
    for (const j in attributes) {
      const attribute = attributes[j];
      const attribSize = attribute.size;
      if (attribute.stride === void 0) {
        if (tempStride[attribute.buffer] === attribSize * byteSizeMap[attribute.type]) {
          attribute.stride = 0;
        } else {
          attribute.stride = tempStride[attribute.buffer];
        }
      }
      if (attribute.start === void 0) {
        attribute.start = tempStart[attribute.buffer];
        tempStart[attribute.buffer] += attribSize * byteSizeMap[attribute.type];
      }
    }
    vao = gl.createVertexArray();
    gl.bindVertexArray(vao);
    for (let i = 0; i < buffers.length; i++) {
      const buffer = buffers[i];
      bufferSystem.bind(buffer);
      if (incRefCount) {
        buffer._glBuffers[CONTEXT_UID].refCount++;
      }
    }
    this.activateVao(geometry, program);
    vaoObjectHash[program.id] = vao;
    vaoObjectHash[signature] = vao;
    gl.bindVertexArray(null);
    bufferSystem.unbind(_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.ARRAY_BUFFER);
    return vao;
  }
  disposeGeometry(geometry, contextLost) {
    if (!this.managedGeometries[geometry.id]) {
      return;
    }
    delete this.managedGeometries[geometry.id];
    const vaos = geometry.glVertexArrayObjects[this.CONTEXT_UID];
    const gl = this.gl;
    const buffers = geometry.buffers;
    const bufferSystem = this.renderer?.buffer;
    geometry.disposeRunner.remove(this);
    if (!vaos) {
      return;
    }
    if (bufferSystem) {
      for (let i = 0; i < buffers.length; i++) {
        const buf = buffers[i]._glBuffers[this.CONTEXT_UID];
        if (buf) {
          buf.refCount--;
          if (buf.refCount === 0 && !contextLost) {
            bufferSystem.dispose(buffers[i], contextLost);
          }
        }
      }
    }
    if (!contextLost) {
      for (const vaoId in vaos) {
        if (vaoId[0] === "g") {
          const vao = vaos[vaoId];
          if (this._activeVao === vao) {
            this.unbind();
          }
          gl.deleteVertexArray(vao);
        }
      }
    }
    delete geometry.glVertexArrayObjects[this.CONTEXT_UID];
  }
  disposeAll(contextLost) {
    const all = Object.keys(this.managedGeometries);
    for (let i = 0; i < all.length; i++) {
      this.disposeGeometry(this.managedGeometries[all[i]], contextLost);
    }
  }
  activateVao(geometry, program) {
    const gl = this.gl;
    const CONTEXT_UID = this.CONTEXT_UID;
    const bufferSystem = this.renderer.buffer;
    const buffers = geometry.buffers;
    const attributes = geometry.attributes;
    if (geometry.indexBuffer) {
      bufferSystem.bind(geometry.indexBuffer);
    }
    let lastBuffer = null;
    for (const j in attributes) {
      const attribute = attributes[j];
      const buffer = buffers[attribute.buffer];
      const glBuffer = buffer._glBuffers[CONTEXT_UID];
      if (program.attributeData[j]) {
        if (lastBuffer !== glBuffer) {
          bufferSystem.bind(buffer);
          lastBuffer = glBuffer;
        }
        const location = program.attributeData[j].location;
        gl.enableVertexAttribArray(location);
        gl.vertexAttribPointer(location, attribute.size, attribute.type || gl.FLOAT, attribute.normalized, attribute.stride, attribute.start);
        if (attribute.instance) {
          if (this.hasInstance) {
            gl.vertexAttribDivisor(location, 1);
          } else {
            throw new Error("geometry error, GPU Instancing is not supported on this device");
          }
        }
      }
    }
  }
  draw(type, size, start, instanceCount) {
    const { gl } = this;
    const geometry = this._activeGeometry;
    if (geometry.indexBuffer) {
      const byteSize = geometry.indexBuffer.data.BYTES_PER_ELEMENT;
      const glType = byteSize === 2 ? gl.UNSIGNED_SHORT : gl.UNSIGNED_INT;
      if (byteSize === 2 || byteSize === 4 && this.canUseUInt32ElementIndex) {
        if (geometry.instanced) {
          gl.drawElementsInstanced(type, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize, instanceCount || 1);
        } else {
          gl.drawElements(type, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize);
        }
      } else {
        console.warn("unsupported index buffer type: uint32");
      }
    } else if (geometry.instanced) {
      gl.drawArraysInstanced(type, start, size || geometry.getSize(), instanceCount || 1);
    } else {
      gl.drawArrays(type, start, size || geometry.getSize());
    }
    return this;
  }
  unbind() {
    this.gl.bindVertexArray(null);
    this._activeVao = null;
    this._activeGeometry = null;
  }
  destroy() {
    this.renderer = null;
  }
}
GeometrySystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__.ExtensionType.RendererSystem,
  name: "geometry"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_2__.extensions.add(GeometrySystem);


//# sourceMappingURL=GeometrySystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/ViewableBuffer.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/ViewableBuffer.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ViewableBuffer": () => (/* binding */ ViewableBuffer)
/* harmony export */ });
class ViewableBuffer {
  constructor(sizeOrBuffer) {
    if (typeof sizeOrBuffer === "number") {
      this.rawBinaryData = new ArrayBuffer(sizeOrBuffer);
    } else if (sizeOrBuffer instanceof Uint8Array) {
      this.rawBinaryData = sizeOrBuffer.buffer;
    } else {
      this.rawBinaryData = sizeOrBuffer;
    }
    this.uint32View = new Uint32Array(this.rawBinaryData);
    this.float32View = new Float32Array(this.rawBinaryData);
  }
  get int8View() {
    if (!this._int8View) {
      this._int8View = new Int8Array(this.rawBinaryData);
    }
    return this._int8View;
  }
  get uint8View() {
    if (!this._uint8View) {
      this._uint8View = new Uint8Array(this.rawBinaryData);
    }
    return this._uint8View;
  }
  get int16View() {
    if (!this._int16View) {
      this._int16View = new Int16Array(this.rawBinaryData);
    }
    return this._int16View;
  }
  get uint16View() {
    if (!this._uint16View) {
      this._uint16View = new Uint16Array(this.rawBinaryData);
    }
    return this._uint16View;
  }
  get int32View() {
    if (!this._int32View) {
      this._int32View = new Int32Array(this.rawBinaryData);
    }
    return this._int32View;
  }
  view(type) {
    return this[`${type}View`];
  }
  destroy() {
    this.rawBinaryData = null;
    this._int8View = null;
    this._uint8View = null;
    this._int16View = null;
    this._uint16View = null;
    this._int32View = null;
    this.uint32View = null;
    this.float32View = null;
  }
  static sizeOf(type) {
    switch (type) {
      case "int8":
      case "uint8":
        return 1;
      case "int16":
      case "uint16":
        return 2;
      case "int32":
      case "uint32":
      case "float32":
        return 4;
      default:
        throw new Error(`${type} isn't a valid view type`);
    }
  }
}


//# sourceMappingURL=ViewableBuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/geometry/utils/interleaveTypedArrays.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/geometry/utils/interleaveTypedArrays.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "interleaveTypedArrays": () => (/* binding */ interleaveTypedArrays)
/* harmony export */ });
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");


const map = {
  Float32Array,
  Uint32Array,
  Int32Array,
  Uint8Array
};
function interleaveTypedArrays(arrays, sizes) {
  let outSize = 0;
  let stride = 0;
  const views = {};
  for (let i = 0; i < arrays.length; i++) {
    stride += sizes[i];
    outSize += arrays[i].length;
  }
  const buffer = new ArrayBuffer(outSize * 4);
  let out = null;
  let littleOffset = 0;
  for (let i = 0; i < arrays.length; i++) {
    const size = sizes[i];
    const array = arrays[i];
    const type = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.getBufferType)(array);
    if (!views[type]) {
      views[type] = new map[type](buffer);
    }
    out = views[type];
    for (let j = 0; j < array.length; j++) {
      const indexStart = (j / size | 0) * stride + littleOffset;
      const index = j % size;
      out[indexStart + index] = array[j];
    }
    littleOffset += size;
  }
  return new Float32Array(buffer);
}


//# sourceMappingURL=interleaveTypedArrays.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/index.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/core/lib/index.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ALPHA_MODES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.ALPHA_MODES),
/* harmony export */   "AbstractMultiResource": () => (/* reexport safe */ _textures_resources_AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_79__.AbstractMultiResource),
/* harmony export */   "ArrayResource": () => (/* reexport safe */ _textures_resources_ArrayResource_mjs__WEBPACK_IMPORTED_MODULE_80__.ArrayResource),
/* harmony export */   "Attribute": () => (/* reexport safe */ _geometry_Attribute_mjs__WEBPACK_IMPORTED_MODULE_49__.Attribute),
/* harmony export */   "BLEND_MODES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BLEND_MODES),
/* harmony export */   "BUFFER_BITS": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BUFFER_BITS),
/* harmony export */   "BUFFER_TYPE": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.BUFFER_TYPE),
/* harmony export */   "BackgroundSystem": () => (/* reexport safe */ _background_BackgroundSystem_mjs__WEBPACK_IMPORTED_MODULE_71__.BackgroundSystem),
/* harmony export */   "BaseImageResource": () => (/* reexport safe */ _textures_resources_BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_77__.BaseImageResource),
/* harmony export */   "BaseRenderTexture": () => (/* reexport safe */ _renderTexture_BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_24__.BaseRenderTexture),
/* harmony export */   "BaseTexture": () => (/* reexport safe */ _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_19__.BaseTexture),
/* harmony export */   "BatchDrawCall": () => (/* reexport safe */ _batch_BatchDrawCall_mjs__WEBPACK_IMPORTED_MODULE_31__.BatchDrawCall),
/* harmony export */   "BatchGeometry": () => (/* reexport safe */ _batch_BatchGeometry_mjs__WEBPACK_IMPORTED_MODULE_30__.BatchGeometry),
/* harmony export */   "BatchRenderer": () => (/* reexport safe */ _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_28__.BatchRenderer),
/* harmony export */   "BatchShaderGenerator": () => (/* reexport safe */ _batch_BatchShaderGenerator_mjs__WEBPACK_IMPORTED_MODULE_29__.BatchShaderGenerator),
/* harmony export */   "BatchSystem": () => (/* reexport safe */ _batch_BatchSystem_mjs__WEBPACK_IMPORTED_MODULE_66__.BatchSystem),
/* harmony export */   "BatchTextureArray": () => (/* reexport safe */ _batch_BatchTextureArray_mjs__WEBPACK_IMPORTED_MODULE_32__.BatchTextureArray),
/* harmony export */   "BrowserAdapter": () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_5__.BrowserAdapter),
/* harmony export */   "Buffer": () => (/* reexport safe */ _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_50__.Buffer),
/* harmony export */   "BufferResource": () => (/* reexport safe */ _textures_resources_BufferResource_mjs__WEBPACK_IMPORTED_MODULE_81__.BufferResource),
/* harmony export */   "BufferSystem": () => (/* reexport safe */ _geometry_BufferSystem_mjs__WEBPACK_IMPORTED_MODULE_68__.BufferSystem),
/* harmony export */   "CLEAR_MODES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.CLEAR_MODES),
/* harmony export */   "COLOR_MASK_BITS": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.COLOR_MASK_BITS),
/* harmony export */   "CanvasResource": () => (/* reexport safe */ _textures_resources_CanvasResource_mjs__WEBPACK_IMPORTED_MODULE_82__.CanvasResource),
/* harmony export */   "Circle": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Circle),
/* harmony export */   "ContextSystem": () => (/* reexport safe */ _context_ContextSystem_mjs__WEBPACK_IMPORTED_MODULE_65__.ContextSystem),
/* harmony export */   "CubeResource": () => (/* reexport safe */ _textures_resources_CubeResource_mjs__WEBPACK_IMPORTED_MODULE_83__.CubeResource),
/* harmony export */   "DEG_TO_RAD": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.DEG_TO_RAD),
/* harmony export */   "DRAW_MODES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.DRAW_MODES),
/* harmony export */   "ENV": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.ENV),
/* harmony export */   "Ellipse": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Ellipse),
/* harmony export */   "ExtensionType": () => (/* reexport safe */ _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__.ExtensionType),
/* harmony export */   "FORMATS": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.FORMATS),
/* harmony export */   "Filter": () => (/* reexport safe */ _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_46__.Filter),
/* harmony export */   "FilterState": () => (/* reexport safe */ _filters_FilterState_mjs__WEBPACK_IMPORTED_MODULE_47__.FilterState),
/* harmony export */   "FilterSystem": () => (/* reexport safe */ _filters_FilterSystem_mjs__WEBPACK_IMPORTED_MODULE_57__.FilterSystem),
/* harmony export */   "Framebuffer": () => (/* reexport safe */ _framebuffer_Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_16__.Framebuffer),
/* harmony export */   "FramebufferSystem": () => (/* reexport safe */ _framebuffer_FramebufferSystem_mjs__WEBPACK_IMPORTED_MODULE_58__.FramebufferSystem),
/* harmony export */   "GC_MODES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.GC_MODES),
/* harmony export */   "GLFramebuffer": () => (/* reexport safe */ _framebuffer_GLFramebuffer_mjs__WEBPACK_IMPORTED_MODULE_17__.GLFramebuffer),
/* harmony export */   "GLProgram": () => (/* reexport safe */ _shader_GLProgram_mjs__WEBPACK_IMPORTED_MODULE_42__.GLProgram),
/* harmony export */   "GLTexture": () => (/* reexport safe */ _textures_GLTexture_mjs__WEBPACK_IMPORTED_MODULE_20__.GLTexture),
/* harmony export */   "GenerateTextureSystem": () => (/* reexport safe */ _renderTexture_GenerateTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_70__.GenerateTextureSystem),
/* harmony export */   "Geometry": () => (/* reexport safe */ _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_51__.Geometry),
/* harmony export */   "GeometrySystem": () => (/* reexport safe */ _geometry_GeometrySystem_mjs__WEBPACK_IMPORTED_MODULE_63__.GeometrySystem),
/* harmony export */   "IGLUniformData": () => (/* reexport safe */ _shader_GLProgram_mjs__WEBPACK_IMPORTED_MODULE_42__.IGLUniformData),
/* harmony export */   "INSTALLED": () => (/* reexport safe */ _textures_resources_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_78__.INSTALLED),
/* harmony export */   "ImageBitmapResource": () => (/* reexport safe */ _textures_resources_ImageBitmapResource_mjs__WEBPACK_IMPORTED_MODULE_87__.ImageBitmapResource),
/* harmony export */   "ImageResource": () => (/* reexport safe */ _textures_resources_ImageResource_mjs__WEBPACK_IMPORTED_MODULE_84__.ImageResource),
/* harmony export */   "MASK_TYPES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.MASK_TYPES),
/* harmony export */   "MIPMAP_MODES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.MIPMAP_MODES),
/* harmony export */   "MSAA_QUALITY": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.MSAA_QUALITY),
/* harmony export */   "MaskData": () => (/* reexport safe */ _mask_MaskData_mjs__WEBPACK_IMPORTED_MODULE_44__.MaskData),
/* harmony export */   "MaskSystem": () => (/* reexport safe */ _mask_MaskSystem_mjs__WEBPACK_IMPORTED_MODULE_54__.MaskSystem),
/* harmony export */   "Matrix": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Matrix),
/* harmony export */   "MultisampleSystem": () => (/* reexport safe */ _framebuffer_MultisampleSystem_mjs__WEBPACK_IMPORTED_MODULE_69__.MultisampleSystem),
/* harmony export */   "ObjectRenderer": () => (/* reexport safe */ _batch_ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_27__.ObjectRenderer),
/* harmony export */   "ObjectRendererSystem": () => (/* reexport safe */ _render_ObjectRendererSystem_mjs__WEBPACK_IMPORTED_MODULE_73__.ObjectRendererSystem),
/* harmony export */   "ObservablePoint": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.ObservablePoint),
/* harmony export */   "PI_2": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.PI_2),
/* harmony export */   "PRECISION": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.PRECISION),
/* harmony export */   "PluginSystem": () => (/* reexport safe */ _plugin_PluginSystem_mjs__WEBPACK_IMPORTED_MODULE_14__.PluginSystem),
/* harmony export */   "Point": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Point),
/* harmony export */   "Polygon": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Polygon),
/* harmony export */   "Program": () => (/* reexport safe */ _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_41__.Program),
/* harmony export */   "ProjectionSystem": () => (/* reexport safe */ _projection_ProjectionSystem_mjs__WEBPACK_IMPORTED_MODULE_61__.ProjectionSystem),
/* harmony export */   "Quad": () => (/* reexport safe */ _utils_Quad_mjs__WEBPACK_IMPORTED_MODULE_33__.Quad),
/* harmony export */   "QuadUv": () => (/* reexport safe */ _utils_QuadUv_mjs__WEBPACK_IMPORTED_MODULE_34__.QuadUv),
/* harmony export */   "RAD_TO_DEG": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.RAD_TO_DEG),
/* harmony export */   "RENDERER_TYPE": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.RENDERER_TYPE),
/* harmony export */   "Rectangle": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Rectangle),
/* harmony export */   "RenderTexture": () => (/* reexport safe */ _renderTexture_RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_22__.RenderTexture),
/* harmony export */   "RenderTexturePool": () => (/* reexport safe */ _renderTexture_RenderTexturePool_mjs__WEBPACK_IMPORTED_MODULE_23__.RenderTexturePool),
/* harmony export */   "RenderTextureSystem": () => (/* reexport safe */ _renderTexture_RenderTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_59__.RenderTextureSystem),
/* harmony export */   "Renderer": () => (/* reexport safe */ _Renderer_mjs__WEBPACK_IMPORTED_MODULE_15__.Renderer),
/* harmony export */   "Resource": () => (/* reexport safe */ _textures_resources_Resource_mjs__WEBPACK_IMPORTED_MODULE_76__.Resource),
/* harmony export */   "RoundedRectangle": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.RoundedRectangle),
/* harmony export */   "Runner": () => (/* reexport safe */ _pixi_runner__WEBPACK_IMPORTED_MODULE_4__.Runner),
/* harmony export */   "SAMPLER_TYPES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.SAMPLER_TYPES),
/* harmony export */   "SCALE_MODES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.SCALE_MODES),
/* harmony export */   "SHAPES": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.SHAPES),
/* harmony export */   "SVGResource": () => (/* reexport safe */ _textures_resources_SVGResource_mjs__WEBPACK_IMPORTED_MODULE_85__.SVGResource),
/* harmony export */   "ScissorSystem": () => (/* reexport safe */ _mask_ScissorSystem_mjs__WEBPACK_IMPORTED_MODULE_56__.ScissorSystem),
/* harmony export */   "Shader": () => (/* reexport safe */ _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_40__.Shader),
/* harmony export */   "ShaderSystem": () => (/* reexport safe */ _shader_ShaderSystem_mjs__WEBPACK_IMPORTED_MODULE_64__.ShaderSystem),
/* harmony export */   "SpriteMaskFilter": () => (/* reexport safe */ _filters_spriteMask_SpriteMaskFilter_mjs__WEBPACK_IMPORTED_MODULE_45__.SpriteMaskFilter),
/* harmony export */   "StartupSystem": () => (/* reexport safe */ _startup_StartupSystem_mjs__WEBPACK_IMPORTED_MODULE_74__.StartupSystem),
/* harmony export */   "State": () => (/* reexport safe */ _state_State_mjs__WEBPACK_IMPORTED_MODULE_26__.State),
/* harmony export */   "StateSystem": () => (/* reexport safe */ _state_StateSystem_mjs__WEBPACK_IMPORTED_MODULE_62__.StateSystem),
/* harmony export */   "StencilSystem": () => (/* reexport safe */ _mask_StencilSystem_mjs__WEBPACK_IMPORTED_MODULE_55__.StencilSystem),
/* harmony export */   "SystemManager": () => (/* reexport safe */ _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_88__.SystemManager),
/* harmony export */   "TARGETS": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.TARGETS),
/* harmony export */   "TYPES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.TYPES),
/* harmony export */   "Texture": () => (/* reexport safe */ _textures_Texture_mjs__WEBPACK_IMPORTED_MODULE_18__.Texture),
/* harmony export */   "TextureGCSystem": () => (/* reexport safe */ _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_67__.TextureGCSystem),
/* harmony export */   "TextureMatrix": () => (/* reexport safe */ _textures_TextureMatrix_mjs__WEBPACK_IMPORTED_MODULE_21__.TextureMatrix),
/* harmony export */   "TextureSystem": () => (/* reexport safe */ _textures_TextureSystem_mjs__WEBPACK_IMPORTED_MODULE_60__.TextureSystem),
/* harmony export */   "TextureUvs": () => (/* reexport safe */ _textures_TextureUvs_mjs__WEBPACK_IMPORTED_MODULE_25__.TextureUvs),
/* harmony export */   "Ticker": () => (/* reexport safe */ _pixi_ticker__WEBPACK_IMPORTED_MODULE_6__.Ticker),
/* harmony export */   "TickerPlugin": () => (/* reexport safe */ _pixi_ticker__WEBPACK_IMPORTED_MODULE_6__.TickerPlugin),
/* harmony export */   "Transform": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.Transform),
/* harmony export */   "TransformFeedback": () => (/* reexport safe */ _transformFeedback_TransformFeedback_mjs__WEBPACK_IMPORTED_MODULE_53__.TransformFeedback),
/* harmony export */   "TransformFeedbackSystem": () => (/* reexport safe */ _transformFeedback_TransformFeedbackSystem_mjs__WEBPACK_IMPORTED_MODULE_75__.TransformFeedbackSystem),
/* harmony export */   "UPDATE_PRIORITY": () => (/* reexport safe */ _pixi_ticker__WEBPACK_IMPORTED_MODULE_6__.UPDATE_PRIORITY),
/* harmony export */   "UniformGroup": () => (/* reexport safe */ _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_43__.UniformGroup),
/* harmony export */   "VERSION": () => (/* binding */ VERSION),
/* harmony export */   "VideoResource": () => (/* reexport safe */ _textures_resources_VideoResource_mjs__WEBPACK_IMPORTED_MODULE_86__.VideoResource),
/* harmony export */   "ViewSystem": () => (/* reexport safe */ _view_ViewSystem_mjs__WEBPACK_IMPORTED_MODULE_72__.ViewSystem),
/* harmony export */   "ViewableBuffer": () => (/* reexport safe */ _geometry_ViewableBuffer_mjs__WEBPACK_IMPORTED_MODULE_52__.ViewableBuffer),
/* harmony export */   "WRAP_MODES": () => (/* reexport safe */ _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.WRAP_MODES),
/* harmony export */   "autoDetectRenderer": () => (/* reexport safe */ _autoDetectRenderer_mjs__WEBPACK_IMPORTED_MODULE_11__.autoDetectRenderer),
/* harmony export */   "autoDetectResource": () => (/* reexport safe */ _textures_resources_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_78__.autoDetectResource),
/* harmony export */   "checkMaxIfStatementsInShader": () => (/* reexport safe */ _shader_utils_checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_35__.checkMaxIfStatementsInShader),
/* harmony export */   "createUBOElements": () => (/* reexport safe */ _shader_utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_37__.createUBOElements),
/* harmony export */   "defaultFilterVertex": () => (/* reexport safe */ _fragments_index_mjs__WEBPACK_IMPORTED_MODULE_12__.defaultFilterVertex),
/* harmony export */   "defaultVertex": () => (/* reexport safe */ _fragments_index_mjs__WEBPACK_IMPORTED_MODULE_12__.defaultVertex),
/* harmony export */   "extensions": () => (/* reexport safe */ _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__.extensions),
/* harmony export */   "generateProgram": () => (/* reexport safe */ _shader_utils_generateProgram_mjs__WEBPACK_IMPORTED_MODULE_39__.generateProgram),
/* harmony export */   "generateUniformBufferSync": () => (/* reexport safe */ _shader_utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_37__.generateUniformBufferSync),
/* harmony export */   "getTestContext": () => (/* reexport safe */ _shader_utils_getTestContext_mjs__WEBPACK_IMPORTED_MODULE_38__.getTestContext),
/* harmony export */   "getUBOData": () => (/* reexport safe */ _shader_utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_37__.getUBOData),
/* harmony export */   "groupD8": () => (/* reexport safe */ _pixi_math__WEBPACK_IMPORTED_MODULE_3__.groupD8),
/* harmony export */   "isMobile": () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_5__.isMobile),
/* harmony export */   "settings": () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_5__.settings),
/* harmony export */   "uniformParsers": () => (/* reexport safe */ _shader_utils_uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_36__.uniformParsers),
/* harmony export */   "utils": () => (/* reexport module object */ _pixi_utils__WEBPACK_IMPORTED_MODULE_7__)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/core/lib/settings.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_ticker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @pixi/ticker */ "./node_modules/@pixi/ticker/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _textures_resources_index_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./textures/resources/index.mjs */ "./node_modules/@pixi/core/lib/textures/resources/index.mjs");
/* harmony import */ var _systems_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./systems.mjs */ "./node_modules/@pixi/core/lib/systems.mjs");
/* harmony import */ var _IRenderer_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./IRenderer.mjs */ "./node_modules/@pixi/core/lib/IRenderer.mjs");
/* harmony import */ var _autoDetectRenderer_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./autoDetectRenderer.mjs */ "./node_modules/@pixi/core/lib/autoDetectRenderer.mjs");
/* harmony import */ var _fragments_index_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./fragments/index.mjs */ "./node_modules/@pixi/core/lib/fragments/index.mjs");
/* harmony import */ var _system_ISystem_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./system/ISystem.mjs */ "./node_modules/@pixi/core/lib/system/ISystem.mjs");
/* harmony import */ var _plugin_PluginSystem_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./plugin/PluginSystem.mjs */ "./node_modules/@pixi/core/lib/plugin/PluginSystem.mjs");
/* harmony import */ var _Renderer_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Renderer.mjs */ "./node_modules/@pixi/core/lib/Renderer.mjs");
/* harmony import */ var _framebuffer_Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./framebuffer/Framebuffer.mjs */ "./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs");
/* harmony import */ var _framebuffer_GLFramebuffer_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./framebuffer/GLFramebuffer.mjs */ "./node_modules/@pixi/core/lib/framebuffer/GLFramebuffer.mjs");
/* harmony import */ var _textures_Texture_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./textures/Texture.mjs */ "./node_modules/@pixi/core/lib/textures/Texture.mjs");
/* harmony import */ var _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./textures/BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _textures_GLTexture_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./textures/GLTexture.mjs */ "./node_modules/@pixi/core/lib/textures/GLTexture.mjs");
/* harmony import */ var _textures_TextureMatrix_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./textures/TextureMatrix.mjs */ "./node_modules/@pixi/core/lib/textures/TextureMatrix.mjs");
/* harmony import */ var _renderTexture_RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./renderTexture/RenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs");
/* harmony import */ var _renderTexture_RenderTexturePool_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./renderTexture/RenderTexturePool.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTexturePool.mjs");
/* harmony import */ var _renderTexture_BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./renderTexture/BaseRenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs");
/* harmony import */ var _textures_TextureUvs_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./textures/TextureUvs.mjs */ "./node_modules/@pixi/core/lib/textures/TextureUvs.mjs");
/* harmony import */ var _state_State_mjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./state/State.mjs */ "./node_modules/@pixi/core/lib/state/State.mjs");
/* harmony import */ var _batch_ObjectRenderer_mjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./batch/ObjectRenderer.mjs */ "./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs");
/* harmony import */ var _batch_BatchRenderer_mjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./batch/BatchRenderer.mjs */ "./node_modules/@pixi/core/lib/batch/BatchRenderer.mjs");
/* harmony import */ var _batch_BatchShaderGenerator_mjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./batch/BatchShaderGenerator.mjs */ "./node_modules/@pixi/core/lib/batch/BatchShaderGenerator.mjs");
/* harmony import */ var _batch_BatchGeometry_mjs__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./batch/BatchGeometry.mjs */ "./node_modules/@pixi/core/lib/batch/BatchGeometry.mjs");
/* harmony import */ var _batch_BatchDrawCall_mjs__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./batch/BatchDrawCall.mjs */ "./node_modules/@pixi/core/lib/batch/BatchDrawCall.mjs");
/* harmony import */ var _batch_BatchTextureArray_mjs__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./batch/BatchTextureArray.mjs */ "./node_modules/@pixi/core/lib/batch/BatchTextureArray.mjs");
/* harmony import */ var _utils_Quad_mjs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./utils/Quad.mjs */ "./node_modules/@pixi/core/lib/utils/Quad.mjs");
/* harmony import */ var _utils_QuadUv_mjs__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./utils/QuadUv.mjs */ "./node_modules/@pixi/core/lib/utils/QuadUv.mjs");
/* harmony import */ var _shader_utils_checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./shader/utils/checkMaxIfStatementsInShader.mjs */ "./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs");
/* harmony import */ var _shader_utils_uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./shader/utils/uniformParsers.mjs */ "./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs");
/* harmony import */ var _shader_utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./shader/utils/generateUniformBufferSync.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateUniformBufferSync.mjs");
/* harmony import */ var _shader_utils_getTestContext_mjs__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./shader/utils/getTestContext.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs");
/* harmony import */ var _shader_utils_generateProgram_mjs__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./shader/utils/generateProgram.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateProgram.mjs");
/* harmony import */ var _shader_Shader_mjs__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./shader/Shader.mjs */ "./node_modules/@pixi/core/lib/shader/Shader.mjs");
/* harmony import */ var _shader_Program_mjs__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./shader/Program.mjs */ "./node_modules/@pixi/core/lib/shader/Program.mjs");
/* harmony import */ var _shader_GLProgram_mjs__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./shader/GLProgram.mjs */ "./node_modules/@pixi/core/lib/shader/GLProgram.mjs");
/* harmony import */ var _shader_UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./shader/UniformGroup.mjs */ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs");
/* harmony import */ var _mask_MaskData_mjs__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./mask/MaskData.mjs */ "./node_modules/@pixi/core/lib/mask/MaskData.mjs");
/* harmony import */ var _filters_spriteMask_SpriteMaskFilter_mjs__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./filters/spriteMask/SpriteMaskFilter.mjs */ "./node_modules/@pixi/core/lib/filters/spriteMask/SpriteMaskFilter.mjs");
/* harmony import */ var _filters_Filter_mjs__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./filters/Filter.mjs */ "./node_modules/@pixi/core/lib/filters/Filter.mjs");
/* harmony import */ var _filters_FilterState_mjs__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./filters/FilterState.mjs */ "./node_modules/@pixi/core/lib/filters/FilterState.mjs");
/* harmony import */ var _filters_IFilterTarget_mjs__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./filters/IFilterTarget.mjs */ "./node_modules/@pixi/core/lib/filters/IFilterTarget.mjs");
/* harmony import */ var _geometry_Attribute_mjs__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./geometry/Attribute.mjs */ "./node_modules/@pixi/core/lib/geometry/Attribute.mjs");
/* harmony import */ var _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./geometry/Buffer.mjs */ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs");
/* harmony import */ var _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./geometry/Geometry.mjs */ "./node_modules/@pixi/core/lib/geometry/Geometry.mjs");
/* harmony import */ var _geometry_ViewableBuffer_mjs__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./geometry/ViewableBuffer.mjs */ "./node_modules/@pixi/core/lib/geometry/ViewableBuffer.mjs");
/* harmony import */ var _transformFeedback_TransformFeedback_mjs__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./transformFeedback/TransformFeedback.mjs */ "./node_modules/@pixi/core/lib/transformFeedback/TransformFeedback.mjs");
/* harmony import */ var _mask_MaskSystem_mjs__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./mask/MaskSystem.mjs */ "./node_modules/@pixi/core/lib/mask/MaskSystem.mjs");
/* harmony import */ var _mask_StencilSystem_mjs__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./mask/StencilSystem.mjs */ "./node_modules/@pixi/core/lib/mask/StencilSystem.mjs");
/* harmony import */ var _mask_ScissorSystem_mjs__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./mask/ScissorSystem.mjs */ "./node_modules/@pixi/core/lib/mask/ScissorSystem.mjs");
/* harmony import */ var _filters_FilterSystem_mjs__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./filters/FilterSystem.mjs */ "./node_modules/@pixi/core/lib/filters/FilterSystem.mjs");
/* harmony import */ var _framebuffer_FramebufferSystem_mjs__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./framebuffer/FramebufferSystem.mjs */ "./node_modules/@pixi/core/lib/framebuffer/FramebufferSystem.mjs");
/* harmony import */ var _renderTexture_RenderTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./renderTexture/RenderTextureSystem.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTextureSystem.mjs");
/* harmony import */ var _textures_TextureSystem_mjs__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./textures/TextureSystem.mjs */ "./node_modules/@pixi/core/lib/textures/TextureSystem.mjs");
/* harmony import */ var _projection_ProjectionSystem_mjs__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./projection/ProjectionSystem.mjs */ "./node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs");
/* harmony import */ var _state_StateSystem_mjs__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./state/StateSystem.mjs */ "./node_modules/@pixi/core/lib/state/StateSystem.mjs");
/* harmony import */ var _geometry_GeometrySystem_mjs__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./geometry/GeometrySystem.mjs */ "./node_modules/@pixi/core/lib/geometry/GeometrySystem.mjs");
/* harmony import */ var _shader_ShaderSystem_mjs__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./shader/ShaderSystem.mjs */ "./node_modules/@pixi/core/lib/shader/ShaderSystem.mjs");
/* harmony import */ var _context_ContextSystem_mjs__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./context/ContextSystem.mjs */ "./node_modules/@pixi/core/lib/context/ContextSystem.mjs");
/* harmony import */ var _batch_BatchSystem_mjs__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./batch/BatchSystem.mjs */ "./node_modules/@pixi/core/lib/batch/BatchSystem.mjs");
/* harmony import */ var _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./textures/TextureGCSystem.mjs */ "./node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs");
/* harmony import */ var _geometry_BufferSystem_mjs__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./geometry/BufferSystem.mjs */ "./node_modules/@pixi/core/lib/geometry/BufferSystem.mjs");
/* harmony import */ var _framebuffer_MultisampleSystem_mjs__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./framebuffer/MultisampleSystem.mjs */ "./node_modules/@pixi/core/lib/framebuffer/MultisampleSystem.mjs");
/* harmony import */ var _renderTexture_GenerateTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./renderTexture/GenerateTextureSystem.mjs */ "./node_modules/@pixi/core/lib/renderTexture/GenerateTextureSystem.mjs");
/* harmony import */ var _background_BackgroundSystem_mjs__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./background/BackgroundSystem.mjs */ "./node_modules/@pixi/core/lib/background/BackgroundSystem.mjs");
/* harmony import */ var _view_ViewSystem_mjs__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./view/ViewSystem.mjs */ "./node_modules/@pixi/core/lib/view/ViewSystem.mjs");
/* harmony import */ var _render_ObjectRendererSystem_mjs__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./render/ObjectRendererSystem.mjs */ "./node_modules/@pixi/core/lib/render/ObjectRendererSystem.mjs");
/* harmony import */ var _startup_StartupSystem_mjs__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./startup/StartupSystem.mjs */ "./node_modules/@pixi/core/lib/startup/StartupSystem.mjs");
/* harmony import */ var _transformFeedback_TransformFeedbackSystem_mjs__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./transformFeedback/TransformFeedbackSystem.mjs */ "./node_modules/@pixi/core/lib/transformFeedback/TransformFeedbackSystem.mjs");
/* harmony import */ var _textures_resources_Resource_mjs__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./textures/resources/Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");
/* harmony import */ var _textures_resources_BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./textures/resources/BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");
/* harmony import */ var _textures_resources_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./textures/resources/autoDetectResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs");
/* harmony import */ var _textures_resources_AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ./textures/resources/AbstractMultiResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs");
/* harmony import */ var _textures_resources_ArrayResource_mjs__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ./textures/resources/ArrayResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ArrayResource.mjs");
/* harmony import */ var _textures_resources_BufferResource_mjs__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ./textures/resources/BufferResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs");
/* harmony import */ var _textures_resources_CanvasResource_mjs__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ./textures/resources/CanvasResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/CanvasResource.mjs");
/* harmony import */ var _textures_resources_CubeResource_mjs__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ./textures/resources/CubeResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/CubeResource.mjs");
/* harmony import */ var _textures_resources_ImageResource_mjs__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ./textures/resources/ImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs");
/* harmony import */ var _textures_resources_SVGResource_mjs__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ./textures/resources/SVGResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/SVGResource.mjs");
/* harmony import */ var _textures_resources_VideoResource_mjs__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ./textures/resources/VideoResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/VideoResource.mjs");
/* harmony import */ var _textures_resources_ImageBitmapResource_mjs__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ./textures/resources/ImageBitmapResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ImageBitmapResource.mjs");
/* harmony import */ var _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ./system/SystemManager.mjs */ "./node_modules/@pixi/core/lib/system/SystemManager.mjs");



























































































const VERSION = "7.0.5";


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/mask/AbstractMaskSystem.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/mask/AbstractMaskSystem.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AbstractMaskSystem": () => (/* binding */ AbstractMaskSystem)
/* harmony export */ });
class AbstractMaskSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.maskStack = [];
    this.glConst = 0;
  }
  getStackLength() {
    return this.maskStack.length;
  }
  setMaskStack(maskStack) {
    const { gl } = this.renderer;
    const curStackLen = this.getStackLength();
    this.maskStack = maskStack;
    const newStackLen = this.getStackLength();
    if (newStackLen !== curStackLen) {
      if (newStackLen === 0) {
        gl.disable(this.glConst);
      } else {
        gl.enable(this.glConst);
        this._useCurrent();
      }
    }
  }
  _useCurrent() {
  }
  destroy() {
    this.renderer = null;
    this.maskStack = null;
  }
}


//# sourceMappingURL=AbstractMaskSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/mask/MaskData.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/core/lib/mask/MaskData.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MaskData": () => (/* binding */ MaskData)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");



class MaskData {
  constructor(maskObject = null) {
    this.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.NONE;
    this.autoDetect = true;
    this.maskObject = maskObject || null;
    this.pooled = false;
    this.isMaskData = true;
    this.resolution = null;
    this.multisample = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.FILTER_MULTISAMPLE;
    this.enabled = true;
    this.colorMask = 15;
    this._filters = null;
    this._stencilCounter = 0;
    this._scissorCounter = 0;
    this._scissorRect = null;
    this._scissorRectLocal = null;
    this._colorMask = 15;
    this._target = null;
  }
  get filter() {
    return this._filters ? this._filters[0] : null;
  }
  set filter(value) {
    if (value) {
      if (this._filters) {
        this._filters[0] = value;
      } else {
        this._filters = [value];
      }
    } else {
      this._filters = null;
    }
  }
  reset() {
    if (this.pooled) {
      this.maskObject = null;
      this.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.NONE;
      this.autoDetect = true;
    }
    this._target = null;
    this._scissorRectLocal = null;
  }
  copyCountersOrReset(maskAbove) {
    if (maskAbove) {
      this._stencilCounter = maskAbove._stencilCounter;
      this._scissorCounter = maskAbove._scissorCounter;
      this._scissorRect = maskAbove._scissorRect;
    } else {
      this._stencilCounter = 0;
      this._scissorCounter = 0;
      this._scissorRect = null;
    }
  }
}


//# sourceMappingURL=MaskData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/mask/MaskSystem.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/mask/MaskSystem.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MaskSystem": () => (/* binding */ MaskSystem)
/* harmony export */ });
/* harmony import */ var _MaskData_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MaskData.mjs */ "./node_modules/@pixi/core/lib/mask/MaskData.mjs");
/* harmony import */ var _filters_spriteMask_SpriteMaskFilter_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filters/spriteMask/SpriteMaskFilter.mjs */ "./node_modules/@pixi/core/lib/filters/spriteMask/SpriteMaskFilter.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");





class MaskSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.enableScissor = true;
    this.alphaMaskPool = [];
    this.maskDataPool = [];
    this.maskStack = [];
    this.alphaMaskIndex = 0;
  }
  setMaskStack(maskStack) {
    this.maskStack = maskStack;
    this.renderer.scissor.setMaskStack(maskStack);
    this.renderer.stencil.setMaskStack(maskStack);
  }
  push(target, maskDataOrTarget) {
    let maskData = maskDataOrTarget;
    if (!maskData.isMaskData) {
      const d = this.maskDataPool.pop() || new _MaskData_mjs__WEBPACK_IMPORTED_MODULE_0__.MaskData();
      d.pooled = true;
      d.maskObject = maskDataOrTarget;
      maskData = d;
    }
    const maskAbove = this.maskStack.length !== 0 ? this.maskStack[this.maskStack.length - 1] : null;
    maskData.copyCountersOrReset(maskAbove);
    maskData._colorMask = maskAbove ? maskAbove._colorMask : 15;
    if (maskData.autoDetect) {
      this.detect(maskData);
    }
    maskData._target = target;
    if (maskData.type !== _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.SPRITE) {
      this.maskStack.push(maskData);
    }
    if (maskData.enabled) {
      switch (maskData.type) {
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.SCISSOR:
          this.renderer.scissor.push(maskData);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.STENCIL:
          this.renderer.stencil.push(maskData);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.SPRITE:
          maskData.copyCountersOrReset(null);
          this.pushSpriteMask(maskData);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.COLOR:
          this.pushColorMask(maskData);
          break;
        default:
          break;
      }
    }
    if (maskData.type === _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.SPRITE) {
      this.maskStack.push(maskData);
    }
  }
  pop(target) {
    const maskData = this.maskStack.pop();
    if (!maskData || maskData._target !== target) {
      return;
    }
    if (maskData.enabled) {
      switch (maskData.type) {
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.SCISSOR:
          this.renderer.scissor.pop(maskData);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.STENCIL:
          this.renderer.stencil.pop(maskData.maskObject);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.SPRITE:
          this.popSpriteMask(maskData);
          break;
        case _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.COLOR:
          this.popColorMask(maskData);
          break;
        default:
          break;
      }
    }
    maskData.reset();
    if (maskData.pooled) {
      this.maskDataPool.push(maskData);
    }
    if (this.maskStack.length !== 0) {
      const maskCurrent = this.maskStack[this.maskStack.length - 1];
      if (maskCurrent.type === _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.SPRITE && maskCurrent._filters) {
        maskCurrent._filters[0].maskSprite = maskCurrent.maskObject;
      }
    }
  }
  detect(maskData) {
    const maskObject = maskData.maskObject;
    if (!maskObject) {
      maskData.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.COLOR;
    } else if (maskObject.isSprite) {
      maskData.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.SPRITE;
    } else if (this.enableScissor && this.renderer.scissor.testScissor(maskData)) {
      maskData.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.SCISSOR;
    } else {
      maskData.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MASK_TYPES.STENCIL;
    }
  }
  pushSpriteMask(maskData) {
    const { maskObject } = maskData;
    const target = maskData._target;
    let alphaMaskFilter = maskData._filters;
    if (!alphaMaskFilter) {
      alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex];
      if (!alphaMaskFilter) {
        alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex] = [new _filters_spriteMask_SpriteMaskFilter_mjs__WEBPACK_IMPORTED_MODULE_1__.SpriteMaskFilter()];
      }
    }
    const renderer = this.renderer;
    const renderTextureSystem = renderer.renderTexture;
    let resolution;
    let multisample;
    if (renderTextureSystem.current) {
      const renderTexture = renderTextureSystem.current;
      resolution = maskData.resolution || renderTexture.resolution;
      multisample = maskData.multisample ?? renderTexture.multisample;
    } else {
      resolution = maskData.resolution || renderer.resolution;
      multisample = maskData.multisample ?? renderer.multisample;
    }
    alphaMaskFilter[0].resolution = resolution;
    alphaMaskFilter[0].multisample = multisample;
    alphaMaskFilter[0].maskSprite = maskObject;
    const stashFilterArea = target.filterArea;
    target.filterArea = maskObject.getBounds(true);
    renderer.filter.push(target, alphaMaskFilter);
    target.filterArea = stashFilterArea;
    if (!maskData._filters) {
      this.alphaMaskIndex++;
    }
  }
  popSpriteMask(maskData) {
    this.renderer.filter.pop();
    if (maskData._filters) {
      maskData._filters[0].maskSprite = null;
    } else {
      this.alphaMaskIndex--;
      this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite = null;
    }
  }
  pushColorMask(maskData) {
    const currColorMask = maskData._colorMask;
    const nextColorMask = maskData._colorMask = currColorMask & maskData.colorMask;
    if (nextColorMask !== currColorMask) {
      this.renderer.gl.colorMask((nextColorMask & 1) !== 0, (nextColorMask & 2) !== 0, (nextColorMask & 4) !== 0, (nextColorMask & 8) !== 0);
    }
  }
  popColorMask(maskData) {
    const currColorMask = maskData._colorMask;
    const nextColorMask = this.maskStack.length > 0 ? this.maskStack[this.maskStack.length - 1]._colorMask : 15;
    if (nextColorMask !== currColorMask) {
      this.renderer.gl.colorMask((nextColorMask & 1) !== 0, (nextColorMask & 2) !== 0, (nextColorMask & 4) !== 0, (nextColorMask & 8) !== 0);
    }
  }
  destroy() {
    this.renderer = null;
  }
}
MaskSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.ExtensionType.RendererSystem,
  name: "mask"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.extensions.add(MaskSystem);


//# sourceMappingURL=MaskSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/mask/ScissorSystem.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/mask/ScissorSystem.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ScissorSystem": () => (/* binding */ ScissorSystem)
/* harmony export */ });
/* harmony import */ var _AbstractMaskSystem_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractMaskSystem.mjs */ "./node_modules/@pixi/core/lib/mask/AbstractMaskSystem.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");





const tempMatrix = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Matrix();
const rectPool = [];
const _ScissorSystem = class extends _AbstractMaskSystem_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractMaskSystem {
  constructor(renderer) {
    super(renderer);
    this.glConst = _pixi_settings__WEBPACK_IMPORTED_MODULE_3__.settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST;
  }
  getStackLength() {
    const maskData = this.maskStack[this.maskStack.length - 1];
    if (maskData) {
      return maskData._scissorCounter;
    }
    return 0;
  }
  calcScissorRect(maskData) {
    if (maskData._scissorRectLocal) {
      return;
    }
    const prevData = maskData._scissorRect;
    const { maskObject } = maskData;
    const { renderer } = this;
    const renderTextureSystem = renderer.renderTexture;
    const rect = maskObject.getBounds(true, rectPool.pop() ?? new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Rectangle());
    this.roundFrameToPixels(rect, renderTextureSystem.current ? renderTextureSystem.current.resolution : renderer.resolution, renderTextureSystem.sourceFrame, renderTextureSystem.destinationFrame, renderer.projection.transform);
    if (prevData) {
      rect.fit(prevData);
    }
    maskData._scissorRectLocal = rect;
  }
  static isMatrixRotated(matrix) {
    if (!matrix) {
      return false;
    }
    const { a, b, c, d } = matrix;
    return (Math.abs(b) > 1e-4 || Math.abs(c) > 1e-4) && (Math.abs(a) > 1e-4 || Math.abs(d) > 1e-4);
  }
  testScissor(maskData) {
    const { maskObject } = maskData;
    if (!maskObject.isFastRect || !maskObject.isFastRect()) {
      return false;
    }
    if (_ScissorSystem.isMatrixRotated(maskObject.worldTransform)) {
      return false;
    }
    if (_ScissorSystem.isMatrixRotated(this.renderer.projection.transform)) {
      return false;
    }
    this.calcScissorRect(maskData);
    const rect = maskData._scissorRectLocal;
    return rect.width > 0 && rect.height > 0;
  }
  roundFrameToPixels(frame, resolution, bindingSourceFrame, bindingDestinationFrame, transform) {
    if (_ScissorSystem.isMatrixRotated(transform)) {
      return;
    }
    transform = transform ? tempMatrix.copyFrom(transform) : tempMatrix.identity();
    transform.translate(-bindingSourceFrame.x, -bindingSourceFrame.y).scale(bindingDestinationFrame.width / bindingSourceFrame.width, bindingDestinationFrame.height / bindingSourceFrame.height).translate(bindingDestinationFrame.x, bindingDestinationFrame.y);
    this.renderer.filter.transformAABB(transform, frame);
    frame.fit(bindingDestinationFrame);
    frame.x = Math.round(frame.x * resolution);
    frame.y = Math.round(frame.y * resolution);
    frame.width = Math.round(frame.width * resolution);
    frame.height = Math.round(frame.height * resolution);
  }
  push(maskData) {
    if (!maskData._scissorRectLocal) {
      this.calcScissorRect(maskData);
    }
    const { gl } = this.renderer;
    if (!maskData._scissorRect) {
      gl.enable(gl.SCISSOR_TEST);
    }
    maskData._scissorCounter++;
    maskData._scissorRect = maskData._scissorRectLocal;
    this._useCurrent();
  }
  pop(maskData) {
    const { gl } = this.renderer;
    if (maskData) {
      rectPool.push(maskData._scissorRectLocal);
    }
    if (this.getStackLength() > 0) {
      this._useCurrent();
    } else {
      gl.disable(gl.SCISSOR_TEST);
    }
  }
  _useCurrent() {
    const rect = this.maskStack[this.maskStack.length - 1]._scissorRect;
    let y;
    if (this.renderer.renderTexture.current) {
      y = rect.y;
    } else {
      y = this.renderer.height - rect.height - rect.y;
    }
    this.renderer.gl.scissor(rect.x, y, rect.width, rect.height);
  }
};
let ScissorSystem = _ScissorSystem;
ScissorSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__.ExtensionType.RendererSystem,
  name: "scissor"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_2__.extensions.add(ScissorSystem);


//# sourceMappingURL=ScissorSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/mask/StencilSystem.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/mask/StencilSystem.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StencilSystem": () => (/* binding */ StencilSystem)
/* harmony export */ });
/* harmony import */ var _AbstractMaskSystem_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractMaskSystem.mjs */ "./node_modules/@pixi/core/lib/mask/AbstractMaskSystem.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");




class StencilSystem extends _AbstractMaskSystem_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractMaskSystem {
  constructor(renderer) {
    super(renderer);
    this.glConst = _pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST;
  }
  getStackLength() {
    const maskData = this.maskStack[this.maskStack.length - 1];
    if (maskData) {
      return maskData._stencilCounter;
    }
    return 0;
  }
  push(maskData) {
    const maskObject = maskData.maskObject;
    const { gl } = this.renderer;
    const prevMaskCount = maskData._stencilCounter;
    if (prevMaskCount === 0) {
      this.renderer.framebuffer.forceStencil();
      gl.clearStencil(0);
      gl.clear(gl.STENCIL_BUFFER_BIT);
      gl.enable(gl.STENCIL_TEST);
    }
    maskData._stencilCounter++;
    const colorMask = maskData._colorMask;
    if (colorMask !== 0) {
      maskData._colorMask = 0;
      gl.colorMask(false, false, false, false);
    }
    gl.stencilFunc(gl.EQUAL, prevMaskCount, 4294967295);
    gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);
    maskObject.renderable = true;
    maskObject.render(this.renderer);
    this.renderer.batch.flush();
    maskObject.renderable = false;
    if (colorMask !== 0) {
      maskData._colorMask = colorMask;
      gl.colorMask((colorMask & 1) !== 0, (colorMask & 2) !== 0, (colorMask & 4) !== 0, (colorMask & 8) !== 0);
    }
    this._useCurrent();
  }
  pop(maskObject) {
    const gl = this.renderer.gl;
    if (this.getStackLength() === 0) {
      gl.disable(gl.STENCIL_TEST);
    } else {
      const maskData = this.maskStack.length !== 0 ? this.maskStack[this.maskStack.length - 1] : null;
      const colorMask = maskData ? maskData._colorMask : 15;
      if (colorMask !== 0) {
        maskData._colorMask = 0;
        gl.colorMask(false, false, false, false);
      }
      gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);
      maskObject.renderable = true;
      maskObject.render(this.renderer);
      this.renderer.batch.flush();
      maskObject.renderable = false;
      if (colorMask !== 0) {
        maskData._colorMask = colorMask;
        gl.colorMask((colorMask & 1) !== 0, (colorMask & 2) !== 0, (colorMask & 4) !== 0, (colorMask & 8) !== 0);
      }
      this._useCurrent();
    }
  }
  _useCurrent() {
    const gl = this.renderer.gl;
    gl.stencilFunc(gl.EQUAL, this.getStackLength(), 4294967295);
    gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);
  }
}
StencilSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "stencil"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(StencilSystem);


//# sourceMappingURL=StencilSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/plugin/PluginSystem.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/plugin/PluginSystem.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PluginSystem": () => (/* binding */ PluginSystem)
/* harmony export */ });
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");



class PluginSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.plugins = {};
    Object.defineProperties(this.plugins, {
      extract: {
        enumerable: false,
        get() {
          (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.plugins.extract has moved to renderer.extract");
          return renderer.extract;
        }
      },
      prepare: {
        enumerable: false,
        get() {
          (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.plugins.prepare has moved to renderer.prepare");
          return renderer.prepare;
        }
      },
      interaction: {
        enumerable: false,
        get() {
          (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "renderer.plugins.interaction has been deprecated, use renderer.events");
          return renderer.events;
        }
      }
    });
  }
  init(staticMap) {
    for (const o in staticMap) {
      this.plugins[o] = new staticMap[o](this.renderer);
    }
  }
  destroy() {
    for (const o in this.plugins) {
      this.plugins[o].destroy();
      this.plugins[o] = null;
    }
  }
}
PluginSystem.extension = {
  type: [
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.CanvasRendererSystem
  ],
  name: "_plugin"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(PluginSystem);


//# sourceMappingURL=PluginSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProjectionSystem": () => (/* binding */ ProjectionSystem)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");



class ProjectionSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.destinationFrame = null;
    this.sourceFrame = null;
    this.defaultFrame = null;
    this.projectionMatrix = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    this.transform = null;
  }
  update(destinationFrame, sourceFrame, resolution, root) {
    this.destinationFrame = destinationFrame || this.destinationFrame || this.defaultFrame;
    this.sourceFrame = sourceFrame || this.sourceFrame || destinationFrame;
    this.calculateProjection(this.destinationFrame, this.sourceFrame, resolution, root);
    if (this.transform) {
      this.projectionMatrix.append(this.transform);
    }
    const renderer = this.renderer;
    renderer.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix;
    renderer.globalUniforms.update();
    if (renderer.shader.shader) {
      renderer.shader.syncUniformGroup(renderer.shader.shader.uniforms.globals);
    }
  }
  calculateProjection(_destinationFrame, sourceFrame, _resolution, root) {
    const pm = this.projectionMatrix;
    const sign = !root ? 1 : -1;
    pm.identity();
    pm.a = 1 / sourceFrame.width * 2;
    pm.d = sign * (1 / sourceFrame.height * 2);
    pm.tx = -1 - sourceFrame.x * pm.a;
    pm.ty = -sign - sourceFrame.y * pm.d;
  }
  setTransform(_matrix) {
  }
  destroy() {
    this.renderer = null;
  }
}
ProjectionSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "projection"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(ProjectionSystem);


//# sourceMappingURL=ProjectionSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseRenderTexture": () => (/* binding */ BaseRenderTexture)
/* harmony export */ });
/* harmony import */ var _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../textures/BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _framebuffer_Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../framebuffer/Framebuffer.mjs */ "./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");




class BaseRenderTexture extends _textures_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseTexture {
  constructor(options = {}) {
    if (typeof options === "number") {
      const width = arguments[0];
      const height = arguments[1];
      const scaleMode = arguments[2];
      const resolution = arguments[3];
      options = { width, height, scaleMode, resolution };
    }
    options.width = options.width || 100;
    options.height = options.height || 100;
    options.multisample ?? (options.multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MSAA_QUALITY.NONE);
    super(null, options);
    this.mipmap = _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.MIPMAP_MODES.OFF;
    this.valid = true;
    this.clearColor = [0, 0, 0, 0];
    this.framebuffer = new _framebuffer_Framebuffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Framebuffer(this.realWidth, this.realHeight).addColorTexture(0, this);
    this.framebuffer.multisample = options.multisample;
    this.maskStack = [];
    this.filterStack = [{}];
  }
  resize(desiredWidth, desiredHeight) {
    this.framebuffer.resize(desiredWidth * this.resolution, desiredHeight * this.resolution);
    this.setRealSize(this.framebuffer.width, this.framebuffer.height);
  }
  dispose() {
    this.framebuffer.dispose();
    super.dispose();
  }
  destroy() {
    super.destroy();
    this.framebuffer.destroyDepthTexture();
    this.framebuffer = null;
  }
}


//# sourceMappingURL=BaseRenderTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/renderTexture/GenerateTextureSystem.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/renderTexture/GenerateTextureSystem.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GenerateTextureSystem": () => (/* binding */ GenerateTextureSystem)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs");




const tempTransform = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Transform();
class GenerateTextureSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this._tempMatrix = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Matrix();
  }
  generateTexture(displayObject, options) {
    const { region: manualRegion, ...textureOptions } = options || {};
    const region = manualRegion || displayObject.getLocalBounds(null, true);
    if (region.width === 0)
      region.width = 1;
    if (region.height === 0)
      region.height = 1;
    const renderTexture = _RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.RenderTexture.create({
      width: region.width,
      height: region.height,
      ...textureOptions
    });
    this._tempMatrix.tx = -region.x;
    this._tempMatrix.ty = -region.y;
    const transform = displayObject.transform;
    displayObject.transform = tempTransform;
    this.renderer.render(displayObject, {
      renderTexture,
      transform: this._tempMatrix,
      skipUpdateTransform: !!displayObject.parent,
      blit: true
    });
    displayObject.transform = transform;
    return renderTexture;
  }
  destroy() {
  }
}
GenerateTextureSystem.extension = {
  type: [
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.CanvasRendererSystem
  ],
  name: "textureGenerator"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(GenerateTextureSystem);


//# sourceMappingURL=GenerateTextureSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RenderTexture": () => (/* binding */ RenderTexture)
/* harmony export */ });
/* harmony import */ var _BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseRenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs");
/* harmony import */ var _textures_Texture_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../textures/Texture.mjs */ "./node_modules/@pixi/core/lib/textures/Texture.mjs");



class RenderTexture extends _textures_Texture_mjs__WEBPACK_IMPORTED_MODULE_1__.Texture {
  constructor(baseRenderTexture, frame) {
    super(baseRenderTexture, frame);
    this.valid = true;
    this.filterFrame = null;
    this.filterPoolKey = null;
    this.updateUvs();
  }
  get framebuffer() {
    return this.baseTexture.framebuffer;
  }
  get multisample() {
    return this.framebuffer.multisample;
  }
  set multisample(value) {
    this.framebuffer.multisample = value;
  }
  resize(desiredWidth, desiredHeight, resizeBaseTexture = true) {
    const resolution = this.baseTexture.resolution;
    const width = Math.round(desiredWidth * resolution) / resolution;
    const height = Math.round(desiredHeight * resolution) / resolution;
    this.valid = width > 0 && height > 0;
    this._frame.width = this.orig.width = width;
    this._frame.height = this.orig.height = height;
    if (resizeBaseTexture) {
      this.baseTexture.resize(width, height);
    }
    this.updateUvs();
  }
  setResolution(resolution) {
    const { baseTexture } = this;
    if (baseTexture.resolution === resolution) {
      return;
    }
    baseTexture.setResolution(resolution);
    this.resize(baseTexture.width, baseTexture.height, false);
  }
  static create(options) {
    return new RenderTexture(new _BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseRenderTexture(options));
  }
}


//# sourceMappingURL=RenderTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/renderTexture/RenderTexturePool.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/renderTexture/RenderTexturePool.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RenderTexturePool": () => (/* binding */ RenderTexturePool)
/* harmony export */ });
/* harmony import */ var _RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs");
/* harmony import */ var _BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseRenderTexture.mjs */ "./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");





class RenderTexturePool {
  constructor(textureOptions) {
    this.texturePool = {};
    this.textureOptions = textureOptions || {};
    this.enableFullScreen = false;
    this._pixelsWidth = 0;
    this._pixelsHeight = 0;
  }
  createTexture(realWidth, realHeight, multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_3__.MSAA_QUALITY.NONE) {
    const baseRenderTexture = new _BaseRenderTexture_mjs__WEBPACK_IMPORTED_MODULE_1__.BaseRenderTexture(Object.assign({
      width: realWidth,
      height: realHeight,
      resolution: 1,
      multisample
    }, this.textureOptions));
    return new _RenderTexture_mjs__WEBPACK_IMPORTED_MODULE_0__.RenderTexture(baseRenderTexture);
  }
  getOptimalTexture(minWidth, minHeight, resolution = 1, multisample = _pixi_constants__WEBPACK_IMPORTED_MODULE_3__.MSAA_QUALITY.NONE) {
    let key;
    minWidth = Math.ceil(minWidth * resolution - 1e-6);
    minHeight = Math.ceil(minHeight * resolution - 1e-6);
    if (!this.enableFullScreen || minWidth !== this._pixelsWidth || minHeight !== this._pixelsHeight) {
      minWidth = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.nextPow2)(minWidth);
      minHeight = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.nextPow2)(minHeight);
      key = ((minWidth & 65535) << 16 | minHeight & 65535) >>> 0;
      if (multisample > 1) {
        key += multisample * 4294967296;
      }
    } else {
      key = multisample > 1 ? -multisample : -1;
    }
    if (!this.texturePool[key]) {
      this.texturePool[key] = [];
    }
    let renderTexture = this.texturePool[key].pop();
    if (!renderTexture) {
      renderTexture = this.createTexture(minWidth, minHeight, multisample);
    }
    renderTexture.filterPoolKey = key;
    renderTexture.setResolution(resolution);
    return renderTexture;
  }
  getFilterTexture(input, resolution, multisample) {
    const filterTexture = this.getOptimalTexture(input.width, input.height, resolution || input.resolution, multisample || _pixi_constants__WEBPACK_IMPORTED_MODULE_3__.MSAA_QUALITY.NONE);
    filterTexture.filterFrame = input.filterFrame;
    return filterTexture;
  }
  returnTexture(renderTexture) {
    const key = renderTexture.filterPoolKey;
    renderTexture.filterFrame = null;
    this.texturePool[key].push(renderTexture);
  }
  returnFilterTexture(renderTexture) {
    this.returnTexture(renderTexture);
  }
  clear(destroyTextures) {
    destroyTextures = destroyTextures !== false;
    if (destroyTextures) {
      for (const i in this.texturePool) {
        const textures = this.texturePool[i];
        if (textures) {
          for (let j = 0; j < textures.length; j++) {
            textures[j].destroy(true);
          }
        }
      }
    }
    this.texturePool = {};
  }
  setScreenSize(size) {
    if (size.width === this._pixelsWidth && size.height === this._pixelsHeight) {
      return;
    }
    this.enableFullScreen = size.width > 0 && size.height > 0;
    for (const i in this.texturePool) {
      if (!(Number(i) < 0)) {
        continue;
      }
      const textures = this.texturePool[i];
      if (textures) {
        for (let j = 0; j < textures.length; j++) {
          textures[j].destroy(true);
        }
      }
      this.texturePool[i] = [];
    }
    this._pixelsWidth = size.width;
    this._pixelsHeight = size.height;
  }
}
RenderTexturePool.SCREEN_KEY = -1;


//# sourceMappingURL=RenderTexturePool.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/renderTexture/RenderTextureSystem.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/renderTexture/RenderTextureSystem.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RenderTextureSystem": () => (/* binding */ RenderTextureSystem)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");



const tempRect = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
const tempRect2 = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
class RenderTextureSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.defaultMaskStack = [];
    this.current = null;
    this.sourceFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    this.destinationFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
    this.viewportFrame = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
  }
  bind(renderTexture = null, sourceFrame, destinationFrame) {
    const renderer = this.renderer;
    this.current = renderTexture;
    let baseTexture;
    let framebuffer;
    let resolution;
    if (renderTexture) {
      baseTexture = renderTexture.baseTexture;
      resolution = baseTexture.resolution;
      if (!sourceFrame) {
        tempRect.width = renderTexture.frame.width;
        tempRect.height = renderTexture.frame.height;
        sourceFrame = tempRect;
      }
      if (!destinationFrame) {
        tempRect2.x = renderTexture.frame.x;
        tempRect2.y = renderTexture.frame.y;
        tempRect2.width = sourceFrame.width;
        tempRect2.height = sourceFrame.height;
        destinationFrame = tempRect2;
      }
      framebuffer = baseTexture.framebuffer;
    } else {
      resolution = renderer.resolution;
      if (!sourceFrame) {
        tempRect.width = renderer._view.screen.width;
        tempRect.height = renderer._view.screen.height;
        sourceFrame = tempRect;
      }
      if (!destinationFrame) {
        destinationFrame = tempRect;
        destinationFrame.width = sourceFrame.width;
        destinationFrame.height = sourceFrame.height;
      }
    }
    const viewportFrame = this.viewportFrame;
    viewportFrame.x = destinationFrame.x * resolution;
    viewportFrame.y = destinationFrame.y * resolution;
    viewportFrame.width = destinationFrame.width * resolution;
    viewportFrame.height = destinationFrame.height * resolution;
    if (!renderTexture) {
      viewportFrame.y = renderer.view.height - (viewportFrame.y + viewportFrame.height);
    }
    viewportFrame.ceil();
    this.renderer.framebuffer.bind(framebuffer, viewportFrame);
    this.renderer.projection.update(destinationFrame, sourceFrame, resolution, !framebuffer);
    if (renderTexture) {
      this.renderer.mask.setMaskStack(baseTexture.maskStack);
    } else {
      this.renderer.mask.setMaskStack(this.defaultMaskStack);
    }
    this.sourceFrame.copyFrom(sourceFrame);
    this.destinationFrame.copyFrom(destinationFrame);
  }
  clear(clearColor, mask) {
    if (this.current) {
      clearColor = clearColor || this.current.baseTexture.clearColor;
    } else {
      clearColor = clearColor || this.renderer.background.colorRgba;
    }
    const destinationFrame = this.destinationFrame;
    const baseFrame = this.current ? this.current.baseTexture : this.renderer._view.screen;
    const clearMask = destinationFrame.width !== baseFrame.width || destinationFrame.height !== baseFrame.height;
    if (clearMask) {
      let { x, y, width, height } = this.viewportFrame;
      x = Math.round(x);
      y = Math.round(y);
      width = Math.round(width);
      height = Math.round(height);
      this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
      this.renderer.gl.scissor(x, y, width, height);
    }
    this.renderer.framebuffer.clear(clearColor[0], clearColor[1], clearColor[2], clearColor[3], mask);
    if (clearMask) {
      this.renderer.scissor.pop();
    }
  }
  resize() {
    this.bind(null);
  }
  reset() {
    this.bind(null);
  }
  destroy() {
    this.renderer = null;
  }
}
RenderTextureSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.ExtensionType.RendererSystem,
  name: "renderTexture"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_1__.extensions.add(RenderTextureSystem);


//# sourceMappingURL=RenderTextureSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/render/ObjectRendererSystem.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/render/ObjectRendererSystem.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ObjectRendererSystem": () => (/* binding */ ObjectRendererSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");


class ObjectRendererSystem {
  constructor(renderer) {
    this.renderer = renderer;
  }
  render(displayObject, options) {
    const renderer = this.renderer;
    let renderTexture;
    let clear;
    let transform;
    let skipUpdateTransform;
    if (options) {
      renderTexture = options.renderTexture;
      clear = options.clear;
      transform = options.transform;
      skipUpdateTransform = options.skipUpdateTransform;
    }
    this.renderingToScreen = !renderTexture;
    renderer.runners.prerender.emit();
    renderer.emit("prerender");
    renderer.projection.transform = transform;
    if (renderer.context.isLost) {
      return;
    }
    if (!renderTexture) {
      this.lastObjectRendered = displayObject;
    }
    if (!skipUpdateTransform) {
      const cacheParent = displayObject.enableTempParent();
      displayObject.updateTransform();
      displayObject.disableTempParent(cacheParent);
    }
    renderer.renderTexture.bind(renderTexture);
    renderer.batch.currentRenderer.start();
    if (clear ?? renderer.background.clearBeforeRender) {
      renderer.renderTexture.clear();
    }
    displayObject.render(renderer);
    renderer.batch.currentRenderer.flush();
    if (renderTexture) {
      if (options.blit) {
        renderer.framebuffer.blit();
      }
      renderTexture.baseTexture.update();
    }
    renderer.runners.postrender.emit();
    renderer.projection.transform = null;
    renderer.emit("postrender");
  }
  destroy() {
    this.renderer = null;
    this.lastObjectRendered = null;
  }
}
ObjectRendererSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
  name: "objectRenderer"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ObjectRendererSystem);


//# sourceMappingURL=ObjectRendererSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/settings.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/core/lib/settings.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "settings": () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");




_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.PREFER_ENV = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.ENV.WEBGL2;
_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.STRICT_TEXTURE_CACHE = false;
//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/GLProgram.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/GLProgram.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GLProgram": () => (/* binding */ GLProgram),
/* harmony export */   "IGLUniformData": () => (/* binding */ IGLUniformData)
/* harmony export */ });
class IGLUniformData {
}
class GLProgram {
  constructor(program, uniformData) {
    this.program = program;
    this.uniformData = uniformData;
    this.uniformGroups = {};
    this.uniformDirtyGroups = {};
    this.uniformBufferBindings = {};
  }
  destroy() {
    this.uniformData = null;
    this.uniformGroups = null;
    this.uniformDirtyGroups = null;
    this.uniformBufferBindings = null;
    this.program = null;
  }
}


//# sourceMappingURL=GLProgram.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/Program.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/Program.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Program": () => (/* binding */ Program)
/* harmony export */ });
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/core/lib/shader/utils/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _defaultProgram_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultProgram.mjs */ "./node_modules/@pixi/core/lib/shader/defaultProgram.mjs");
/* harmony import */ var _defaultProgram2_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaultProgram2.mjs */ "./node_modules/@pixi/core/lib/shader/defaultProgram2.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _utils_setPrecision_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/setPrecision.mjs */ "./node_modules/@pixi/core/lib/shader/utils/setPrecision.mjs");
/* harmony import */ var _utils_getMaxFragmentPrecision_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/getMaxFragmentPrecision.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getMaxFragmentPrecision.mjs");









let UID = 0;
const nameCache = {};
class Program {
  constructor(vertexSrc, fragmentSrc, name = "pixi-shader", extra = {}) {
    this.extra = {};
    this.id = UID++;
    this.vertexSrc = vertexSrc || Program.defaultVertexSrc;
    this.fragmentSrc = fragmentSrc || Program.defaultFragmentSrc;
    this.vertexSrc = this.vertexSrc.trim();
    this.fragmentSrc = this.fragmentSrc.trim();
    this.extra = extra;
    if (this.vertexSrc.substring(0, 8) !== "#version") {
      name = name.replace(/\s+/g, "-");
      if (nameCache[name]) {
        nameCache[name]++;
        name += `-${nameCache[name]}`;
      } else {
        nameCache[name] = 1;
      }
      this.vertexSrc = `#define SHADER_NAME ${name}
${this.vertexSrc}`;
      this.fragmentSrc = `#define SHADER_NAME ${name}
${this.fragmentSrc}`;
      this.vertexSrc = (0,_utils_setPrecision_mjs__WEBPACK_IMPORTED_MODULE_6__.setPrecision)(this.vertexSrc, _pixi_settings__WEBPACK_IMPORTED_MODULE_4__.settings.PRECISION_VERTEX, _pixi_constants__WEBPACK_IMPORTED_MODULE_5__.PRECISION.HIGH);
      this.fragmentSrc = (0,_utils_setPrecision_mjs__WEBPACK_IMPORTED_MODULE_6__.setPrecision)(this.fragmentSrc, _pixi_settings__WEBPACK_IMPORTED_MODULE_4__.settings.PRECISION_FRAGMENT, (0,_utils_getMaxFragmentPrecision_mjs__WEBPACK_IMPORTED_MODULE_7__.getMaxFragmentPrecision)());
    }
    this.glPrograms = {};
    this.syncUniforms = null;
  }
  static get defaultVertexSrc() {
    return _defaultProgram2_mjs__WEBPACK_IMPORTED_MODULE_3__["default"];
  }
  static get defaultFragmentSrc() {
    return _defaultProgram_mjs__WEBPACK_IMPORTED_MODULE_2__["default"];
  }
  static from(vertexSrc, fragmentSrc, name) {
    const key = vertexSrc + fragmentSrc;
    let program = _pixi_utils__WEBPACK_IMPORTED_MODULE_1__.ProgramCache[key];
    if (!program) {
      _pixi_utils__WEBPACK_IMPORTED_MODULE_1__.ProgramCache[key] = program = new Program(vertexSrc, fragmentSrc, name);
    }
    return program;
  }
}


//# sourceMappingURL=Program.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/Shader.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/Shader.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Shader": () => (/* binding */ Shader)
/* harmony export */ });
/* harmony import */ var _Program_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Program.mjs */ "./node_modules/@pixi/core/lib/shader/Program.mjs");
/* harmony import */ var _UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UniformGroup.mjs */ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs");
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");




class Shader {
  constructor(program, uniforms) {
    this.uniformBindCount = 0;
    this.program = program;
    if (uniforms) {
      if (uniforms instanceof _UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_1__.UniformGroup) {
        this.uniformGroup = uniforms;
      } else {
        this.uniformGroup = new _UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_1__.UniformGroup(uniforms);
      }
    } else {
      this.uniformGroup = new _UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_1__.UniformGroup({});
    }
    this.disposeRunner = new _pixi_runner__WEBPACK_IMPORTED_MODULE_2__.Runner("disposeShader");
  }
  checkUniformExists(name, group) {
    if (group.uniforms[name]) {
      return true;
    }
    for (const i in group.uniforms) {
      const uniform = group.uniforms[i];
      if (uniform.group) {
        if (this.checkUniformExists(name, uniform)) {
          return true;
        }
      }
    }
    return false;
  }
  destroy() {
    this.uniformGroup = null;
    this.disposeRunner.emit(this);
    this.disposeRunner.destroy();
  }
  get uniforms() {
    return this.uniformGroup.uniforms;
  }
  static from(vertexSrc, fragmentSrc, uniforms) {
    const program = _Program_mjs__WEBPACK_IMPORTED_MODULE_0__.Program.from(vertexSrc, fragmentSrc);
    return new Shader(program, uniforms);
  }
}


//# sourceMappingURL=Shader.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/ShaderSystem.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/ShaderSystem.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ShaderSystem": () => (/* binding */ ShaderSystem)
/* harmony export */ });
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/core/lib/shader/utils/index.mjs");
/* harmony import */ var _utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/generateUniformBufferSync.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateUniformBufferSync.mjs");
/* harmony import */ var _utils_generateProgram_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/generateProgram.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateProgram.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _utils_unsafeEvalSupported_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/unsafeEvalSupported.mjs */ "./node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs");
/* harmony import */ var _utils_generateUniformsSync_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/generateUniformsSync.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateUniformsSync.mjs");







let UID = 0;
const defaultSyncData = { textureCount: 0, uboCount: 0 };
class ShaderSystem {
  constructor(renderer) {
    this.destroyed = false;
    this.renderer = renderer;
    this.systemCheck();
    this.gl = null;
    this.shader = null;
    this.program = null;
    this.cache = {};
    this._uboCache = {};
    this.id = UID++;
  }
  systemCheck() {
    if (!(0,_utils_unsafeEvalSupported_mjs__WEBPACK_IMPORTED_MODULE_4__.unsafeEvalSupported)()) {
      throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.");
    }
  }
  contextChange(gl) {
    this.gl = gl;
    this.reset();
  }
  bind(shader, dontSync) {
    shader.disposeRunner.add(this);
    shader.uniforms.globals = this.renderer.globalUniforms;
    const program = shader.program;
    const glProgram = program.glPrograms[this.renderer.CONTEXT_UID] || this.generateProgram(shader);
    this.shader = shader;
    if (this.program !== program) {
      this.program = program;
      this.gl.useProgram(glProgram.program);
    }
    if (!dontSync) {
      defaultSyncData.textureCount = 0;
      defaultSyncData.uboCount = 0;
      this.syncUniformGroup(shader.uniformGroup, defaultSyncData);
    }
    return glProgram;
  }
  setUniforms(uniforms) {
    const shader = this.shader.program;
    const glProgram = shader.glPrograms[this.renderer.CONTEXT_UID];
    shader.syncUniforms(glProgram.uniformData, uniforms, this.renderer);
  }
  syncUniformGroup(group, syncData) {
    const glProgram = this.getGlProgram();
    if (!group.static || group.dirtyId !== glProgram.uniformDirtyGroups[group.id]) {
      glProgram.uniformDirtyGroups[group.id] = group.dirtyId;
      this.syncUniforms(group, glProgram, syncData);
    }
  }
  syncUniforms(group, glProgram, syncData) {
    const syncFunc = group.syncUniforms[this.shader.program.id] || this.createSyncGroups(group);
    syncFunc(glProgram.uniformData, group.uniforms, this.renderer, syncData);
  }
  createSyncGroups(group) {
    const id = this.getSignature(group, this.shader.program.uniformData, "u");
    if (!this.cache[id]) {
      this.cache[id] = (0,_utils_generateUniformsSync_mjs__WEBPACK_IMPORTED_MODULE_5__.generateUniformsSync)(group, this.shader.program.uniformData);
    }
    group.syncUniforms[this.shader.program.id] = this.cache[id];
    return group.syncUniforms[this.shader.program.id];
  }
  syncUniformBufferGroup(group, name) {
    const glProgram = this.getGlProgram();
    if (!group.static || group.dirtyId !== 0 || !glProgram.uniformGroups[group.id]) {
      group.dirtyId = 0;
      const syncFunc = glProgram.uniformGroups[group.id] || this.createSyncBufferGroup(group, glProgram, name);
      group.buffer.update();
      syncFunc(glProgram.uniformData, group.uniforms, this.renderer, defaultSyncData, group.buffer);
    }
    this.renderer.buffer.bindBufferBase(group.buffer, glProgram.uniformBufferBindings[name]);
  }
  createSyncBufferGroup(group, glProgram, name) {
    const { gl } = this.renderer;
    this.renderer.buffer.bind(group.buffer);
    const uniformBlockIndex = this.gl.getUniformBlockIndex(glProgram.program, name);
    glProgram.uniformBufferBindings[name] = this.shader.uniformBindCount;
    gl.uniformBlockBinding(glProgram.program, uniformBlockIndex, this.shader.uniformBindCount);
    this.shader.uniformBindCount++;
    const id = this.getSignature(group, this.shader.program.uniformData, "ubo");
    let uboData = this._uboCache[id];
    if (!uboData) {
      uboData = this._uboCache[id] = (0,_utils_generateUniformBufferSync_mjs__WEBPACK_IMPORTED_MODULE_1__.generateUniformBufferSync)(group, this.shader.program.uniformData);
    }
    if (group.autoManage) {
      const data = new Float32Array(uboData.size / 4);
      group.buffer.update(data);
    }
    glProgram.uniformGroups[group.id] = uboData.syncFunc;
    return glProgram.uniformGroups[group.id];
  }
  getSignature(group, uniformData, preFix) {
    const uniforms = group.uniforms;
    const strings = [`${preFix}-`];
    for (const i in uniforms) {
      strings.push(i);
      if (uniformData[i]) {
        strings.push(uniformData[i].type);
      }
    }
    return strings.join("-");
  }
  getGlProgram() {
    if (this.shader) {
      return this.shader.program.glPrograms[this.renderer.CONTEXT_UID];
    }
    return null;
  }
  generateProgram(shader) {
    const gl = this.gl;
    const program = shader.program;
    const glProgram = (0,_utils_generateProgram_mjs__WEBPACK_IMPORTED_MODULE_2__.generateProgram)(gl, program);
    program.glPrograms[this.renderer.CONTEXT_UID] = glProgram;
    return glProgram;
  }
  reset() {
    this.program = null;
    this.shader = null;
  }
  disposeShader(shader) {
    if (this.shader === shader) {
      this.shader = null;
    }
  }
  destroy() {
    this.renderer = null;
    this.destroyed = true;
  }
}
ShaderSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.ExtensionType.RendererSystem,
  name: "shader"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.extensions.add(ShaderSystem);


//# sourceMappingURL=ShaderSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/UniformGroup.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/UniformGroup.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UniformGroup": () => (/* binding */ UniformGroup)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/Buffer.mjs */ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs");



let UID = 0;
class UniformGroup {
  constructor(uniforms, isStatic, isUbo) {
    this.group = true;
    this.syncUniforms = {};
    this.dirtyId = 0;
    this.id = UID++;
    this.static = !!isStatic;
    this.ubo = !!isUbo;
    if (uniforms instanceof _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer) {
      this.buffer = uniforms;
      this.buffer.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.UNIFORM_BUFFER;
      this.autoManage = false;
      this.ubo = true;
    } else {
      this.uniforms = uniforms;
      if (this.ubo) {
        this.buffer = new _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer(new Float32Array(1));
        this.buffer.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BUFFER_TYPE.UNIFORM_BUFFER;
        this.autoManage = true;
      }
    }
  }
  update() {
    this.dirtyId++;
    if (!this.autoManage && this.buffer) {
      this.buffer.update();
    }
  }
  add(name, uniforms, _static) {
    if (!this.ubo) {
      this.uniforms[name] = new UniformGroup(uniforms, _static);
    } else {
      throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");
    }
  }
  static from(uniforms, _static, _ubo) {
    return new UniformGroup(uniforms, _static, _ubo);
  }
  static uboFrom(uniforms, _static) {
    return new UniformGroup(uniforms, _static ?? true, true);
  }
}


//# sourceMappingURL=UniformGroup.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/defaultProgram.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/defaultProgram.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultFragment)
/* harmony export */ });
var defaultFragment = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}";


//# sourceMappingURL=defaultProgram.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/defaultProgram2.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/defaultProgram2.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ defaultVertex)
/* harmony export */ });
var defaultVertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";


//# sourceMappingURL=defaultProgram2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkMaxIfStatementsInShader": () => (/* binding */ checkMaxIfStatementsInShader)
/* harmony export */ });
const fragTemplate = [
  "precision mediump float;",
  "void main(void){",
  "float test = 0.1;",
  "%forloop%",
  "gl_FragColor = vec4(0.0);",
  "}"
].join("\n");
function generateIfTestSrc(maxIfs) {
  let src = "";
  for (let i = 0; i < maxIfs; ++i) {
    if (i > 0) {
      src += "\nelse ";
    }
    if (i < maxIfs - 1) {
      src += `if(test == ${i}.0){}`;
    }
  }
  return src;
}
function checkMaxIfStatementsInShader(maxIfs, gl) {
  if (maxIfs === 0) {
    throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
  }
  const shader = gl.createShader(gl.FRAGMENT_SHADER);
  while (true) {
    const fragmentSrc = fragTemplate.replace(/%forloop%/gi, generateIfTestSrc(maxIfs));
    gl.shaderSource(shader, fragmentSrc);
    gl.compileShader(shader);
    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
      maxIfs = maxIfs / 2 | 0;
    } else {
      break;
    }
  }
  return maxIfs;
}


//# sourceMappingURL=checkMaxIfStatementsInShader.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/compileShader.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/compileShader.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "compileShader": () => (/* binding */ compileShader)
/* harmony export */ });
function compileShader(gl, type, src) {
  const shader = gl.createShader(type);
  gl.shaderSource(shader, src);
  gl.compileShader(shader);
  return shader;
}


//# sourceMappingURL=compileShader.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultValue": () => (/* binding */ defaultValue)
/* harmony export */ });
function booleanArray(size) {
  const array = new Array(size);
  for (let i = 0; i < array.length; i++) {
    array[i] = false;
  }
  return array;
}
function defaultValue(type, size) {
  switch (type) {
    case "float":
      return 0;
    case "vec2":
      return new Float32Array(2 * size);
    case "vec3":
      return new Float32Array(3 * size);
    case "vec4":
      return new Float32Array(4 * size);
    case "int":
    case "uint":
    case "sampler2D":
    case "sampler2DArray":
      return 0;
    case "ivec2":
      return new Int32Array(2 * size);
    case "ivec3":
      return new Int32Array(3 * size);
    case "ivec4":
      return new Int32Array(4 * size);
    case "uvec2":
      return new Uint32Array(2 * size);
    case "uvec3":
      return new Uint32Array(3 * size);
    case "uvec4":
      return new Uint32Array(4 * size);
    case "bool":
      return false;
    case "bvec2":
      return booleanArray(2 * size);
    case "bvec3":
      return booleanArray(3 * size);
    case "bvec4":
      return booleanArray(4 * size);
    case "mat2":
      return new Float32Array([
        1,
        0,
        0,
        1
      ]);
    case "mat3":
      return new Float32Array([
        1,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        1
      ]);
    case "mat4":
      return new Float32Array([
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1
      ]);
  }
  return null;
}


//# sourceMappingURL=defaultValue.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/generateProgram.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/generateProgram.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "generateProgram": () => (/* binding */ generateProgram)
/* harmony export */ });
/* harmony import */ var _GLProgram_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GLProgram.mjs */ "./node_modules/@pixi/core/lib/shader/GLProgram.mjs");
/* harmony import */ var _compileShader_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compileShader.mjs */ "./node_modules/@pixi/core/lib/shader/utils/compileShader.mjs");
/* harmony import */ var _defaultValue_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultValue.mjs */ "./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs");
/* harmony import */ var _getAttributeData_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getAttributeData.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getAttributeData.mjs");
/* harmony import */ var _getUniformData_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getUniformData.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getUniformData.mjs");
/* harmony import */ var _logProgramError_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./logProgramError.mjs */ "./node_modules/@pixi/core/lib/shader/utils/logProgramError.mjs");







function generateProgram(gl, program) {
  const glVertShader = (0,_compileShader_mjs__WEBPACK_IMPORTED_MODULE_1__.compileShader)(gl, gl.VERTEX_SHADER, program.vertexSrc);
  const glFragShader = (0,_compileShader_mjs__WEBPACK_IMPORTED_MODULE_1__.compileShader)(gl, gl.FRAGMENT_SHADER, program.fragmentSrc);
  const webGLProgram = gl.createProgram();
  gl.attachShader(webGLProgram, glVertShader);
  gl.attachShader(webGLProgram, glFragShader);
  const transformFeedbackVaryings = program.extra?.transformFeedbackVaryings;
  if (transformFeedbackVaryings) {
    if (typeof gl.transformFeedbackVaryings !== "function") {
      console.warn(`TransformFeedback is not supported but TransformFeedbackVaryings are given.`);
    } else {
      gl.transformFeedbackVaryings(webGLProgram, transformFeedbackVaryings.names, transformFeedbackVaryings.bufferMode === "separate" ? gl.SEPARATE_ATTRIBS : gl.INTERLEAVED_ATTRIBS);
    }
  }
  gl.linkProgram(webGLProgram);
  if (!gl.getProgramParameter(webGLProgram, gl.LINK_STATUS)) {
    (0,_logProgramError_mjs__WEBPACK_IMPORTED_MODULE_5__.logProgramError)(gl, webGLProgram, glVertShader, glFragShader);
  }
  program.attributeData = (0,_getAttributeData_mjs__WEBPACK_IMPORTED_MODULE_3__.getAttributeData)(webGLProgram, gl);
  program.uniformData = (0,_getUniformData_mjs__WEBPACK_IMPORTED_MODULE_4__.getUniformData)(webGLProgram, gl);
  if (!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(program.vertexSrc)) {
    const keys = Object.keys(program.attributeData);
    keys.sort((a, b) => a > b ? 1 : -1);
    for (let i = 0; i < keys.length; i++) {
      program.attributeData[keys[i]].location = i;
      gl.bindAttribLocation(webGLProgram, i, keys[i]);
    }
    gl.linkProgram(webGLProgram);
  }
  gl.deleteShader(glVertShader);
  gl.deleteShader(glFragShader);
  const uniformData = {};
  for (const i in program.uniformData) {
    const data = program.uniformData[i];
    uniformData[i] = {
      location: gl.getUniformLocation(webGLProgram, i),
      value: (0,_defaultValue_mjs__WEBPACK_IMPORTED_MODULE_2__.defaultValue)(data.type, data.size)
    };
  }
  const glProgram = new _GLProgram_mjs__WEBPACK_IMPORTED_MODULE_0__.GLProgram(webGLProgram, uniformData);
  return glProgram;
}


//# sourceMappingURL=generateProgram.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/generateUniformBufferSync.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/generateUniformBufferSync.mjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createUBOElements": () => (/* binding */ createUBOElements),
/* harmony export */   "generateUniformBufferSync": () => (/* binding */ generateUniformBufferSync),
/* harmony export */   "getUBOData": () => (/* binding */ getUBOData)
/* harmony export */ });
/* harmony import */ var _index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.mjs */ "./node_modules/@pixi/core/lib/shader/utils/index.mjs");
/* harmony import */ var _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uniformParsers.mjs */ "./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs");
/* harmony import */ var _mapSize_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mapSize.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs");




function uboUpdate(_ud, _uv, _renderer, _syncData, buffer) {
  _renderer.buffer.update(buffer);
}
const UBO_TO_SINGLE_SETTERS = {
  float: `
        data[offset] = v;
    `,
  vec2: `
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,
  vec3: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,
  vec4: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,
  mat2: `
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,
  mat3: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,
  mat4: `
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `
};
const GLSL_TO_STD40_SIZE = {
  float: 4,
  vec2: 8,
  vec3: 12,
  vec4: 16,
  int: 4,
  ivec2: 8,
  ivec3: 12,
  ivec4: 16,
  uint: 4,
  uvec2: 8,
  uvec3: 12,
  uvec4: 16,
  bool: 4,
  bvec2: 8,
  bvec3: 12,
  bvec4: 16,
  mat2: 16 * 2,
  mat3: 16 * 3,
  mat4: 16 * 4
};
function createUBOElements(uniformData) {
  const uboElements = uniformData.map((data) => ({
    data,
    offset: 0,
    dataLen: 0,
    dirty: 0
  }));
  let size = 0;
  let chunkSize = 0;
  let offset = 0;
  for (let i = 0; i < uboElements.length; i++) {
    const uboElement = uboElements[i];
    size = GLSL_TO_STD40_SIZE[uboElement.data.type];
    if (uboElement.data.size > 1) {
      size = Math.max(size, 16) * uboElement.data.size;
    }
    uboElement.dataLen = size;
    if (chunkSize % size !== 0 && chunkSize < 16) {
      const lineUpValue = chunkSize % size % 16;
      chunkSize += lineUpValue;
      offset += lineUpValue;
    }
    if (chunkSize + size > 16) {
      offset = Math.ceil(offset / 16) * 16;
      uboElement.offset = offset;
      offset += size;
      chunkSize = size;
    } else {
      uboElement.offset = offset;
      chunkSize += size;
      offset += size;
    }
  }
  offset = Math.ceil(offset / 16) * 16;
  return { uboElements, size: offset };
}
function getUBOData(uniforms, uniformData) {
  const usedUniformDatas = [];
  for (const i in uniforms) {
    if (uniformData[i]) {
      usedUniformDatas.push(uniformData[i]);
    }
  }
  usedUniformDatas.sort((a, b) => a.index - b.index);
  return usedUniformDatas;
}
function generateUniformBufferSync(group, uniformData) {
  if (!group.autoManage) {
    return { size: 0, syncFunc: uboUpdate };
  }
  const usedUniformDatas = getUBOData(group.uniforms, uniformData);
  const { uboElements, size } = createUBOElements(usedUniformDatas);
  const funcFragments = [`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];
  for (let i = 0; i < uboElements.length; i++) {
    const uboElement = uboElements[i];
    const uniform = group.uniforms[uboElement.data.name];
    const name = uboElement.data.name;
    let parsed = false;
    for (let j = 0; j < _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_1__.uniformParsers.length; j++) {
      const uniformParser = _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_1__.uniformParsers[j];
      if (uniformParser.codeUbo && uniformParser.test(uboElement.data, uniform)) {
        funcFragments.push(`offset = ${uboElement.offset / 4};`, _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_1__.uniformParsers[j].codeUbo(uboElement.data.name, uniform));
        parsed = true;
        break;
      }
    }
    if (!parsed) {
      if (uboElement.data.size > 1) {
        const size2 = (0,_mapSize_mjs__WEBPACK_IMPORTED_MODULE_2__.mapSize)(uboElement.data.type);
        const rowSize = Math.max(GLSL_TO_STD40_SIZE[uboElement.data.type] / 16, 1);
        const elementSize = size2 / rowSize;
        const remainder = (4 - elementSize % 4) % 4;
        funcFragments.push(`
                cv = ud.${name}.value;
                v = uv.${name};
                offset = ${uboElement.offset / 4};

                t = 0;

                for(var i=0; i < ${uboElement.data.size * rowSize}; i++)
                {
                    for(var j = 0; j < ${elementSize}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${remainder};
                }

                `);
      } else {
        const template = UBO_TO_SINGLE_SETTERS[uboElement.data.type];
        funcFragments.push(`
                cv = ud.${name}.value;
                v = uv.${name};
                offset = ${uboElement.offset / 4};
                ${template};
                `);
      }
    }
  }
  funcFragments.push(`
       renderer.buffer.update(buffer);
    `);
  return {
    size,
    syncFunc: new Function("ud", "uv", "renderer", "syncData", "buffer", funcFragments.join("\n"))
  };
}


//# sourceMappingURL=generateUniformBufferSync.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/generateUniformsSync.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/generateUniformsSync.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "generateUniformsSync": () => (/* binding */ generateUniformsSync)
/* harmony export */ });
/* harmony import */ var _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./uniformParsers.mjs */ "./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs");


const GLSL_TO_SINGLE_SETTERS_CACHED = {
  float: `
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,
  vec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,
  vec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,
  vec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,
  int: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,
  ivec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,
  ivec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,
  ivec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,
  uint: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,
  uvec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,
  uvec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,
  uvec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,
  bool: `
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,
  bvec2: `
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,
  bvec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,
  bvec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,
  mat2: "gl.uniformMatrix2fv(location, false, v)",
  mat3: "gl.uniformMatrix3fv(location, false, v)",
  mat4: "gl.uniformMatrix4fv(location, false, v)",
  sampler2D: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,
  samplerCube: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,
  sampler2DArray: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`
};
const GLSL_TO_ARRAY_SETTERS = {
  float: `gl.uniform1fv(location, v)`,
  vec2: `gl.uniform2fv(location, v)`,
  vec3: `gl.uniform3fv(location, v)`,
  vec4: "gl.uniform4fv(location, v)",
  mat4: "gl.uniformMatrix4fv(location, false, v)",
  mat3: "gl.uniformMatrix3fv(location, false, v)",
  mat2: "gl.uniformMatrix2fv(location, false, v)",
  int: "gl.uniform1iv(location, v)",
  ivec2: "gl.uniform2iv(location, v)",
  ivec3: "gl.uniform3iv(location, v)",
  ivec4: "gl.uniform4iv(location, v)",
  uint: "gl.uniform1uiv(location, v)",
  uvec2: "gl.uniform2uiv(location, v)",
  uvec3: "gl.uniform3uiv(location, v)",
  uvec4: "gl.uniform4uiv(location, v)",
  bool: "gl.uniform1iv(location, v)",
  bvec2: "gl.uniform2iv(location, v)",
  bvec3: "gl.uniform3iv(location, v)",
  bvec4: "gl.uniform4iv(location, v)",
  sampler2D: "gl.uniform1iv(location, v)",
  samplerCube: "gl.uniform1iv(location, v)",
  sampler2DArray: "gl.uniform1iv(location, v)"
};
function generateUniformsSync(group, uniformData) {
  const funcFragments = [`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];
  for (const i in group.uniforms) {
    const data = uniformData[i];
    if (!data) {
      if (group.uniforms[i]?.group) {
        if (group.uniforms[i].ubo) {
          funcFragments.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `);
        } else {
          funcFragments.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `);
        }
      }
      continue;
    }
    const uniform = group.uniforms[i];
    let parsed = false;
    for (let j = 0; j < _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_0__.uniformParsers.length; j++) {
      if (_uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_0__.uniformParsers[j].test(data, uniform)) {
        funcFragments.push(_uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_0__.uniformParsers[j].code(i, uniform));
        parsed = true;
        break;
      }
    }
    if (!parsed) {
      const templateType = data.size === 1 && !data.isArray ? GLSL_TO_SINGLE_SETTERS_CACHED : GLSL_TO_ARRAY_SETTERS;
      const template = templateType[data.type].replace("location", `ud["${i}"].location`);
      funcFragments.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${template};`);
    }
  }
  return new Function("ud", "uv", "renderer", "syncData", funcFragments.join("\n"));
}


//# sourceMappingURL=generateUniformsSync.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/getAttributeData.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/getAttributeData.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAttributeData": () => (/* binding */ getAttributeData)
/* harmony export */ });
/* harmony import */ var _mapSize_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapSize.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs");
/* harmony import */ var _mapType_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapType.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapType.mjs");



function getAttributeData(program, gl) {
  const attributes = {};
  const totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);
  for (let i = 0; i < totalAttributes; i++) {
    const attribData = gl.getActiveAttrib(program, i);
    if (attribData.name.startsWith("gl_")) {
      continue;
    }
    const type = (0,_mapType_mjs__WEBPACK_IMPORTED_MODULE_1__.mapType)(gl, attribData.type);
    const data = {
      type,
      name: attribData.name,
      size: (0,_mapSize_mjs__WEBPACK_IMPORTED_MODULE_0__.mapSize)(type),
      location: gl.getAttribLocation(program, attribData.name)
    };
    attributes[attribData.name] = data;
  }
  return attributes;
}


//# sourceMappingURL=getAttributeData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/getMaxFragmentPrecision.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/getMaxFragmentPrecision.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getMaxFragmentPrecision": () => (/* binding */ getMaxFragmentPrecision)
/* harmony export */ });
/* harmony import */ var _getTestContext_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getTestContext.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");



let maxFragmentPrecision;
function getMaxFragmentPrecision() {
  if (!maxFragmentPrecision) {
    maxFragmentPrecision = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.PRECISION.MEDIUM;
    const gl = (0,_getTestContext_mjs__WEBPACK_IMPORTED_MODULE_0__.getTestContext)();
    if (gl) {
      if (gl.getShaderPrecisionFormat) {
        const shaderFragment = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT);
        maxFragmentPrecision = shaderFragment.precision ? _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.PRECISION.HIGH : _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.PRECISION.MEDIUM;
      }
    }
  }
  return maxFragmentPrecision;
}


//# sourceMappingURL=getMaxFragmentPrecision.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTestContext": () => (/* binding */ getTestContext)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../settings.mjs */ "./node_modules/@pixi/core/lib/settings.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");




const unknownContext = {};
let context = unknownContext;
function getTestContext() {
  if (context === unknownContext || context?.isContextLost()) {
    const canvas = _pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.ADAPTER.createCanvas();
    let gl;
    if (_pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.PREFER_ENV >= _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.ENV.WEBGL2) {
      gl = canvas.getContext("webgl2", {});
    }
    if (!gl) {
      gl = canvas.getContext("webgl", {}) || canvas.getContext("experimental-webgl", {});
      if (!gl) {
        gl = null;
      } else {
        gl.getExtension("WEBGL_draw_buffers");
      }
    }
    context = gl;
  }
  return context;
}


//# sourceMappingURL=getTestContext.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/getUniformData.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/getUniformData.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getUniformData": () => (/* binding */ getUniformData)
/* harmony export */ });
/* harmony import */ var _defaultValue_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaultValue.mjs */ "./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs");
/* harmony import */ var _mapType_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapType.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapType.mjs");



function getUniformData(program, gl) {
  const uniforms = {};
  const totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);
  for (let i = 0; i < totalUniforms; i++) {
    const uniformData = gl.getActiveUniform(program, i);
    const name = uniformData.name.replace(/\[.*?\]$/, "");
    const isArray = !!uniformData.name.match(/\[.*?\]$/);
    const type = (0,_mapType_mjs__WEBPACK_IMPORTED_MODULE_1__.mapType)(gl, uniformData.type);
    uniforms[name] = {
      name,
      index: i,
      type,
      size: uniformData.size,
      isArray,
      value: (0,_defaultValue_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultValue)(type, uniformData.size)
    };
  }
  return uniforms;
}


//# sourceMappingURL=getUniformData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkMaxIfStatementsInShader": () => (/* reexport safe */ _checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_10__.checkMaxIfStatementsInShader),
/* harmony export */   "compileShader": () => (/* reexport safe */ _compileShader_mjs__WEBPACK_IMPORTED_MODULE_0__.compileShader),
/* harmony export */   "defaultValue": () => (/* reexport safe */ _defaultValue_mjs__WEBPACK_IMPORTED_MODULE_2__.defaultValue),
/* harmony export */   "generateUniformsSync": () => (/* reexport safe */ _generateUniformsSync_mjs__WEBPACK_IMPORTED_MODULE_7__.generateUniformsSync),
/* harmony export */   "getMaxFragmentPrecision": () => (/* reexport safe */ _getMaxFragmentPrecision_mjs__WEBPACK_IMPORTED_MODULE_3__.getMaxFragmentPrecision),
/* harmony export */   "getTestContext": () => (/* reexport safe */ _getTestContext_mjs__WEBPACK_IMPORTED_MODULE_9__.getTestContext),
/* harmony export */   "logProgramError": () => (/* reexport safe */ _logProgramError_mjs__WEBPACK_IMPORTED_MODULE_1__.logProgramError),
/* harmony export */   "mapSize": () => (/* reexport safe */ _mapSize_mjs__WEBPACK_IMPORTED_MODULE_5__.mapSize),
/* harmony export */   "mapType": () => (/* reexport safe */ _mapType_mjs__WEBPACK_IMPORTED_MODULE_6__.mapType),
/* harmony export */   "setPrecision": () => (/* reexport safe */ _setPrecision_mjs__WEBPACK_IMPORTED_MODULE_4__.setPrecision),
/* harmony export */   "uniformParsers": () => (/* reexport safe */ _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_8__.uniformParsers),
/* harmony export */   "unsafeEvalSupported": () => (/* reexport safe */ _unsafeEvalSupported_mjs__WEBPACK_IMPORTED_MODULE_11__.unsafeEvalSupported)
/* harmony export */ });
/* harmony import */ var _compileShader_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compileShader.mjs */ "./node_modules/@pixi/core/lib/shader/utils/compileShader.mjs");
/* harmony import */ var _logProgramError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logProgramError.mjs */ "./node_modules/@pixi/core/lib/shader/utils/logProgramError.mjs");
/* harmony import */ var _defaultValue_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultValue.mjs */ "./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs");
/* harmony import */ var _getMaxFragmentPrecision_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getMaxFragmentPrecision.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getMaxFragmentPrecision.mjs");
/* harmony import */ var _setPrecision_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./setPrecision.mjs */ "./node_modules/@pixi/core/lib/shader/utils/setPrecision.mjs");
/* harmony import */ var _mapSize_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mapSize.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs");
/* harmony import */ var _mapType_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mapType.mjs */ "./node_modules/@pixi/core/lib/shader/utils/mapType.mjs");
/* harmony import */ var _generateUniformsSync_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./generateUniformsSync.mjs */ "./node_modules/@pixi/core/lib/shader/utils/generateUniformsSync.mjs");
/* harmony import */ var _uniformParsers_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./uniformParsers.mjs */ "./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs");
/* harmony import */ var _getTestContext_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./getTestContext.mjs */ "./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs");
/* harmony import */ var _checkMaxIfStatementsInShader_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./checkMaxIfStatementsInShader.mjs */ "./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs");
/* harmony import */ var _unsafeEvalSupported_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./unsafeEvalSupported.mjs */ "./node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs");












//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/logProgramError.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/logProgramError.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "logProgramError": () => (/* binding */ logProgramError)
/* harmony export */ });
function logPrettyShaderError(gl, shader) {
  const shaderSrc = gl.getShaderSource(shader).split("\n").map((line, index) => `${index}: ${line}`);
  const shaderLog = gl.getShaderInfoLog(shader);
  const splitShader = shaderLog.split("\n");
  const dedupe = {};
  const lineNumbers = splitShader.map((line) => parseFloat(line.replace(/^ERROR\: 0\:([\d]+)\:.*$/, "$1"))).filter((n) => {
    if (n && !dedupe[n]) {
      dedupe[n] = true;
      return true;
    }
    return false;
  });
  const logArgs = [""];
  lineNumbers.forEach((number) => {
    shaderSrc[number - 1] = `%c${shaderSrc[number - 1]}%c`;
    logArgs.push("background: #FF0000; color:#FFFFFF; font-size: 10px", "font-size: 10px");
  });
  const fragmentSourceToLog = shaderSrc.join("\n");
  logArgs[0] = fragmentSourceToLog;
  console.error(shaderLog);
  console.groupCollapsed("click to view full shader code");
  console.warn(...logArgs);
  console.groupEnd();
}
function logProgramError(gl, program, vertexShader, fragmentShader) {
  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {
      logPrettyShaderError(gl, vertexShader);
    }
    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {
      logPrettyShaderError(gl, fragmentShader);
    }
    console.error("PixiJS Error: Could not initialize shader.");
    if (gl.getProgramInfoLog(program) !== "") {
      console.warn("PixiJS Warning: gl.getProgramInfoLog()", gl.getProgramInfoLog(program));
    }
  }
}


//# sourceMappingURL=logProgramError.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mapSize": () => (/* binding */ mapSize)
/* harmony export */ });
const GLSL_TO_SIZE = {
  float: 1,
  vec2: 2,
  vec3: 3,
  vec4: 4,
  int: 1,
  ivec2: 2,
  ivec3: 3,
  ivec4: 4,
  uint: 1,
  uvec2: 2,
  uvec3: 3,
  uvec4: 4,
  bool: 1,
  bvec2: 2,
  bvec3: 3,
  bvec4: 4,
  mat2: 4,
  mat3: 9,
  mat4: 16,
  sampler2D: 1
};
function mapSize(type) {
  return GLSL_TO_SIZE[type];
}


//# sourceMappingURL=mapSize.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/mapType.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/mapType.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mapType": () => (/* binding */ mapType)
/* harmony export */ });
let GL_TABLE = null;
const GL_TO_GLSL_TYPES = {
  FLOAT: "float",
  FLOAT_VEC2: "vec2",
  FLOAT_VEC3: "vec3",
  FLOAT_VEC4: "vec4",
  INT: "int",
  INT_VEC2: "ivec2",
  INT_VEC3: "ivec3",
  INT_VEC4: "ivec4",
  UNSIGNED_INT: "uint",
  UNSIGNED_INT_VEC2: "uvec2",
  UNSIGNED_INT_VEC3: "uvec3",
  UNSIGNED_INT_VEC4: "uvec4",
  BOOL: "bool",
  BOOL_VEC2: "bvec2",
  BOOL_VEC3: "bvec3",
  BOOL_VEC4: "bvec4",
  FLOAT_MAT2: "mat2",
  FLOAT_MAT3: "mat3",
  FLOAT_MAT4: "mat4",
  SAMPLER_2D: "sampler2D",
  INT_SAMPLER_2D: "sampler2D",
  UNSIGNED_INT_SAMPLER_2D: "sampler2D",
  SAMPLER_CUBE: "samplerCube",
  INT_SAMPLER_CUBE: "samplerCube",
  UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
  SAMPLER_2D_ARRAY: "sampler2DArray",
  INT_SAMPLER_2D_ARRAY: "sampler2DArray",
  UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray"
};
function mapType(gl, type) {
  if (!GL_TABLE) {
    const typeNames = Object.keys(GL_TO_GLSL_TYPES);
    GL_TABLE = {};
    for (let i = 0; i < typeNames.length; ++i) {
      const tn = typeNames[i];
      GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn];
    }
  }
  return GL_TABLE[type];
}


//# sourceMappingURL=mapType.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/setPrecision.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/setPrecision.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setPrecision": () => (/* binding */ setPrecision)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


function setPrecision(src, requestedPrecision, maxSupportedPrecision) {
  if (src.substring(0, 9) !== "precision") {
    let precision = requestedPrecision;
    if (requestedPrecision === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH && maxSupportedPrecision !== _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH) {
      precision = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.MEDIUM;
    }
    return `precision ${precision} float;
${src}`;
  } else if (maxSupportedPrecision !== _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH && src.substring(0, 15) === "precision highp") {
    return src.replace("precision highp", "precision mediump");
  }
  return src;
}


//# sourceMappingURL=setPrecision.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "uniformParsers": () => (/* binding */ uniformParsers)
/* harmony export */ });
const uniformParsers = [
  {
    test: (data) => data.type === "float" && data.size === 1 && !data.isArray,
    code: (name) => `
            if(uv["${name}"] !== ud["${name}"].value)
            {
                ud["${name}"].value = uv["${name}"]
                gl.uniform1f(ud["${name}"].location, uv["${name}"])
            }
            `
  },
  {
    test: (data, uniform) => (data.type === "sampler2D" || data.type === "samplerCube" || data.type === "sampler2DArray") && data.size === 1 && !data.isArray && (uniform == null || uniform.castToBaseTexture !== void 0),
    code: (name) => `t = syncData.textureCount++;

            renderer.texture.bind(uv["${name}"], t);

            if(ud["${name}"].value !== t)
            {
                ud["${name}"].value = t;
                gl.uniform1i(ud["${name}"].location, t);
; // eslint-disable-line max-len
            }`
  },
  {
    test: (data, uniform) => data.type === "mat3" && data.size === 1 && !data.isArray && uniform.a !== void 0,
    code: (name) => `
            gl.uniformMatrix3fv(ud["${name}"].location, false, uv["${name}"].toArray(true));
            `,
    codeUbo: (name) => `
                var ${name}_matrix = uv.${name}.toArray(true);

                data[offset] = ${name}_matrix[0];
                data[offset+1] = ${name}_matrix[1];
                data[offset+2] = ${name}_matrix[2];
        
                data[offset + 4] = ${name}_matrix[3];
                data[offset + 5] = ${name}_matrix[4];
                data[offset + 6] = ${name}_matrix[5];
        
                data[offset + 8] = ${name}_matrix[6];
                data[offset + 9] = ${name}_matrix[7];
                data[offset + 10] = ${name}_matrix[8];
            `
  },
  {
    test: (data, uniform) => data.type === "vec2" && data.size === 1 && !data.isArray && uniform.x !== void 0,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${name}"].location, v.x, v.y);
                }`,
    codeUbo: (name) => `
                v = uv.${name};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `
  },
  {
    test: (data) => data.type === "vec2" && data.size === 1 && !data.isArray,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${name}"].location, v[0], v[1]);
                }
            `
  },
  {
    test: (data, uniform) => data.type === "vec4" && data.size === 1 && !data.isArray && uniform.width !== void 0,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${name}"].location, v.x, v.y, v.width, v.height)
                }`,
    codeUbo: (name) => `
                    v = uv.${name};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `
  },
  {
    test: (data) => data.type === "vec4" && data.size === 1 && !data.isArray,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${name}"].location, v[0], v[1], v[2], v[3])
                }`
  }
];


//# sourceMappingURL=uniformParsers.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "unsafeEvalSupported": () => (/* binding */ unsafeEvalSupported)
/* harmony export */ });
let unsafeEval;
function unsafeEvalSupported() {
  if (typeof unsafeEval === "boolean") {
    return unsafeEval;
  }
  try {
    const func = new Function("param1", "param2", "param3", "return param1[param2] === param3;");
    unsafeEval = func({ a: "b" }, "a", "b") === true;
  } catch (e) {
    unsafeEval = false;
  }
  return unsafeEval;
}


//# sourceMappingURL=unsafeEvalSupported.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/startup/StartupSystem.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/startup/StartupSystem.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StartupSystem": () => (/* binding */ StartupSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");


class StartupSystem {
  constructor(renderer) {
    this.renderer = renderer;
  }
  run(options) {
    const renderer = this.renderer;
    renderer.emitWithCustomOptions(renderer.runners.init, options);
    if (options.hello) {
      console.log(`PixiJS ${"7.0.5"} - ${renderer.rendererLogId} - https://pixijs.com`);
    }
    renderer.resize(this.renderer.screen.width, this.renderer.screen.height);
  }
  destroy() {
  }
}
StartupSystem.extension = {
  type: [
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CanvasRendererSystem
  ],
  name: "startup"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(StartupSystem);


//# sourceMappingURL=StartupSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/state/State.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/core/lib/state/State.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "State": () => (/* binding */ State)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


const BLEND = 0;
const OFFSET = 1;
const CULLING = 2;
const DEPTH_TEST = 3;
const WINDING = 4;
const DEPTH_MASK = 5;
class State {
  constructor() {
    this.data = 0;
    this.blendMode = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL;
    this.polygonOffset = 0;
    this.blend = true;
    this.depthMask = true;
  }
  get blend() {
    return !!(this.data & 1 << BLEND);
  }
  set blend(value) {
    if (!!(this.data & 1 << BLEND) !== value) {
      this.data ^= 1 << BLEND;
    }
  }
  get offsets() {
    return !!(this.data & 1 << OFFSET);
  }
  set offsets(value) {
    if (!!(this.data & 1 << OFFSET) !== value) {
      this.data ^= 1 << OFFSET;
    }
  }
  get culling() {
    return !!(this.data & 1 << CULLING);
  }
  set culling(value) {
    if (!!(this.data & 1 << CULLING) !== value) {
      this.data ^= 1 << CULLING;
    }
  }
  get depthTest() {
    return !!(this.data & 1 << DEPTH_TEST);
  }
  set depthTest(value) {
    if (!!(this.data & 1 << DEPTH_TEST) !== value) {
      this.data ^= 1 << DEPTH_TEST;
    }
  }
  get depthMask() {
    return !!(this.data & 1 << DEPTH_MASK);
  }
  set depthMask(value) {
    if (!!(this.data & 1 << DEPTH_MASK) !== value) {
      this.data ^= 1 << DEPTH_MASK;
    }
  }
  get clockwiseFrontFace() {
    return !!(this.data & 1 << WINDING);
  }
  set clockwiseFrontFace(value) {
    if (!!(this.data & 1 << WINDING) !== value) {
      this.data ^= 1 << WINDING;
    }
  }
  get blendMode() {
    return this._blendMode;
  }
  set blendMode(value) {
    this.blend = value !== _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NONE;
    this._blendMode = value;
  }
  get polygonOffset() {
    return this._polygonOffset;
  }
  set polygonOffset(value) {
    this.offsets = !!value;
    this._polygonOffset = value;
  }
  toString() {
    return `[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`;
  }
  static for2d() {
    const state = new State();
    state.depthTest = false;
    state.blend = true;
    return state;
  }
}


//# sourceMappingURL=State.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/state/StateSystem.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/state/StateSystem.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StateSystem": () => (/* binding */ StateSystem)
/* harmony export */ });
/* harmony import */ var _utils_mapWebGLBlendModesToPixi_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/mapWebGLBlendModesToPixi.mjs */ "./node_modules/@pixi/core/lib/state/utils/mapWebGLBlendModesToPixi.mjs");
/* harmony import */ var _State_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./State.mjs */ "./node_modules/@pixi/core/lib/state/State.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");





const BLEND = 0;
const OFFSET = 1;
const CULLING = 2;
const DEPTH_TEST = 3;
const WINDING = 4;
const DEPTH_MASK = 5;
const _StateSystem = class {
  constructor() {
    this.gl = null;
    this.stateId = 0;
    this.polygonOffset = 0;
    this.blendMode = _pixi_constants__WEBPACK_IMPORTED_MODULE_2__.BLEND_MODES.NONE;
    this._blendEq = false;
    this.map = [];
    this.map[BLEND] = this.setBlend;
    this.map[OFFSET] = this.setOffset;
    this.map[CULLING] = this.setCullFace;
    this.map[DEPTH_TEST] = this.setDepthTest;
    this.map[WINDING] = this.setFrontFace;
    this.map[DEPTH_MASK] = this.setDepthMask;
    this.checks = [];
    this.defaultState = new _State_mjs__WEBPACK_IMPORTED_MODULE_1__.State();
    this.defaultState.blend = true;
  }
  contextChange(gl) {
    this.gl = gl;
    this.blendModes = (0,_utils_mapWebGLBlendModesToPixi_mjs__WEBPACK_IMPORTED_MODULE_0__.mapWebGLBlendModesToPixi)(gl);
    this.set(this.defaultState);
    this.reset();
  }
  set(state) {
    state = state || this.defaultState;
    if (this.stateId !== state.data) {
      let diff = this.stateId ^ state.data;
      let i = 0;
      while (diff) {
        if (diff & 1) {
          this.map[i].call(this, !!(state.data & 1 << i));
        }
        diff = diff >> 1;
        i++;
      }
      this.stateId = state.data;
    }
    for (let i = 0; i < this.checks.length; i++) {
      this.checks[i](this, state);
    }
  }
  forceState(state) {
    state = state || this.defaultState;
    for (let i = 0; i < this.map.length; i++) {
      this.map[i].call(this, !!(state.data & 1 << i));
    }
    for (let i = 0; i < this.checks.length; i++) {
      this.checks[i](this, state);
    }
    this.stateId = state.data;
  }
  setBlend(value) {
    this.updateCheck(_StateSystem.checkBlendMode, value);
    this.gl[value ? "enable" : "disable"](this.gl.BLEND);
  }
  setOffset(value) {
    this.updateCheck(_StateSystem.checkPolygonOffset, value);
    this.gl[value ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL);
  }
  setDepthTest(value) {
    this.gl[value ? "enable" : "disable"](this.gl.DEPTH_TEST);
  }
  setDepthMask(value) {
    this.gl.depthMask(value);
  }
  setCullFace(value) {
    this.gl[value ? "enable" : "disable"](this.gl.CULL_FACE);
  }
  setFrontFace(value) {
    this.gl.frontFace(this.gl[value ? "CW" : "CCW"]);
  }
  setBlendMode(value) {
    if (value === this.blendMode) {
      return;
    }
    this.blendMode = value;
    const mode = this.blendModes[value];
    const gl = this.gl;
    if (mode.length === 2) {
      gl.blendFunc(mode[0], mode[1]);
    } else {
      gl.blendFuncSeparate(mode[0], mode[1], mode[2], mode[3]);
    }
    if (mode.length === 6) {
      this._blendEq = true;
      gl.blendEquationSeparate(mode[4], mode[5]);
    } else if (this._blendEq) {
      this._blendEq = false;
      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
    }
  }
  setPolygonOffset(value, scale) {
    this.gl.polygonOffset(value, scale);
  }
  reset() {
    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, false);
    this.forceState(this.defaultState);
    this._blendEq = true;
    this.blendMode = -1;
    this.setBlendMode(0);
  }
  updateCheck(func, value) {
    const index = this.checks.indexOf(func);
    if (value && index === -1) {
      this.checks.push(func);
    } else if (!value && index !== -1) {
      this.checks.splice(index, 1);
    }
  }
  static checkBlendMode(system, state) {
    system.setBlendMode(state.blendMode);
  }
  static checkPolygonOffset(system, state) {
    system.setPolygonOffset(1, state.polygonOffset);
  }
  destroy() {
    this.gl = null;
  }
};
let StateSystem = _StateSystem;
StateSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.ExtensionType.RendererSystem,
  name: "state"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_3__.extensions.add(StateSystem);


//# sourceMappingURL=StateSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/state/utils/mapWebGLBlendModesToPixi.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/state/utils/mapWebGLBlendModesToPixi.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mapWebGLBlendModesToPixi": () => (/* binding */ mapWebGLBlendModesToPixi)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


function mapWebGLBlendModesToPixi(gl, array = []) {
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.ADD] = [gl.ONE, gl.ONE];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.MULTIPLY] = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SCREEN] = [gl.ONE, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.OVERLAY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DARKEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.LIGHTEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.COLOR_DODGE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.COLOR_BURN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.HARD_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SOFT_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DIFFERENCE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.EXCLUSION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.HUE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SATURATION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.COLOR] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.LUMINOSITY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NONE] = [0, 0];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL_NPM] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.ADD_NPM] = [gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SCREEN_NPM] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SRC_IN] = [gl.DST_ALPHA, gl.ZERO];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SRC_OUT] = [gl.ONE_MINUS_DST_ALPHA, gl.ZERO];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SRC_ATOP] = [gl.DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DST_OVER] = [gl.ONE_MINUS_DST_ALPHA, gl.ONE];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DST_IN] = [gl.ZERO, gl.SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DST_OUT] = [gl.ZERO, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.DST_ATOP] = [gl.ONE_MINUS_DST_ALPHA, gl.SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.XOR] = [gl.ONE_MINUS_DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA];
  array[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SUBTRACT] = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD];
  return array;
}


//# sourceMappingURL=mapWebGLBlendModesToPixi.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/system/ISystem.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/system/ISystem.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=ISystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/system/SystemManager.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/system/SystemManager.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SystemManager": () => (/* binding */ SystemManager)
/* harmony export */ });
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");



class SystemManager extends _pixi_utils__WEBPACK_IMPORTED_MODULE_1__.EventEmitter {
  constructor() {
    super(...arguments);
    this.runners = {};
    this._systemsHash = {};
  }
  setup(config) {
    this.addRunners(...config.runners);
    const priority = (config.priority ?? []).filter((key) => config.systems[key]);
    const orderByPriority = [
      ...priority,
      ...Object.keys(config.systems).filter((key) => !priority.includes(key))
    ];
    for (const i of orderByPriority) {
      this.addSystem(config.systems[i], i);
    }
  }
  addRunners(...runnerIds) {
    runnerIds.forEach((runnerId) => {
      this.runners[runnerId] = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner(runnerId);
    });
  }
  addSystem(ClassRef, name) {
    const system = new ClassRef(this);
    if (this[name]) {
      throw new Error(`Whoops! The name "${name}" is already in use`);
    }
    this[name] = system;
    this._systemsHash[name] = system;
    for (const i in this.runners) {
      this.runners[i].add(system);
    }
    return this;
  }
  emitWithCustomOptions(runner, options) {
    const systemHashKeys = Object.keys(this._systemsHash);
    runner.items.forEach((system) => {
      const systemName = systemHashKeys.find((systemId) => this._systemsHash[systemId] === system);
      system[runner.name](options[systemName]);
    });
  }
  destroy() {
    Object.values(this.runners).forEach((runner) => {
      runner.destroy();
    });
    this._systemsHash = {};
  }
}


//# sourceMappingURL=SystemManager.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/systems.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/core/lib/systems.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BackgroundSystem": () => (/* reexport safe */ _background_BackgroundSystem_mjs__WEBPACK_IMPORTED_MODULE_15__.BackgroundSystem),
/* harmony export */   "BatchSystem": () => (/* reexport safe */ _batch_BatchSystem_mjs__WEBPACK_IMPORTED_MODULE_1__.BatchSystem),
/* harmony export */   "ContextSystem": () => (/* reexport safe */ _context_ContextSystem_mjs__WEBPACK_IMPORTED_MODULE_2__.ContextSystem),
/* harmony export */   "FilterSystem": () => (/* reexport safe */ _filters_FilterSystem_mjs__WEBPACK_IMPORTED_MODULE_0__.FilterSystem),
/* harmony export */   "FramebufferSystem": () => (/* reexport safe */ _framebuffer_FramebufferSystem_mjs__WEBPACK_IMPORTED_MODULE_3__.FramebufferSystem),
/* harmony export */   "GenerateTextureSystem": () => (/* reexport safe */ _renderTexture_GenerateTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_14__.GenerateTextureSystem),
/* harmony export */   "GeometrySystem": () => (/* reexport safe */ _geometry_GeometrySystem_mjs__WEBPACK_IMPORTED_MODULE_4__.GeometrySystem),
/* harmony export */   "MaskSystem": () => (/* reexport safe */ _mask_MaskSystem_mjs__WEBPACK_IMPORTED_MODULE_5__.MaskSystem),
/* harmony export */   "PluginSystem": () => (/* reexport safe */ _plugin_PluginSystem_mjs__WEBPACK_IMPORTED_MODULE_17__.PluginSystem),
/* harmony export */   "ProjectionSystem": () => (/* reexport safe */ _projection_ProjectionSystem_mjs__WEBPACK_IMPORTED_MODULE_8__.ProjectionSystem),
/* harmony export */   "RenderTextureSystem": () => (/* reexport safe */ _renderTexture_RenderTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_9__.RenderTextureSystem),
/* harmony export */   "ScissorSystem": () => (/* reexport safe */ _mask_ScissorSystem_mjs__WEBPACK_IMPORTED_MODULE_6__.ScissorSystem),
/* harmony export */   "ShaderSystem": () => (/* reexport safe */ _shader_ShaderSystem_mjs__WEBPACK_IMPORTED_MODULE_10__.ShaderSystem),
/* harmony export */   "StartupSystem": () => (/* reexport safe */ _startup_StartupSystem_mjs__WEBPACK_IMPORTED_MODULE_19__.StartupSystem),
/* harmony export */   "StateSystem": () => (/* reexport safe */ _state_StateSystem_mjs__WEBPACK_IMPORTED_MODULE_11__.StateSystem),
/* harmony export */   "StencilSystem": () => (/* reexport safe */ _mask_StencilSystem_mjs__WEBPACK_IMPORTED_MODULE_7__.StencilSystem),
/* harmony export */   "SystemManager": () => (/* reexport safe */ _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_18__.SystemManager),
/* harmony export */   "TextureGCSystem": () => (/* reexport safe */ _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_12__.TextureGCSystem),
/* harmony export */   "TextureSystem": () => (/* reexport safe */ _textures_TextureSystem_mjs__WEBPACK_IMPORTED_MODULE_13__.TextureSystem),
/* harmony export */   "TransformFeedbackSystem": () => (/* reexport safe */ _transformFeedback_TransformFeedbackSystem_mjs__WEBPACK_IMPORTED_MODULE_20__.TransformFeedbackSystem),
/* harmony export */   "ViewSystem": () => (/* reexport safe */ _view_ViewSystem_mjs__WEBPACK_IMPORTED_MODULE_16__.ViewSystem)
/* harmony export */ });
/* harmony import */ var _filters_FilterSystem_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./filters/FilterSystem.mjs */ "./node_modules/@pixi/core/lib/filters/FilterSystem.mjs");
/* harmony import */ var _batch_BatchSystem_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./batch/BatchSystem.mjs */ "./node_modules/@pixi/core/lib/batch/BatchSystem.mjs");
/* harmony import */ var _context_ContextSystem_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context/ContextSystem.mjs */ "./node_modules/@pixi/core/lib/context/ContextSystem.mjs");
/* harmony import */ var _framebuffer_FramebufferSystem_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./framebuffer/FramebufferSystem.mjs */ "./node_modules/@pixi/core/lib/framebuffer/FramebufferSystem.mjs");
/* harmony import */ var _geometry_GeometrySystem_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./geometry/GeometrySystem.mjs */ "./node_modules/@pixi/core/lib/geometry/GeometrySystem.mjs");
/* harmony import */ var _mask_MaskSystem_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mask/MaskSystem.mjs */ "./node_modules/@pixi/core/lib/mask/MaskSystem.mjs");
/* harmony import */ var _mask_ScissorSystem_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mask/ScissorSystem.mjs */ "./node_modules/@pixi/core/lib/mask/ScissorSystem.mjs");
/* harmony import */ var _mask_StencilSystem_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mask/StencilSystem.mjs */ "./node_modules/@pixi/core/lib/mask/StencilSystem.mjs");
/* harmony import */ var _projection_ProjectionSystem_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./projection/ProjectionSystem.mjs */ "./node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs");
/* harmony import */ var _renderTexture_RenderTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./renderTexture/RenderTextureSystem.mjs */ "./node_modules/@pixi/core/lib/renderTexture/RenderTextureSystem.mjs");
/* harmony import */ var _shader_ShaderSystem_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./shader/ShaderSystem.mjs */ "./node_modules/@pixi/core/lib/shader/ShaderSystem.mjs");
/* harmony import */ var _state_StateSystem_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./state/StateSystem.mjs */ "./node_modules/@pixi/core/lib/state/StateSystem.mjs");
/* harmony import */ var _textures_TextureGCSystem_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./textures/TextureGCSystem.mjs */ "./node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs");
/* harmony import */ var _textures_TextureSystem_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./textures/TextureSystem.mjs */ "./node_modules/@pixi/core/lib/textures/TextureSystem.mjs");
/* harmony import */ var _renderTexture_GenerateTextureSystem_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./renderTexture/GenerateTextureSystem.mjs */ "./node_modules/@pixi/core/lib/renderTexture/GenerateTextureSystem.mjs");
/* harmony import */ var _background_BackgroundSystem_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./background/BackgroundSystem.mjs */ "./node_modules/@pixi/core/lib/background/BackgroundSystem.mjs");
/* harmony import */ var _view_ViewSystem_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./view/ViewSystem.mjs */ "./node_modules/@pixi/core/lib/view/ViewSystem.mjs");
/* harmony import */ var _plugin_PluginSystem_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./plugin/PluginSystem.mjs */ "./node_modules/@pixi/core/lib/plugin/PluginSystem.mjs");
/* harmony import */ var _system_SystemManager_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./system/SystemManager.mjs */ "./node_modules/@pixi/core/lib/system/SystemManager.mjs");
/* harmony import */ var _startup_StartupSystem_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./startup/StartupSystem.mjs */ "./node_modules/@pixi/core/lib/startup/StartupSystem.mjs");
/* harmony import */ var _transformFeedback_TransformFeedbackSystem_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./transformFeedback/TransformFeedbackSystem.mjs */ "./node_modules/@pixi/core/lib/transformFeedback/TransformFeedbackSystem.mjs");





















//# sourceMappingURL=systems.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/BaseTexture.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseTexture": () => (/* binding */ BaseTexture)
/* harmony export */ });
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _resources_Resource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resources/Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");
/* harmony import */ var _resources_BufferResource_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources/BufferResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs");
/* harmony import */ var _resources_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources/autoDetectResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");







const defaultBufferOptions = {
  scaleMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.SCALE_MODES.NEAREST,
  format: _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.FORMATS.RGBA,
  alphaMode: _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.ALPHA_MODES.NPM
};
const _BaseTexture = class extends _pixi_utils__WEBPACK_IMPORTED_MODULE_0__.EventEmitter {
  constructor(resource = null, options = null) {
    super();
    options = options || {};
    const {
      alphaMode,
      mipmap,
      anisotropicLevel,
      scaleMode,
      width,
      height,
      wrapMode,
      format,
      type,
      target,
      resolution,
      resourceOptions
    } = options;
    if (resource && !(resource instanceof _resources_Resource_mjs__WEBPACK_IMPORTED_MODULE_2__.Resource)) {
      resource = (0,_resources_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_4__.autoDetectResource)(resource, resourceOptions);
      resource.internal = true;
    }
    this.resolution = resolution || _pixi_settings__WEBPACK_IMPORTED_MODULE_5__.settings.RESOLUTION;
    this.width = Math.round((width || 0) * this.resolution) / this.resolution;
    this.height = Math.round((height || 0) * this.resolution) / this.resolution;
    this._mipmap = mipmap ?? _pixi_settings__WEBPACK_IMPORTED_MODULE_5__.settings.MIPMAP_TEXTURES;
    this.anisotropicLevel = anisotropicLevel ?? _pixi_settings__WEBPACK_IMPORTED_MODULE_5__.settings.ANISOTROPIC_LEVEL;
    this._wrapMode = wrapMode || _pixi_settings__WEBPACK_IMPORTED_MODULE_5__.settings.WRAP_MODE;
    this._scaleMode = scaleMode ?? _pixi_settings__WEBPACK_IMPORTED_MODULE_5__.settings.SCALE_MODE;
    this.format = format || _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.FORMATS.RGBA;
    this.type = type || _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.TYPES.UNSIGNED_BYTE;
    this.target = target || _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.TARGETS.TEXTURE_2D;
    this.alphaMode = alphaMode ?? _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.ALPHA_MODES.UNPACK;
    this.uid = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.uid)();
    this.touched = 0;
    this.isPowerOfTwo = false;
    this._refreshPOT();
    this._glTextures = {};
    this.dirtyId = 0;
    this.dirtyStyleId = 0;
    this.cacheId = null;
    this.valid = width > 0 && height > 0;
    this.textureCacheIds = [];
    this.destroyed = false;
    this.resource = null;
    this._batchEnabled = 0;
    this._batchLocation = 0;
    this.parentTextureArray = null;
    this.setResource(resource);
  }
  get realWidth() {
    return Math.round(this.width * this.resolution);
  }
  get realHeight() {
    return Math.round(this.height * this.resolution);
  }
  get mipmap() {
    return this._mipmap;
  }
  set mipmap(value) {
    if (this._mipmap !== value) {
      this._mipmap = value;
      this.dirtyStyleId++;
    }
  }
  get scaleMode() {
    return this._scaleMode;
  }
  set scaleMode(value) {
    if (this._scaleMode !== value) {
      this._scaleMode = value;
      this.dirtyStyleId++;
    }
  }
  get wrapMode() {
    return this._wrapMode;
  }
  set wrapMode(value) {
    if (this._wrapMode !== value) {
      this._wrapMode = value;
      this.dirtyStyleId++;
    }
  }
  setStyle(scaleMode, mipmap) {
    let dirty;
    if (scaleMode !== void 0 && scaleMode !== this.scaleMode) {
      this.scaleMode = scaleMode;
      dirty = true;
    }
    if (mipmap !== void 0 && mipmap !== this.mipmap) {
      this.mipmap = mipmap;
      dirty = true;
    }
    if (dirty) {
      this.dirtyStyleId++;
    }
    return this;
  }
  setSize(desiredWidth, desiredHeight, resolution) {
    resolution = resolution || this.resolution;
    return this.setRealSize(desiredWidth * resolution, desiredHeight * resolution, resolution);
  }
  setRealSize(realWidth, realHeight, resolution) {
    this.resolution = resolution || this.resolution;
    this.width = Math.round(realWidth) / this.resolution;
    this.height = Math.round(realHeight) / this.resolution;
    this._refreshPOT();
    this.update();
    return this;
  }
  _refreshPOT() {
    this.isPowerOfTwo = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.isPow2)(this.realWidth) && (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.isPow2)(this.realHeight);
  }
  setResolution(resolution) {
    const oldResolution = this.resolution;
    if (oldResolution === resolution) {
      return this;
    }
    this.resolution = resolution;
    if (this.valid) {
      this.width = Math.round(this.width * oldResolution) / resolution;
      this.height = Math.round(this.height * oldResolution) / resolution;
      this.emit("update", this);
    }
    this._refreshPOT();
    return this;
  }
  setResource(resource) {
    if (this.resource === resource) {
      return this;
    }
    if (this.resource) {
      throw new Error("Resource can be set only once");
    }
    resource.bind(this);
    this.resource = resource;
    return this;
  }
  update() {
    if (!this.valid) {
      if (this.width > 0 && this.height > 0) {
        this.valid = true;
        this.emit("loaded", this);
        this.emit("update", this);
      }
    } else {
      this.dirtyId++;
      this.dirtyStyleId++;
      this.emit("update", this);
    }
  }
  onError(event) {
    this.emit("error", this, event);
  }
  destroy() {
    if (this.resource) {
      this.resource.unbind(this);
      if (this.resource.internal) {
        this.resource.destroy();
      }
      this.resource = null;
    }
    if (this.cacheId) {
      delete _pixi_utils__WEBPACK_IMPORTED_MODULE_0__.BaseTextureCache[this.cacheId];
      delete _pixi_utils__WEBPACK_IMPORTED_MODULE_0__.TextureCache[this.cacheId];
      this.cacheId = null;
    }
    this.dispose();
    _BaseTexture.removeFromCache(this);
    this.textureCacheIds = null;
    this.destroyed = true;
  }
  dispose() {
    this.emit("dispose", this);
  }
  castToBaseTexture() {
    return this;
  }
  static from(source, options, strict = _pixi_settings__WEBPACK_IMPORTED_MODULE_5__.settings.STRICT_TEXTURE_CACHE) {
    const isFrame = typeof source === "string";
    let cacheId = null;
    if (isFrame) {
      cacheId = source;
    } else {
      if (!source._pixiId) {
        const prefix = options?.pixiIdPrefix || "pixiid";
        source._pixiId = `${prefix}_${(0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.uid)()}`;
      }
      cacheId = source._pixiId;
    }
    let baseTexture = _pixi_utils__WEBPACK_IMPORTED_MODULE_0__.BaseTextureCache[cacheId];
    if (isFrame && strict && !baseTexture) {
      throw new Error(`The cacheId "${cacheId}" does not exist in BaseTextureCache.`);
    }
    if (!baseTexture) {
      baseTexture = new _BaseTexture(source, options);
      baseTexture.cacheId = cacheId;
      _BaseTexture.addToCache(baseTexture, cacheId);
    }
    return baseTexture;
  }
  static fromBuffer(buffer, width, height, options) {
    buffer = buffer || new Float32Array(width * height * 4);
    const resource = new _resources_BufferResource_mjs__WEBPACK_IMPORTED_MODULE_3__.BufferResource(buffer, { width, height });
    const type = buffer instanceof Float32Array ? _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.TYPES.FLOAT : _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.TYPES.UNSIGNED_BYTE;
    return new _BaseTexture(resource, Object.assign({}, defaultBufferOptions, options || { width, height, type }));
  }
  static addToCache(baseTexture, id) {
    if (id) {
      if (!baseTexture.textureCacheIds.includes(id)) {
        baseTexture.textureCacheIds.push(id);
      }
      if (_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.BaseTextureCache[id] && _pixi_utils__WEBPACK_IMPORTED_MODULE_0__.BaseTextureCache[id] !== baseTexture) {
        console.warn(`BaseTexture added to the cache with an id [${id}] that already had an entry`);
      }
      _pixi_utils__WEBPACK_IMPORTED_MODULE_0__.BaseTextureCache[id] = baseTexture;
    }
  }
  static removeFromCache(baseTexture) {
    if (typeof baseTexture === "string") {
      const baseTextureFromCache = _pixi_utils__WEBPACK_IMPORTED_MODULE_0__.BaseTextureCache[baseTexture];
      if (baseTextureFromCache) {
        const index = baseTextureFromCache.textureCacheIds.indexOf(baseTexture);
        if (index > -1) {
          baseTextureFromCache.textureCacheIds.splice(index, 1);
        }
        delete _pixi_utils__WEBPACK_IMPORTED_MODULE_0__.BaseTextureCache[baseTexture];
        return baseTextureFromCache;
      }
    } else if (baseTexture?.textureCacheIds) {
      for (let i = 0; i < baseTexture.textureCacheIds.length; ++i) {
        delete _pixi_utils__WEBPACK_IMPORTED_MODULE_0__.BaseTextureCache[baseTexture.textureCacheIds[i]];
      }
      baseTexture.textureCacheIds.length = 0;
      return baseTexture;
    }
    return null;
  }
};
let BaseTexture = _BaseTexture;
BaseTexture._globalBatch = 0;


//# sourceMappingURL=BaseTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/GLTexture.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/GLTexture.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GLTexture": () => (/* binding */ GLTexture)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


class GLTexture {
  constructor(texture) {
    this.texture = texture;
    this.width = -1;
    this.height = -1;
    this.dirtyId = -1;
    this.dirtyStyleId = -1;
    this.mipmap = false;
    this.wrapMode = 33071;
    this.type = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE;
    this.internalFormat = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA;
    this.samplerType = 0;
  }
}


//# sourceMappingURL=GLTexture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/Texture.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/Texture.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Texture": () => (/* binding */ Texture)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _resources_ImageResource_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources/ImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs");
/* harmony import */ var _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _TextureUvs_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TextureUvs.mjs */ "./node_modules/@pixi/core/lib/textures/TextureUvs.mjs");







const DEFAULT_UVS = new _TextureUvs_mjs__WEBPACK_IMPORTED_MODULE_5__.TextureUvs();
function removeAllHandlers(tex) {
  tex.destroy = function _emptyDestroy() {
  };
  tex.on = function _emptyOn() {
  };
  tex.once = function _emptyOnce() {
  };
  tex.emit = function _emptyEmit() {
  };
}
class Texture extends _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.EventEmitter {
  constructor(baseTexture, frame, orig, trim, rotate, anchor) {
    super();
    this.noFrame = false;
    if (!frame) {
      this.noFrame = true;
      frame = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Rectangle(0, 0, 1, 1);
    }
    if (baseTexture instanceof Texture) {
      baseTexture = baseTexture.baseTexture;
    }
    this.baseTexture = baseTexture;
    this._frame = frame;
    this.trim = trim;
    this.valid = false;
    this._uvs = DEFAULT_UVS;
    this.uvMatrix = null;
    this.orig = orig || frame;
    this._rotate = Number(rotate || 0);
    if (rotate === true) {
      this._rotate = 2;
    } else if (this._rotate % 2 !== 0) {
      throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
    }
    this.defaultAnchor = anchor ? new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Point(anchor.x, anchor.y) : new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Point(0, 0);
    this._updateID = 0;
    this.textureCacheIds = [];
    if (!baseTexture.valid) {
      baseTexture.once("loaded", this.onBaseTextureUpdated, this);
    } else if (this.noFrame) {
      if (baseTexture.valid) {
        this.onBaseTextureUpdated(baseTexture);
      }
    } else {
      this.frame = frame;
    }
    if (this.noFrame) {
      baseTexture.on("update", this.onBaseTextureUpdated, this);
    }
  }
  update() {
    if (this.baseTexture.resource) {
      this.baseTexture.resource.update();
    }
  }
  onBaseTextureUpdated(baseTexture) {
    if (this.noFrame) {
      if (!this.baseTexture.valid) {
        return;
      }
      this._frame.width = baseTexture.width;
      this._frame.height = baseTexture.height;
      this.valid = true;
      this.updateUvs();
    } else {
      this.frame = this._frame;
    }
    this.emit("update", this);
  }
  destroy(destroyBase) {
    if (this.baseTexture) {
      if (destroyBase) {
        const { resource } = this.baseTexture;
        if (resource?.url && _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[resource.url]) {
          Texture.removeFromCache(resource.url);
        }
        this.baseTexture.destroy();
      }
      this.baseTexture.off("loaded", this.onBaseTextureUpdated, this);
      this.baseTexture.off("update", this.onBaseTextureUpdated, this);
      this.baseTexture = null;
    }
    this._frame = null;
    this._uvs = null;
    this.trim = null;
    this.orig = null;
    this.valid = false;
    Texture.removeFromCache(this);
    this.textureCacheIds = null;
  }
  clone() {
    const clonedFrame = this._frame.clone();
    const clonedOrig = this._frame === this.orig ? clonedFrame : this.orig.clone();
    const clonedTexture = new Texture(this.baseTexture, !this.noFrame && clonedFrame, clonedOrig, this.trim?.clone(), this.rotate, this.defaultAnchor);
    if (this.noFrame) {
      clonedTexture._frame = clonedFrame;
    }
    return clonedTexture;
  }
  updateUvs() {
    if (this._uvs === DEFAULT_UVS) {
      this._uvs = new _TextureUvs_mjs__WEBPACK_IMPORTED_MODULE_5__.TextureUvs();
    }
    this._uvs.set(this._frame, this.baseTexture, this.rotate);
    this._updateID++;
  }
  static from(source, options = {}, strict = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.STRICT_TEXTURE_CACHE) {
    const isFrame = typeof source === "string";
    let cacheId = null;
    if (isFrame) {
      cacheId = source;
    } else if (source instanceof _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture) {
      if (!source.cacheId) {
        const prefix = options?.pixiIdPrefix || "pixiid";
        source.cacheId = `${prefix}-${(0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.uid)()}`;
        _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture.addToCache(source, source.cacheId);
      }
      cacheId = source.cacheId;
    } else {
      if (!source._pixiId) {
        const prefix = options?.pixiIdPrefix || "pixiid";
        source._pixiId = `${prefix}_${(0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.uid)()}`;
      }
      cacheId = source._pixiId;
    }
    let texture = _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[cacheId];
    if (isFrame && strict && !texture) {
      throw new Error(`The cacheId "${cacheId}" does not exist in TextureCache.`);
    }
    if (!texture && !(source instanceof _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture)) {
      if (!options.resolution) {
        options.resolution = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.getResolutionOfUrl)(source);
      }
      texture = new Texture(new _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture(source, options));
      texture.baseTexture.cacheId = cacheId;
      _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture.addToCache(texture.baseTexture, cacheId);
      Texture.addToCache(texture, cacheId);
    } else if (!texture && source instanceof _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture) {
      texture = new Texture(source);
      Texture.addToCache(texture, cacheId);
    }
    return texture;
  }
  static fromURL(url, options) {
    const resourceOptions = Object.assign({ autoLoad: false }, options?.resourceOptions);
    const texture = Texture.from(url, Object.assign({ resourceOptions }, options), false);
    const resource = texture.baseTexture.resource;
    if (texture.baseTexture.valid) {
      return Promise.resolve(texture);
    }
    return resource.load().then(() => Promise.resolve(texture));
  }
  static fromBuffer(buffer, width, height, options) {
    return new Texture(_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture.fromBuffer(buffer, width, height, options));
  }
  static fromLoader(source, imageUrl, name, options) {
    const baseTexture = new _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture(source, Object.assign({
      scaleMode: _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.SCALE_MODE,
      resolution: (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.getResolutionOfUrl)(imageUrl)
    }, options));
    const { resource } = baseTexture;
    if (resource instanceof _resources_ImageResource_mjs__WEBPACK_IMPORTED_MODULE_3__.ImageResource) {
      resource.url = imageUrl;
    }
    const texture = new Texture(baseTexture);
    if (!name) {
      name = imageUrl;
    }
    _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture.addToCache(texture.baseTexture, name);
    Texture.addToCache(texture, name);
    if (name !== imageUrl) {
      _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture.addToCache(texture.baseTexture, imageUrl);
      Texture.addToCache(texture, imageUrl);
    }
    if (texture.baseTexture.valid) {
      return Promise.resolve(texture);
    }
    return new Promise((resolve) => {
      texture.baseTexture.once("loaded", () => resolve(texture));
    });
  }
  static addToCache(texture, id) {
    if (id) {
      if (!texture.textureCacheIds.includes(id)) {
        texture.textureCacheIds.push(id);
      }
      if (_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[id] && _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[id] !== texture) {
        console.warn(`Texture added to the cache with an id [${id}] that already had an entry`);
      }
      _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[id] = texture;
    }
  }
  static removeFromCache(texture) {
    if (typeof texture === "string") {
      const textureFromCache = _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[texture];
      if (textureFromCache) {
        const index = textureFromCache.textureCacheIds.indexOf(texture);
        if (index > -1) {
          textureFromCache.textureCacheIds.splice(index, 1);
        }
        delete _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[texture];
        return textureFromCache;
      }
    } else if (texture?.textureCacheIds) {
      for (let i = 0; i < texture.textureCacheIds.length; ++i) {
        if (_pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[texture.textureCacheIds[i]] === texture) {
          delete _pixi_utils__WEBPACK_IMPORTED_MODULE_2__.TextureCache[texture.textureCacheIds[i]];
        }
      }
      texture.textureCacheIds.length = 0;
      return texture;
    }
    return null;
  }
  get resolution() {
    return this.baseTexture.resolution;
  }
  get frame() {
    return this._frame;
  }
  set frame(frame) {
    this._frame = frame;
    this.noFrame = false;
    const { x, y, width, height } = frame;
    const xNotFit = x + width > this.baseTexture.width;
    const yNotFit = y + height > this.baseTexture.height;
    if (xNotFit || yNotFit) {
      const relationship = xNotFit && yNotFit ? "and" : "or";
      const errorX = `X: ${x} + ${width} = ${x + width} > ${this.baseTexture.width}`;
      const errorY = `Y: ${y} + ${height} = ${y + height} > ${this.baseTexture.height}`;
      throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${errorX} ${relationship} ${errorY}`);
    }
    this.valid = width && height && this.baseTexture.valid;
    if (!this.trim && !this.rotate) {
      this.orig = frame;
    }
    if (this.valid) {
      this.updateUvs();
    }
  }
  get rotate() {
    return this._rotate;
  }
  set rotate(rotate) {
    this._rotate = rotate;
    if (this.valid) {
      this.updateUvs();
    }
  }
  get width() {
    return this.orig.width;
  }
  get height() {
    return this.orig.height;
  }
  castToBaseTexture() {
    return this.baseTexture;
  }
  static get EMPTY() {
    if (!Texture._EMPTY) {
      Texture._EMPTY = new Texture(new _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture());
      removeAllHandlers(Texture._EMPTY);
      removeAllHandlers(Texture._EMPTY.baseTexture);
    }
    return Texture._EMPTY;
  }
  static get WHITE() {
    if (!Texture._WHITE) {
      const canvas = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.createCanvas(16, 16);
      const context = canvas.getContext("2d");
      canvas.width = 16;
      canvas.height = 16;
      context.fillStyle = "white";
      context.fillRect(0, 0, 16, 16);
      Texture._WHITE = new Texture(_BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_4__.BaseTexture.from(canvas));
      removeAllHandlers(Texture._WHITE);
      removeAllHandlers(Texture._WHITE.baseTexture);
    }
    return Texture._WHITE;
  }
}


//# sourceMappingURL=Texture.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextureGCSystem": () => (/* binding */ TextureGCSystem)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");




class TextureGCSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.count = 0;
    this.checkCount = 0;
    this.maxIdle = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.GC_MAX_IDLE;
    this.checkCountMax = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.GC_MAX_CHECK_COUNT;
    this.mode = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.GC_MODE;
  }
  postrender() {
    if (!this.renderer.objectRenderer.renderingToScreen) {
      return;
    }
    this.count++;
    if (this.mode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.GC_MODES.MANUAL) {
      return;
    }
    this.checkCount++;
    if (this.checkCount > this.checkCountMax) {
      this.checkCount = 0;
      this.run();
    }
  }
  run() {
    const tm = this.renderer.texture;
    const managedTextures = tm.managedTextures;
    let wasRemoved = false;
    for (let i = 0; i < managedTextures.length; i++) {
      const texture = managedTextures[i];
      if (!texture.framebuffer && this.count - texture.touched > this.maxIdle) {
        tm.destroyTexture(texture, true);
        managedTextures[i] = null;
        wasRemoved = true;
      }
    }
    if (wasRemoved) {
      let j = 0;
      for (let i = 0; i < managedTextures.length; i++) {
        if (managedTextures[i] !== null) {
          managedTextures[j++] = managedTextures[i];
        }
      }
      managedTextures.length = j;
    }
  }
  unload(displayObject) {
    const tm = this.renderer.texture;
    const texture = displayObject._texture;
    if (texture && !texture.framebuffer) {
      tm.destroyTexture(texture);
    }
    for (let i = displayObject.children.length - 1; i >= 0; i--) {
      this.unload(displayObject.children[i]);
    }
  }
  destroy() {
    this.renderer = null;
  }
}
TextureGCSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_2__.ExtensionType.RendererSystem,
  name: "textureGC"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_2__.extensions.add(TextureGCSystem);


//# sourceMappingURL=TextureGCSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/TextureMatrix.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/TextureMatrix.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextureMatrix": () => (/* binding */ TextureMatrix)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");


const tempMat = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Matrix();
class TextureMatrix {
  constructor(texture, clampMargin) {
    this._texture = texture;
    this.mapCoord = new _pixi_math__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    this.uClampFrame = new Float32Array(4);
    this.uClampOffset = new Float32Array(2);
    this._textureID = -1;
    this._updateID = 0;
    this.clampOffset = 0;
    this.clampMargin = typeof clampMargin === "undefined" ? 0.5 : clampMargin;
    this.isSimple = false;
  }
  get texture() {
    return this._texture;
  }
  set texture(value) {
    this._texture = value;
    this._textureID = -1;
  }
  multiplyUvs(uvs, out) {
    if (out === void 0) {
      out = uvs;
    }
    const mat = this.mapCoord;
    for (let i = 0; i < uvs.length; i += 2) {
      const x = uvs[i];
      const y = uvs[i + 1];
      out[i] = x * mat.a + y * mat.c + mat.tx;
      out[i + 1] = x * mat.b + y * mat.d + mat.ty;
    }
    return out;
  }
  update(forceUpdate) {
    const tex = this._texture;
    if (!tex || !tex.valid) {
      return false;
    }
    if (!forceUpdate && this._textureID === tex._updateID) {
      return false;
    }
    this._textureID = tex._updateID;
    this._updateID++;
    const uvs = tex._uvs;
    this.mapCoord.set(uvs.x1 - uvs.x0, uvs.y1 - uvs.y0, uvs.x3 - uvs.x0, uvs.y3 - uvs.y0, uvs.x0, uvs.y0);
    const orig = tex.orig;
    const trim = tex.trim;
    if (trim) {
      tempMat.set(orig.width / trim.width, 0, 0, orig.height / trim.height, -trim.x / trim.width, -trim.y / trim.height);
      this.mapCoord.append(tempMat);
    }
    const texBase = tex.baseTexture;
    const frame = this.uClampFrame;
    const margin = this.clampMargin / texBase.resolution;
    const offset = this.clampOffset;
    frame[0] = (tex._frame.x + margin + offset) / texBase.width;
    frame[1] = (tex._frame.y + margin + offset) / texBase.height;
    frame[2] = (tex._frame.x + tex._frame.width - margin + offset) / texBase.width;
    frame[3] = (tex._frame.y + tex._frame.height - margin + offset) / texBase.height;
    this.uClampOffset[0] = offset / texBase.realWidth;
    this.uClampOffset[1] = offset / texBase.realHeight;
    this.isSimple = tex._frame.width === texBase.width && tex._frame.height === texBase.height && tex.rotate === 0;
    return true;
  }
}


//# sourceMappingURL=TextureMatrix.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/TextureSystem.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/TextureSystem.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextureSystem": () => (/* binding */ TextureSystem)
/* harmony export */ });
/* harmony import */ var _utils_mapTypeAndFormatToInternalFormat_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/mapTypeAndFormatToInternalFormat.mjs */ "./node_modules/@pixi/core/lib/textures/utils/mapTypeAndFormatToInternalFormat.mjs");
/* harmony import */ var _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _GLTexture_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GLTexture.mjs */ "./node_modules/@pixi/core/lib/textures/GLTexture.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");







class TextureSystem {
  constructor(renderer) {
    this.renderer = renderer;
    this.boundTextures = [];
    this.currentLocation = -1;
    this.managedTextures = [];
    this._unknownBoundTextures = false;
    this.unknownTexture = new _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_1__.BaseTexture();
    this.hasIntegerTextures = false;
  }
  contextChange() {
    const gl = this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
    this.webGLVersion = this.renderer.context.webGLVersion;
    this.internalFormats = (0,_utils_mapTypeAndFormatToInternalFormat_mjs__WEBPACK_IMPORTED_MODULE_0__.mapTypeAndFormatToInternalFormat)(gl);
    const maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);
    this.boundTextures.length = maxTextures;
    for (let i = 0; i < maxTextures; i++) {
      this.boundTextures[i] = null;
    }
    this.emptyTextures = {};
    const emptyTexture2D = new _GLTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.GLTexture(gl.createTexture());
    gl.bindTexture(gl.TEXTURE_2D, emptyTexture2D.texture);
    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array(4));
    this.emptyTextures[gl.TEXTURE_2D] = emptyTexture2D;
    this.emptyTextures[gl.TEXTURE_CUBE_MAP] = new _GLTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.GLTexture(gl.createTexture());
    gl.bindTexture(gl.TEXTURE_CUBE_MAP, this.emptyTextures[gl.TEXTURE_CUBE_MAP].texture);
    for (let i = 0; i < 6; i++) {
      gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
    }
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
    for (let i = 0; i < this.boundTextures.length; i++) {
      this.bind(null, i);
    }
  }
  bind(texture, location = 0) {
    const { gl } = this;
    texture = texture?.castToBaseTexture();
    if (texture?.valid && !texture.parentTextureArray) {
      texture.touched = this.renderer.textureGC.count;
      const glTexture = texture._glTextures[this.CONTEXT_UID] || this.initTexture(texture);
      if (this.boundTextures[location] !== texture) {
        if (this.currentLocation !== location) {
          this.currentLocation = location;
          gl.activeTexture(gl.TEXTURE0 + location);
        }
        gl.bindTexture(texture.target, glTexture.texture);
      }
      if (glTexture.dirtyId !== texture.dirtyId) {
        if (this.currentLocation !== location) {
          this.currentLocation = location;
          gl.activeTexture(gl.TEXTURE0 + location);
        }
        this.updateTexture(texture);
      } else if (glTexture.dirtyStyleId !== texture.dirtyStyleId) {
        this.updateTextureStyle(texture);
      }
      this.boundTextures[location] = texture;
    } else {
      if (this.currentLocation !== location) {
        this.currentLocation = location;
        gl.activeTexture(gl.TEXTURE0 + location);
      }
      gl.bindTexture(gl.TEXTURE_2D, this.emptyTextures[gl.TEXTURE_2D].texture);
      this.boundTextures[location] = null;
    }
  }
  reset() {
    this._unknownBoundTextures = true;
    this.hasIntegerTextures = false;
    this.currentLocation = -1;
    for (let i = 0; i < this.boundTextures.length; i++) {
      this.boundTextures[i] = this.unknownTexture;
    }
  }
  unbind(texture) {
    const { gl, boundTextures } = this;
    if (this._unknownBoundTextures) {
      this._unknownBoundTextures = false;
      for (let i = 0; i < boundTextures.length; i++) {
        if (boundTextures[i] === this.unknownTexture) {
          this.bind(null, i);
        }
      }
    }
    for (let i = 0; i < boundTextures.length; i++) {
      if (boundTextures[i] === texture) {
        if (this.currentLocation !== i) {
          gl.activeTexture(gl.TEXTURE0 + i);
          this.currentLocation = i;
        }
        gl.bindTexture(texture.target, this.emptyTextures[texture.target].texture);
        boundTextures[i] = null;
      }
    }
  }
  ensureSamplerType(maxTextures) {
    const { boundTextures, hasIntegerTextures, CONTEXT_UID } = this;
    if (!hasIntegerTextures) {
      return;
    }
    for (let i = maxTextures - 1; i >= 0; --i) {
      const tex = boundTextures[i];
      if (tex) {
        const glTexture = tex._glTextures[CONTEXT_UID];
        if (glTexture.samplerType !== _pixi_constants__WEBPACK_IMPORTED_MODULE_4__.SAMPLER_TYPES.FLOAT) {
          this.renderer.texture.unbind(tex);
        }
      }
    }
  }
  initTexture(texture) {
    const glTexture = new _GLTexture_mjs__WEBPACK_IMPORTED_MODULE_2__.GLTexture(this.gl.createTexture());
    glTexture.dirtyId = -1;
    texture._glTextures[this.CONTEXT_UID] = glTexture;
    this.managedTextures.push(texture);
    texture.on("dispose", this.destroyTexture, this);
    return glTexture;
  }
  initTextureType(texture, glTexture) {
    glTexture.internalFormat = this.internalFormats[texture.type]?.[texture.format] ?? texture.format;
    if (this.webGLVersion === 2 && texture.type === _pixi_constants__WEBPACK_IMPORTED_MODULE_4__.TYPES.HALF_FLOAT) {
      glTexture.type = this.gl.HALF_FLOAT;
    } else {
      glTexture.type = texture.type;
    }
  }
  updateTexture(texture) {
    const glTexture = texture._glTextures[this.CONTEXT_UID];
    if (!glTexture) {
      return;
    }
    const renderer = this.renderer;
    this.initTextureType(texture, glTexture);
    if (texture.resource?.upload(renderer, texture, glTexture)) {
      if (glTexture.samplerType !== _pixi_constants__WEBPACK_IMPORTED_MODULE_4__.SAMPLER_TYPES.FLOAT) {
        this.hasIntegerTextures = true;
      }
    } else {
      const width = texture.realWidth;
      const height = texture.realHeight;
      const gl = renderer.gl;
      if (glTexture.width !== width || glTexture.height !== height || glTexture.dirtyId < 0) {
        glTexture.width = width;
        glTexture.height = height;
        gl.texImage2D(texture.target, 0, glTexture.internalFormat, width, height, 0, texture.format, glTexture.type, null);
      }
    }
    if (texture.dirtyStyleId !== glTexture.dirtyStyleId) {
      this.updateTextureStyle(texture);
    }
    glTexture.dirtyId = texture.dirtyId;
  }
  destroyTexture(texture, skipRemove) {
    const { gl } = this;
    texture = texture.castToBaseTexture();
    if (texture._glTextures[this.CONTEXT_UID]) {
      this.unbind(texture);
      gl.deleteTexture(texture._glTextures[this.CONTEXT_UID].texture);
      texture.off("dispose", this.destroyTexture, this);
      delete texture._glTextures[this.CONTEXT_UID];
      if (!skipRemove) {
        const i = this.managedTextures.indexOf(texture);
        if (i !== -1) {
          (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_3__.removeItems)(this.managedTextures, i, 1);
        }
      }
    }
  }
  updateTextureStyle(texture) {
    const glTexture = texture._glTextures[this.CONTEXT_UID];
    if (!glTexture) {
      return;
    }
    if ((texture.mipmap === _pixi_constants__WEBPACK_IMPORTED_MODULE_4__.MIPMAP_MODES.POW2 || this.webGLVersion !== 2) && !texture.isPowerOfTwo) {
      glTexture.mipmap = false;
    } else {
      glTexture.mipmap = texture.mipmap >= 1;
    }
    if (this.webGLVersion !== 2 && !texture.isPowerOfTwo) {
      glTexture.wrapMode = _pixi_constants__WEBPACK_IMPORTED_MODULE_4__.WRAP_MODES.CLAMP;
    } else {
      glTexture.wrapMode = texture.wrapMode;
    }
    if (texture.resource?.style(this.renderer, texture, glTexture)) {
    } else {
      this.setStyle(texture, glTexture);
    }
    glTexture.dirtyStyleId = texture.dirtyStyleId;
  }
  setStyle(texture, glTexture) {
    const gl = this.gl;
    if (glTexture.mipmap && texture.mipmap !== _pixi_constants__WEBPACK_IMPORTED_MODULE_4__.MIPMAP_MODES.ON_MANUAL) {
      gl.generateMipmap(texture.target);
    }
    gl.texParameteri(texture.target, gl.TEXTURE_WRAP_S, glTexture.wrapMode);
    gl.texParameteri(texture.target, gl.TEXTURE_WRAP_T, glTexture.wrapMode);
    if (glTexture.mipmap) {
      gl.texParameteri(texture.target, gl.TEXTURE_MIN_FILTER, texture.scaleMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_4__.SCALE_MODES.LINEAR ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);
      const anisotropicExt = this.renderer.context.extensions.anisotropicFiltering;
      if (anisotropicExt && texture.anisotropicLevel > 0 && texture.scaleMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_4__.SCALE_MODES.LINEAR) {
        const level = Math.min(texture.anisotropicLevel, gl.getParameter(anisotropicExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT));
        gl.texParameterf(texture.target, anisotropicExt.TEXTURE_MAX_ANISOTROPY_EXT, level);
      }
    } else {
      gl.texParameteri(texture.target, gl.TEXTURE_MIN_FILTER, texture.scaleMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_4__.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);
    }
    gl.texParameteri(texture.target, gl.TEXTURE_MAG_FILTER, texture.scaleMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_4__.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);
  }
  destroy() {
    this.renderer = null;
  }
}
TextureSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_5__.ExtensionType.RendererSystem,
  name: "texture"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_5__.extensions.add(TextureSystem);


//# sourceMappingURL=TextureSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/TextureUvs.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/TextureUvs.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextureUvs": () => (/* binding */ TextureUvs)
/* harmony export */ });
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");


class TextureUvs {
  constructor() {
    this.x0 = 0;
    this.y0 = 0;
    this.x1 = 1;
    this.y1 = 0;
    this.x2 = 1;
    this.y2 = 1;
    this.x3 = 0;
    this.y3 = 1;
    this.uvsFloat32 = new Float32Array(8);
  }
  set(frame, baseFrame, rotate) {
    const tw = baseFrame.width;
    const th = baseFrame.height;
    if (rotate) {
      const w2 = frame.width / 2 / tw;
      const h2 = frame.height / 2 / th;
      const cX = frame.x / tw + w2;
      const cY = frame.y / th + h2;
      rotate = _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.add(rotate, _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.NW);
      this.x0 = cX + w2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uX(rotate);
      this.y0 = cY + h2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uY(rotate);
      rotate = _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.add(rotate, 2);
      this.x1 = cX + w2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uX(rotate);
      this.y1 = cY + h2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uY(rotate);
      rotate = _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.add(rotate, 2);
      this.x2 = cX + w2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uX(rotate);
      this.y2 = cY + h2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uY(rotate);
      rotate = _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.add(rotate, 2);
      this.x3 = cX + w2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uX(rotate);
      this.y3 = cY + h2 * _pixi_math__WEBPACK_IMPORTED_MODULE_0__.groupD8.uY(rotate);
    } else {
      this.x0 = frame.x / tw;
      this.y0 = frame.y / th;
      this.x1 = (frame.x + frame.width) / tw;
      this.y1 = frame.y / th;
      this.x2 = (frame.x + frame.width) / tw;
      this.y2 = (frame.y + frame.height) / th;
      this.x3 = frame.x / tw;
      this.y3 = (frame.y + frame.height) / th;
    }
    this.uvsFloat32[0] = this.x0;
    this.uvsFloat32[1] = this.y0;
    this.uvsFloat32[2] = this.x1;
    this.uvsFloat32[3] = this.y1;
    this.uvsFloat32[4] = this.x2;
    this.uvsFloat32[5] = this.y2;
    this.uvsFloat32[6] = this.x3;
    this.uvsFloat32[7] = this.y3;
  }
  toString() {
    return `[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`;
  }
}


//# sourceMappingURL=TextureUvs.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AbstractMultiResource": () => (/* binding */ AbstractMultiResource)
/* harmony export */ });
/* harmony import */ var _Resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");
/* harmony import */ var _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BaseTexture.mjs */ "./node_modules/@pixi/core/lib/textures/BaseTexture.mjs");
/* harmony import */ var _autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./autoDetectResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs");




class AbstractMultiResource extends _Resource_mjs__WEBPACK_IMPORTED_MODULE_0__.Resource {
  constructor(length, options) {
    const { width, height } = options || {};
    super(width, height);
    this.items = [];
    this.itemDirtyIds = [];
    for (let i = 0; i < length; i++) {
      const partTexture = new _BaseTexture_mjs__WEBPACK_IMPORTED_MODULE_1__.BaseTexture();
      this.items.push(partTexture);
      this.itemDirtyIds.push(-2);
    }
    this.length = length;
    this._load = null;
    this.baseTexture = null;
  }
  initFromArray(resources, options) {
    for (let i = 0; i < this.length; i++) {
      if (!resources[i]) {
        continue;
      }
      if (resources[i].castToBaseTexture) {
        this.addBaseTextureAt(resources[i].castToBaseTexture(), i);
      } else if (resources[i] instanceof _Resource_mjs__WEBPACK_IMPORTED_MODULE_0__.Resource) {
        this.addResourceAt(resources[i], i);
      } else {
        this.addResourceAt((0,_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_2__.autoDetectResource)(resources[i], options), i);
      }
    }
  }
  dispose() {
    for (let i = 0, len = this.length; i < len; i++) {
      this.items[i].destroy();
    }
    this.items = null;
    this.itemDirtyIds = null;
    this._load = null;
  }
  addResourceAt(resource, index) {
    if (!this.items[index]) {
      throw new Error(`Index ${index} is out of bounds`);
    }
    if (resource.valid && !this.valid) {
      this.resize(resource.width, resource.height);
    }
    this.items[index].setResource(resource);
    return this;
  }
  bind(baseTexture) {
    if (this.baseTexture !== null) {
      throw new Error("Only one base texture per TextureArray is allowed");
    }
    super.bind(baseTexture);
    for (let i = 0; i < this.length; i++) {
      this.items[i].parentTextureArray = baseTexture;
      this.items[i].on("update", baseTexture.update, baseTexture);
    }
  }
  unbind(baseTexture) {
    super.unbind(baseTexture);
    for (let i = 0; i < this.length; i++) {
      this.items[i].parentTextureArray = null;
      this.items[i].off("update", baseTexture.update, baseTexture);
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    const resources = this.items.map((item) => item.resource).filter((item) => item);
    const promises = resources.map((item) => item.load());
    this._load = Promise.all(promises).then(() => {
      const { realWidth, realHeight } = this.items[0];
      this.resize(realWidth, realHeight);
      return Promise.resolve(this);
    });
    return this._load;
  }
}


//# sourceMappingURL=AbstractMultiResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/ArrayResource.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/ArrayResource.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArrayResource": () => (/* binding */ ArrayResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AbstractMultiResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs");



class ArrayResource extends _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_1__.AbstractMultiResource {
  constructor(source, options) {
    const { width, height } = options || {};
    let urls;
    let length;
    if (Array.isArray(source)) {
      urls = source;
      length = source.length;
    } else {
      length = source;
    }
    super(length, { width, height });
    if (urls) {
      this.initFromArray(urls, options);
    }
  }
  addBaseTextureAt(baseTexture, index) {
    if (baseTexture.resource) {
      this.addResourceAt(baseTexture.resource, index);
    } else {
      throw new Error("ArrayResource does not support RenderTexture");
    }
    return this;
  }
  bind(baseTexture) {
    super.bind(baseTexture);
    baseTexture.target = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TARGETS.TEXTURE_2D_ARRAY;
  }
  upload(renderer, texture, glTexture) {
    const { length, itemDirtyIds, items } = this;
    const { gl } = renderer;
    if (glTexture.dirtyId < 0) {
      gl.texImage3D(gl.TEXTURE_2D_ARRAY, 0, glTexture.internalFormat, this._width, this._height, length, 0, texture.format, glTexture.type, null);
    }
    for (let i = 0; i < length; i++) {
      const item = items[i];
      if (itemDirtyIds[i] < item.dirtyId) {
        itemDirtyIds[i] = item.dirtyId;
        if (item.valid) {
          gl.texSubImage3D(gl.TEXTURE_2D_ARRAY, 0, 0, 0, i, item.resource.width, item.resource.height, 1, texture.format, glTexture.type, item.resource.source);
        }
      }
    }
    return true;
  }
}


//# sourceMappingURL=ArrayResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseImageResource": () => (/* binding */ BaseImageResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _Resource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");




class BaseImageResource extends _Resource_mjs__WEBPACK_IMPORTED_MODULE_2__.Resource {
  constructor(source) {
    const sourceAny = source;
    const width = sourceAny.naturalWidth || sourceAny.videoWidth || sourceAny.width;
    const height = sourceAny.naturalHeight || sourceAny.videoHeight || sourceAny.height;
    super(width, height);
    this.source = source;
    this.noSubImage = false;
  }
  static crossOrigin(element, url, crossorigin) {
    if (crossorigin === void 0 && !url.startsWith("data:")) {
      element.crossOrigin = (0,_pixi_utils__WEBPACK_IMPORTED_MODULE_1__.determineCrossOrigin)(url);
    } else if (crossorigin !== false) {
      element.crossOrigin = typeof crossorigin === "string" ? crossorigin : "anonymous";
    }
  }
  upload(renderer, baseTexture, glTexture, source) {
    const gl = renderer.gl;
    const width = baseTexture.realWidth;
    const height = baseTexture.realHeight;
    source = source || this.source;
    if (typeof HTMLImageElement !== "undefined" && source instanceof HTMLImageElement) {
      if (!source.complete || source.naturalWidth === 0) {
        return false;
      }
    } else if (typeof HTMLVideoElement !== "undefined" && source instanceof HTMLVideoElement) {
      if (source.readyState <= 1 && source.buffered.length === 0) {
        return false;
      }
    }
    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.UNPACK);
    if (!this.noSubImage && baseTexture.target === gl.TEXTURE_2D && glTexture.width === width && glTexture.height === height) {
      gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, baseTexture.format, glTexture.type, source);
    } else {
      glTexture.width = width;
      glTexture.height = height;
      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, baseTexture.format, glTexture.type, source);
    }
    return true;
  }
  update() {
    if (this.destroyed) {
      return;
    }
    const source = this.source;
    const width = source.naturalWidth || source.videoWidth || source.width;
    const height = source.naturalHeight || source.videoHeight || source.height;
    this.resize(width, height);
    super.update();
  }
  dispose() {
    this.source = null;
  }
}


//# sourceMappingURL=BaseImageResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BufferResource": () => (/* binding */ BufferResource)
/* harmony export */ });
/* harmony import */ var _Resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");



class BufferResource extends _Resource_mjs__WEBPACK_IMPORTED_MODULE_0__.Resource {
  constructor(source, options) {
    const { width, height } = options || {};
    if (!width || !height) {
      throw new Error("BufferResource width or height invalid");
    }
    super(width, height);
    this.data = source;
  }
  upload(renderer, baseTexture, glTexture) {
    const gl = renderer.gl;
    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.ALPHA_MODES.UNPACK);
    const width = baseTexture.realWidth;
    const height = baseTexture.realHeight;
    if (glTexture.width === width && glTexture.height === height) {
      gl.texSubImage2D(baseTexture.target, 0, 0, 0, width, height, baseTexture.format, glTexture.type, this.data);
    } else {
      glTexture.width = width;
      glTexture.height = height;
      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, width, height, 0, baseTexture.format, glTexture.type, this.data);
    }
    return true;
  }
  dispose() {
    this.data = null;
  }
  static test(source) {
    return source instanceof Float32Array || source instanceof Uint8Array || source instanceof Uint32Array;
  }
}


//# sourceMappingURL=BufferResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/CanvasResource.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/CanvasResource.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CanvasResource": () => (/* binding */ CanvasResource)
/* harmony export */ });
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");


class CanvasResource extends _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseImageResource {
  constructor(source) {
    super(source);
  }
  static test(source) {
    const { OffscreenCanvas } = globalThis;
    if (OffscreenCanvas && source instanceof OffscreenCanvas) {
      return true;
    }
    return globalThis.HTMLCanvasElement && source instanceof HTMLCanvasElement;
  }
}


//# sourceMappingURL=CanvasResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/CubeResource.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/CubeResource.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CubeResource": () => (/* binding */ CubeResource)
/* harmony export */ });
/* harmony import */ var _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractMultiResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs");
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");



const _CubeResource = class extends _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractMultiResource {
  constructor(source, options) {
    const { width, height, autoLoad, linkBaseTexture } = options || {};
    if (source && source.length !== _CubeResource.SIDES) {
      throw new Error(`Invalid length. Got ${source.length}, expected 6`);
    }
    super(6, { width, height });
    for (let i = 0; i < _CubeResource.SIDES; i++) {
      this.items[i].target = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + i;
    }
    this.linkBaseTexture = linkBaseTexture !== false;
    if (source) {
      this.initFromArray(source, options);
    }
    if (autoLoad !== false) {
      this.load();
    }
  }
  bind(baseTexture) {
    super.bind(baseTexture);
    baseTexture.target = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.TARGETS.TEXTURE_CUBE_MAP;
  }
  addBaseTextureAt(baseTexture, index, linkBaseTexture) {
    if (linkBaseTexture === void 0) {
      linkBaseTexture = this.linkBaseTexture;
    }
    if (!this.items[index]) {
      throw new Error(`Index ${index} is out of bounds`);
    }
    if (!this.linkBaseTexture || baseTexture.parentTextureArray || Object.keys(baseTexture._glTextures).length > 0) {
      if (baseTexture.resource) {
        this.addResourceAt(baseTexture.resource, index);
      } else {
        throw new Error(`CubeResource does not support copying of renderTexture.`);
      }
    } else {
      baseTexture.target = _pixi_constants__WEBPACK_IMPORTED_MODULE_1__.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + index;
      baseTexture.parentTextureArray = this.baseTexture;
      this.items[index] = baseTexture;
    }
    if (baseTexture.valid && !this.valid) {
      this.resize(baseTexture.realWidth, baseTexture.realHeight);
    }
    this.items[index] = baseTexture;
    return this;
  }
  upload(renderer, _baseTexture, glTexture) {
    const dirty = this.itemDirtyIds;
    for (let i = 0; i < _CubeResource.SIDES; i++) {
      const side = this.items[i];
      if (dirty[i] < side.dirtyId || glTexture.dirtyId < _baseTexture.dirtyId) {
        if (side.valid && side.resource) {
          side.resource.upload(renderer, side, glTexture);
          dirty[i] = side.dirtyId;
        } else if (dirty[i] < -1) {
          renderer.gl.texImage2D(side.target, 0, glTexture.internalFormat, _baseTexture.realWidth, _baseTexture.realHeight, 0, _baseTexture.format, glTexture.type, null);
          dirty[i] = -1;
        }
      }
    }
    return true;
  }
  static test(source) {
    return Array.isArray(source) && source.length === _CubeResource.SIDES;
  }
};
let CubeResource = _CubeResource;
CubeResource.SIDES = 6;


//# sourceMappingURL=CubeResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/DepthResource.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/DepthResource.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DepthResource": () => (/* binding */ DepthResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _BufferResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs");



class DepthResource extends _BufferResource_mjs__WEBPACK_IMPORTED_MODULE_1__.BufferResource {
  upload(renderer, baseTexture, glTexture) {
    const gl = renderer.gl;
    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.UNPACK);
    const width = baseTexture.realWidth;
    const height = baseTexture.realHeight;
    if (glTexture.width === width && glTexture.height === height) {
      gl.texSubImage2D(baseTexture.target, 0, 0, 0, width, height, baseTexture.format, glTexture.type, this.data);
    } else {
      glTexture.width = width;
      glTexture.height = height;
      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, width, height, 0, baseTexture.format, glTexture.type, this.data);
    }
    return true;
  }
}


//# sourceMappingURL=DepthResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/ImageBitmapResource.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/ImageBitmapResource.mjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ImageBitmapResource": () => (/* binding */ ImageBitmapResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");




class ImageBitmapResource extends _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseImageResource {
  constructor(source, options) {
    var __super = (...args) => {
      super(...args);
    };
    options = options || {};
    if (typeof source === "string") {
      __super(ImageBitmapResource.EMPTY);
      this.url = source;
    } else {
      __super(source);
      this.url = null;
    }
    this.crossOrigin = options.crossOrigin ?? true;
    this.alphaMode = typeof options.alphaMode === "number" ? options.alphaMode : null;
    this._load = null;
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    this._load = new Promise(async (resolve, reject) => {
      if (this.url === null) {
        resolve(this);
        return;
      }
      try {
        const response = await _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.fetch(this.url, {
          mode: this.crossOrigin ? "cors" : "no-cors"
        });
        if (this.destroyed)
          return;
        const imageBlob = await response.blob();
        if (this.destroyed)
          return;
        const imageBitmap = await createImageBitmap(imageBlob, {
          premultiplyAlpha: this.alphaMode === null || this.alphaMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.UNPACK ? "premultiply" : "none"
        });
        if (this.destroyed)
          return;
        this.source = imageBitmap;
        this.update();
        resolve(this);
      } catch (e) {
        if (this.destroyed)
          return;
        reject(e);
        this.onError.emit(e);
      }
    });
    return this._load;
  }
  upload(renderer, baseTexture, glTexture) {
    if (!(this.source instanceof ImageBitmap)) {
      this.load();
      return false;
    }
    if (typeof this.alphaMode === "number") {
      baseTexture.alphaMode = this.alphaMode;
    }
    return super.upload(renderer, baseTexture, glTexture);
  }
  dispose() {
    if (this.source instanceof ImageBitmap) {
      this.source.close();
    }
    super.dispose();
    this._load = null;
  }
  static test(source) {
    return !!globalThis.createImageBitmap && typeof ImageBitmap !== "undefined" && (typeof source === "string" || source instanceof ImageBitmap);
  }
  static get EMPTY() {
    ImageBitmapResource._EMPTY = ImageBitmapResource._EMPTY ?? _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.createCanvas(0, 0);
    return ImageBitmapResource._EMPTY;
  }
}


//# sourceMappingURL=ImageBitmapResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ImageResource": () => (/* binding */ ImageResource)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");




class ImageResource extends _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseImageResource {
  constructor(source, options) {
    options = options || {};
    if (typeof source === "string") {
      const imageElement = new Image();
      _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BaseImageResource.crossOrigin(imageElement, source, options.crossorigin);
      imageElement.src = source;
      source = imageElement;
    }
    super(source);
    if (!source.complete && !!this._width && !!this._height) {
      this._width = 0;
      this._height = 0;
    }
    this.url = source.src;
    this._process = null;
    this.preserveBitmap = false;
    this.createBitmap = (options.createBitmap ?? _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.CREATE_IMAGE_BITMAP) && !!globalThis.createImageBitmap;
    this.alphaMode = typeof options.alphaMode === "number" ? options.alphaMode : null;
    this.bitmap = null;
    this._load = null;
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  load(createBitmap) {
    if (this._load) {
      return this._load;
    }
    if (createBitmap !== void 0) {
      this.createBitmap = createBitmap;
    }
    this._load = new Promise((resolve, reject) => {
      const source = this.source;
      this.url = source.src;
      const completed = () => {
        if (this.destroyed) {
          return;
        }
        source.onload = null;
        source.onerror = null;
        this.resize(source.width, source.height);
        this._load = null;
        if (this.createBitmap) {
          resolve(this.process());
        } else {
          resolve(this);
        }
      };
      if (source.complete && source.src) {
        completed();
      } else {
        source.onload = completed;
        source.onerror = (event) => {
          reject(event);
          this.onError.emit(event);
        };
      }
    });
    return this._load;
  }
  process() {
    const source = this.source;
    if (this._process !== null) {
      return this._process;
    }
    if (this.bitmap !== null || !globalThis.createImageBitmap) {
      return Promise.resolve(this);
    }
    const createImageBitmap = globalThis.createImageBitmap;
    const cors = !source.crossOrigin || source.crossOrigin === "anonymous";
    this._process = fetch(source.src, {
      mode: cors ? "cors" : "no-cors"
    }).then((r) => r.blob()).then((blob) => createImageBitmap(blob, 0, 0, source.width, source.height, {
      premultiplyAlpha: this.alphaMode === null || this.alphaMode === _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.UNPACK ? "premultiply" : "none"
    })).then((bitmap) => {
      if (this.destroyed) {
        return Promise.reject();
      }
      this.bitmap = bitmap;
      this.update();
      this._process = null;
      return Promise.resolve(this);
    });
    return this._process;
  }
  upload(renderer, baseTexture, glTexture) {
    if (typeof this.alphaMode === "number") {
      baseTexture.alphaMode = this.alphaMode;
    }
    if (!this.createBitmap) {
      return super.upload(renderer, baseTexture, glTexture);
    }
    if (!this.bitmap) {
      this.process();
      if (!this.bitmap) {
        return false;
      }
    }
    super.upload(renderer, baseTexture, glTexture, this.bitmap);
    if (!this.preserveBitmap) {
      let flag = true;
      const glTextures = baseTexture._glTextures;
      for (const key in glTextures) {
        const otherTex = glTextures[key];
        if (otherTex !== glTexture && otherTex.dirtyId !== baseTexture.dirtyId) {
          flag = false;
          break;
        }
      }
      if (flag) {
        if (this.bitmap.close) {
          this.bitmap.close();
        }
        this.bitmap = null;
      }
    }
    return true;
  }
  dispose() {
    this.source.onload = null;
    this.source.onerror = null;
    super.dispose();
    if (this.bitmap) {
      this.bitmap.close();
      this.bitmap = null;
    }
    this._process = null;
    this._load = null;
  }
  static test(source) {
    return typeof HTMLImageElement !== "undefined" && (typeof source === "string" || source instanceof HTMLImageElement);
  }
}


//# sourceMappingURL=ImageResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/Resource.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Resource": () => (/* binding */ Resource)
/* harmony export */ });
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");


class Resource {
  constructor(width = 0, height = 0) {
    this._width = width;
    this._height = height;
    this.destroyed = false;
    this.internal = false;
    this.onResize = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner("setRealSize");
    this.onUpdate = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner("update");
    this.onError = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner("onError");
  }
  bind(baseTexture) {
    this.onResize.add(baseTexture);
    this.onUpdate.add(baseTexture);
    this.onError.add(baseTexture);
    if (this._width || this._height) {
      this.onResize.emit(this._width, this._height);
    }
  }
  unbind(baseTexture) {
    this.onResize.remove(baseTexture);
    this.onUpdate.remove(baseTexture);
    this.onError.remove(baseTexture);
  }
  resize(width, height) {
    if (width !== this._width || height !== this._height) {
      this._width = width;
      this._height = height;
      this.onResize.emit(width, height);
    }
  }
  get valid() {
    return !!this._width && !!this._height;
  }
  update() {
    if (!this.destroyed) {
      this.onUpdate.emit();
    }
  }
  load() {
    return Promise.resolve(this);
  }
  get width() {
    return this._width;
  }
  get height() {
    return this._height;
  }
  style(_renderer, _baseTexture, _glTexture) {
    return false;
  }
  dispose() {
  }
  destroy() {
    if (!this.destroyed) {
      this.destroyed = true;
      this.dispose();
      this.onError.removeAll();
      this.onError = null;
      this.onResize.removeAll();
      this.onResize = null;
      this.onUpdate.removeAll();
      this.onUpdate = null;
    }
  }
  static test(_source, _extension) {
    return false;
  }
}


//# sourceMappingURL=Resource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/SVGResource.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/SVGResource.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SVGResource": () => (/* binding */ SVGResource)
/* harmony export */ });
/* harmony import */ var _pixi_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/utils */ "./node_modules/@pixi/utils/lib/index.mjs");
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");




const _SVGResource = class extends _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_1__.BaseImageResource {
  constructor(sourceBase64, options) {
    options = options || {};
    super(_pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.ADAPTER.createCanvas());
    this._width = 0;
    this._height = 0;
    this.svg = sourceBase64;
    this.scale = options.scale || 1;
    this._overrideWidth = options.width;
    this._overrideHeight = options.height;
    this._resolve = null;
    this._crossorigin = options.crossorigin;
    this._load = null;
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    this._load = new Promise((resolve) => {
      this._resolve = () => {
        this.resize(this.source.width, this.source.height);
        resolve(this);
      };
      if (_SVGResource.SVG_XML.test(this.svg.trim())) {
        if (!btoa) {
          throw new Error("Your browser doesn't support base64 conversions.");
        }
        this.svg = `data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`;
      }
      this._loadSvg();
    });
    return this._load;
  }
  _loadSvg() {
    const tempImage = new Image();
    _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_1__.BaseImageResource.crossOrigin(tempImage, this.svg, this._crossorigin);
    tempImage.src = this.svg;
    tempImage.onerror = (event) => {
      if (!this._resolve) {
        return;
      }
      tempImage.onerror = null;
      this.onError.emit(event);
    };
    tempImage.onload = () => {
      if (!this._resolve) {
        return;
      }
      const svgWidth = tempImage.width;
      const svgHeight = tempImage.height;
      if (!svgWidth || !svgHeight) {
        throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
      }
      let width = svgWidth * this.scale;
      let height = svgHeight * this.scale;
      if (this._overrideWidth || this._overrideHeight) {
        width = this._overrideWidth || this._overrideHeight / svgHeight * svgWidth;
        height = this._overrideHeight || this._overrideWidth / svgWidth * svgHeight;
      }
      width = Math.round(width);
      height = Math.round(height);
      const canvas = this.source;
      canvas.width = width;
      canvas.height = height;
      canvas._pixiId = `canvas_${(0,_pixi_utils__WEBPACK_IMPORTED_MODULE_0__.uid)()}`;
      canvas.getContext("2d").drawImage(tempImage, 0, 0, svgWidth, svgHeight, 0, 0, width, height);
      this._resolve();
      this._resolve = null;
    };
  }
  static getSize(svgString) {
    const sizeMatch = _SVGResource.SVG_SIZE.exec(svgString);
    const size = {};
    if (sizeMatch) {
      size[sizeMatch[1]] = Math.round(parseFloat(sizeMatch[3]));
      size[sizeMatch[5]] = Math.round(parseFloat(sizeMatch[7]));
    }
    return size;
  }
  dispose() {
    super.dispose();
    this._resolve = null;
    this._crossorigin = null;
  }
  static test(source, extension) {
    return extension === "svg" || typeof source === "string" && source.startsWith("data:image/svg+xml") || typeof source === "string" && _SVGResource.SVG_XML.test(source);
  }
};
let SVGResource = _SVGResource;
SVGResource.SVG_XML = /^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;
SVGResource.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;


//# sourceMappingURL=SVGResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/VideoResource.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/VideoResource.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VideoResource": () => (/* binding */ VideoResource)
/* harmony export */ });
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");
/* harmony import */ var _pixi_ticker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/ticker */ "./node_modules/@pixi/ticker/lib/index.mjs");



const _VideoResource = class extends _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseImageResource {
  constructor(source, options) {
    options = options || {};
    if (!(source instanceof HTMLVideoElement)) {
      const videoElement = document.createElement("video");
      videoElement.setAttribute("preload", "auto");
      videoElement.setAttribute("webkit-playsinline", "");
      videoElement.setAttribute("playsinline", "");
      if (typeof source === "string") {
        source = [source];
      }
      const firstSrc = source[0].src || source[0];
      _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseImageResource.crossOrigin(videoElement, firstSrc, options.crossorigin);
      for (let i = 0; i < source.length; ++i) {
        const sourceElement = document.createElement("source");
        let { src, mime } = source[i];
        src = src || source[i];
        const baseSrc = src.split("?").shift().toLowerCase();
        const ext = baseSrc.slice(baseSrc.lastIndexOf(".") + 1);
        mime = mime || _VideoResource.MIME_TYPES[ext] || `video/${ext}`;
        sourceElement.src = src;
        sourceElement.type = mime;
        videoElement.appendChild(sourceElement);
      }
      source = videoElement;
    }
    super(source);
    this.noSubImage = true;
    this._autoUpdate = true;
    this._isConnectedToTicker = false;
    this._updateFPS = options.updateFPS || 0;
    this._msToNextUpdate = 0;
    this.autoPlay = options.autoPlay !== false;
    this._load = null;
    this._resolve = null;
    this._onCanPlay = this._onCanPlay.bind(this);
    this._onError = this._onError.bind(this);
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  update(_deltaTime = 0) {
    if (!this.destroyed) {
      const elapsedMS = _pixi_ticker__WEBPACK_IMPORTED_MODULE_1__.Ticker.shared.elapsedMS * this.source.playbackRate;
      this._msToNextUpdate = Math.floor(this._msToNextUpdate - elapsedMS);
      if (!this._updateFPS || this._msToNextUpdate <= 0) {
        super.update();
        this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0;
      }
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    const source = this.source;
    if ((source.readyState === source.HAVE_ENOUGH_DATA || source.readyState === source.HAVE_FUTURE_DATA) && source.width && source.height) {
      source.complete = true;
    }
    source.addEventListener("play", this._onPlayStart.bind(this));
    source.addEventListener("pause", this._onPlayStop.bind(this));
    if (!this._isSourceReady()) {
      source.addEventListener("canplay", this._onCanPlay);
      source.addEventListener("canplaythrough", this._onCanPlay);
      source.addEventListener("error", this._onError, true);
    } else {
      this._onCanPlay();
    }
    this._load = new Promise((resolve) => {
      if (this.valid) {
        resolve(this);
      } else {
        this._resolve = resolve;
        source.load();
      }
    });
    return this._load;
  }
  _onError(event) {
    this.source.removeEventListener("error", this._onError, true);
    this.onError.emit(event);
  }
  _isSourcePlaying() {
    const source = this.source;
    return !source.paused && !source.ended && this._isSourceReady();
  }
  _isSourceReady() {
    const source = this.source;
    return source.readyState > 2;
  }
  _onPlayStart() {
    if (!this.valid) {
      this._onCanPlay();
    }
    if (this.autoUpdate && !this._isConnectedToTicker) {
      _pixi_ticker__WEBPACK_IMPORTED_MODULE_1__.Ticker.shared.add(this.update, this);
      this._isConnectedToTicker = true;
    }
  }
  _onPlayStop() {
    if (this._isConnectedToTicker) {
      _pixi_ticker__WEBPACK_IMPORTED_MODULE_1__.Ticker.shared.remove(this.update, this);
      this._isConnectedToTicker = false;
    }
  }
  _onCanPlay() {
    const source = this.source;
    source.removeEventListener("canplay", this._onCanPlay);
    source.removeEventListener("canplaythrough", this._onCanPlay);
    const valid = this.valid;
    this.resize(source.videoWidth, source.videoHeight);
    if (!valid && this._resolve) {
      this._resolve(this);
      this._resolve = null;
    }
    if (this._isSourcePlaying()) {
      this._onPlayStart();
    } else if (this.autoPlay) {
      source.play();
    }
  }
  dispose() {
    if (this._isConnectedToTicker) {
      _pixi_ticker__WEBPACK_IMPORTED_MODULE_1__.Ticker.shared.remove(this.update, this);
      this._isConnectedToTicker = false;
    }
    const source = this.source;
    if (source) {
      source.removeEventListener("error", this._onError, true);
      source.pause();
      source.src = "";
      source.load();
    }
    super.dispose();
  }
  get autoUpdate() {
    return this._autoUpdate;
  }
  set autoUpdate(value) {
    if (value !== this._autoUpdate) {
      this._autoUpdate = value;
      if (!this._autoUpdate && this._isConnectedToTicker) {
        _pixi_ticker__WEBPACK_IMPORTED_MODULE_1__.Ticker.shared.remove(this.update, this);
        this._isConnectedToTicker = false;
      } else if (this._autoUpdate && !this._isConnectedToTicker && this._isSourcePlaying()) {
        _pixi_ticker__WEBPACK_IMPORTED_MODULE_1__.Ticker.shared.add(this.update, this);
        this._isConnectedToTicker = true;
      }
    }
  }
  get updateFPS() {
    return this._updateFPS;
  }
  set updateFPS(value) {
    if (value !== this._updateFPS) {
      this._updateFPS = value;
    }
  }
  static test(source, extension) {
    return globalThis.HTMLVideoElement && source instanceof HTMLVideoElement || _VideoResource.TYPES.includes(extension);
  }
};
let VideoResource = _VideoResource;
VideoResource.TYPES = ["mp4", "m4v", "webm", "ogg", "ogv", "h264", "avi", "mov"];
VideoResource.MIME_TYPES = {
  ogv: "video/ogg",
  mov: "video/quicktime",
  m4v: "video/mp4"
};


//# sourceMappingURL=VideoResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "INSTALLED": () => (/* binding */ INSTALLED),
/* harmony export */   "autoDetectResource": () => (/* binding */ autoDetectResource)
/* harmony export */ });
const INSTALLED = [];
function autoDetectResource(source, options) {
  if (!source) {
    return null;
  }
  let extension = "";
  if (typeof source === "string") {
    const result = /\.(\w{3,4})(?:$|\?|#)/i.exec(source);
    if (result) {
      extension = result[1].toLowerCase();
    }
  }
  for (let i = INSTALLED.length - 1; i >= 0; --i) {
    const ResourcePlugin = INSTALLED[i];
    if (ResourcePlugin.test && ResourcePlugin.test(source, extension)) {
      return new ResourcePlugin(source, options);
    }
  }
  throw new Error("Unrecognized source type to auto-detect Resource");
}


//# sourceMappingURL=autoDetectResource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/resources/index.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/resources/index.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AbstractMultiResource": () => (/* reexport safe */ _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_11__.AbstractMultiResource),
/* harmony export */   "ArrayResource": () => (/* reexport safe */ _ArrayResource_mjs__WEBPACK_IMPORTED_MODULE_1__.ArrayResource),
/* harmony export */   "BaseImageResource": () => (/* reexport safe */ _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_10__.BaseImageResource),
/* harmony export */   "BufferResource": () => (/* reexport safe */ _BufferResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BufferResource),
/* harmony export */   "CanvasResource": () => (/* reexport safe */ _CanvasResource_mjs__WEBPACK_IMPORTED_MODULE_3__.CanvasResource),
/* harmony export */   "CubeResource": () => (/* reexport safe */ _CubeResource_mjs__WEBPACK_IMPORTED_MODULE_4__.CubeResource),
/* harmony export */   "INSTALLED": () => (/* reexport safe */ _autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_0__.INSTALLED),
/* harmony export */   "ImageBitmapResource": () => (/* reexport safe */ _ImageBitmapResource_mjs__WEBPACK_IMPORTED_MODULE_8__.ImageBitmapResource),
/* harmony export */   "ImageResource": () => (/* reexport safe */ _ImageResource_mjs__WEBPACK_IMPORTED_MODULE_5__.ImageResource),
/* harmony export */   "Resource": () => (/* reexport safe */ _Resource_mjs__WEBPACK_IMPORTED_MODULE_9__.Resource),
/* harmony export */   "SVGResource": () => (/* reexport safe */ _SVGResource_mjs__WEBPACK_IMPORTED_MODULE_6__.SVGResource),
/* harmony export */   "VideoResource": () => (/* reexport safe */ _VideoResource_mjs__WEBPACK_IMPORTED_MODULE_7__.VideoResource),
/* harmony export */   "autoDetectResource": () => (/* reexport safe */ _autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_0__.autoDetectResource)
/* harmony export */ });
/* harmony import */ var _autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoDetectResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs");
/* harmony import */ var _ArrayResource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ArrayResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ArrayResource.mjs");
/* harmony import */ var _BufferResource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BufferResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs");
/* harmony import */ var _CanvasResource_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CanvasResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/CanvasResource.mjs");
/* harmony import */ var _CubeResource_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CubeResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/CubeResource.mjs");
/* harmony import */ var _ImageResource_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs");
/* harmony import */ var _SVGResource_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SVGResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/SVGResource.mjs");
/* harmony import */ var _VideoResource_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VideoResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/VideoResource.mjs");
/* harmony import */ var _ImageBitmapResource_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ImageBitmapResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/ImageBitmapResource.mjs");
/* harmony import */ var _Resource_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Resource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/Resource.mjs");
/* harmony import */ var _BaseImageResource_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BaseImageResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs");
/* harmony import */ var _AbstractMultiResource_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AbstractMultiResource.mjs */ "./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs");






















_autoDetectResource_mjs__WEBPACK_IMPORTED_MODULE_0__.INSTALLED.push(_ImageBitmapResource_mjs__WEBPACK_IMPORTED_MODULE_8__.ImageBitmapResource, _ImageResource_mjs__WEBPACK_IMPORTED_MODULE_5__.ImageResource, _CanvasResource_mjs__WEBPACK_IMPORTED_MODULE_3__.CanvasResource, _VideoResource_mjs__WEBPACK_IMPORTED_MODULE_7__.VideoResource, _SVGResource_mjs__WEBPACK_IMPORTED_MODULE_6__.SVGResource, _BufferResource_mjs__WEBPACK_IMPORTED_MODULE_2__.BufferResource, _CubeResource_mjs__WEBPACK_IMPORTED_MODULE_4__.CubeResource, _ArrayResource_mjs__WEBPACK_IMPORTED_MODULE_1__.ArrayResource);
//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/textures/utils/mapTypeAndFormatToInternalFormat.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/textures/utils/mapTypeAndFormatToInternalFormat.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mapTypeAndFormatToInternalFormat": () => (/* binding */ mapTypeAndFormatToInternalFormat)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


function mapTypeAndFormatToInternalFormat(gl) {
  let table;
  if ("WebGL2RenderingContext" in globalThis && gl instanceof globalThis.WebGL2RenderingContext) {
    table = {
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA8,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB8,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG]: gl.RG8,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED]: gl.R8,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA8UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB8UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG8UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R8UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.ALPHA]: gl.ALPHA,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE]: gl.LUMINANCE,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE_ALPHA]: gl.LUMINANCE_ALPHA
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.BYTE]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA8_SNORM,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB8_SNORM,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG]: gl.RG8_SNORM,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED]: gl.R8_SNORM,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA8I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB8I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG8I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R8I
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA16UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB16UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG16UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R16UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT16
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.SHORT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA16I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB16I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG16I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R16I
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA32UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB32UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG32UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R32UI,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT24
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.INT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGBA32I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB_INTEGER]: gl.RGB32I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG_INTEGER]: gl.RG32I,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED_INTEGER]: gl.R32I
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA32F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB32F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG]: gl.RG32F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED]: gl.R32F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT32F
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.HALF_FLOAT]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA16F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB16F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RG]: gl.RG16F,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RED]: gl.R16F
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_6_5]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB565
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_4_4_4_4]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA4
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_5_5_1]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGB5_A1
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT_2_10_10_10_REV]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGB10_A2,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA_INTEGER]: gl.RGB10_A2UI
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT_10F_11F_11F_REV]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.R11F_G11F_B10F
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT_5_9_9_9_REV]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB9_E5
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_INT_24_8]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_STENCIL]: gl.DEPTH24_STENCIL8
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.DEPTH_STENCIL]: gl.DEPTH32F_STENCIL8
      }
    };
  } else {
    table = {
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.ALPHA]: gl.ALPHA,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE]: gl.LUMINANCE,
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.LUMINANCE_ALPHA]: gl.LUMINANCE_ALPHA
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_6_5]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGB]: gl.RGB
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_4_4_4_4]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA
      },
      [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_SHORT_5_5_5_1]: {
        [_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.FORMATS.RGBA]: gl.RGBA
      }
    };
  }
  return table;
}


//# sourceMappingURL=mapTypeAndFormatToInternalFormat.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/transformFeedback/TransformFeedback.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/transformFeedback/TransformFeedback.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TransformFeedback": () => (/* binding */ TransformFeedback)
/* harmony export */ });
/* harmony import */ var _pixi_runner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/runner */ "./node_modules/@pixi/runner/lib/index.mjs");


class TransformFeedback {
  constructor() {
    this._glTransformFeedbacks = {};
    this.buffers = [];
    this.disposeRunner = new _pixi_runner__WEBPACK_IMPORTED_MODULE_0__.Runner("disposeTransformFeedback");
  }
  bindBuffer(index, buffer) {
    this.buffers[index] = buffer;
  }
  destroy() {
    this.disposeRunner.emit(this, false);
  }
}


//# sourceMappingURL=TransformFeedback.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/transformFeedback/TransformFeedbackSystem.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@pixi/core/lib/transformFeedback/TransformFeedbackSystem.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TransformFeedbackSystem": () => (/* binding */ TransformFeedbackSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");


class TransformFeedbackSystem {
  constructor(renderer) {
    this.renderer = renderer;
  }
  contextChange() {
    this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
  }
  bind(transformFeedback) {
    const { gl, CONTEXT_UID } = this;
    const glTransformFeedback = transformFeedback._glTransformFeedbacks[CONTEXT_UID] || this.createGLTransformFeedback(transformFeedback);
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, glTransformFeedback);
  }
  unbind() {
    const { gl } = this;
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, null);
  }
  beginTransformFeedback(drawMode, shader) {
    const { gl, renderer } = this;
    if (shader) {
      renderer.shader.bind(shader);
    }
    gl.beginTransformFeedback(drawMode);
  }
  endTransformFeedback() {
    const { gl } = this;
    gl.endTransformFeedback();
  }
  createGLTransformFeedback(tf) {
    const { gl, renderer, CONTEXT_UID } = this;
    const glTransformFeedback = gl.createTransformFeedback();
    tf._glTransformFeedbacks[CONTEXT_UID] = glTransformFeedback;
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, glTransformFeedback);
    for (let i = 0; i < tf.buffers.length; i++) {
      const buffer = tf.buffers[i];
      if (!buffer)
        continue;
      renderer.buffer.update(buffer);
      buffer._glBuffers[CONTEXT_UID].refCount++;
      gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER, i, buffer._glBuffers[CONTEXT_UID].buffer || null);
    }
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, null);
    tf.disposeRunner.add(this);
    return glTransformFeedback;
  }
  disposeTransformFeedback(tf, contextLost) {
    const glTF = tf._glTransformFeedbacks[this.CONTEXT_UID];
    const gl = this.gl;
    tf.disposeRunner.remove(this);
    const bufferSystem = this.renderer.buffer;
    if (bufferSystem) {
      for (let i = 0; i < tf.buffers.length; i++) {
        const buffer = tf.buffers[i];
        if (!buffer)
          continue;
        const buf = buffer._glBuffers[this.CONTEXT_UID];
        if (buf) {
          buf.refCount--;
          if (buf.refCount === 0 && !contextLost) {
            bufferSystem.dispose(buffer, contextLost);
          }
        }
      }
    }
    if (!glTF) {
      return;
    }
    if (!contextLost) {
      gl.deleteTransformFeedback(glTF);
    }
    delete tf._glTransformFeedbacks[this.CONTEXT_UID];
  }
  destroy() {
    this.renderer = null;
  }
}
TransformFeedbackSystem.extension = {
  type: _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
  name: "transformFeedback"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(TransformFeedbackSystem);


//# sourceMappingURL=TransformFeedbackSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/utils/Quad.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/core/lib/utils/Quad.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Quad": () => (/* binding */ Quad)
/* harmony export */ });
/* harmony import */ var _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/Geometry.mjs */ "./node_modules/@pixi/core/lib/geometry/Geometry.mjs");


class Quad extends _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_0__.Geometry {
  constructor() {
    super();
    this.addAttribute("aVertexPosition", new Float32Array([
      0,
      0,
      1,
      0,
      1,
      1,
      0,
      1
    ])).addIndex([0, 1, 3, 2]);
  }
}


//# sourceMappingURL=Quad.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/utils/QuadUv.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/core/lib/utils/QuadUv.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QuadUv": () => (/* binding */ QuadUv)
/* harmony export */ });
/* harmony import */ var _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geometry/Geometry.mjs */ "./node_modules/@pixi/core/lib/geometry/Geometry.mjs");
/* harmony import */ var _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/Buffer.mjs */ "./node_modules/@pixi/core/lib/geometry/Buffer.mjs");



class QuadUv extends _geometry_Geometry_mjs__WEBPACK_IMPORTED_MODULE_0__.Geometry {
  constructor() {
    super();
    this.vertices = new Float32Array([
      -1,
      -1,
      1,
      -1,
      1,
      1,
      -1,
      1
    ]);
    this.uvs = new Float32Array([
      0,
      0,
      1,
      0,
      1,
      1,
      0,
      1
    ]);
    this.vertexBuffer = new _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer(this.vertices);
    this.uvBuffer = new _geometry_Buffer_mjs__WEBPACK_IMPORTED_MODULE_1__.Buffer(this.uvs);
    this.addAttribute("aVertexPosition", this.vertexBuffer).addAttribute("aTextureCoord", this.uvBuffer).addIndex([0, 1, 2, 0, 2, 3]);
  }
  map(targetTextureFrame, destinationFrame) {
    let x = 0;
    let y = 0;
    this.uvs[0] = x;
    this.uvs[1] = y;
    this.uvs[2] = x + destinationFrame.width / targetTextureFrame.width;
    this.uvs[3] = y;
    this.uvs[4] = x + destinationFrame.width / targetTextureFrame.width;
    this.uvs[5] = y + destinationFrame.height / targetTextureFrame.height;
    this.uvs[6] = x;
    this.uvs[7] = y + destinationFrame.height / targetTextureFrame.height;
    x = destinationFrame.x;
    y = destinationFrame.y;
    this.vertices[0] = x;
    this.vertices[1] = y;
    this.vertices[2] = x + destinationFrame.width;
    this.vertices[3] = y;
    this.vertices[4] = x + destinationFrame.width;
    this.vertices[5] = y + destinationFrame.height;
    this.vertices[6] = x;
    this.vertices[7] = y + destinationFrame.height;
    this.invalidate();
    return this;
  }
  invalidate() {
    this.vertexBuffer._updateID++;
    this.uvBuffer._updateID++;
    return this;
  }
}


//# sourceMappingURL=QuadUv.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/core/lib/view/ViewSystem.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/core/lib/view/ViewSystem.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ViewSystem": () => (/* binding */ ViewSystem)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _pixi_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/math */ "./node_modules/@pixi/math/lib/index.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");




class ViewSystem {
  constructor(renderer) {
    this.renderer = renderer;
  }
  init(options) {
    this.screen = new _pixi_math__WEBPACK_IMPORTED_MODULE_1__.Rectangle(0, 0, options.width, options.height);
    this.element = options.view || _pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.ADAPTER.createCanvas();
    this.resolution = options.resolution || _pixi_settings__WEBPACK_IMPORTED_MODULE_2__.settings.RESOLUTION;
    this.autoDensity = !!options.autoDensity;
  }
  resizeView(desiredScreenWidth, desiredScreenHeight) {
    this.element.width = Math.round(desiredScreenWidth * this.resolution);
    this.element.height = Math.round(desiredScreenHeight * this.resolution);
    const screenWidth = this.element.width / this.resolution;
    const screenHeight = this.element.height / this.resolution;
    this.screen.width = screenWidth;
    this.screen.height = screenHeight;
    if (this.autoDensity) {
      this.element.style.width = `${screenWidth}px`;
      this.element.style.height = `${screenHeight}px`;
    }
    this.renderer.emit("resize", screenWidth, screenHeight);
    this.renderer.runners.resize.emit(this.screen.width, this.screen.height);
  }
  destroy(removeView) {
    if (removeView) {
      this.element.parentNode?.removeChild(this.element);
    }
    this.renderer = null;
    this.element = null;
    this.screen = null;
  }
}
ViewSystem.extension = {
  type: [
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem,
    _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.CanvasRendererSystem
  ],
  name: "_view"
};
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ViewSystem);


//# sourceMappingURL=ViewSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/display/lib/Bounds.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/display/lib/Bounds.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Bounds": () => (/* binding */ Bounds)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class Bounds {
  constructor() {
    this.minX = Infinity;
    this.minY = Infinity;
    this.maxX = -Infinity;
    this.maxY = -Infinity;
    this.rect = null;
    this.updateID = -1;
  }
  isEmpty() {
    return this.minX > this.maxX || this.minY > this.maxY;
  }
  clear() {
    this.minX = Infinity;
    this.minY = Infinity;
    this.maxX = -Infinity;
    this.maxY = -Infinity;
  }
  getRectangle(rect) {
    if (this.minX > this.maxX || this.minY > this.maxY) {
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle.EMPTY;
    }
    rect = rect || new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(0, 0, 1, 1);
    rect.x = this.minX;
    rect.y = this.minY;
    rect.width = this.maxX - this.minX;
    rect.height = this.maxY - this.minY;
    return rect;
  }
  addPoint(point) {
    this.minX = Math.min(this.minX, point.x);
    this.maxX = Math.max(this.maxX, point.x);
    this.minY = Math.min(this.minY, point.y);
    this.maxY = Math.max(this.maxY, point.y);
  }
  addPointMatrix(matrix, point) {
    const { a, b, c, d, tx, ty } = matrix;
    const x = a * point.x + c * point.y + tx;
    const y = b * point.x + d * point.y + ty;
    this.minX = Math.min(this.minX, x);
    this.maxX = Math.max(this.maxX, x);
    this.minY = Math.min(this.minY, y);
    this.maxY = Math.max(this.maxY, y);
  }
  addQuad(vertices) {
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    let x = vertices[0];
    let y = vertices[1];
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = vertices[2];
    y = vertices[3];
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = vertices[4];
    y = vertices[5];
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = vertices[6];
    y = vertices[7];
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addFrame(transform, x0, y0, x1, y1) {
    this.addFrameMatrix(transform.worldTransform, x0, y0, x1, y1);
  }
  addFrameMatrix(matrix, x0, y0, x1, y1) {
    const a = matrix.a;
    const b = matrix.b;
    const c = matrix.c;
    const d = matrix.d;
    const tx = matrix.tx;
    const ty = matrix.ty;
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    let x = a * x0 + c * y0 + tx;
    let y = b * x0 + d * y0 + ty;
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = a * x1 + c * y0 + tx;
    y = b * x1 + d * y0 + ty;
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = a * x0 + c * y1 + tx;
    y = b * x0 + d * y1 + ty;
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    x = a * x1 + c * y1 + tx;
    y = b * x1 + d * y1 + ty;
    minX = x < minX ? x : minX;
    minY = y < minY ? y : minY;
    maxX = x > maxX ? x : maxX;
    maxY = y > maxY ? y : maxY;
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addVertexData(vertexData, beginOffset, endOffset) {
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    for (let i = beginOffset; i < endOffset; i += 2) {
      const x = vertexData[i];
      const y = vertexData[i + 1];
      minX = x < minX ? x : minX;
      minY = y < minY ? y : minY;
      maxX = x > maxX ? x : maxX;
      maxY = y > maxY ? y : maxY;
    }
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addVertices(transform, vertices, beginOffset, endOffset) {
    this.addVerticesMatrix(transform.worldTransform, vertices, beginOffset, endOffset);
  }
  addVerticesMatrix(matrix, vertices, beginOffset, endOffset, padX = 0, padY = padX) {
    const a = matrix.a;
    const b = matrix.b;
    const c = matrix.c;
    const d = matrix.d;
    const tx = matrix.tx;
    const ty = matrix.ty;
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    for (let i = beginOffset; i < endOffset; i += 2) {
      const rawX = vertices[i];
      const rawY = vertices[i + 1];
      const x = a * rawX + c * rawY + tx;
      const y = d * rawY + b * rawX + ty;
      minX = Math.min(minX, x - padX);
      maxX = Math.max(maxX, x + padX);
      minY = Math.min(minY, y - padY);
      maxY = Math.max(maxY, y + padY);
    }
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addBounds(bounds) {
    const minX = this.minX;
    const minY = this.minY;
    const maxX = this.maxX;
    const maxY = this.maxY;
    this.minX = bounds.minX < minX ? bounds.minX : minX;
    this.minY = bounds.minY < minY ? bounds.minY : minY;
    this.maxX = bounds.maxX > maxX ? bounds.maxX : maxX;
    this.maxY = bounds.maxY > maxY ? bounds.maxY : maxY;
  }
  addBoundsMask(bounds, mask) {
    const _minX = bounds.minX > mask.minX ? bounds.minX : mask.minX;
    const _minY = bounds.minY > mask.minY ? bounds.minY : mask.minY;
    const _maxX = bounds.maxX < mask.maxX ? bounds.maxX : mask.maxX;
    const _maxY = bounds.maxY < mask.maxY ? bounds.maxY : mask.maxY;
    if (_minX <= _maxX && _minY <= _maxY) {
      const minX = this.minX;
      const minY = this.minY;
      const maxX = this.maxX;
      const maxY = this.maxY;
      this.minX = _minX < minX ? _minX : minX;
      this.minY = _minY < minY ? _minY : minY;
      this.maxX = _maxX > maxX ? _maxX : maxX;
      this.maxY = _maxY > maxY ? _maxY : maxY;
    }
  }
  addBoundsMatrix(bounds, matrix) {
    this.addFrameMatrix(matrix, bounds.minX, bounds.minY, bounds.maxX, bounds.maxY);
  }
  addBoundsArea(bounds, area) {
    const _minX = bounds.minX > area.x ? bounds.minX : area.x;
    const _minY = bounds.minY > area.y ? bounds.minY : area.y;
    const _maxX = bounds.maxX < area.x + area.width ? bounds.maxX : area.x + area.width;
    const _maxY = bounds.maxY < area.y + area.height ? bounds.maxY : area.y + area.height;
    if (_minX <= _maxX && _minY <= _maxY) {
      const minX = this.minX;
      const minY = this.minY;
      const maxX = this.maxX;
      const maxY = this.maxY;
      this.minX = _minX < minX ? _minX : minX;
      this.minY = _minY < minY ? _minY : minY;
      this.maxX = _maxX > maxX ? _maxX : maxX;
      this.maxY = _maxY > maxY ? _maxY : maxY;
    }
  }
  pad(paddingX = 0, paddingY = paddingX) {
    if (!this.isEmpty()) {
      this.minX -= paddingX;
      this.maxX += paddingX;
      this.minY -= paddingY;
      this.maxY += paddingY;
    }
  }
  addFramePad(x0, y0, x1, y1, padX, padY) {
    x0 -= padX;
    y0 -= padY;
    x1 += padX;
    y1 += padY;
    this.minX = this.minX < x0 ? this.minX : x0;
    this.maxX = this.maxX > x1 ? this.maxX : x1;
    this.minY = this.minY < y0 ? this.minY : y0;
    this.maxY = this.maxY > y1 ? this.maxY : y1;
  }
}


//# sourceMappingURL=Bounds.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/display/lib/Container.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/display/lib/Container.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Container": () => (/* binding */ Container)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _DisplayObject_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DisplayObject.mjs */ "./node_modules/@pixi/display/lib/DisplayObject.mjs");



const tempMatrix = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix();
function sortChildren(a, b) {
  if (a.zIndex === b.zIndex) {
    return a._lastSortedIndex - b._lastSortedIndex;
  }
  return a.zIndex - b.zIndex;
}
class Container extends _DisplayObject_mjs__WEBPACK_IMPORTED_MODULE_1__.DisplayObject {
  constructor() {
    super();
    this.children = [];
    this.sortableChildren = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.SORTABLE_CHILDREN;
    this.sortDirty = false;
  }
  onChildrenChange(_length) {
  }
  addChild(...children) {
    if (children.length > 1) {
      for (let i = 0; i < children.length; i++) {
        this.addChild(children[i]);
      }
    } else {
      const child = children[0];
      if (child.parent) {
        child.parent.removeChild(child);
      }
      child.parent = this;
      this.sortDirty = true;
      child.transform._parentID = -1;
      this.children.push(child);
      this._boundsID++;
      this.onChildrenChange(this.children.length - 1);
      this.emit("childAdded", child, this, this.children.length - 1);
      child.emit("added", this);
    }
    return children[0];
  }
  addChildAt(child, index) {
    if (index < 0 || index > this.children.length) {
      throw new Error(`${child}addChildAt: The index ${index} supplied is out of bounds ${this.children.length}`);
    }
    if (child.parent) {
      child.parent.removeChild(child);
    }
    child.parent = this;
    this.sortDirty = true;
    child.transform._parentID = -1;
    this.children.splice(index, 0, child);
    this._boundsID++;
    this.onChildrenChange(index);
    child.emit("added", this);
    this.emit("childAdded", child, this, index);
    return child;
  }
  swapChildren(child, child2) {
    if (child === child2) {
      return;
    }
    const index1 = this.getChildIndex(child);
    const index2 = this.getChildIndex(child2);
    this.children[index1] = child2;
    this.children[index2] = child;
    this.onChildrenChange(index1 < index2 ? index1 : index2);
  }
  getChildIndex(child) {
    const index = this.children.indexOf(child);
    if (index === -1) {
      throw new Error("The supplied DisplayObject must be a child of the caller");
    }
    return index;
  }
  setChildIndex(child, index) {
    if (index < 0 || index >= this.children.length) {
      throw new Error(`The index ${index} supplied is out of bounds ${this.children.length}`);
    }
    const currentIndex = this.getChildIndex(child);
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.removeItems(this.children, currentIndex, 1);
    this.children.splice(index, 0, child);
    this.onChildrenChange(index);
  }
  getChildAt(index) {
    if (index < 0 || index >= this.children.length) {
      throw new Error(`getChildAt: Index (${index}) does not exist.`);
    }
    return this.children[index];
  }
  removeChild(...children) {
    if (children.length > 1) {
      for (let i = 0; i < children.length; i++) {
        this.removeChild(children[i]);
      }
    } else {
      const child = children[0];
      const index = this.children.indexOf(child);
      if (index === -1)
        return null;
      child.parent = null;
      child.transform._parentID = -1;
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.removeItems(this.children, index, 1);
      this._boundsID++;
      this.onChildrenChange(index);
      child.emit("removed", this);
      this.emit("childRemoved", child, this, index);
    }
    return children[0];
  }
  removeChildAt(index) {
    const child = this.getChildAt(index);
    child.parent = null;
    child.transform._parentID = -1;
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.removeItems(this.children, index, 1);
    this._boundsID++;
    this.onChildrenChange(index);
    child.emit("removed", this);
    this.emit("childRemoved", child, this, index);
    return child;
  }
  removeChildren(beginIndex = 0, endIndex = this.children.length) {
    const begin = beginIndex;
    const end = endIndex;
    const range = end - begin;
    let removed;
    if (range > 0 && range <= end) {
      removed = this.children.splice(begin, range);
      for (let i = 0; i < removed.length; ++i) {
        removed[i].parent = null;
        if (removed[i].transform) {
          removed[i].transform._parentID = -1;
        }
      }
      this._boundsID++;
      this.onChildrenChange(beginIndex);
      for (let i = 0; i < removed.length; ++i) {
        removed[i].emit("removed", this);
        this.emit("childRemoved", removed[i], this, i);
      }
      return removed;
    } else if (range === 0 && this.children.length === 0) {
      return [];
    }
    throw new RangeError("removeChildren: numeric values are outside the acceptable range.");
  }
  sortChildren() {
    let sortRequired = false;
    for (let i = 0, j = this.children.length; i < j; ++i) {
      const child = this.children[i];
      child._lastSortedIndex = i;
      if (!sortRequired && child.zIndex !== 0) {
        sortRequired = true;
      }
    }
    if (sortRequired && this.children.length > 1) {
      this.children.sort(sortChildren);
    }
    this.sortDirty = false;
  }
  updateTransform() {
    if (this.sortableChildren && this.sortDirty) {
      this.sortChildren();
    }
    this._boundsID++;
    this.transform.updateTransform(this.parent.transform);
    this.worldAlpha = this.alpha * this.parent.worldAlpha;
    for (let i = 0, j = this.children.length; i < j; ++i) {
      const child = this.children[i];
      if (child.visible) {
        child.updateTransform();
      }
    }
  }
  calculateBounds() {
    this._bounds.clear();
    this._calculateBounds();
    for (let i = 0; i < this.children.length; i++) {
      const child = this.children[i];
      if (!child.visible || !child.renderable) {
        continue;
      }
      child.calculateBounds();
      if (child._mask) {
        const maskObject = child._mask.isMaskData ? child._mask.maskObject : child._mask;
        if (maskObject) {
          maskObject.calculateBounds();
          this._bounds.addBoundsMask(child._bounds, maskObject._bounds);
        } else {
          this._bounds.addBounds(child._bounds);
        }
      } else if (child.filterArea) {
        this._bounds.addBoundsArea(child._bounds, child.filterArea);
      } else {
        this._bounds.addBounds(child._bounds);
      }
    }
    this._bounds.updateID = this._boundsID;
  }
  getLocalBounds(rect, skipChildrenUpdate = false) {
    const result = super.getLocalBounds(rect);
    if (!skipChildrenUpdate) {
      for (let i = 0, j = this.children.length; i < j; ++i) {
        const child = this.children[i];
        if (child.visible) {
          child.updateTransform();
        }
      }
    }
    return result;
  }
  _calculateBounds() {
  }
  _renderWithCulling(renderer) {
    const sourceFrame = renderer.renderTexture.sourceFrame;
    if (!(sourceFrame.width > 0 && sourceFrame.height > 0)) {
      return;
    }
    let bounds;
    let transform;
    if (this.cullArea) {
      bounds = this.cullArea;
      transform = this.worldTransform;
    } else if (this._render !== Container.prototype._render) {
      bounds = this.getBounds(true);
    }
    const projectionTransform = renderer.projection.transform;
    if (projectionTransform) {
      if (transform) {
        transform = tempMatrix.copyFrom(transform);
        transform.prepend(projectionTransform);
      } else {
        transform = projectionTransform;
      }
    }
    if (bounds && sourceFrame.intersects(bounds, transform)) {
      this._render(renderer);
    } else if (this.cullArea) {
      return;
    }
    for (let i = 0, j = this.children.length; i < j; ++i) {
      const child = this.children[i];
      const childCullable = child.cullable;
      child.cullable = childCullable || !this.cullArea;
      child.render(renderer);
      child.cullable = childCullable;
    }
  }
  render(renderer) {
    if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
      return;
    }
    if (this._mask || this.filters?.length) {
      this.renderAdvanced(renderer);
    } else if (this.cullable) {
      this._renderWithCulling(renderer);
    } else {
      this._render(renderer);
      for (let i = 0, j = this.children.length; i < j; ++i) {
        this.children[i].render(renderer);
      }
    }
  }
  renderAdvanced(renderer) {
    const filters = this.filters;
    const mask = this._mask;
    if (filters) {
      if (!this._enabledFilters) {
        this._enabledFilters = [];
      }
      this._enabledFilters.length = 0;
      for (let i = 0; i < filters.length; i++) {
        if (filters[i].enabled) {
          this._enabledFilters.push(filters[i]);
        }
      }
    }
    const flush = filters && this._enabledFilters?.length || mask && (!mask.isMaskData || mask.enabled && (mask.autoDetect || mask.type !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.MASK_TYPES.NONE));
    if (flush) {
      renderer.batch.flush();
    }
    if (filters && this._enabledFilters?.length) {
      renderer.filter.push(this, this._enabledFilters);
    }
    if (mask) {
      renderer.mask.push(this, this._mask);
    }
    if (this.cullable) {
      this._renderWithCulling(renderer);
    } else {
      this._render(renderer);
      for (let i = 0, j = this.children.length; i < j; ++i) {
        this.children[i].render(renderer);
      }
    }
    if (flush) {
      renderer.batch.flush();
    }
    if (mask) {
      renderer.mask.pop(this);
    }
    if (filters && this._enabledFilters?.length) {
      renderer.filter.pop();
    }
  }
  _render(_renderer) {
  }
  destroy(options) {
    super.destroy();
    this.sortDirty = false;
    const destroyChildren = typeof options === "boolean" ? options : options?.children;
    const oldChildren = this.removeChildren(0, this.children.length);
    if (destroyChildren) {
      for (let i = 0; i < oldChildren.length; ++i) {
        oldChildren[i].destroy(options);
      }
    }
  }
  get width() {
    return this.scale.x * this.getLocalBounds().width;
  }
  set width(value) {
    const width = this.getLocalBounds().width;
    if (width !== 0) {
      this.scale.x = value / width;
    } else {
      this.scale.x = 1;
    }
    this._width = value;
  }
  get height() {
    return this.scale.y * this.getLocalBounds().height;
  }
  set height(value) {
    const height = this.getLocalBounds().height;
    if (height !== 0) {
      this.scale.y = value / height;
    } else {
      this.scale.y = 1;
    }
    this._height = value;
  }
}
Container.prototype.containerUpdateTransform = Container.prototype.updateTransform;


//# sourceMappingURL=Container.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/display/lib/DisplayObject.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/display/lib/DisplayObject.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplayObject": () => (/* binding */ DisplayObject),
/* harmony export */   "TemporaryDisplayObject": () => (/* binding */ TemporaryDisplayObject)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _Bounds_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bounds.mjs */ "./node_modules/@pixi/display/lib/Bounds.mjs");



class DisplayObject extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.EventEmitter {
  constructor() {
    super();
    this.tempDisplayObjectParent = null;
    this.transform = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Transform();
    this.alpha = 1;
    this.visible = true;
    this.renderable = true;
    this.cullable = false;
    this.cullArea = null;
    this.parent = null;
    this.worldAlpha = 1;
    this._lastSortedIndex = 0;
    this._zIndex = 0;
    this.filterArea = null;
    this.filters = null;
    this._enabledFilters = null;
    this._bounds = new _Bounds_mjs__WEBPACK_IMPORTED_MODULE_1__.Bounds();
    this._localBounds = null;
    this._boundsID = 0;
    this._boundsRect = null;
    this._localBoundsRect = null;
    this._mask = null;
    this._maskRefCount = 0;
    this._destroyed = false;
    this.isSprite = false;
    this.isMask = false;
  }
  static mixin(source) {
    const keys = Object.keys(source);
    for (let i = 0; i < keys.length; ++i) {
      const propertyName = keys[i];
      Object.defineProperty(DisplayObject.prototype, propertyName, Object.getOwnPropertyDescriptor(source, propertyName));
    }
  }
  get destroyed() {
    return this._destroyed;
  }
  _recursivePostUpdateTransform() {
    if (this.parent) {
      this.parent._recursivePostUpdateTransform();
      this.transform.updateTransform(this.parent.transform);
    } else {
      this.transform.updateTransform(this._tempDisplayObjectParent.transform);
    }
  }
  updateTransform() {
    this._boundsID++;
    this.transform.updateTransform(this.parent.transform);
    this.worldAlpha = this.alpha * this.parent.worldAlpha;
  }
  getBounds(skipUpdate, rect) {
    if (!skipUpdate) {
      if (!this.parent) {
        this.parent = this._tempDisplayObjectParent;
        this.updateTransform();
        this.parent = null;
      } else {
        this._recursivePostUpdateTransform();
        this.updateTransform();
      }
    }
    if (this._bounds.updateID !== this._boundsID) {
      this.calculateBounds();
      this._bounds.updateID = this._boundsID;
    }
    if (!rect) {
      if (!this._boundsRect) {
        this._boundsRect = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
      }
      rect = this._boundsRect;
    }
    return this._bounds.getRectangle(rect);
  }
  getLocalBounds(rect) {
    if (!rect) {
      if (!this._localBoundsRect) {
        this._localBoundsRect = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
      }
      rect = this._localBoundsRect;
    }
    if (!this._localBounds) {
      this._localBounds = new _Bounds_mjs__WEBPACK_IMPORTED_MODULE_1__.Bounds();
    }
    const transformRef = this.transform;
    const parentRef = this.parent;
    this.parent = null;
    this.transform = this._tempDisplayObjectParent.transform;
    const worldBounds = this._bounds;
    const worldBoundsID = this._boundsID;
    this._bounds = this._localBounds;
    const bounds = this.getBounds(false, rect);
    this.parent = parentRef;
    this.transform = transformRef;
    this._bounds = worldBounds;
    this._bounds.updateID += this._boundsID - worldBoundsID;
    return bounds;
  }
  toGlobal(position, point, skipUpdate = false) {
    if (!skipUpdate) {
      this._recursivePostUpdateTransform();
      if (!this.parent) {
        this.parent = this._tempDisplayObjectParent;
        this.displayObjectUpdateTransform();
        this.parent = null;
      } else {
        this.displayObjectUpdateTransform();
      }
    }
    return this.worldTransform.apply(position, point);
  }
  toLocal(position, from, point, skipUpdate) {
    if (from) {
      position = from.toGlobal(position, point, skipUpdate);
    }
    if (!skipUpdate) {
      this._recursivePostUpdateTransform();
      if (!this.parent) {
        this.parent = this._tempDisplayObjectParent;
        this.displayObjectUpdateTransform();
        this.parent = null;
      } else {
        this.displayObjectUpdateTransform();
      }
    }
    return this.worldTransform.applyInverse(position, point);
  }
  setParent(container) {
    if (!container || !container.addChild) {
      throw new Error("setParent: Argument must be a Container");
    }
    container.addChild(this);
    return container;
  }
  removeFromParent() {
    this.parent?.removeChild(this);
  }
  setTransform(x = 0, y = 0, scaleX = 1, scaleY = 1, rotation = 0, skewX = 0, skewY = 0, pivotX = 0, pivotY = 0) {
    this.position.x = x;
    this.position.y = y;
    this.scale.x = !scaleX ? 1 : scaleX;
    this.scale.y = !scaleY ? 1 : scaleY;
    this.rotation = rotation;
    this.skew.x = skewX;
    this.skew.y = skewY;
    this.pivot.x = pivotX;
    this.pivot.y = pivotY;
    return this;
  }
  destroy(_options) {
    this.removeFromParent();
    this._destroyed = true;
    this.transform = null;
    this.parent = null;
    this._bounds = null;
    this.mask = null;
    this.cullArea = null;
    this.filters = null;
    this.filterArea = null;
    this.hitArea = null;
    this.interactive = false;
    this.interactiveChildren = false;
    this.emit("destroyed");
    this.removeAllListeners();
  }
  get _tempDisplayObjectParent() {
    if (this.tempDisplayObjectParent === null) {
      this.tempDisplayObjectParent = new TemporaryDisplayObject();
    }
    return this.tempDisplayObjectParent;
  }
  enableTempParent() {
    const myParent = this.parent;
    this.parent = this._tempDisplayObjectParent;
    return myParent;
  }
  disableTempParent(cacheParent) {
    this.parent = cacheParent;
  }
  get x() {
    return this.position.x;
  }
  set x(value) {
    this.transform.position.x = value;
  }
  get y() {
    return this.position.y;
  }
  set y(value) {
    this.transform.position.y = value;
  }
  get worldTransform() {
    return this.transform.worldTransform;
  }
  get localTransform() {
    return this.transform.localTransform;
  }
  get position() {
    return this.transform.position;
  }
  set position(value) {
    this.transform.position.copyFrom(value);
  }
  get scale() {
    return this.transform.scale;
  }
  set scale(value) {
    this.transform.scale.copyFrom(value);
  }
  get pivot() {
    return this.transform.pivot;
  }
  set pivot(value) {
    this.transform.pivot.copyFrom(value);
  }
  get skew() {
    return this.transform.skew;
  }
  set skew(value) {
    this.transform.skew.copyFrom(value);
  }
  get rotation() {
    return this.transform.rotation;
  }
  set rotation(value) {
    this.transform.rotation = value;
  }
  get angle() {
    return this.transform.rotation * _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RAD_TO_DEG;
  }
  set angle(value) {
    this.transform.rotation = value * _pixi_core__WEBPACK_IMPORTED_MODULE_0__.DEG_TO_RAD;
  }
  get zIndex() {
    return this._zIndex;
  }
  set zIndex(value) {
    this._zIndex = value;
    if (this.parent) {
      this.parent.sortDirty = true;
    }
  }
  get worldVisible() {
    let item = this;
    do {
      if (!item.visible) {
        return false;
      }
      item = item.parent;
    } while (item);
    return true;
  }
  get mask() {
    return this._mask;
  }
  set mask(value) {
    if (this._mask === value) {
      return;
    }
    if (this._mask) {
      const maskObject = this._mask.isMaskData ? this._mask.maskObject : this._mask;
      if (maskObject) {
        maskObject._maskRefCount--;
        if (maskObject._maskRefCount === 0) {
          maskObject.renderable = true;
          maskObject.isMask = false;
        }
      }
    }
    this._mask = value;
    if (this._mask) {
      const maskObject = this._mask.isMaskData ? this._mask.maskObject : this._mask;
      if (maskObject) {
        if (maskObject._maskRefCount === 0) {
          maskObject.renderable = false;
          maskObject.isMask = true;
        }
        maskObject._maskRefCount++;
      }
    }
  }
}
class TemporaryDisplayObject extends DisplayObject {
  constructor() {
    super(...arguments);
    this.sortDirty = null;
  }
}
DisplayObject.prototype.displayObjectUpdateTransform = DisplayObject.prototype.updateTransform;


//# sourceMappingURL=DisplayObject.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/display/lib/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/display/lib/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Bounds": () => (/* reexport safe */ _Bounds_mjs__WEBPACK_IMPORTED_MODULE_1__.Bounds),
/* harmony export */   "Container": () => (/* reexport safe */ _Container_mjs__WEBPACK_IMPORTED_MODULE_3__.Container),
/* harmony export */   "DisplayObject": () => (/* reexport safe */ _DisplayObject_mjs__WEBPACK_IMPORTED_MODULE_2__.DisplayObject),
/* harmony export */   "TemporaryDisplayObject": () => (/* reexport safe */ _DisplayObject_mjs__WEBPACK_IMPORTED_MODULE_2__.TemporaryDisplayObject)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/display/lib/settings.mjs");
/* harmony import */ var _Bounds_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Bounds.mjs */ "./node_modules/@pixi/display/lib/Bounds.mjs");
/* harmony import */ var _DisplayObject_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DisplayObject.mjs */ "./node_modules/@pixi/display/lib/DisplayObject.mjs");
/* harmony import */ var _Container_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Container.mjs */ "./node_modules/@pixi/display/lib/Container.mjs");




//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/display/lib/settings.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/display/lib/settings.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "settings": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");



_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.SORTABLE_CHILDREN = false;
//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/EventBoundary.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/events/lib/EventBoundary.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventBoundary": () => (/* binding */ EventBoundary)
/* harmony export */ });
/* harmony import */ var _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FederatedMouseEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs");
/* harmony import */ var _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FederatedPointerEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs");
/* harmony import */ var _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FederatedWheelEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");





const PROPAGATION_LIMIT = 2048;
const tempHitLocation = new _pixi_core__WEBPACK_IMPORTED_MODULE_3__.Point();
const tempLocalMapping = new _pixi_core__WEBPACK_IMPORTED_MODULE_3__.Point();
class EventBoundary {
  constructor(rootTarget) {
    this.dispatch = new _pixi_core__WEBPACK_IMPORTED_MODULE_3__.utils.EventEmitter();
    this.moveOnAll = false;
    this.mappingState = {
      trackingData: {}
    };
    this.eventPool = /* @__PURE__ */ new Map();
    this.rootTarget = rootTarget;
    this.hitPruneFn = this.hitPruneFn.bind(this);
    this.hitTestFn = this.hitTestFn.bind(this);
    this.mapPointerDown = this.mapPointerDown.bind(this);
    this.mapPointerMove = this.mapPointerMove.bind(this);
    this.mapPointerOut = this.mapPointerOut.bind(this);
    this.mapPointerOver = this.mapPointerOver.bind(this);
    this.mapPointerUp = this.mapPointerUp.bind(this);
    this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this);
    this.mapWheel = this.mapWheel.bind(this);
    this.mappingTable = {};
    this.addEventMapping("pointerdown", this.mapPointerDown);
    this.addEventMapping("pointermove", this.mapPointerMove);
    this.addEventMapping("pointerout", this.mapPointerOut);
    this.addEventMapping("pointerleave", this.mapPointerOut);
    this.addEventMapping("pointerover", this.mapPointerOver);
    this.addEventMapping("pointerup", this.mapPointerUp);
    this.addEventMapping("pointerupoutside", this.mapPointerUpOutside);
    this.addEventMapping("wheel", this.mapWheel);
  }
  addEventMapping(type, fn) {
    if (!this.mappingTable[type]) {
      this.mappingTable[type] = [];
    }
    this.mappingTable[type].push({
      fn,
      priority: 0
    });
    this.mappingTable[type].sort((a, b) => a.priority - b.priority);
  }
  dispatchEvent(e, type) {
    e.propagationStopped = false;
    e.propagationImmediatelyStopped = false;
    this.propagate(e, type);
    this.dispatch.emit(type || e.type, e);
  }
  mapEvent(e) {
    if (!this.rootTarget) {
      return;
    }
    const mappers = this.mappingTable[e.type];
    if (mappers) {
      for (let i = 0, j = mappers.length; i < j; i++) {
        mappers[i].fn(e);
      }
    } else {
      console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`);
    }
  }
  hitTest(x, y) {
    const invertedPath = this.hitTestRecursive(this.rootTarget, this.rootTarget.interactive, tempHitLocation.set(x, y), this.hitTestFn, this.hitPruneFn);
    return invertedPath && invertedPath[0];
  }
  propagate(e, type) {
    if (!e.target) {
      return;
    }
    const composedPath = e.composedPath();
    e.eventPhase = e.CAPTURING_PHASE;
    for (let i = 0, j = composedPath.length - 1; i < j; i++) {
      e.currentTarget = composedPath[i];
      this.notifyTarget(e, type);
      if (e.propagationStopped || e.propagationImmediatelyStopped)
        return;
    }
    e.eventPhase = e.AT_TARGET;
    e.currentTarget = e.target;
    this.notifyTarget(e, type);
    if (e.propagationStopped || e.propagationImmediatelyStopped)
      return;
    e.eventPhase = e.BUBBLING_PHASE;
    for (let i = composedPath.length - 2; i >= 0; i--) {
      e.currentTarget = composedPath[i];
      this.notifyTarget(e, type);
      if (e.propagationStopped || e.propagationImmediatelyStopped)
        return;
    }
  }
  all(e, type, target = this.rootTarget) {
    e.eventPhase = e.BUBBLING_PHASE;
    const children = target.children;
    if (children) {
      for (let i = 0; i < children.length; i++) {
        this.all(e, type, children[i]);
      }
    }
    e.currentTarget = target;
    this.notifyTarget(e, type);
  }
  propagationPath(target) {
    const propagationPath = [target];
    for (let i = 0; i < PROPAGATION_LIMIT && target !== this.rootTarget; i++) {
      if (!target.parent) {
        throw new Error("Cannot find propagation path to disconnected target");
      }
      propagationPath.push(target.parent);
      target = target.parent;
    }
    propagationPath.reverse();
    return propagationPath;
  }
  hitTestRecursive(currentTarget, interactive, location, testFn, pruneFn) {
    if (!currentTarget || !currentTarget.visible) {
      return null;
    }
    if (pruneFn(currentTarget, location)) {
      return null;
    }
    if (currentTarget.interactiveChildren && currentTarget.children) {
      const children = currentTarget.children;
      for (let i = children.length - 1; i >= 0; i--) {
        const child = children[i];
        const nestedHit = this.hitTestRecursive(child, interactive || child.interactive, location, testFn, pruneFn);
        if (nestedHit) {
          if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent) {
            continue;
          }
          if (nestedHit.length > 0 || currentTarget.interactive) {
            nestedHit.push(currentTarget);
          }
          return nestedHit;
        }
      }
    }
    if (interactive && testFn(currentTarget, location)) {
      return currentTarget.interactive ? [currentTarget] : [];
    }
    return null;
  }
  hitPruneFn(displayObject, location) {
    if (displayObject.hitArea) {
      displayObject.worldTransform.applyInverse(location, tempLocalMapping);
      if (!displayObject.hitArea.contains(tempLocalMapping.x, tempLocalMapping.y)) {
        return true;
      }
    }
    if (displayObject._mask) {
      const maskObject = displayObject._mask.isMaskData ? displayObject._mask.maskObject : displayObject._mask;
      if (maskObject && !maskObject.containsPoint?.(location)) {
        return true;
      }
    }
    return false;
  }
  hitTestFn(displayObject, location) {
    if (displayObject.hitArea) {
      return true;
    }
    if (displayObject.containsPoint) {
      return displayObject.containsPoint(location);
    }
    return false;
  }
  notifyTarget(e, type) {
    type = type ?? e.type;
    const key = e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET ? `${type}capture` : type;
    this.notifyListeners(e, key);
    if (e.eventPhase === e.AT_TARGET) {
      this.notifyListeners(e, type);
    }
  }
  mapPointerDown(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const e = this.createPointerEvent(from);
    this.dispatchEvent(e, "pointerdown");
    if (e.pointerType === "touch") {
      this.dispatchEvent(e, "touchstart");
    } else if (e.pointerType === "mouse" || e.pointerType === "pen") {
      const isRightButton = e.button === 2;
      this.dispatchEvent(e, isRightButton ? "rightdown" : "mousedown");
    }
    const trackingData = this.trackingData(from.pointerId);
    trackingData.pressTargetsByButton[from.button] = e.composedPath();
    this.freeEvent(e);
  }
  mapPointerMove(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const e = this.createPointerEvent(from);
    const isMouse = e.pointerType === "mouse" || e.pointerType === "pen";
    const trackingData = this.trackingData(from.pointerId);
    const outTarget = this.findMountedTarget(trackingData.overTargets);
    if (trackingData.overTargets && outTarget !== e.target) {
      const outType = from.type === "mousemove" ? "mouseout" : "pointerout";
      const outEvent = this.createPointerEvent(from, outType, outTarget);
      this.dispatchEvent(outEvent, "pointerout");
      if (isMouse)
        this.dispatchEvent(outEvent, "mouseout");
      if (!e.composedPath().includes(outTarget)) {
        const leaveEvent = this.createPointerEvent(from, "pointerleave", outTarget);
        leaveEvent.eventPhase = leaveEvent.AT_TARGET;
        while (leaveEvent.target && !e.composedPath().includes(leaveEvent.target)) {
          leaveEvent.currentTarget = leaveEvent.target;
          this.notifyTarget(leaveEvent);
          if (isMouse)
            this.notifyTarget(leaveEvent, "mouseleave");
          leaveEvent.target = leaveEvent.target.parent;
        }
        this.freeEvent(leaveEvent);
      }
      this.freeEvent(outEvent);
    }
    if (outTarget !== e.target) {
      const overType = from.type === "mousemove" ? "mouseover" : "pointerover";
      const overEvent = this.clonePointerEvent(e, overType);
      this.dispatchEvent(overEvent, "pointerover");
      if (isMouse)
        this.dispatchEvent(overEvent, "mouseover");
      let overTargetAncestor = outTarget?.parent;
      while (overTargetAncestor && overTargetAncestor !== this.rootTarget.parent) {
        if (overTargetAncestor === e.target)
          break;
        overTargetAncestor = overTargetAncestor.parent;
      }
      const didPointerEnter = !overTargetAncestor || overTargetAncestor === this.rootTarget.parent;
      if (didPointerEnter) {
        const enterEvent = this.clonePointerEvent(e, "pointerenter");
        enterEvent.eventPhase = enterEvent.AT_TARGET;
        while (enterEvent.target && enterEvent.target !== outTarget && enterEvent.target !== this.rootTarget.parent) {
          enterEvent.currentTarget = enterEvent.target;
          this.notifyTarget(enterEvent);
          if (isMouse)
            this.notifyTarget(enterEvent, "mouseenter");
          enterEvent.target = enterEvent.target.parent;
        }
        this.freeEvent(enterEvent);
      }
      this.freeEvent(overEvent);
    }
    const propagationMethod = this.moveOnAll ? "all" : "dispatchEvent";
    this[propagationMethod](e, "pointermove");
    if (e.pointerType === "touch")
      this[propagationMethod](e, "touchmove");
    if (isMouse) {
      this[propagationMethod](e, "mousemove");
      this.cursor = e.target?.cursor;
    }
    trackingData.overTargets = e.composedPath();
    this.freeEvent(e);
  }
  mapPointerOver(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const trackingData = this.trackingData(from.pointerId);
    const e = this.createPointerEvent(from);
    const isMouse = e.pointerType === "mouse" || e.pointerType === "pen";
    this.dispatchEvent(e, "pointerover");
    if (isMouse)
      this.dispatchEvent(e, "mouseover");
    if (e.pointerType === "mouse")
      this.cursor = e.target?.cursor;
    const enterEvent = this.clonePointerEvent(e, "pointerenter");
    enterEvent.eventPhase = enterEvent.AT_TARGET;
    while (enterEvent.target && enterEvent.target !== this.rootTarget.parent) {
      enterEvent.currentTarget = enterEvent.target;
      this.notifyTarget(enterEvent);
      if (isMouse)
        this.notifyTarget(enterEvent, "mouseenter");
      enterEvent.target = enterEvent.target.parent;
    }
    trackingData.overTargets = e.composedPath();
    this.freeEvent(e);
    this.freeEvent(enterEvent);
  }
  mapPointerOut(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const trackingData = this.trackingData(from.pointerId);
    if (trackingData.overTargets) {
      const isMouse = from.pointerType === "mouse" || from.pointerType === "pen";
      const outTarget = this.findMountedTarget(trackingData.overTargets);
      const outEvent = this.createPointerEvent(from, "pointerout", outTarget);
      this.dispatchEvent(outEvent);
      if (isMouse)
        this.dispatchEvent(outEvent, "mouseout");
      const leaveEvent = this.createPointerEvent(from, "pointerleave", outTarget);
      leaveEvent.eventPhase = leaveEvent.AT_TARGET;
      while (leaveEvent.target && leaveEvent.target !== this.rootTarget.parent) {
        leaveEvent.currentTarget = leaveEvent.target;
        this.notifyTarget(leaveEvent);
        if (isMouse)
          this.notifyTarget(leaveEvent, "mouseleave");
        leaveEvent.target = leaveEvent.target.parent;
      }
      trackingData.overTargets = null;
      this.freeEvent(outEvent);
      this.freeEvent(leaveEvent);
    }
    this.cursor = null;
  }
  mapPointerUp(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const now = performance.now();
    const e = this.createPointerEvent(from);
    this.dispatchEvent(e, "pointerup");
    if (e.pointerType === "touch") {
      this.dispatchEvent(e, "touchend");
    } else if (e.pointerType === "mouse" || e.pointerType === "pen") {
      const isRightButton = e.button === 2;
      this.dispatchEvent(e, isRightButton ? "rightup" : "mouseup");
    }
    const trackingData = this.trackingData(from.pointerId);
    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);
    let clickTarget = pressTarget;
    if (pressTarget && !e.composedPath().includes(pressTarget)) {
      let currentTarget = pressTarget;
      while (currentTarget && !e.composedPath().includes(currentTarget)) {
        e.currentTarget = currentTarget;
        this.notifyTarget(e, "pointerupoutside");
        if (e.pointerType === "touch") {
          this.notifyTarget(e, "touchendoutside");
        } else if (e.pointerType === "mouse" || e.pointerType === "pen") {
          const isRightButton = e.button === 2;
          this.notifyTarget(e, isRightButton ? "rightupoutside" : "mouseupoutside");
        }
        currentTarget = currentTarget.parent;
      }
      delete trackingData.pressTargetsByButton[from.button];
      clickTarget = currentTarget;
    }
    if (clickTarget) {
      const clickEvent = this.clonePointerEvent(e, "click");
      clickEvent.target = clickTarget;
      clickEvent.path = null;
      if (!trackingData.clicksByButton[from.button]) {
        trackingData.clicksByButton[from.button] = {
          clickCount: 0,
          target: clickEvent.target,
          timeStamp: now
        };
      }
      const clickHistory = trackingData.clicksByButton[from.button];
      if (clickHistory.target === clickEvent.target && now - clickHistory.timeStamp < 200) {
        ++clickHistory.clickCount;
      } else {
        clickHistory.clickCount = 1;
      }
      clickHistory.target = clickEvent.target;
      clickHistory.timeStamp = now;
      clickEvent.detail = clickHistory.clickCount;
      if (clickEvent.pointerType === "mouse") {
        this.dispatchEvent(clickEvent, "click");
      } else if (clickEvent.pointerType === "touch") {
        this.dispatchEvent(clickEvent, "tap");
      }
      this.dispatchEvent(clickEvent, "pointertap");
      this.freeEvent(clickEvent);
    }
    this.freeEvent(e);
  }
  mapPointerUpOutside(from) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const trackingData = this.trackingData(from.pointerId);
    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);
    const e = this.createPointerEvent(from);
    if (pressTarget) {
      let currentTarget = pressTarget;
      while (currentTarget) {
        e.currentTarget = currentTarget;
        this.notifyTarget(e, "pointerupoutside");
        if (e.pointerType === "touch") {
          this.notifyTarget(e, "touchendoutside");
        } else if (e.pointerType === "mouse" || e.pointerType === "pen") {
          this.notifyTarget(e, e.button === 2 ? "rightupoutside" : "mouseupoutside");
        }
        currentTarget = currentTarget.parent;
      }
      delete trackingData.pressTargetsByButton[from.button];
    }
    this.freeEvent(e);
  }
  mapWheel(from) {
    if (!(from instanceof _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_2__.FederatedWheelEvent)) {
      console.warn("EventBoundary cannot map a non-wheel event as a wheel event");
      return;
    }
    const wheelEvent = this.createWheelEvent(from);
    this.dispatchEvent(wheelEvent);
    this.freeEvent(wheelEvent);
  }
  findMountedTarget(propagationPath) {
    if (!propagationPath) {
      return null;
    }
    let currentTarget = propagationPath[0];
    for (let i = 1; i < propagationPath.length; i++) {
      if (propagationPath[i].parent === currentTarget) {
        currentTarget = propagationPath[i];
      } else {
        break;
      }
    }
    return currentTarget;
  }
  createPointerEvent(from, type, target) {
    const event = this.allocateEvent(_FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent);
    this.copyPointerData(from, event);
    this.copyMouseData(from, event);
    this.copyData(from, event);
    event.nativeEvent = from.nativeEvent;
    event.originalEvent = from;
    event.target = target ?? this.hitTest(event.global.x, event.global.y);
    if (typeof type === "string") {
      event.type = type;
    }
    return event;
  }
  createWheelEvent(from) {
    const event = this.allocateEvent(_FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_2__.FederatedWheelEvent);
    this.copyWheelData(from, event);
    this.copyMouseData(from, event);
    this.copyData(from, event);
    event.nativeEvent = from.nativeEvent;
    event.originalEvent = from;
    event.target = this.hitTest(event.global.x, event.global.y);
    return event;
  }
  clonePointerEvent(from, type) {
    const event = this.allocateEvent(_FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent);
    event.nativeEvent = from.nativeEvent;
    event.originalEvent = from.originalEvent;
    this.copyPointerData(from, event);
    this.copyMouseData(from, event);
    this.copyData(from, event);
    event.target = from.target;
    event.path = from.composedPath().slice();
    event.type = type ?? event.type;
    return event;
  }
  copyWheelData(from, to) {
    to.deltaMode = from.deltaMode;
    to.deltaX = from.deltaX;
    to.deltaY = from.deltaY;
    to.deltaZ = from.deltaZ;
  }
  copyPointerData(from, to) {
    if (!(from instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent && to instanceof _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent))
      return;
    to.pointerId = from.pointerId;
    to.width = from.width;
    to.height = from.height;
    to.isPrimary = from.isPrimary;
    to.pointerType = from.pointerType;
    to.pressure = from.pressure;
    to.tangentialPressure = from.tangentialPressure;
    to.tiltX = from.tiltX;
    to.tiltY = from.tiltY;
    to.twist = from.twist;
  }
  copyMouseData(from, to) {
    if (!(from instanceof _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.FederatedMouseEvent && to instanceof _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.FederatedMouseEvent))
      return;
    to.altKey = from.altKey;
    to.button = from.button;
    to.buttons = from.buttons;
    to.client.copyFrom(from.client);
    to.ctrlKey = from.ctrlKey;
    to.metaKey = from.metaKey;
    to.movement.copyFrom(from.movement);
    to.screen.copyFrom(from.screen);
    to.global.copyFrom(from.global);
  }
  copyData(from, to) {
    to.isTrusted = from.isTrusted;
    to.srcElement = from.srcElement;
    to.timeStamp = performance.now();
    to.type = from.type;
    to.detail = from.detail;
    to.view = from.view;
    to.which = from.which;
    to.layer.copyFrom(from.layer);
    to.page.copyFrom(from.page);
  }
  trackingData(id) {
    if (!this.mappingState.trackingData[id]) {
      this.mappingState.trackingData[id] = {
        pressTargetsByButton: {},
        clicksByButton: {},
        overTarget: null
      };
    }
    return this.mappingState.trackingData[id];
  }
  allocateEvent(constructor) {
    if (!this.eventPool.has(constructor)) {
      this.eventPool.set(constructor, []);
    }
    const event = this.eventPool.get(constructor).pop() || new constructor(this);
    event.eventPhase = event.NONE;
    event.currentTarget = null;
    event.path = null;
    event.target = null;
    return event;
  }
  freeEvent(event) {
    if (event.manager !== this)
      throw new Error("It is illegal to free an event not managed by this EventBoundary!");
    const constructor = event.constructor;
    if (!this.eventPool.has(constructor)) {
      this.eventPool.set(constructor, []);
    }
    this.eventPool.get(constructor).push(event);
  }
  notifyListeners(e, type) {
    const listeners = e.currentTarget._events[type];
    if (!listeners)
      return;
    if ("fn" in listeners) {
      listeners.fn.call(listeners.context, e);
    } else {
      for (let i = 0, j = listeners.length; i < j && !e.propagationImmediatelyStopped; i++) {
        listeners[i].fn.call(listeners[i].context, e);
      }
    }
  }
}


//# sourceMappingURL=EventBoundary.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/EventSystem.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/events/lib/EventSystem.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventSystem": () => (/* binding */ EventSystem)
/* harmony export */ });
/* harmony import */ var _EventBoundary_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventBoundary.mjs */ "./node_modules/@pixi/events/lib/EventBoundary.mjs");
/* harmony import */ var _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FederatedPointerEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs");
/* harmony import */ var _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FederatedWheelEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");





const MOUSE_POINTER_ID = 1;
const TOUCH_TO_POINTER = {
  touchstart: "pointerdown",
  touchend: "pointerup",
  touchendoutside: "pointerupoutside",
  touchmove: "pointermove",
  touchcancel: "pointercancel"
};
class EventSystem {
  constructor(renderer) {
    this.supportsTouchEvents = "ontouchstart" in globalThis;
    this.supportsPointerEvents = !!globalThis.PointerEvent;
    this.domElement = null;
    this.resolution = 1;
    this.renderer = renderer;
    this.rootBoundary = new _EventBoundary_mjs__WEBPACK_IMPORTED_MODULE_0__.EventBoundary(null);
    this.autoPreventDefault = true;
    this.eventsAdded = false;
    this.rootPointerEvent = new _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedPointerEvent(null);
    this.rootWheelEvent = new _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_2__.FederatedWheelEvent(null);
    this.cursorStyles = {
      default: "inherit",
      pointer: "pointer"
    };
    this.onPointerDown = this.onPointerDown.bind(this);
    this.onPointerMove = this.onPointerMove.bind(this);
    this.onPointerUp = this.onPointerUp.bind(this);
    this.onPointerOverOut = this.onPointerOverOut.bind(this);
    this.onWheel = this.onWheel.bind(this);
  }
  init() {
    const { view, resolution } = this.renderer;
    this.setTargetElement(view);
    this.resolution = resolution;
  }
  resolutionChange(resolution) {
    this.resolution = resolution;
  }
  destroy() {
    this.setTargetElement(null);
    this.renderer = null;
  }
  setCursor(mode) {
    mode = mode || "default";
    let applyStyles = true;
    if (globalThis.OffscreenCanvas && this.domElement instanceof OffscreenCanvas) {
      applyStyles = false;
    }
    if (this.currentCursor === mode) {
      return;
    }
    this.currentCursor = mode;
    const style = this.cursorStyles[mode];
    if (style) {
      switch (typeof style) {
        case "string":
          if (applyStyles) {
            this.domElement.style.cursor = style;
          }
          break;
        case "function":
          style(mode);
          break;
        case "object":
          if (applyStyles) {
            Object.assign(this.domElement.style, style);
          }
          break;
      }
    } else if (applyStyles && typeof mode === "string" && !Object.prototype.hasOwnProperty.call(this.cursorStyles, mode)) {
      this.domElement.style.cursor = mode;
    }
  }
  onPointerDown(nativeEvent) {
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    const events = this.normalizeToPointerData(nativeEvent);
    if (this.autoPreventDefault && events[0].isNormalized) {
      const cancelable = nativeEvent.cancelable || !("cancelable" in nativeEvent);
      if (cancelable) {
        nativeEvent.preventDefault();
      }
    }
    for (let i = 0, j = events.length; i < j; i++) {
      const nativeEvent2 = events[i];
      const federatedEvent = this.bootstrapEvent(this.rootPointerEvent, nativeEvent2);
      this.rootBoundary.mapEvent(federatedEvent);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onPointerMove(nativeEvent) {
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    const normalizedEvents = this.normalizeToPointerData(nativeEvent);
    for (let i = 0, j = normalizedEvents.length; i < j; i++) {
      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i]);
      this.rootBoundary.mapEvent(event);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onPointerUp(nativeEvent) {
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    let target = nativeEvent.target;
    if (nativeEvent.composedPath && nativeEvent.composedPath().length > 0) {
      target = nativeEvent.composedPath()[0];
    }
    const outside = target !== this.domElement ? "outside" : "";
    const normalizedEvents = this.normalizeToPointerData(nativeEvent);
    for (let i = 0, j = normalizedEvents.length; i < j; i++) {
      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i]);
      event.type += outside;
      this.rootBoundary.mapEvent(event);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onPointerOverOut(nativeEvent) {
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    const normalizedEvents = this.normalizeToPointerData(nativeEvent);
    for (let i = 0, j = normalizedEvents.length; i < j; i++) {
      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i]);
      this.rootBoundary.mapEvent(event);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onWheel(nativeEvent) {
    const wheelEvent = this.normalizeWheelEvent(nativeEvent);
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    this.rootBoundary.mapEvent(wheelEvent);
  }
  setTargetElement(element) {
    this.removeEvents();
    this.domElement = element;
    this.addEvents();
  }
  addEvents() {
    if (this.eventsAdded || !this.domElement) {
      return;
    }
    const style = this.domElement.style;
    if (style) {
      if (globalThis.navigator.msPointerEnabled) {
        style.msContentZooming = "none";
        style.msTouchAction = "none";
      } else if (this.supportsPointerEvents) {
        style.touchAction = "none";
      }
    }
    if (this.supportsPointerEvents) {
      globalThis.document.addEventListener("pointermove", this.onPointerMove, true);
      this.domElement.addEventListener("pointerdown", this.onPointerDown, true);
      this.domElement.addEventListener("pointerleave", this.onPointerOverOut, true);
      this.domElement.addEventListener("pointerover", this.onPointerOverOut, true);
      globalThis.addEventListener("pointerup", this.onPointerUp, true);
    } else {
      globalThis.document.addEventListener("mousemove", this.onPointerMove, true);
      this.domElement.addEventListener("mousedown", this.onPointerDown, true);
      this.domElement.addEventListener("mouseout", this.onPointerOverOut, true);
      this.domElement.addEventListener("mouseover", this.onPointerOverOut, true);
      globalThis.addEventListener("mouseup", this.onPointerUp, true);
    }
    if (this.supportsTouchEvents) {
      this.domElement.addEventListener("touchstart", this.onPointerDown, true);
      this.domElement.addEventListener("touchend", this.onPointerUp, true);
      this.domElement.addEventListener("touchmove", this.onPointerMove, true);
    }
    this.domElement.addEventListener("wheel", this.onWheel, {
      passive: true,
      capture: true
    });
    this.eventsAdded = true;
  }
  removeEvents() {
    if (!this.eventsAdded || !this.domElement) {
      return;
    }
    const style = this.domElement.style;
    if (globalThis.navigator.msPointerEnabled) {
      style.msContentZooming = "";
      style.msTouchAction = "";
    } else if (this.supportsPointerEvents) {
      style.touchAction = "";
    }
    if (this.supportsPointerEvents) {
      globalThis.document.removeEventListener("pointermove", this.onPointerMove, true);
      this.domElement.removeEventListener("pointerdown", this.onPointerDown, true);
      this.domElement.removeEventListener("pointerleave", this.onPointerOverOut, true);
      this.domElement.removeEventListener("pointerover", this.onPointerOverOut, true);
      globalThis.removeEventListener("pointerup", this.onPointerUp, true);
    } else {
      globalThis.document.removeEventListener("mousemove", this.onPointerMove, true);
      this.domElement.removeEventListener("mousedown", this.onPointerDown, true);
      this.domElement.removeEventListener("mouseout", this.onPointerOverOut, true);
      this.domElement.removeEventListener("mouseover", this.onPointerOverOut, true);
      globalThis.removeEventListener("mouseup", this.onPointerUp, true);
    }
    if (this.supportsTouchEvents) {
      this.domElement.removeEventListener("touchstart", this.onPointerDown, true);
      this.domElement.removeEventListener("touchend", this.onPointerUp, true);
      this.domElement.removeEventListener("touchmove", this.onPointerMove, true);
    }
    this.domElement.removeEventListener("wheel", this.onWheel, true);
    this.domElement = null;
    this.eventsAdded = false;
  }
  mapPositionToPoint(point, x, y) {
    let rect;
    if (!this.domElement.parentElement) {
      rect = {
        x: 0,
        y: 0,
        width: this.domElement.width,
        height: this.domElement.height,
        left: 0,
        top: 0
      };
    } else {
      rect = this.domElement.getBoundingClientRect();
    }
    const resolutionMultiplier = 1 / this.resolution;
    point.x = (x - rect.left) * (this.domElement.width / rect.width) * resolutionMultiplier;
    point.y = (y - rect.top) * (this.domElement.height / rect.height) * resolutionMultiplier;
  }
  normalizeToPointerData(event) {
    const normalizedEvents = [];
    if (this.supportsTouchEvents && event instanceof TouchEvent) {
      for (let i = 0, li = event.changedTouches.length; i < li; i++) {
        const touch = event.changedTouches[i];
        if (typeof touch.button === "undefined")
          touch.button = 0;
        if (typeof touch.buttons === "undefined")
          touch.buttons = 1;
        if (typeof touch.isPrimary === "undefined") {
          touch.isPrimary = event.touches.length === 1 && event.type === "touchstart";
        }
        if (typeof touch.width === "undefined")
          touch.width = touch.radiusX || 1;
        if (typeof touch.height === "undefined")
          touch.height = touch.radiusY || 1;
        if (typeof touch.tiltX === "undefined")
          touch.tiltX = 0;
        if (typeof touch.tiltY === "undefined")
          touch.tiltY = 0;
        if (typeof touch.pointerType === "undefined")
          touch.pointerType = "touch";
        if (typeof touch.pointerId === "undefined")
          touch.pointerId = touch.identifier || 0;
        if (typeof touch.pressure === "undefined")
          touch.pressure = touch.force || 0.5;
        if (typeof touch.twist === "undefined")
          touch.twist = 0;
        if (typeof touch.tangentialPressure === "undefined")
          touch.tangentialPressure = 0;
        if (typeof touch.layerX === "undefined")
          touch.layerX = touch.offsetX = touch.clientX;
        if (typeof touch.layerY === "undefined")
          touch.layerY = touch.offsetY = touch.clientY;
        touch.isNormalized = true;
        touch.type = event.type;
        normalizedEvents.push(touch);
      }
    } else if (!globalThis.MouseEvent || event instanceof MouseEvent && (!this.supportsPointerEvents || !(event instanceof globalThis.PointerEvent))) {
      const tempEvent = event;
      if (typeof tempEvent.isPrimary === "undefined")
        tempEvent.isPrimary = true;
      if (typeof tempEvent.width === "undefined")
        tempEvent.width = 1;
      if (typeof tempEvent.height === "undefined")
        tempEvent.height = 1;
      if (typeof tempEvent.tiltX === "undefined")
        tempEvent.tiltX = 0;
      if (typeof tempEvent.tiltY === "undefined")
        tempEvent.tiltY = 0;
      if (typeof tempEvent.pointerType === "undefined")
        tempEvent.pointerType = "mouse";
      if (typeof tempEvent.pointerId === "undefined")
        tempEvent.pointerId = MOUSE_POINTER_ID;
      if (typeof tempEvent.pressure === "undefined")
        tempEvent.pressure = 0.5;
      if (typeof tempEvent.twist === "undefined")
        tempEvent.twist = 0;
      if (typeof tempEvent.tangentialPressure === "undefined")
        tempEvent.tangentialPressure = 0;
      tempEvent.isNormalized = true;
      normalizedEvents.push(tempEvent);
    } else {
      normalizedEvents.push(event);
    }
    return normalizedEvents;
  }
  normalizeWheelEvent(nativeEvent) {
    const event = this.rootWheelEvent;
    this.transferMouseData(event, nativeEvent);
    event.deltaMode = nativeEvent.deltaMode;
    event.deltaX = nativeEvent.deltaX;
    event.deltaY = nativeEvent.deltaY;
    event.deltaZ = nativeEvent.deltaZ;
    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);
    event.global.copyFrom(event.screen);
    event.offset.copyFrom(event.screen);
    event.nativeEvent = nativeEvent;
    event.type = nativeEvent.type;
    return event;
  }
  bootstrapEvent(event, nativeEvent) {
    event.originalEvent = null;
    event.nativeEvent = nativeEvent;
    event.pointerId = nativeEvent.pointerId;
    event.width = nativeEvent.width;
    event.height = nativeEvent.height;
    event.isPrimary = nativeEvent.isPrimary;
    event.pointerType = nativeEvent.pointerType;
    event.pressure = nativeEvent.pressure;
    event.tangentialPressure = nativeEvent.tangentialPressure;
    event.tiltX = nativeEvent.tiltX;
    event.tiltY = nativeEvent.tiltY;
    event.twist = nativeEvent.twist;
    this.transferMouseData(event, nativeEvent);
    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);
    event.global.copyFrom(event.screen);
    event.offset.copyFrom(event.screen);
    event.isTrusted = nativeEvent.isTrusted;
    if (event.type === "pointerleave") {
      event.type = "pointerout";
    }
    if (event.type.startsWith("mouse")) {
      event.type = event.type.replace("mouse", "pointer");
    }
    if (event.type.startsWith("touch")) {
      event.type = TOUCH_TO_POINTER[event.type] || event.type;
    }
    return event;
  }
  transferMouseData(event, nativeEvent) {
    event.isTrusted = nativeEvent.isTrusted;
    event.srcElement = nativeEvent.srcElement;
    event.timeStamp = performance.now();
    event.type = nativeEvent.type;
    event.altKey = nativeEvent.altKey;
    event.button = nativeEvent.button;
    event.buttons = nativeEvent.buttons;
    event.client.x = nativeEvent.clientX;
    event.client.y = nativeEvent.clientY;
    event.ctrlKey = nativeEvent.ctrlKey;
    event.metaKey = nativeEvent.metaKey;
    event.movement.x = nativeEvent.movementX;
    event.movement.y = nativeEvent.movementY;
    event.page.x = nativeEvent.pageX;
    event.page.y = nativeEvent.pageY;
    event.relatedTarget = null;
    event.shiftKey = nativeEvent.shiftKey;
  }
}
EventSystem.extension = {
  name: "events",
  type: [
    _pixi_core__WEBPACK_IMPORTED_MODULE_3__.ExtensionType.RendererSystem,
    _pixi_core__WEBPACK_IMPORTED_MODULE_3__.ExtensionType.CanvasRendererSystem
  ]
};
_pixi_core__WEBPACK_IMPORTED_MODULE_3__.extensions.add(EventSystem);


//# sourceMappingURL=EventSystem.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedEvent.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedEvent.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FederatedEvent": () => (/* binding */ FederatedEvent)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class FederatedEvent {
  constructor(manager) {
    this.bubbles = true;
    this.cancelBubble = true;
    this.cancelable = false;
    this.composed = false;
    this.defaultPrevented = false;
    this.eventPhase = FederatedEvent.prototype.NONE;
    this.propagationStopped = false;
    this.propagationImmediatelyStopped = false;
    this.layer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
    this.page = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
    this.AT_TARGET = 1;
    this.BUBBLING_PHASE = 2;
    this.CAPTURING_PHASE = 3;
    this.NONE = 0;
    this.manager = manager;
  }
  get layerX() {
    return this.layer.x;
  }
  get layerY() {
    return this.layer.y;
  }
  get pageX() {
    return this.page.x;
  }
  get pageY() {
    return this.page.y;
  }
  get data() {
    return this;
  }
  composedPath() {
    if (this.manager && (!this.path || this.path[this.path.length - 1] !== this.target)) {
      this.path = this.target ? this.manager.propagationPath(this.target) : [];
    }
    return this.path;
  }
  initEvent(_type, _bubbles, _cancelable) {
    throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.");
  }
  initUIEvent(_typeArg, _bubblesArg, _cancelableArg, _viewArg, _detailArg) {
    throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.");
  }
  preventDefault() {
    if (this.nativeEvent instanceof Event && this.nativeEvent.cancelable) {
      this.nativeEvent.preventDefault();
    }
    this.defaultPrevented = true;
  }
  stopImmediatePropagation() {
    this.propagationImmediatelyStopped = true;
  }
  stopPropagation() {
    this.propagationStopped = true;
  }
}


//# sourceMappingURL=FederatedEvent.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedEventMap.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedEventMap.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=FederatedEventMap.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedEventTarget.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedEventTarget.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FederatedDisplayObject": () => (/* binding */ FederatedDisplayObject)
/* harmony export */ });
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FederatedEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedEvent.mjs");



const FederatedDisplayObject = {
  interactive: false,
  interactiveChildren: true,
  hitArea: null,
  addEventListener(type, listener, options) {
    const capture = typeof options === "boolean" && options || typeof options === "object" && options.capture;
    const context = typeof listener === "function" ? void 0 : listener;
    type = capture ? `${type}capture` : type;
    listener = typeof listener === "function" ? listener : listener.handleEvent;
    this.on(type, listener, context);
  },
  removeEventListener(type, listener, options) {
    const capture = typeof options === "boolean" && options || typeof options === "object" && options.capture;
    const context = typeof listener === "function" ? void 0 : listener;
    type = capture ? `${type}capture` : type;
    listener = typeof listener === "function" ? listener : listener.handleEvent;
    this.off(type, listener, context);
  },
  dispatchEvent(e) {
    if (!(e instanceof _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.FederatedEvent)) {
      throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");
    }
    e.defaultPrevented = false;
    e.path = null;
    e.target = this;
    e.manager.dispatchEvent(e);
    return !e.defaultPrevented;
  }
};
_pixi_display__WEBPACK_IMPORTED_MODULE_0__.DisplayObject.mixin(FederatedDisplayObject);


//# sourceMappingURL=FederatedEventTarget.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FederatedMouseEvent": () => (/* binding */ FederatedMouseEvent)
/* harmony export */ });
/* harmony import */ var _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FederatedEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedEvent.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");



class FederatedMouseEvent extends _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.FederatedEvent {
  constructor() {
    super(...arguments);
    this.client = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Point();
    this.movement = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Point();
    this.offset = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Point();
    this.global = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Point();
    this.screen = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Point();
  }
  get clientX() {
    return this.client.x;
  }
  get clientY() {
    return this.client.y;
  }
  get x() {
    return this.clientX;
  }
  get y() {
    return this.clientY;
  }
  get movementX() {
    return this.movement.x;
  }
  get movementY() {
    return this.movement.y;
  }
  get offsetX() {
    return this.offset.x;
  }
  get offsetY() {
    return this.offset.y;
  }
  get globalX() {
    return this.global.x;
  }
  get globalY() {
    return this.global.y;
  }
  get screenX() {
    return this.screen.x;
  }
  get screenY() {
    return this.screen.y;
  }
  getModifierState(key) {
    return "getModifierState" in this.nativeEvent && this.nativeEvent.getModifierState(key);
  }
  initMouseEvent(_typeArg, _canBubbleArg, _cancelableArg, _viewArg, _detailArg, _screenXArg, _screenYArg, _clientXArg, _clientYArg, _ctrlKeyArg, _altKeyArg, _shiftKeyArg, _metaKeyArg, _buttonArg, _relatedTargetArg) {
    throw new Error("Method not implemented.");
  }
}


//# sourceMappingURL=FederatedMouseEvent.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FederatedPointerEvent": () => (/* binding */ FederatedPointerEvent)
/* harmony export */ });
/* harmony import */ var _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FederatedMouseEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs");


class FederatedPointerEvent extends _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.FederatedMouseEvent {
  constructor() {
    super(...arguments);
    this.width = 0;
    this.height = 0;
    this.isPrimary = false;
  }
  getCoalescedEvents() {
    if (this.type === "pointermove" || this.type === "mousemove" || this.type === "touchmove") {
      return [this];
    }
    return [];
  }
  getPredictedEvents() {
    throw new Error("getPredictedEvents is not supported!");
  }
}


//# sourceMappingURL=FederatedPointerEvent.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FederatedWheelEvent": () => (/* binding */ FederatedWheelEvent)
/* harmony export */ });
/* harmony import */ var _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FederatedMouseEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs");


class FederatedWheelEvent extends _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.FederatedMouseEvent {
  constructor() {
    super(...arguments);
    this.DOM_DELTA_LINE = 0;
    this.DOM_DELTA_PAGE = 1;
    this.DOM_DELTA_PIXEL = 2;
  }
}


//# sourceMappingURL=FederatedWheelEvent.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/events/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/events/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventBoundary": () => (/* reexport safe */ _EventBoundary_mjs__WEBPACK_IMPORTED_MODULE_0__.EventBoundary),
/* harmony export */   "EventSystem": () => (/* reexport safe */ _EventSystem_mjs__WEBPACK_IMPORTED_MODULE_1__.EventSystem),
/* harmony export */   "FederatedDisplayObject": () => (/* reexport safe */ _FederatedEventTarget_mjs__WEBPACK_IMPORTED_MODULE_4__.FederatedDisplayObject),
/* harmony export */   "FederatedEvent": () => (/* reexport safe */ _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_2__.FederatedEvent),
/* harmony export */   "FederatedMouseEvent": () => (/* reexport safe */ _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_5__.FederatedMouseEvent),
/* harmony export */   "FederatedPointerEvent": () => (/* reexport safe */ _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_6__.FederatedPointerEvent),
/* harmony export */   "FederatedWheelEvent": () => (/* reexport safe */ _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.FederatedWheelEvent)
/* harmony export */ });
/* harmony import */ var _EventBoundary_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventBoundary.mjs */ "./node_modules/@pixi/events/lib/EventBoundary.mjs");
/* harmony import */ var _EventSystem_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventSystem.mjs */ "./node_modules/@pixi/events/lib/EventSystem.mjs");
/* harmony import */ var _FederatedEvent_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FederatedEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedEvent.mjs");
/* harmony import */ var _FederatedEventMap_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FederatedEventMap.mjs */ "./node_modules/@pixi/events/lib/FederatedEventMap.mjs");
/* harmony import */ var _FederatedEventTarget_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FederatedEventTarget.mjs */ "./node_modules/@pixi/events/lib/FederatedEventTarget.mjs");
/* harmony import */ var _FederatedMouseEvent_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FederatedMouseEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs");
/* harmony import */ var _FederatedPointerEvent_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FederatedPointerEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs");
/* harmony import */ var _FederatedWheelEvent_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FederatedWheelEvent.mjs */ "./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs");








//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/extensions/lib/index.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/extensions/lib/index.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExtensionType": () => (/* binding */ ExtensionType),
/* harmony export */   "extensions": () => (/* binding */ extensions)
/* harmony export */ });
var ExtensionType = /* @__PURE__ */ ((ExtensionType2) => {
  ExtensionType2["Renderer"] = "renderer";
  ExtensionType2["Application"] = "application";
  ExtensionType2["RendererSystem"] = "renderer-webgl-system";
  ExtensionType2["RendererPlugin"] = "renderer-webgl-plugin";
  ExtensionType2["CanvasRendererSystem"] = "renderer-canvas-system";
  ExtensionType2["CanvasRendererPlugin"] = "renderer-canvas-plugin";
  ExtensionType2["Asset"] = "asset";
  ExtensionType2["LoadParser"] = "load-parser";
  ExtensionType2["ResolveParser"] = "resolve-parser";
  ExtensionType2["CacheParser"] = "cache-parser";
  ExtensionType2["DetectionParser"] = "detection-parser";
  return ExtensionType2;
})(ExtensionType || {});
const normalizeExtension = (ext) => {
  if (typeof ext === "function" || typeof ext === "object" && ext.extension) {
    if (!ext.extension) {
      throw new Error("Extension class must have an extension object");
    }
    const metadata = typeof ext.extension !== "object" ? { type: ext.extension } : ext.extension;
    ext = { ...metadata, ref: ext };
  }
  if (typeof ext === "object") {
    ext = { ...ext };
  } else {
    throw new Error("Invalid extension type");
  }
  if (typeof ext.type === "string") {
    ext.type = [ext.type];
  }
  return ext;
};
const normalizePriority = (ext, defaultPriority) => normalizeExtension(ext).priority ?? defaultPriority;
const extensions = {
  _addHandlers: {},
  _removeHandlers: {},
  _queue: {},
  remove(...extensions2) {
    extensions2.map(normalizeExtension).forEach((ext) => {
      ext.type.forEach((type) => this._removeHandlers[type]?.(ext));
    });
    return this;
  },
  add(...extensions2) {
    extensions2.map(normalizeExtension).forEach((ext) => {
      ext.type.forEach((type) => {
        const handlers = this._addHandlers;
        const queue = this._queue;
        if (!handlers[type]) {
          queue[type] = queue[type] || [];
          queue[type].push(ext);
        } else {
          handlers[type](ext);
        }
      });
    });
    return this;
  },
  handle(type, onAdd, onRemove) {
    const addHandlers = this._addHandlers;
    const removeHandlers = this._removeHandlers;
    if (addHandlers[type] || removeHandlers[type]) {
      throw new Error(`Extension type ${type} already has a handler`);
    }
    addHandlers[type] = onAdd;
    removeHandlers[type] = onRemove;
    const queue = this._queue;
    if (queue[type]) {
      queue[type].forEach((ext) => onAdd(ext));
      delete queue[type];
    }
    return this;
  },
  handleByMap(type, map) {
    return this.handle(type, (extension) => {
      map[extension.name] = extension.ref;
    }, (extension) => {
      delete map[extension.name];
    });
  },
  handleByList(type, list, defaultPriority = -1) {
    return this.handle(type, (extension) => {
      if (list.includes(extension.ref)) {
        return;
      }
      list.push(extension.ref);
      list.sort((a, b) => normalizePriority(b, defaultPriority) - normalizePriority(a, defaultPriority));
    }, (extension) => {
      const index = list.indexOf(extension.ref);
      if (index !== -1) {
        list.splice(index, 1);
      }
    });
  }
};


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/extract/lib/Extract.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/extract/lib/Extract.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Extract": () => (/* binding */ Extract)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const TEMP_RECT = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
const BYTES_PER_PIXEL = 4;
const _Extract = class {
  constructor(renderer) {
    this.renderer = renderer;
  }
  async image(target, format, quality) {
    const image = new Image();
    image.src = await this.base64(target, format, quality);
    return image;
  }
  async base64(target, format, quality) {
    const canvas = this.canvas(target);
    if (canvas.toDataURL !== void 0) {
      return canvas.toDataURL(format, quality);
    }
    if (canvas.convertToBlob !== void 0) {
      const blob = await canvas.convertToBlob({ type: format, quality });
      return await new Promise((resolve) => {
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result);
        reader.readAsDataURL(blob);
      });
    }
    throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented");
  }
  canvas(target, frame) {
    const renderer = this.renderer;
    let resolution;
    let flipY = false;
    let renderTexture;
    let generated = false;
    if (target) {
      if (target instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RenderTexture) {
        renderTexture = target;
      } else {
        renderTexture = this.renderer.generateTexture(target);
        generated = true;
      }
    }
    if (renderTexture) {
      resolution = renderTexture.baseTexture.resolution;
      frame = frame ?? renderTexture.frame;
      flipY = false;
      renderer.renderTexture.bind(renderTexture);
    } else {
      resolution = renderer.resolution;
      if (!frame) {
        frame = TEMP_RECT;
        frame.width = renderer.width;
        frame.height = renderer.height;
      }
      flipY = true;
      renderer.renderTexture.bind(null);
    }
    const width = Math.round(frame.width * resolution);
    const height = Math.round(frame.height * resolution);
    let canvasBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.CanvasRenderTarget(width, height, 1);
    const webglPixels = new Uint8Array(BYTES_PER_PIXEL * width * height);
    const gl = renderer.gl;
    gl.readPixels(Math.round(frame.x * resolution), Math.round(frame.y * resolution), width, height, gl.RGBA, gl.UNSIGNED_BYTE, webglPixels);
    const canvasData = canvasBuffer.context.getImageData(0, 0, width, height);
    _Extract.arrayPostDivide(webglPixels, canvasData.data);
    canvasBuffer.context.putImageData(canvasData, 0, 0);
    if (flipY) {
      const target2 = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.CanvasRenderTarget(canvasBuffer.width, canvasBuffer.height, 1);
      target2.context.scale(1, -1);
      target2.context.drawImage(canvasBuffer.canvas, 0, -height);
      canvasBuffer.destroy();
      canvasBuffer = target2;
    }
    if (generated) {
      renderTexture.destroy(true);
    }
    return canvasBuffer.canvas;
  }
  pixels(target, frame) {
    const renderer = this.renderer;
    let resolution;
    let renderTexture;
    let generated = false;
    if (target) {
      if (target instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RenderTexture) {
        renderTexture = target;
      } else {
        renderTexture = this.renderer.generateTexture(target);
        generated = true;
      }
    }
    if (renderTexture) {
      resolution = renderTexture.baseTexture.resolution;
      frame = frame ?? renderTexture.frame;
      renderer.renderTexture.bind(renderTexture);
    } else {
      resolution = renderer.resolution;
      if (!frame) {
        frame = TEMP_RECT;
        frame.width = renderer.width;
        frame.height = renderer.height;
      }
      renderer.renderTexture.bind(null);
    }
    const width = Math.round(frame.width * resolution);
    const height = Math.round(frame.height * resolution);
    const webglPixels = new Uint8Array(BYTES_PER_PIXEL * width * height);
    const gl = renderer.gl;
    gl.readPixels(Math.round(frame.x * resolution), Math.round(frame.y * resolution), width, height, gl.RGBA, gl.UNSIGNED_BYTE, webglPixels);
    if (generated) {
      renderTexture.destroy(true);
    }
    _Extract.arrayPostDivide(webglPixels, webglPixels);
    return webglPixels;
  }
  destroy() {
    this.renderer = null;
  }
  static arrayPostDivide(pixels, out) {
    for (let i = 0; i < pixels.length; i += 4) {
      const alpha = out[i + 3] = pixels[i + 3];
      if (alpha !== 0) {
        out[i] = Math.round(Math.min(pixels[i] * 255 / alpha, 255));
        out[i + 1] = Math.round(Math.min(pixels[i + 1] * 255 / alpha, 255));
        out[i + 2] = Math.round(Math.min(pixels[i + 2] * 255 / alpha, 255));
      } else {
        out[i] = pixels[i];
        out[i + 1] = pixels[i + 1];
        out[i + 2] = pixels[i + 2];
      }
    }
  }
};
let Extract = _Extract;
Extract.extension = {
  name: "extract",
  type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(Extract);


//# sourceMappingURL=Extract.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/extract/lib/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/extract/lib/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Extract": () => (/* reexport safe */ _Extract_mjs__WEBPACK_IMPORTED_MODULE_0__.Extract)
/* harmony export */ });
/* harmony import */ var _Extract_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Extract.mjs */ "./node_modules/@pixi/extract/lib/Extract.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-alpha/lib/AlphaFilter.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/filter-alpha/lib/AlphaFilter.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AlphaFilter": () => (/* binding */ AlphaFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _alpha_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./alpha.mjs */ "./node_modules/@pixi/filter-alpha/lib/alpha.mjs");



class AlphaFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(alpha = 1) {
    super(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.defaultVertex, _alpha_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], { uAlpha: 1 });
    this.alpha = alpha;
  }
  get alpha() {
    return this.uniforms.uAlpha;
  }
  set alpha(value) {
    this.uniforms.uAlpha = value;
  }
}


//# sourceMappingURL=AlphaFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-alpha/lib/alpha.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/filter-alpha/lib/alpha.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";


//# sourceMappingURL=alpha.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-alpha/lib/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/filter-alpha/lib/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AlphaFilter": () => (/* reexport safe */ _AlphaFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.AlphaFilter)
/* harmony export */ });
/* harmony import */ var _AlphaFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlphaFilter.mjs */ "./node_modules/@pixi/filter-alpha/lib/AlphaFilter.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-blur/lib/BlurFilter.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/filter-blur/lib/BlurFilter.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BlurFilter": () => (/* binding */ BlurFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _BlurFilterPass_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BlurFilterPass.mjs */ "./node_modules/@pixi/filter-blur/lib/BlurFilterPass.mjs");



class BlurFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(strength = 8, quality = 4, resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.FILTER_RESOLUTION, kernelSize = 5) {
    super();
    this.blurXFilter = new _BlurFilterPass_mjs__WEBPACK_IMPORTED_MODULE_1__.BlurFilterPass(true, strength, quality, resolution, kernelSize);
    this.blurYFilter = new _BlurFilterPass_mjs__WEBPACK_IMPORTED_MODULE_1__.BlurFilterPass(false, strength, quality, resolution, kernelSize);
    this.resolution = resolution;
    this.quality = quality;
    this.blur = strength;
    this.repeatEdgePixels = false;
  }
  apply(filterManager, input, output, clearMode) {
    const xStrength = Math.abs(this.blurXFilter.strength);
    const yStrength = Math.abs(this.blurYFilter.strength);
    if (xStrength && yStrength) {
      const renderTarget = filterManager.getFilterTexture();
      this.blurXFilter.apply(filterManager, input, renderTarget, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.CLEAR);
      this.blurYFilter.apply(filterManager, renderTarget, output, clearMode);
      filterManager.returnFilterTexture(renderTarget);
    } else if (yStrength) {
      this.blurYFilter.apply(filterManager, input, output, clearMode);
    } else {
      this.blurXFilter.apply(filterManager, input, output, clearMode);
    }
  }
  updatePadding() {
    if (this._repeatEdgePixels) {
      this.padding = 0;
    } else {
      this.padding = Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) * 2;
    }
  }
  get blur() {
    return this.blurXFilter.blur;
  }
  set blur(value) {
    this.blurXFilter.blur = this.blurYFilter.blur = value;
    this.updatePadding();
  }
  get quality() {
    return this.blurXFilter.quality;
  }
  set quality(value) {
    this.blurXFilter.quality = this.blurYFilter.quality = value;
  }
  get blurX() {
    return this.blurXFilter.blur;
  }
  set blurX(value) {
    this.blurXFilter.blur = value;
    this.updatePadding();
  }
  get blurY() {
    return this.blurYFilter.blur;
  }
  set blurY(value) {
    this.blurYFilter.blur = value;
    this.updatePadding();
  }
  get blendMode() {
    return this.blurYFilter.blendMode;
  }
  set blendMode(value) {
    this.blurYFilter.blendMode = value;
  }
  get repeatEdgePixels() {
    return this._repeatEdgePixels;
  }
  set repeatEdgePixels(value) {
    this._repeatEdgePixels = value;
    this.updatePadding();
  }
}


//# sourceMappingURL=BlurFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-blur/lib/BlurFilterPass.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/filter-blur/lib/BlurFilterPass.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BlurFilterPass": () => (/* binding */ BlurFilterPass)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _generateBlurVertSource_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./generateBlurVertSource.mjs */ "./node_modules/@pixi/filter-blur/lib/generateBlurVertSource.mjs");
/* harmony import */ var _generateBlurFragSource_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./generateBlurFragSource.mjs */ "./node_modules/@pixi/filter-blur/lib/generateBlurFragSource.mjs");




class BlurFilterPass extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(horizontal, strength = 8, quality = 4, resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.FILTER_RESOLUTION, kernelSize = 5) {
    const vertSrc = (0,_generateBlurVertSource_mjs__WEBPACK_IMPORTED_MODULE_1__.generateBlurVertSource)(kernelSize, horizontal);
    const fragSrc = (0,_generateBlurFragSource_mjs__WEBPACK_IMPORTED_MODULE_2__.generateBlurFragSource)(kernelSize);
    super(vertSrc, fragSrc);
    this.horizontal = horizontal;
    this.resolution = resolution;
    this._quality = 0;
    this.quality = quality;
    this.blur = strength;
  }
  apply(filterManager, input, output, clearMode) {
    if (output) {
      if (this.horizontal) {
        this.uniforms.strength = 1 / output.width * (output.width / input.width);
      } else {
        this.uniforms.strength = 1 / output.height * (output.height / input.height);
      }
    } else {
      if (this.horizontal) {
        this.uniforms.strength = 1 / filterManager.renderer.width * (filterManager.renderer.width / input.width);
      } else {
        this.uniforms.strength = 1 / filterManager.renderer.height * (filterManager.renderer.height / input.height);
      }
    }
    this.uniforms.strength *= this.strength;
    this.uniforms.strength /= this.passes;
    if (this.passes === 1) {
      filterManager.applyFilter(this, input, output, clearMode);
    } else {
      const renderTarget = filterManager.getFilterTexture();
      const renderer = filterManager.renderer;
      let flip = input;
      let flop = renderTarget;
      this.state.blend = false;
      filterManager.applyFilter(this, flip, flop, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.CLEAR);
      for (let i = 1; i < this.passes - 1; i++) {
        filterManager.bindAndClear(flip, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.CLEAR_MODES.BLIT);
        this.uniforms.uSampler = flop;
        const temp = flop;
        flop = flip;
        flip = temp;
        renderer.shader.bind(this);
        renderer.geometry.draw(5);
      }
      this.state.blend = true;
      filterManager.applyFilter(this, flop, output, clearMode);
      filterManager.returnFilterTexture(renderTarget);
    }
  }
  get blur() {
    return this.strength;
  }
  set blur(value) {
    this.padding = 1 + Math.abs(value) * 2;
    this.strength = value;
  }
  get quality() {
    return this._quality;
  }
  set quality(value) {
    this._quality = value;
    this.passes = value;
  }
}


//# sourceMappingURL=BlurFilterPass.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-blur/lib/generateBlurFragSource.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/filter-blur/lib/generateBlurFragSource.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "generateBlurFragSource": () => (/* binding */ generateBlurFragSource)
/* harmony export */ });
const GAUSSIAN_VALUES = {
  5: [0.153388, 0.221461, 0.250301],
  7: [0.071303, 0.131514, 0.189879, 0.214607],
  9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],
  11: [93e-4, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],
  13: [2406e-6, 9255e-6, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],
  15: [489e-6, 2403e-6, 9246e-6, 0.02784, 0.065602, 0.120999, 0.174697, 0.197448]
};
const fragTemplate = [
  "varying vec2 vBlurTexCoords[%size%];",
  "uniform sampler2D uSampler;",
  "void main(void)",
  "{",
  "    gl_FragColor = vec4(0.0);",
  "    %blur%",
  "}"
].join("\n");
function generateBlurFragSource(kernelSize) {
  const kernel = GAUSSIAN_VALUES[kernelSize];
  const halfLength = kernel.length;
  let fragSource = fragTemplate;
  let blurLoop = "";
  const template = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";
  let value;
  for (let i = 0; i < kernelSize; i++) {
    let blur = template.replace("%index%", i.toString());
    value = i;
    if (i >= halfLength) {
      value = kernelSize - i - 1;
    }
    blur = blur.replace("%value%", kernel[value].toString());
    blurLoop += blur;
    blurLoop += "\n";
  }
  fragSource = fragSource.replace("%blur%", blurLoop);
  fragSource = fragSource.replace("%size%", kernelSize.toString());
  return fragSource;
}


//# sourceMappingURL=generateBlurFragSource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-blur/lib/generateBlurVertSource.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/filter-blur/lib/generateBlurVertSource.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "generateBlurVertSource": () => (/* binding */ generateBlurVertSource)
/* harmony export */ });
const vertTemplate = `
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;
function generateBlurVertSource(kernelSize, x) {
  const halfLength = Math.ceil(kernelSize / 2);
  let vertSource = vertTemplate;
  let blurLoop = "";
  let template;
  if (x) {
    template = "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);";
  } else {
    template = "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";
  }
  for (let i = 0; i < kernelSize; i++) {
    let blur = template.replace("%index%", i.toString());
    blur = blur.replace("%sampleIndex%", `${i - (halfLength - 1)}.0`);
    blurLoop += blur;
    blurLoop += "\n";
  }
  vertSource = vertSource.replace("%blur%", blurLoop);
  vertSource = vertSource.replace("%size%", kernelSize.toString());
  return vertSource;
}


//# sourceMappingURL=generateBlurVertSource.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-blur/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/filter-blur/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BlurFilter": () => (/* reexport safe */ _BlurFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.BlurFilter),
/* harmony export */   "BlurFilterPass": () => (/* reexport safe */ _BlurFilterPass_mjs__WEBPACK_IMPORTED_MODULE_1__.BlurFilterPass)
/* harmony export */ });
/* harmony import */ var _BlurFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BlurFilter.mjs */ "./node_modules/@pixi/filter-blur/lib/BlurFilter.mjs");
/* harmony import */ var _BlurFilterPass_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BlurFilterPass.mjs */ "./node_modules/@pixi/filter-blur/lib/BlurFilterPass.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-color-matrix/lib/ColorMatrixFilter.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/filter-color-matrix/lib/ColorMatrixFilter.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ColorMatrixFilter": () => (/* binding */ ColorMatrixFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _colorMatrix_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./colorMatrix.mjs */ "./node_modules/@pixi/filter-color-matrix/lib/colorMatrix.mjs");



class ColorMatrixFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor() {
    const uniforms = {
      m: new Float32Array([
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ]),
      uAlpha: 1
    };
    super(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.defaultFilterVertex, _colorMatrix_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], uniforms);
    this.alpha = 1;
  }
  _loadMatrix(matrix, multiply = false) {
    let newMatrix = matrix;
    if (multiply) {
      this._multiply(newMatrix, this.uniforms.m, matrix);
      newMatrix = this._colorMatrix(newMatrix);
    }
    this.uniforms.m = newMatrix;
  }
  _multiply(out, a, b) {
    out[0] = a[0] * b[0] + a[1] * b[5] + a[2] * b[10] + a[3] * b[15];
    out[1] = a[0] * b[1] + a[1] * b[6] + a[2] * b[11] + a[3] * b[16];
    out[2] = a[0] * b[2] + a[1] * b[7] + a[2] * b[12] + a[3] * b[17];
    out[3] = a[0] * b[3] + a[1] * b[8] + a[2] * b[13] + a[3] * b[18];
    out[4] = a[0] * b[4] + a[1] * b[9] + a[2] * b[14] + a[3] * b[19] + a[4];
    out[5] = a[5] * b[0] + a[6] * b[5] + a[7] * b[10] + a[8] * b[15];
    out[6] = a[5] * b[1] + a[6] * b[6] + a[7] * b[11] + a[8] * b[16];
    out[7] = a[5] * b[2] + a[6] * b[7] + a[7] * b[12] + a[8] * b[17];
    out[8] = a[5] * b[3] + a[6] * b[8] + a[7] * b[13] + a[8] * b[18];
    out[9] = a[5] * b[4] + a[6] * b[9] + a[7] * b[14] + a[8] * b[19] + a[9];
    out[10] = a[10] * b[0] + a[11] * b[5] + a[12] * b[10] + a[13] * b[15];
    out[11] = a[10] * b[1] + a[11] * b[6] + a[12] * b[11] + a[13] * b[16];
    out[12] = a[10] * b[2] + a[11] * b[7] + a[12] * b[12] + a[13] * b[17];
    out[13] = a[10] * b[3] + a[11] * b[8] + a[12] * b[13] + a[13] * b[18];
    out[14] = a[10] * b[4] + a[11] * b[9] + a[12] * b[14] + a[13] * b[19] + a[14];
    out[15] = a[15] * b[0] + a[16] * b[5] + a[17] * b[10] + a[18] * b[15];
    out[16] = a[15] * b[1] + a[16] * b[6] + a[17] * b[11] + a[18] * b[16];
    out[17] = a[15] * b[2] + a[16] * b[7] + a[17] * b[12] + a[18] * b[17];
    out[18] = a[15] * b[3] + a[16] * b[8] + a[17] * b[13] + a[18] * b[18];
    out[19] = a[15] * b[4] + a[16] * b[9] + a[17] * b[14] + a[18] * b[19] + a[19];
    return out;
  }
  _colorMatrix(matrix) {
    const m = new Float32Array(matrix);
    m[4] /= 255;
    m[9] /= 255;
    m[14] /= 255;
    m[19] /= 255;
    return m;
  }
  brightness(b, multiply) {
    const matrix = [
      b,
      0,
      0,
      0,
      0,
      0,
      b,
      0,
      0,
      0,
      0,
      0,
      b,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  tint(color, multiply) {
    const r = color >> 16 & 255;
    const g = color >> 8 & 255;
    const b = color & 255;
    const matrix = [
      r / 255,
      0,
      0,
      0,
      0,
      0,
      g / 255,
      0,
      0,
      0,
      0,
      0,
      b / 255,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  greyscale(scale, multiply) {
    const matrix = [
      scale,
      scale,
      scale,
      0,
      0,
      scale,
      scale,
      scale,
      0,
      0,
      scale,
      scale,
      scale,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  blackAndWhite(multiply) {
    const matrix = [
      0.3,
      0.6,
      0.1,
      0,
      0,
      0.3,
      0.6,
      0.1,
      0,
      0,
      0.3,
      0.6,
      0.1,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  hue(rotation, multiply) {
    rotation = (rotation || 0) / 180 * Math.PI;
    const cosR = Math.cos(rotation);
    const sinR = Math.sin(rotation);
    const sqrt = Math.sqrt;
    const w = 1 / 3;
    const sqrW = sqrt(w);
    const a00 = cosR + (1 - cosR) * w;
    const a01 = w * (1 - cosR) - sqrW * sinR;
    const a02 = w * (1 - cosR) + sqrW * sinR;
    const a10 = w * (1 - cosR) + sqrW * sinR;
    const a11 = cosR + w * (1 - cosR);
    const a12 = w * (1 - cosR) - sqrW * sinR;
    const a20 = w * (1 - cosR) - sqrW * sinR;
    const a21 = w * (1 - cosR) + sqrW * sinR;
    const a22 = cosR + w * (1 - cosR);
    const matrix = [
      a00,
      a01,
      a02,
      0,
      0,
      a10,
      a11,
      a12,
      0,
      0,
      a20,
      a21,
      a22,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  contrast(amount, multiply) {
    const v = (amount || 0) + 1;
    const o = -0.5 * (v - 1);
    const matrix = [
      v,
      0,
      0,
      0,
      o,
      0,
      v,
      0,
      0,
      o,
      0,
      0,
      v,
      0,
      o,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  saturate(amount = 0, multiply) {
    const x = amount * 2 / 3 + 1;
    const y = (x - 1) * -0.5;
    const matrix = [
      x,
      y,
      y,
      0,
      0,
      y,
      x,
      y,
      0,
      0,
      y,
      y,
      x,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  desaturate() {
    this.saturate(-1);
  }
  negative(multiply) {
    const matrix = [
      -1,
      0,
      0,
      1,
      0,
      0,
      -1,
      0,
      1,
      0,
      0,
      0,
      -1,
      1,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  sepia(multiply) {
    const matrix = [
      0.393,
      0.7689999,
      0.18899999,
      0,
      0,
      0.349,
      0.6859999,
      0.16799999,
      0,
      0,
      0.272,
      0.5339999,
      0.13099999,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  technicolor(multiply) {
    const matrix = [
      1.9125277891456083,
      -0.8545344976951645,
      -0.09155508482755585,
      0,
      11.793603434377337,
      -0.3087833385928097,
      1.7658908555458428,
      -0.10601743074722245,
      0,
      -70.35205161461398,
      -0.231103377548616,
      -0.7501899197440212,
      1.847597816108189,
      0,
      30.950940869491138,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  polaroid(multiply) {
    const matrix = [
      1.438,
      -0.062,
      -0.062,
      0,
      0,
      -0.122,
      1.378,
      -0.122,
      0,
      0,
      -0.016,
      -0.016,
      1.483,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  toBGR(multiply) {
    const matrix = [
      0,
      0,
      1,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  kodachrome(multiply) {
    const matrix = [
      1.1285582396593525,
      -0.3967382283601348,
      -0.03992559172921793,
      0,
      63.72958762196502,
      -0.16404339962244616,
      1.0835251566291304,
      -0.05498805115633132,
      0,
      24.732407896706203,
      -0.16786010706155763,
      -0.5603416277695248,
      1.6014850761964943,
      0,
      35.62982807460946,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  browni(multiply) {
    const matrix = [
      0.5997023498159715,
      0.34553243048391263,
      -0.2708298674538042,
      0,
      47.43192855600873,
      -0.037703249837783157,
      0.8609577587992641,
      0.15059552388459913,
      0,
      -36.96841498319127,
      0.24113635128153335,
      -0.07441037908422492,
      0.44972182064877153,
      0,
      -7.562075277591283,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  vintage(multiply) {
    const matrix = [
      0.6279345635605994,
      0.3202183420819367,
      -0.03965408211312453,
      0,
      9.651285835294123,
      0.02578397704808868,
      0.6441188644374771,
      0.03259127616149294,
      0,
      7.462829176470591,
      0.0466055556782719,
      -0.0851232987247891,
      0.5241648018700465,
      0,
      5.159190588235296,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  colorTone(desaturation, toned, lightColor, darkColor, multiply) {
    desaturation = desaturation || 0.2;
    toned = toned || 0.15;
    lightColor = lightColor || 16770432;
    darkColor = darkColor || 3375104;
    const lR = (lightColor >> 16 & 255) / 255;
    const lG = (lightColor >> 8 & 255) / 255;
    const lB = (lightColor & 255) / 255;
    const dR = (darkColor >> 16 & 255) / 255;
    const dG = (darkColor >> 8 & 255) / 255;
    const dB = (darkColor & 255) / 255;
    const matrix = [
      0.3,
      0.59,
      0.11,
      0,
      0,
      lR,
      lG,
      lB,
      desaturation,
      0,
      dR,
      dG,
      dB,
      toned,
      0,
      lR - dR,
      lG - dG,
      lB - dB,
      0,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  night(intensity, multiply) {
    intensity = intensity || 0.1;
    const matrix = [
      intensity * -2,
      -intensity,
      0,
      0,
      0,
      -intensity,
      0,
      intensity,
      0,
      0,
      0,
      intensity,
      intensity * 2,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  predator(amount, multiply) {
    const matrix = [
      11.224130630493164 * amount,
      -4.794486999511719 * amount,
      -2.8746118545532227 * amount,
      0 * amount,
      0.40342438220977783 * amount,
      -3.6330697536468506 * amount,
      9.193157196044922 * amount,
      -2.951810836791992 * amount,
      0 * amount,
      -1.316135048866272 * amount,
      -3.2184197902679443 * amount,
      -4.2375030517578125 * amount,
      7.476448059082031 * amount,
      0 * amount,
      0.8044459223747253 * amount,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  lsd(multiply) {
    const matrix = [
      2,
      -0.4,
      0.5,
      0,
      0,
      -0.5,
      2,
      -0.4,
      0,
      0,
      -0.4,
      -0.5,
      3,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  reset() {
    const matrix = [
      1,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, false);
  }
  get matrix() {
    return this.uniforms.m;
  }
  set matrix(value) {
    this.uniforms.m = value;
  }
  get alpha() {
    return this.uniforms.uAlpha;
  }
  set alpha(value) {
    this.uniforms.uAlpha = value;
  }
}
ColorMatrixFilter.prototype.grayscale = ColorMatrixFilter.prototype.greyscale;


//# sourceMappingURL=ColorMatrixFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-color-matrix/lib/colorMatrix.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@pixi/filter-color-matrix/lib/colorMatrix.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n";


//# sourceMappingURL=colorMatrix.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-color-matrix/lib/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/filter-color-matrix/lib/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ColorMatrixFilter": () => (/* reexport safe */ _ColorMatrixFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.ColorMatrixFilter)
/* harmony export */ });
/* harmony import */ var _ColorMatrixFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ColorMatrixFilter.mjs */ "./node_modules/@pixi/filter-color-matrix/lib/ColorMatrixFilter.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-displacement/lib/DisplacementFilter.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/filter-displacement/lib/DisplacementFilter.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplacementFilter": () => (/* binding */ DisplacementFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _displacement_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./displacement.mjs */ "./node_modules/@pixi/filter-displacement/lib/displacement.mjs");
/* harmony import */ var _displacement2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./displacement2.mjs */ "./node_modules/@pixi/filter-displacement/lib/displacement2.mjs");




class DisplacementFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(sprite, scale) {
    const maskMatrix = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    sprite.renderable = false;
    super(_displacement2_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], _displacement_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], {
      mapSampler: sprite._texture,
      filterMatrix: maskMatrix,
      scale: { x: 1, y: 1 },
      rotation: new Float32Array([1, 0, 0, 1])
    });
    this.maskSprite = sprite;
    this.maskMatrix = maskMatrix;
    if (scale === null || scale === void 0) {
      scale = 20;
    }
    this.scale = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point(scale, scale);
  }
  apply(filterManager, input, output, clearMode) {
    this.uniforms.filterMatrix = filterManager.calculateSpriteMatrix(this.maskMatrix, this.maskSprite);
    this.uniforms.scale.x = this.scale.x;
    this.uniforms.scale.y = this.scale.y;
    const wt = this.maskSprite.worldTransform;
    const lenX = Math.sqrt(wt.a * wt.a + wt.b * wt.b);
    const lenY = Math.sqrt(wt.c * wt.c + wt.d * wt.d);
    if (lenX !== 0 && lenY !== 0) {
      this.uniforms.rotation[0] = wt.a / lenX;
      this.uniforms.rotation[1] = wt.b / lenX;
      this.uniforms.rotation[2] = wt.c / lenY;
      this.uniforms.rotation[3] = wt.d / lenY;
    }
    filterManager.applyFilter(this, input, output, clearMode);
  }
  get map() {
    return this.uniforms.mapSampler;
  }
  set map(value) {
    this.uniforms.mapSampler = value;
  }
}


//# sourceMappingURL=DisplacementFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-displacement/lib/displacement.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/filter-displacement/lib/displacement.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n";


//# sourceMappingURL=displacement.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-displacement/lib/displacement2.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/filter-displacement/lib/displacement2.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ vertex)
/* harmony export */ });
var vertex = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";


//# sourceMappingURL=displacement2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-displacement/lib/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/filter-displacement/lib/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplacementFilter": () => (/* reexport safe */ _DisplacementFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.DisplacementFilter)
/* harmony export */ });
/* harmony import */ var _DisplacementFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DisplacementFilter.mjs */ "./node_modules/@pixi/filter-displacement/lib/DisplacementFilter.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-drop-shadow/dist/filter-drop-shadow.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/filter-drop-shadow/dist/filter-drop-shadow.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DropShadowFilter": () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _pixi_filter_kawase_blur__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/filter-kawase-blur */ "./node_modules/@pixi/filter-kawase-blur/dist/filter-kawase-blur.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/*!
 * @pixi/filter-drop-shadow - v5.0.0
 * Compiled Fri, 23 Sep 2022 20:48:56 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var S=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,w=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,O=Object.defineProperty,c=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,d=(t,i,e)=>i in t?O(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,_=(t,i)=>{for(var e in i||(i={}))T.call(i,e)&&d(t,e,i[e]);if(c)for(var e of c(i))P.call(i,e)&&d(t,e,i[e]);return t};const n=class extends _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Filter{constructor(t){super(),this.angle=45,this._distance=5,this._resolution=_pixi_core__WEBPACK_IMPORTED_MODULE_1__.settings.FILTER_RESOLUTION;const i=t?_(_({},n.defaults),t):n.defaults,{kernels:e,blur:l,quality:r,pixelSize:F,resolution:s}=i;this._tintFilter=new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Filter(S,w),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Point,this._tintFilter.resolution=s,this._blurFilter=e?new _pixi_filter_kawase_blur__WEBPACK_IMPORTED_MODULE_0__.KawaseBlurFilter(e):new _pixi_filter_kawase_blur__WEBPACK_IMPORTED_MODULE_0__.KawaseBlurFilter(l,r),this.pixelSize=F,this.resolution=s;const{shadowOnly:f,rotation:g,distance:m,alpha:v,color:y}=i;this.shadowOnly=f,this.rotation=g,this.distance=m,this.alpha=v,this.color=y,this._updatePadding()}apply(t,i,e,l){const r=t.getFilterTexture();this._tintFilter.apply(t,i,r,1),this._blurFilter.apply(t,r,e,l),this.shadowOnly!==!0&&t.applyFilter(this,i,e,0),t.returnFilterTexture(r)}_updatePadding(){this.padding=this.distance+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}get resolution(){return this._resolution}set resolution(t){this._resolution=t,this._tintFilter&&(this._tintFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)}get distance(){return this._distance}set distance(t){this._distance=t,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/_pixi_core__WEBPACK_IMPORTED_MODULE_1__.DEG_TO_RAD}set rotation(t){this.angle=t*_pixi_core__WEBPACK_IMPORTED_MODULE_1__.DEG_TO_RAD,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(t){this._tintFilter.uniforms.alpha=t}get color(){return _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.rgb2hex(this._tintFilter.uniforms.color)}set color(t){_pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.hex2rgb(t,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(t){this._blurFilter.kernels=t}get blur(){return this._blurFilter.blur}set blur(t){this._blurFilter.blur=t,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(t){this._blurFilter.quality=t}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(t){this._blurFilter.pixelSize=t}};let b=n;b.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:_pixi_core__WEBPACK_IMPORTED_MODULE_1__.settings.FILTER_RESOLUTION};
//# sourceMappingURL=filter-drop-shadow.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-fxaa/lib/FXAAFilter.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/filter-fxaa/lib/FXAAFilter.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FXAAFilter": () => (/* binding */ FXAAFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _fxaa_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fxaa.mjs */ "./node_modules/@pixi/filter-fxaa/lib/fxaa.mjs");
/* harmony import */ var _fxaa2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fxaa2.mjs */ "./node_modules/@pixi/filter-fxaa/lib/fxaa2.mjs");




class FXAAFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor() {
    super(_fxaa_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], _fxaa2_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]);
  }
}


//# sourceMappingURL=FXAAFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-fxaa/lib/fxaa.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/filter-fxaa/lib/fxaa.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ vertex)
/* harmony export */ });
var vertex = "\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n";


//# sourceMappingURL=fxaa.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-fxaa/lib/fxaa2.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/filter-fxaa/lib/fxaa2.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it's\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n";


//# sourceMappingURL=fxaa2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-fxaa/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/filter-fxaa/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FXAAFilter": () => (/* reexport safe */ _FXAAFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.FXAAFilter)
/* harmony export */ });
/* harmony import */ var _FXAAFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FXAAFilter.mjs */ "./node_modules/@pixi/filter-fxaa/lib/FXAAFilter.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-kawase-blur/dist/filter-kawase-blur.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/filter-kawase-blur/dist/filter-kawase-blur.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "KawaseBlurFilter": () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/*!
 * @pixi/filter-kawase-blur - v5.0.0
 * Compiled Fri, 23 Sep 2022 20:48:56 UTC
 *
 * @pixi/filter-kawase-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var c=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,v=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,y=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`;class _ extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter{constructor(e=4,t=3,i=!1){super(c,i?y:v),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point,this.pixelSize=1,this._clamp=i,Array.isArray(e)?this.kernels=e:(this._blur=e,this.quality=t)}apply(e,t,i,o){const n=this._pixelSize.x/t._frame.width,l=this._pixelSize.y/t._frame.height;let r;if(this._quality===1||this._blur===0)r=this._kernels[0]+.5,this.uniforms.uOffset[0]=r*n,this.uniforms.uOffset[1]=r*l,e.applyFilter(this,t,i,o);else{const x=e.getFilterTexture();let s=t,u=x,f;const p=this._quality-1;for(let a=0;a<p;a++)r=this._kernels[a]+.5,this.uniforms.uOffset[0]=r*n,this.uniforms.uOffset[1]=r*l,e.applyFilter(this,s,u,1),f=s,s=u,u=f;r=this._kernels[p]+.5,this.uniforms.uOffset[0]=r*n,this.uniforms.uOffset[1]=r*l,e.applyFilter(this,s,i,o),e.returnFilterTexture(x)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((e,t)=>e+t+.5,0))}_generateKernels(){const e=this._blur,t=this._quality,i=[e];if(e>0){let o=e;const n=e/t;for(let l=1;l<t;l++)o-=n,i.push(o)}this._kernels=i,this._updatePadding()}get kernels(){return this._kernels}set kernels(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max(...e)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(e){typeof e=="number"?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()}get blur(){return this._blur}set blur(e){this._blur=e,this._generateKernels()}}
//# sourceMappingURL=filter-kawase-blur.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-noise/lib/NoiseFilter.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/filter-noise/lib/NoiseFilter.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NoiseFilter": () => (/* binding */ NoiseFilter)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _noise_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./noise.mjs */ "./node_modules/@pixi/filter-noise/lib/noise.mjs");



class NoiseFilter extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Filter {
  constructor(noise = 0.5, seed = Math.random()) {
    super(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.defaultFilterVertex, _noise_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], {
      uNoise: 0,
      uSeed: 0
    });
    this.noise = noise;
    this.seed = seed;
  }
  get noise() {
    return this.uniforms.uNoise;
  }
  set noise(value) {
    this.uniforms.uNoise = value;
  }
  get seed() {
    return this.uniforms.uSeed;
  }
  set seed(value) {
    this.uniforms.uSeed = value;
  }
}


//# sourceMappingURL=NoiseFilter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-noise/lib/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/filter-noise/lib/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NoiseFilter": () => (/* reexport safe */ _NoiseFilter_mjs__WEBPACK_IMPORTED_MODULE_0__.NoiseFilter)
/* harmony export */ });
/* harmony import */ var _NoiseFilter_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NoiseFilter.mjs */ "./node_modules/@pixi/filter-noise/lib/NoiseFilter.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/filter-noise/lib/noise.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/filter-noise/lib/noise.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n";


//# sourceMappingURL=noise.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/Graphics.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/Graphics.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Graphics": () => (/* binding */ Graphics)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/graphics/lib/utils/index.mjs");
/* harmony import */ var _GraphicsGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GraphicsGeometry.mjs */ "./node_modules/@pixi/graphics/lib/GraphicsGeometry.mjs");
/* harmony import */ var _styles_FillStyle_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./styles/FillStyle.mjs */ "./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs");
/* harmony import */ var _styles_LineStyle_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles/LineStyle.mjs */ "./node_modules/@pixi/graphics/lib/styles/LineStyle.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");
/* harmony import */ var _utils_QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/QuadraticUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs");
/* harmony import */ var _utils_BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/BezierUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs");
/* harmony import */ var _utils_ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/ArcUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs");











const temp = new Float32Array(3);
const DEFAULT_SHADERS = {};
const _Graphics = class extends _pixi_display__WEBPACK_IMPORTED_MODULE_5__.Container {
  constructor(geometry = null) {
    super();
    this.shader = null;
    this.pluginName = "batch";
    this.currentPath = null;
    this.batches = [];
    this.batchTint = -1;
    this.batchDirty = -1;
    this.vertexData = null;
    this._fillStyle = new _styles_FillStyle_mjs__WEBPACK_IMPORTED_MODULE_3__.FillStyle();
    this._lineStyle = new _styles_LineStyle_mjs__WEBPACK_IMPORTED_MODULE_4__.LineStyle();
    this._matrix = null;
    this._holeMode = false;
    this.state = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.State.for2d();
    this._geometry = geometry || new _GraphicsGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__.GraphicsGeometry();
    this._geometry.refCount++;
    this._transformID = -1;
    this.tint = 16777215;
    this.blendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL;
  }
  get geometry() {
    return this._geometry;
  }
  clone() {
    this.finishPoly();
    return new _Graphics(this._geometry);
  }
  set blendMode(value) {
    this.state.blendMode = value;
  }
  get blendMode() {
    return this.state.blendMode;
  }
  get tint() {
    return this._tint;
  }
  set tint(value) {
    this._tint = value;
  }
  get fill() {
    return this._fillStyle;
  }
  get line() {
    return this._lineStyle;
  }
  lineStyle(options = null, color = 0, alpha = 1, alignment = 0.5, native = false) {
    if (typeof options === "number") {
      options = { width: options, color, alpha, alignment, native };
    }
    return this.lineTextureStyle(options);
  }
  lineTextureStyle(options) {
    options = Object.assign({
      width: 0,
      texture: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE,
      color: options?.texture ? 16777215 : 0,
      alpha: 1,
      matrix: null,
      alignment: 0.5,
      native: false,
      cap: _const_mjs__WEBPACK_IMPORTED_MODULE_6__.LINE_CAP.BUTT,
      join: _const_mjs__WEBPACK_IMPORTED_MODULE_6__.LINE_JOIN.MITER,
      miterLimit: 10
    }, options);
    if (this.currentPath) {
      this.startPoly();
    }
    const visible = options.width > 0 && options.alpha > 0;
    if (!visible) {
      this._lineStyle.reset();
    } else {
      if (options.matrix) {
        options.matrix = options.matrix.clone();
        options.matrix.invert();
      }
      Object.assign(this._lineStyle, { visible }, options);
    }
    return this;
  }
  startPoly() {
    if (this.currentPath) {
      const points = this.currentPath.points;
      const len = this.currentPath.points.length;
      if (len > 2) {
        this.drawShape(this.currentPath);
        this.currentPath = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Polygon();
        this.currentPath.closeStroke = false;
        this.currentPath.points.push(points[len - 2], points[len - 1]);
      }
    } else {
      this.currentPath = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Polygon();
      this.currentPath.closeStroke = false;
    }
  }
  finishPoly() {
    if (this.currentPath) {
      if (this.currentPath.points.length > 2) {
        this.drawShape(this.currentPath);
        this.currentPath = null;
      } else {
        this.currentPath.points.length = 0;
      }
    }
  }
  moveTo(x, y) {
    this.startPoly();
    this.currentPath.points[0] = x;
    this.currentPath.points[1] = y;
    return this;
  }
  lineTo(x, y) {
    if (!this.currentPath) {
      this.moveTo(0, 0);
    }
    const points = this.currentPath.points;
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    if (fromX !== x || fromY !== y) {
      points.push(x, y);
    }
    return this;
  }
  _initCurve(x = 0, y = 0) {
    if (this.currentPath) {
      if (this.currentPath.points.length === 0) {
        this.currentPath.points = [x, y];
      }
    } else {
      this.moveTo(x, y);
    }
  }
  quadraticCurveTo(cpX, cpY, toX, toY) {
    this._initCurve();
    const points = this.currentPath.points;
    if (points.length === 0) {
      this.moveTo(0, 0);
    }
    _utils_QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_7__.QuadraticUtils.curveTo(cpX, cpY, toX, toY, points);
    return this;
  }
  bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {
    this._initCurve();
    _utils_BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_8__.BezierUtils.curveTo(cpX, cpY, cpX2, cpY2, toX, toY, this.currentPath.points);
    return this;
  }
  arcTo(x1, y1, x2, y2, radius) {
    this._initCurve(x1, y1);
    const points = this.currentPath.points;
    const result = _utils_ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_9__.ArcUtils.curveTo(x1, y1, x2, y2, radius, points);
    if (result) {
      const { cx, cy, radius: radius2, startAngle, endAngle, anticlockwise } = result;
      this.arc(cx, cy, radius2, startAngle, endAngle, anticlockwise);
    }
    return this;
  }
  arc(cx, cy, radius, startAngle, endAngle, anticlockwise = false) {
    if (startAngle === endAngle) {
      return this;
    }
    if (!anticlockwise && endAngle <= startAngle) {
      endAngle += _pixi_core__WEBPACK_IMPORTED_MODULE_0__.PI_2;
    } else if (anticlockwise && startAngle <= endAngle) {
      startAngle += _pixi_core__WEBPACK_IMPORTED_MODULE_0__.PI_2;
    }
    const sweep = endAngle - startAngle;
    if (sweep === 0) {
      return this;
    }
    const startX = cx + Math.cos(startAngle) * radius;
    const startY = cy + Math.sin(startAngle) * radius;
    const eps = this._geometry.closePointEps;
    let points = this.currentPath ? this.currentPath.points : null;
    if (points) {
      const xDiff = Math.abs(points[points.length - 2] - startX);
      const yDiff = Math.abs(points[points.length - 1] - startY);
      if (xDiff < eps && yDiff < eps) {
      } else {
        points.push(startX, startY);
      }
    } else {
      this.moveTo(startX, startY);
      points = this.currentPath.points;
    }
    _utils_ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_9__.ArcUtils.arc(startX, startY, cx, cy, radius, startAngle, endAngle, anticlockwise, points);
    return this;
  }
  beginFill(color = 0, alpha = 1) {
    return this.beginTextureFill({ texture: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE, color, alpha });
  }
  beginTextureFill(options) {
    options = Object.assign({
      texture: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE,
      color: 16777215,
      alpha: 1,
      matrix: null
    }, options);
    if (this.currentPath) {
      this.startPoly();
    }
    const visible = options.alpha > 0;
    if (!visible) {
      this._fillStyle.reset();
    } else {
      if (options.matrix) {
        options.matrix = options.matrix.clone();
        options.matrix.invert();
      }
      Object.assign(this._fillStyle, { visible }, options);
    }
    return this;
  }
  endFill() {
    this.finishPoly();
    this._fillStyle.reset();
    return this;
  }
  drawRect(x, y, width, height) {
    return this.drawShape(new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(x, y, width, height));
  }
  drawRoundedRect(x, y, width, height, radius) {
    return this.drawShape(new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RoundedRectangle(x, y, width, height, radius));
  }
  drawCircle(x, y, radius) {
    return this.drawShape(new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Circle(x, y, radius));
  }
  drawEllipse(x, y, width, height) {
    return this.drawShape(new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ellipse(x, y, width, height));
  }
  drawPolygon(...path) {
    let points;
    let closeStroke = true;
    const poly = path[0];
    if (poly.points) {
      closeStroke = poly.closeStroke;
      points = poly.points;
    } else if (Array.isArray(path[0])) {
      points = path[0];
    } else {
      points = path;
    }
    const shape = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Polygon(points);
    shape.closeStroke = closeStroke;
    this.drawShape(shape);
    return this;
  }
  drawShape(shape) {
    if (!this._holeMode) {
      this._geometry.drawShape(shape, this._fillStyle.clone(), this._lineStyle.clone(), this._matrix);
    } else {
      this._geometry.drawHole(shape, this._matrix);
    }
    return this;
  }
  clear() {
    this._geometry.clear();
    this._lineStyle.reset();
    this._fillStyle.reset();
    this._boundsID++;
    this._matrix = null;
    this._holeMode = false;
    this.currentPath = null;
    return this;
  }
  isFastRect() {
    const data = this._geometry.graphicsData;
    return data.length === 1 && data[0].shape.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.RECT && !data[0].matrix && !data[0].holes.length && !(data[0].lineStyle.visible && data[0].lineStyle.width);
  }
  _render(renderer) {
    this.finishPoly();
    const geometry = this._geometry;
    geometry.updateBatches();
    if (geometry.batchable) {
      if (this.batchDirty !== geometry.batchDirty) {
        this._populateBatches();
      }
      this._renderBatched(renderer);
    } else {
      renderer.batch.flush();
      this._renderDirect(renderer);
    }
  }
  _populateBatches() {
    const geometry = this._geometry;
    const blendMode = this.blendMode;
    const len = geometry.batches.length;
    this.batchTint = -1;
    this._transformID = -1;
    this.batchDirty = geometry.batchDirty;
    this.batches.length = len;
    this.vertexData = new Float32Array(geometry.points);
    for (let i = 0; i < len; i++) {
      const gI = geometry.batches[i];
      const color = gI.style.color;
      const vertexData = new Float32Array(this.vertexData.buffer, gI.attribStart * 4 * 2, gI.attribSize * 2);
      const uvs = new Float32Array(geometry.uvsFloat32.buffer, gI.attribStart * 4 * 2, gI.attribSize * 2);
      const indices = new Uint16Array(geometry.indicesUint16.buffer, gI.start * 2, gI.size);
      const batch = {
        vertexData,
        blendMode,
        indices,
        uvs,
        _batchRGB: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.hex2rgb(color),
        _tintRGB: color,
        _texture: gI.style.texture,
        alpha: gI.style.alpha,
        worldAlpha: 1
      };
      this.batches[i] = batch;
    }
  }
  _renderBatched(renderer) {
    if (!this.batches.length) {
      return;
    }
    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);
    this.calculateVertices();
    this.calculateTints();
    for (let i = 0, l = this.batches.length; i < l; i++) {
      const batch = this.batches[i];
      batch.worldAlpha = this.worldAlpha * batch.alpha;
      renderer.plugins[this.pluginName].render(batch);
    }
  }
  _renderDirect(renderer) {
    const shader = this._resolveDirectShader(renderer);
    const geometry = this._geometry;
    const tint = this.tint;
    const worldAlpha = this.worldAlpha;
    const uniforms = shader.uniforms;
    const drawCalls = geometry.drawCalls;
    uniforms.translationMatrix = this.transform.worldTransform;
    uniforms.tint[0] = (tint >> 16 & 255) / 255 * worldAlpha;
    uniforms.tint[1] = (tint >> 8 & 255) / 255 * worldAlpha;
    uniforms.tint[2] = (tint & 255) / 255 * worldAlpha;
    uniforms.tint[3] = worldAlpha;
    renderer.shader.bind(shader);
    renderer.geometry.bind(geometry, shader);
    renderer.state.set(this.state);
    for (let i = 0, l = drawCalls.length; i < l; i++) {
      this._renderDrawCallDirect(renderer, geometry.drawCalls[i]);
    }
  }
  _renderDrawCallDirect(renderer, drawCall) {
    const { texArray, type, size, start } = drawCall;
    const groupTextureCount = texArray.count;
    for (let j = 0; j < groupTextureCount; j++) {
      renderer.texture.bind(texArray.elements[j], j);
    }
    renderer.geometry.draw(type, size, start);
  }
  _resolveDirectShader(renderer) {
    let shader = this.shader;
    const pluginName = this.pluginName;
    if (!shader) {
      if (!DEFAULT_SHADERS[pluginName]) {
        const { MAX_TEXTURES } = renderer.plugins[pluginName];
        const sampleValues = new Int32Array(MAX_TEXTURES);
        for (let i = 0; i < MAX_TEXTURES; i++) {
          sampleValues[i] = i;
        }
        const uniforms = {
          tint: new Float32Array([1, 1, 1, 1]),
          translationMatrix: new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix(),
          default: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.UniformGroup.from({ uSamplers: sampleValues }, true)
        };
        const program = renderer.plugins[pluginName]._shader.program;
        DEFAULT_SHADERS[pluginName] = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader(program, uniforms);
      }
      shader = DEFAULT_SHADERS[pluginName];
    }
    return shader;
  }
  _calculateBounds() {
    this.finishPoly();
    const geometry = this._geometry;
    if (!geometry.graphicsData.length) {
      return;
    }
    const { minX, minY, maxX, maxY } = geometry.bounds;
    this._bounds.addFrame(this.transform, minX, minY, maxX, maxY);
  }
  containsPoint(point) {
    this.worldTransform.applyInverse(point, _Graphics._TEMP_POINT);
    return this._geometry.containsPoint(_Graphics._TEMP_POINT);
  }
  calculateTints() {
    if (this.batchTint !== this.tint) {
      this.batchTint = this.tint;
      const tintRGB = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.hex2rgb(this.tint, temp);
      for (let i = 0; i < this.batches.length; i++) {
        const batch = this.batches[i];
        const batchTint = batch._batchRGB;
        const r = tintRGB[0] * batchTint[0] * 255;
        const g = tintRGB[1] * batchTint[1] * 255;
        const b = tintRGB[2] * batchTint[2] * 255;
        const color = (r << 16) + (g << 8) + (b | 0);
        batch._tintRGB = (color >> 16) + (color & 65280) + ((color & 255) << 16);
      }
    }
  }
  calculateVertices() {
    const wtID = this.transform._worldID;
    if (this._transformID === wtID) {
      return;
    }
    this._transformID = wtID;
    const wt = this.transform.worldTransform;
    const a = wt.a;
    const b = wt.b;
    const c = wt.c;
    const d = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const data = this._geometry.points;
    const vertexData = this.vertexData;
    let count = 0;
    for (let i = 0; i < data.length; i += 2) {
      const x = data[i];
      const y = data[i + 1];
      vertexData[count++] = a * x + c * y + tx;
      vertexData[count++] = d * y + b * x + ty;
    }
  }
  closePath() {
    const currentPath = this.currentPath;
    if (currentPath) {
      currentPath.closeStroke = true;
      this.finishPoly();
    }
    return this;
  }
  setMatrix(matrix) {
    this._matrix = matrix;
    return this;
  }
  beginHole() {
    this.finishPoly();
    this._holeMode = true;
    return this;
  }
  endHole() {
    this.finishPoly();
    this._holeMode = false;
    return this;
  }
  destroy(options) {
    this._geometry.refCount--;
    if (this._geometry.refCount === 0) {
      this._geometry.dispose();
    }
    this._matrix = null;
    this.currentPath = null;
    this._lineStyle.destroy();
    this._lineStyle = null;
    this._fillStyle.destroy();
    this._fillStyle = null;
    this._geometry = null;
    this.shader = null;
    this.vertexData = null;
    this.batches.length = 0;
    this.batches = null;
    super.destroy(options);
  }
};
let Graphics = _Graphics;
Graphics._TEMP_POINT = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();


//# sourceMappingURL=Graphics.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/GraphicsData.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/GraphicsData.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GraphicsData": () => (/* binding */ GraphicsData)
/* harmony export */ });
class GraphicsData {
  constructor(shape, fillStyle = null, lineStyle = null, matrix = null) {
    this.points = [];
    this.holes = [];
    this.shape = shape;
    this.lineStyle = lineStyle;
    this.fillStyle = fillStyle;
    this.matrix = matrix;
    this.type = shape.type;
  }
  clone() {
    return new GraphicsData(this.shape, this.fillStyle, this.lineStyle, this.matrix);
  }
  destroy() {
    this.shape = null;
    this.holes.length = 0;
    this.holes = null;
    this.points.length = 0;
    this.points = null;
    this.lineStyle = null;
    this.fillStyle = null;
  }
}


//# sourceMappingURL=GraphicsData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/GraphicsGeometry.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/GraphicsGeometry.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GraphicsGeometry": () => (/* binding */ GraphicsGeometry)
/* harmony export */ });
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/graphics/lib/utils/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _GraphicsData_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GraphicsData.mjs */ "./node_modules/@pixi/graphics/lib/GraphicsData.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _utils_BatchPart_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/BatchPart.mjs */ "./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs");
/* harmony import */ var _utils_buildPoly_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/buildPoly.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs");
/* harmony import */ var _utils_buildLine_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/buildLine.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildLine.mjs");








const tmpPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Point();
const _GraphicsGeometry = class extends _pixi_core__WEBPACK_IMPORTED_MODULE_1__.BatchGeometry {
  constructor() {
    super();
    this.closePointEps = 1e-4;
    this.boundsPadding = 0;
    this.uvsFloat32 = null;
    this.indicesUint16 = null;
    this.batchable = false;
    this.points = [];
    this.colors = [];
    this.uvs = [];
    this.indices = [];
    this.textureIds = [];
    this.graphicsData = [];
    this.drawCalls = [];
    this.batchDirty = -1;
    this.batches = [];
    this.dirty = 0;
    this.cacheDirty = -1;
    this.clearDirty = 0;
    this.shapeIndex = 0;
    this._bounds = new _pixi_display__WEBPACK_IMPORTED_MODULE_3__.Bounds();
    this.boundsDirty = -1;
  }
  get bounds() {
    this.updateBatches();
    if (this.boundsDirty !== this.dirty) {
      this.boundsDirty = this.dirty;
      this.calculateBounds();
    }
    return this._bounds;
  }
  invalidate() {
    this.boundsDirty = -1;
    this.dirty++;
    this.batchDirty++;
    this.shapeIndex = 0;
    this.points.length = 0;
    this.colors.length = 0;
    this.uvs.length = 0;
    this.indices.length = 0;
    this.textureIds.length = 0;
    for (let i = 0; i < this.drawCalls.length; i++) {
      this.drawCalls[i].texArray.clear();
      _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.DRAW_CALL_POOL.push(this.drawCalls[i]);
    }
    this.drawCalls.length = 0;
    for (let i = 0; i < this.batches.length; i++) {
      const batchPart = this.batches[i];
      batchPart.reset();
      _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.BATCH_POOL.push(batchPart);
    }
    this.batches.length = 0;
  }
  clear() {
    if (this.graphicsData.length > 0) {
      this.invalidate();
      this.clearDirty++;
      this.graphicsData.length = 0;
    }
    return this;
  }
  drawShape(shape, fillStyle = null, lineStyle = null, matrix = null) {
    const data = new _GraphicsData_mjs__WEBPACK_IMPORTED_MODULE_2__.GraphicsData(shape, fillStyle, lineStyle, matrix);
    this.graphicsData.push(data);
    this.dirty++;
    return this;
  }
  drawHole(shape, matrix = null) {
    if (!this.graphicsData.length) {
      return null;
    }
    const data = new _GraphicsData_mjs__WEBPACK_IMPORTED_MODULE_2__.GraphicsData(shape, null, null, matrix);
    const lastShape = this.graphicsData[this.graphicsData.length - 1];
    data.lineStyle = lastShape.lineStyle;
    lastShape.holes.push(data);
    this.dirty++;
    return this;
  }
  destroy() {
    super.destroy();
    for (let i = 0; i < this.graphicsData.length; ++i) {
      this.graphicsData[i].destroy();
    }
    this.points.length = 0;
    this.points = null;
    this.colors.length = 0;
    this.colors = null;
    this.uvs.length = 0;
    this.uvs = null;
    this.indices.length = 0;
    this.indices = null;
    this.indexBuffer.destroy();
    this.indexBuffer = null;
    this.graphicsData.length = 0;
    this.graphicsData = null;
    this.drawCalls.length = 0;
    this.drawCalls = null;
    this.batches.length = 0;
    this.batches = null;
    this._bounds = null;
  }
  containsPoint(point) {
    const graphicsData = this.graphicsData;
    for (let i = 0; i < graphicsData.length; ++i) {
      const data = graphicsData[i];
      if (!data.fillStyle.visible) {
        continue;
      }
      if (data.shape) {
        if (data.matrix) {
          data.matrix.applyInverse(point, tmpPoint);
        } else {
          tmpPoint.copyFrom(point);
        }
        if (data.shape.contains(tmpPoint.x, tmpPoint.y)) {
          let hitHole = false;
          if (data.holes) {
            for (let i2 = 0; i2 < data.holes.length; i2++) {
              const hole = data.holes[i2];
              if (hole.shape.contains(tmpPoint.x, tmpPoint.y)) {
                hitHole = true;
                break;
              }
            }
          }
          if (!hitHole) {
            return true;
          }
        }
      }
    }
    return false;
  }
  updateBatches() {
    if (!this.graphicsData.length) {
      this.batchable = true;
      return;
    }
    if (!this.validateBatching()) {
      return;
    }
    this.cacheDirty = this.dirty;
    const uvs = this.uvs;
    const graphicsData = this.graphicsData;
    let batchPart = null;
    let currentStyle = null;
    if (this.batches.length > 0) {
      batchPart = this.batches[this.batches.length - 1];
      currentStyle = batchPart.style;
    }
    for (let i = this.shapeIndex; i < graphicsData.length; i++) {
      this.shapeIndex++;
      const data = graphicsData[i];
      const fillStyle = data.fillStyle;
      const lineStyle = data.lineStyle;
      const command = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.FILL_COMMANDS[data.type];
      command.build(data);
      if (data.matrix) {
        this.transformPoints(data.points, data.matrix);
      }
      if (fillStyle.visible || lineStyle.visible) {
        this.processHoles(data.holes);
      }
      for (let j = 0; j < 2; j++) {
        const style = j === 0 ? fillStyle : lineStyle;
        if (!style.visible)
          continue;
        const nextTexture = style.texture.baseTexture;
        const index2 = this.indices.length;
        const attribIndex = this.points.length / 2;
        nextTexture.wrapMode = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.WRAP_MODES.REPEAT;
        if (j === 0) {
          this.processFill(data);
        } else {
          this.processLine(data);
        }
        const size = this.points.length / 2 - attribIndex;
        if (size === 0)
          continue;
        if (batchPart && !this._compareStyles(currentStyle, style)) {
          batchPart.end(index2, attribIndex);
          batchPart = null;
        }
        if (!batchPart) {
          batchPart = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.BATCH_POOL.pop() || new _utils_BatchPart_mjs__WEBPACK_IMPORTED_MODULE_4__.BatchPart();
          batchPart.begin(style, index2, attribIndex);
          this.batches.push(batchPart);
          currentStyle = style;
        }
        this.addUvs(this.points, uvs, style.texture, attribIndex, size, style.matrix);
      }
    }
    const index = this.indices.length;
    const attrib = this.points.length / 2;
    if (batchPart) {
      batchPart.end(index, attrib);
    }
    if (this.batches.length === 0) {
      this.batchable = true;
      return;
    }
    const need32 = attrib > 65535;
    if (this.indicesUint16 && this.indices.length === this.indicesUint16.length && need32 === this.indicesUint16.BYTES_PER_ELEMENT > 2) {
      this.indicesUint16.set(this.indices);
    } else {
      this.indicesUint16 = need32 ? new Uint32Array(this.indices) : new Uint16Array(this.indices);
    }
    this.batchable = this.isBatchable();
    if (this.batchable) {
      this.packBatches();
    } else {
      this.buildDrawCalls();
    }
  }
  _compareStyles(styleA, styleB) {
    if (!styleA || !styleB) {
      return false;
    }
    if (styleA.texture.baseTexture !== styleB.texture.baseTexture) {
      return false;
    }
    if (styleA.color + styleA.alpha !== styleB.color + styleB.alpha) {
      return false;
    }
    if (!!styleA.native !== !!styleB.native) {
      return false;
    }
    return true;
  }
  validateBatching() {
    if (this.dirty === this.cacheDirty || !this.graphicsData.length) {
      return false;
    }
    for (let i = 0, l = this.graphicsData.length; i < l; i++) {
      const data = this.graphicsData[i];
      const fill = data.fillStyle;
      const line = data.lineStyle;
      if (fill && !fill.texture.baseTexture.valid)
        return false;
      if (line && !line.texture.baseTexture.valid)
        return false;
    }
    return true;
  }
  packBatches() {
    this.batchDirty++;
    this.uvsFloat32 = new Float32Array(this.uvs);
    const batches = this.batches;
    for (let i = 0, l = batches.length; i < l; i++) {
      const batch = batches[i];
      for (let j = 0; j < batch.size; j++) {
        const index = batch.start + j;
        this.indicesUint16[index] = this.indicesUint16[index] - batch.attribStart;
      }
    }
  }
  isBatchable() {
    if (this.points.length > 65535 * 2) {
      return false;
    }
    const batches = this.batches;
    for (let i = 0; i < batches.length; i++) {
      if (batches[i].style.native) {
        return false;
      }
    }
    return this.points.length < _GraphicsGeometry.BATCHABLE_SIZE * 2;
  }
  buildDrawCalls() {
    let TICK = ++_pixi_core__WEBPACK_IMPORTED_MODULE_1__.BaseTexture._globalBatch;
    for (let i = 0; i < this.drawCalls.length; i++) {
      this.drawCalls[i].texArray.clear();
      _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.DRAW_CALL_POOL.push(this.drawCalls[i]);
    }
    this.drawCalls.length = 0;
    const colors = this.colors;
    const textureIds = this.textureIds;
    let currentGroup = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.DRAW_CALL_POOL.pop();
    if (!currentGroup) {
      currentGroup = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.BatchDrawCall();
      currentGroup.texArray = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.BatchTextureArray();
    }
    currentGroup.texArray.count = 0;
    currentGroup.start = 0;
    currentGroup.size = 0;
    currentGroup.type = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.DRAW_MODES.TRIANGLES;
    let textureCount = 0;
    let currentTexture = null;
    let textureId = 0;
    let native = false;
    let drawMode = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.DRAW_MODES.TRIANGLES;
    let index = 0;
    this.drawCalls.push(currentGroup);
    for (let i = 0; i < this.batches.length; i++) {
      const data = this.batches[i];
      const MAX_TEXTURES = 8;
      const style = data.style;
      const nextTexture = style.texture.baseTexture;
      if (native !== !!style.native) {
        native = !!style.native;
        drawMode = native ? _pixi_core__WEBPACK_IMPORTED_MODULE_1__.DRAW_MODES.LINES : _pixi_core__WEBPACK_IMPORTED_MODULE_1__.DRAW_MODES.TRIANGLES;
        currentTexture = null;
        textureCount = MAX_TEXTURES;
        TICK++;
      }
      if (currentTexture !== nextTexture) {
        currentTexture = nextTexture;
        if (nextTexture._batchEnabled !== TICK) {
          if (textureCount === MAX_TEXTURES) {
            TICK++;
            textureCount = 0;
            if (currentGroup.size > 0) {
              currentGroup = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.DRAW_CALL_POOL.pop();
              if (!currentGroup) {
                currentGroup = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.BatchDrawCall();
                currentGroup.texArray = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.BatchTextureArray();
              }
              this.drawCalls.push(currentGroup);
            }
            currentGroup.start = index;
            currentGroup.size = 0;
            currentGroup.texArray.count = 0;
            currentGroup.type = drawMode;
          }
          nextTexture.touched = 1;
          nextTexture._batchEnabled = TICK;
          nextTexture._batchLocation = textureCount;
          nextTexture.wrapMode = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.WRAP_MODES.REPEAT;
          currentGroup.texArray.elements[currentGroup.texArray.count++] = nextTexture;
          textureCount++;
        }
      }
      currentGroup.size += data.size;
      index += data.size;
      textureId = nextTexture._batchLocation;
      this.addColors(colors, style.color, style.alpha, data.attribSize, data.attribStart);
      this.addTextureIds(textureIds, textureId, data.attribSize, data.attribStart);
    }
    _pixi_core__WEBPACK_IMPORTED_MODULE_1__.BaseTexture._globalBatch = TICK;
    this.packAttributes();
  }
  packAttributes() {
    const verts = this.points;
    const uvs = this.uvs;
    const colors = this.colors;
    const textureIds = this.textureIds;
    const glPoints = new ArrayBuffer(verts.length * 3 * 4);
    const f32 = new Float32Array(glPoints);
    const u32 = new Uint32Array(glPoints);
    let p = 0;
    for (let i = 0; i < verts.length / 2; i++) {
      f32[p++] = verts[i * 2];
      f32[p++] = verts[i * 2 + 1];
      f32[p++] = uvs[i * 2];
      f32[p++] = uvs[i * 2 + 1];
      u32[p++] = colors[i];
      f32[p++] = textureIds[i];
    }
    this._buffer.update(glPoints);
    this._indexBuffer.update(this.indicesUint16);
  }
  processFill(data) {
    if (data.holes.length) {
      _utils_buildPoly_mjs__WEBPACK_IMPORTED_MODULE_5__.buildPoly.triangulate(data, this);
    } else {
      const command = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.FILL_COMMANDS[data.type];
      command.triangulate(data, this);
    }
  }
  processLine(data) {
    (0,_utils_buildLine_mjs__WEBPACK_IMPORTED_MODULE_6__.buildLine)(data, this);
    for (let i = 0; i < data.holes.length; i++) {
      (0,_utils_buildLine_mjs__WEBPACK_IMPORTED_MODULE_6__.buildLine)(data.holes[i], this);
    }
  }
  processHoles(holes) {
    for (let i = 0; i < holes.length; i++) {
      const hole = holes[i];
      const command = _utils_index_mjs__WEBPACK_IMPORTED_MODULE_0__.FILL_COMMANDS[hole.type];
      command.build(hole);
      if (hole.matrix) {
        this.transformPoints(hole.points, hole.matrix);
      }
    }
  }
  calculateBounds() {
    const bounds = this._bounds;
    bounds.clear();
    bounds.addVertexData(this.points, 0, this.points.length);
    bounds.pad(this.boundsPadding, this.boundsPadding);
  }
  transformPoints(points, matrix) {
    for (let i = 0; i < points.length / 2; i++) {
      const x = points[i * 2];
      const y = points[i * 2 + 1];
      points[i * 2] = matrix.a * x + matrix.c * y + matrix.tx;
      points[i * 2 + 1] = matrix.b * x + matrix.d * y + matrix.ty;
    }
  }
  addColors(colors, color, alpha, size, offset = 0) {
    const rgb = (color >> 16) + (color & 65280) + ((color & 255) << 16);
    const rgba = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.premultiplyTint(rgb, alpha);
    colors.length = Math.max(colors.length, offset + size);
    for (let i = 0; i < size; i++) {
      colors[offset + i] = rgba;
    }
  }
  addTextureIds(textureIds, id, size, offset = 0) {
    textureIds.length = Math.max(textureIds.length, offset + size);
    for (let i = 0; i < size; i++) {
      textureIds[offset + i] = id;
    }
  }
  addUvs(verts, uvs, texture, start, size, matrix = null) {
    let index = 0;
    const uvsStart = uvs.length;
    const frame = texture.frame;
    while (index < size) {
      let x = verts[(start + index) * 2];
      let y = verts[(start + index) * 2 + 1];
      if (matrix) {
        const nx = matrix.a * x + matrix.c * y + matrix.tx;
        y = matrix.b * x + matrix.d * y + matrix.ty;
        x = nx;
      }
      index++;
      uvs.push(x / frame.width, y / frame.height);
    }
    const baseTexture = texture.baseTexture;
    if (frame.width < baseTexture.width || frame.height < baseTexture.height) {
      this.adjustUvs(uvs, texture, uvsStart, size);
    }
  }
  adjustUvs(uvs, texture, start, size) {
    const baseTexture = texture.baseTexture;
    const eps = 1e-6;
    const finish = start + size * 2;
    const frame = texture.frame;
    const scaleX = frame.width / baseTexture.width;
    const scaleY = frame.height / baseTexture.height;
    let offsetX = frame.x / frame.width;
    let offsetY = frame.y / frame.height;
    let minX = Math.floor(uvs[start] + eps);
    let minY = Math.floor(uvs[start + 1] + eps);
    for (let i = start + 2; i < finish; i += 2) {
      minX = Math.min(minX, Math.floor(uvs[i] + eps));
      minY = Math.min(minY, Math.floor(uvs[i + 1] + eps));
    }
    offsetX -= minX;
    offsetY -= minY;
    for (let i = start; i < finish; i += 2) {
      uvs[i] = (uvs[i] + offsetX) * scaleX;
      uvs[i + 1] = (uvs[i + 1] + offsetY) * scaleY;
    }
  }
};
let GraphicsGeometry = _GraphicsGeometry;
GraphicsGeometry.BATCHABLE_SIZE = 100;


//# sourceMappingURL=GraphicsGeometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/const.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/const.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GRAPHICS_CURVES": () => (/* binding */ GRAPHICS_CURVES),
/* harmony export */   "LINE_CAP": () => (/* binding */ LINE_CAP),
/* harmony export */   "LINE_JOIN": () => (/* binding */ LINE_JOIN)
/* harmony export */ });
var LINE_JOIN = /* @__PURE__ */ ((LINE_JOIN2) => {
  LINE_JOIN2["MITER"] = "miter";
  LINE_JOIN2["BEVEL"] = "bevel";
  LINE_JOIN2["ROUND"] = "round";
  return LINE_JOIN2;
})(LINE_JOIN || {});
var LINE_CAP = /* @__PURE__ */ ((LINE_CAP2) => {
  LINE_CAP2["BUTT"] = "butt";
  LINE_CAP2["ROUND"] = "round";
  LINE_CAP2["SQUARE"] = "square";
  return LINE_CAP2;
})(LINE_CAP || {});
const GRAPHICS_CURVES = {
  adaptive: true,
  maxLength: 10,
  minSegments: 8,
  maxSegments: 2048,
  epsilon: 1e-4,
  _segmentsCount(length, defaultSegments = 20) {
    if (!this.adaptive || !length || isNaN(length)) {
      return defaultSegments;
    }
    let result = Math.ceil(length / this.maxLength);
    if (result < this.minSegments) {
      result = this.minSegments;
    } else if (result > this.maxSegments) {
      result = this.maxSegments;
    }
    return result;
  }
};


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FillStyle": () => (/* reexport safe */ _styles_FillStyle_mjs__WEBPACK_IMPORTED_MODULE_1__.FillStyle),
/* harmony export */   "GRAPHICS_CURVES": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_0__.GRAPHICS_CURVES),
/* harmony export */   "Graphics": () => (/* reexport safe */ _Graphics_mjs__WEBPACK_IMPORTED_MODULE_2__.Graphics),
/* harmony export */   "GraphicsData": () => (/* reexport safe */ _GraphicsData_mjs__WEBPACK_IMPORTED_MODULE_3__.GraphicsData),
/* harmony export */   "GraphicsGeometry": () => (/* reexport safe */ _GraphicsGeometry_mjs__WEBPACK_IMPORTED_MODULE_4__.GraphicsGeometry),
/* harmony export */   "LINE_CAP": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_0__.LINE_CAP),
/* harmony export */   "LINE_JOIN": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_0__.LINE_JOIN),
/* harmony export */   "LineStyle": () => (/* reexport safe */ _styles_LineStyle_mjs__WEBPACK_IMPORTED_MODULE_5__.LineStyle),
/* harmony export */   "graphicsUtils": () => (/* binding */ graphicsUtils)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");
/* harmony import */ var _styles_FillStyle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles/FillStyle.mjs */ "./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs");
/* harmony import */ var _Graphics_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Graphics.mjs */ "./node_modules/@pixi/graphics/lib/Graphics.mjs");
/* harmony import */ var _GraphicsData_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GraphicsData.mjs */ "./node_modules/@pixi/graphics/lib/GraphicsData.mjs");
/* harmony import */ var _GraphicsGeometry_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GraphicsGeometry.mjs */ "./node_modules/@pixi/graphics/lib/GraphicsGeometry.mjs");
/* harmony import */ var _styles_LineStyle_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./styles/LineStyle.mjs */ "./node_modules/@pixi/graphics/lib/styles/LineStyle.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/graphics/lib/utils/index.mjs");
/* harmony import */ var _utils_buildPoly_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/buildPoly.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs");
/* harmony import */ var _utils_buildCircle_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/buildCircle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs");
/* harmony import */ var _utils_buildRectangle_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/buildRectangle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildRectangle.mjs");
/* harmony import */ var _utils_buildRoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/buildRoundedRectangle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildRoundedRectangle.mjs");
/* harmony import */ var _utils_buildLine_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/buildLine.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildLine.mjs");
/* harmony import */ var _utils_ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/ArcUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs");
/* harmony import */ var _utils_BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/BezierUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs");
/* harmony import */ var _utils_QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/QuadraticUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs");
/* harmony import */ var _utils_BatchPart_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/BatchPart.mjs */ "./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs");

















const graphicsUtils = {
  buildPoly: _utils_buildPoly_mjs__WEBPACK_IMPORTED_MODULE_7__.buildPoly,
  buildCircle: _utils_buildCircle_mjs__WEBPACK_IMPORTED_MODULE_8__.buildCircle,
  buildRectangle: _utils_buildRectangle_mjs__WEBPACK_IMPORTED_MODULE_9__.buildRectangle,
  buildRoundedRectangle: _utils_buildRoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_10__.buildRoundedRectangle,
  buildLine: _utils_buildLine_mjs__WEBPACK_IMPORTED_MODULE_11__.buildLine,
  ArcUtils: _utils_ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_12__.ArcUtils,
  BezierUtils: _utils_BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_13__.BezierUtils,
  QuadraticUtils: _utils_QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_14__.QuadraticUtils,
  BatchPart: _utils_BatchPart_mjs__WEBPACK_IMPORTED_MODULE_15__.BatchPart,
  FILL_COMMANDS: _utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__.FILL_COMMANDS,
  BATCH_POOL: _utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__.BATCH_POOL,
  DRAW_CALL_POOL: _utils_index_mjs__WEBPACK_IMPORTED_MODULE_6__.DRAW_CALL_POOL
};


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FillStyle": () => (/* binding */ FillStyle)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class FillStyle {
  constructor() {
    this.color = 16777215;
    this.alpha = 1;
    this.texture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE;
    this.matrix = null;
    this.visible = false;
    this.reset();
  }
  clone() {
    const obj = new FillStyle();
    obj.color = this.color;
    obj.alpha = this.alpha;
    obj.texture = this.texture;
    obj.matrix = this.matrix;
    obj.visible = this.visible;
    return obj;
  }
  reset() {
    this.color = 16777215;
    this.alpha = 1;
    this.texture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE;
    this.matrix = null;
    this.visible = false;
  }
  destroy() {
    this.texture = null;
    this.matrix = null;
  }
}


//# sourceMappingURL=FillStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/styles/LineStyle.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/styles/LineStyle.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LineStyle": () => (/* binding */ LineStyle)
/* harmony export */ });
/* harmony import */ var _FillStyle_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FillStyle.mjs */ "./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");



class LineStyle extends _FillStyle_mjs__WEBPACK_IMPORTED_MODULE_0__.FillStyle {
  constructor() {
    super(...arguments);
    this.width = 0;
    this.alignment = 0.5;
    this.native = false;
    this.cap = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_CAP.BUTT;
    this.join = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.MITER;
    this.miterLimit = 10;
  }
  clone() {
    const obj = new LineStyle();
    obj.color = this.color;
    obj.alpha = this.alpha;
    obj.texture = this.texture;
    obj.matrix = this.matrix;
    obj.visible = this.visible;
    obj.width = this.width;
    obj.alignment = this.alignment;
    obj.native = this.native;
    obj.cap = this.cap;
    obj.join = this.join;
    obj.miterLimit = this.miterLimit;
    return obj;
  }
  reset() {
    super.reset();
    this.color = 0;
    this.alignment = 0.5;
    this.width = 0;
    this.native = false;
  }
}


//# sourceMappingURL=LineStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArcUtils": () => (/* binding */ ArcUtils)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");



class ArcUtils {
  static curveTo(x1, y1, x2, y2, radius, points) {
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    const a1 = fromY - y1;
    const b1 = fromX - x1;
    const a2 = y2 - y1;
    const b2 = x2 - x1;
    const mm = Math.abs(a1 * b2 - b1 * a2);
    if (mm < 1e-8 || radius === 0) {
      if (points[points.length - 2] !== x1 || points[points.length - 1] !== y1) {
        points.push(x1, y1);
      }
      return null;
    }
    const dd = a1 * a1 + b1 * b1;
    const cc = a2 * a2 + b2 * b2;
    const tt = a1 * a2 + b1 * b2;
    const k1 = radius * Math.sqrt(dd) / mm;
    const k2 = radius * Math.sqrt(cc) / mm;
    const j1 = k1 * tt / dd;
    const j2 = k2 * tt / cc;
    const cx = k1 * b2 + k2 * b1;
    const cy = k1 * a2 + k2 * a1;
    const px = b1 * (k2 + j1);
    const py = a1 * (k2 + j1);
    const qx = b2 * (k1 + j2);
    const qy = a2 * (k1 + j2);
    const startAngle = Math.atan2(py - cy, px - cx);
    const endAngle = Math.atan2(qy - cy, qx - cx);
    return {
      cx: cx + x1,
      cy: cy + y1,
      radius,
      startAngle,
      endAngle,
      anticlockwise: b1 * a2 > b2 * a1
    };
  }
  static arc(_startX, _startY, cx, cy, radius, startAngle, endAngle, _anticlockwise, points) {
    const sweep = endAngle - startAngle;
    const n = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.GRAPHICS_CURVES._segmentsCount(Math.abs(sweep) * radius, Math.ceil(Math.abs(sweep) / _pixi_core__WEBPACK_IMPORTED_MODULE_1__.PI_2) * 40);
    const theta = sweep / (n * 2);
    const theta2 = theta * 2;
    const cTheta = Math.cos(theta);
    const sTheta = Math.sin(theta);
    const segMinus = n - 1;
    const remainder = segMinus % 1 / segMinus;
    for (let i = 0; i <= segMinus; ++i) {
      const real = i + remainder * i;
      const angle = theta + startAngle + theta2 * real;
      const c = Math.cos(angle);
      const s = -Math.sin(angle);
      points.push((cTheta * c + sTheta * s) * radius + cx, (cTheta * -s + sTheta * c) * radius + cy);
    }
  }
}


//# sourceMappingURL=ArcUtils.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BatchPart": () => (/* binding */ BatchPart)
/* harmony export */ });
class BatchPart {
  constructor() {
    this.reset();
  }
  begin(style, startIndex, attribStart) {
    this.reset();
    this.style = style;
    this.start = startIndex;
    this.attribStart = attribStart;
  }
  end(endIndex, endAttrib) {
    this.attribSize = endAttrib - this.attribStart;
    this.size = endIndex - this.start;
  }
  reset() {
    this.style = null;
    this.size = 0;
    this.start = 0;
    this.attribStart = 0;
    this.attribSize = 0;
  }
}


//# sourceMappingURL=BatchPart.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BezierUtils": () => (/* binding */ BezierUtils)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");


class BezierUtils {
  static curveLength(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY) {
    const n = 10;
    let result = 0;
    let t = 0;
    let t2 = 0;
    let t3 = 0;
    let nt = 0;
    let nt2 = 0;
    let nt3 = 0;
    let x = 0;
    let y = 0;
    let dx = 0;
    let dy = 0;
    let prevX = fromX;
    let prevY = fromY;
    for (let i = 1; i <= n; ++i) {
      t = i / n;
      t2 = t * t;
      t3 = t2 * t;
      nt = 1 - t;
      nt2 = nt * nt;
      nt3 = nt2 * nt;
      x = nt3 * fromX + 3 * nt2 * t * cpX + 3 * nt * t2 * cpX2 + t3 * toX;
      y = nt3 * fromY + 3 * nt2 * t * cpY + 3 * nt * t2 * cpY2 + t3 * toY;
      dx = prevX - x;
      dy = prevY - y;
      prevX = x;
      prevY = y;
      result += Math.sqrt(dx * dx + dy * dy);
    }
    return result;
  }
  static curveTo(cpX, cpY, cpX2, cpY2, toX, toY, points) {
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    points.length -= 2;
    const n = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.GRAPHICS_CURVES._segmentsCount(BezierUtils.curveLength(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY));
    let dt = 0;
    let dt2 = 0;
    let dt3 = 0;
    let t2 = 0;
    let t3 = 0;
    points.push(fromX, fromY);
    for (let i = 1, j = 0; i <= n; ++i) {
      j = i / n;
      dt = 1 - j;
      dt2 = dt * dt;
      dt3 = dt2 * dt;
      t2 = j * j;
      t3 = t2 * j;
      points.push(dt3 * fromX + 3 * dt2 * j * cpX + 3 * dt * t2 * cpX2 + t3 * toX, dt3 * fromY + 3 * dt2 * j * cpY + 3 * dt * t2 * cpY2 + t3 * toY);
    }
  }
}


//# sourceMappingURL=BezierUtils.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QuadraticUtils": () => (/* binding */ QuadraticUtils)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");


class QuadraticUtils {
  static curveLength(fromX, fromY, cpX, cpY, toX, toY) {
    const ax = fromX - 2 * cpX + toX;
    const ay = fromY - 2 * cpY + toY;
    const bx = 2 * cpX - 2 * fromX;
    const by = 2 * cpY - 2 * fromY;
    const a = 4 * (ax * ax + ay * ay);
    const b = 4 * (ax * bx + ay * by);
    const c = bx * bx + by * by;
    const s = 2 * Math.sqrt(a + b + c);
    const a2 = Math.sqrt(a);
    const a32 = 2 * a * a2;
    const c2 = 2 * Math.sqrt(c);
    const ba = b / a2;
    return (a32 * s + a2 * b * (s - c2) + (4 * c * a - b * b) * Math.log((2 * a2 + ba + s) / (ba + c2))) / (4 * a32);
  }
  static curveTo(cpX, cpY, toX, toY, points) {
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    const n = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.GRAPHICS_CURVES._segmentsCount(QuadraticUtils.curveLength(fromX, fromY, cpX, cpY, toX, toY));
    let xa = 0;
    let ya = 0;
    for (let i = 1; i <= n; ++i) {
      const j = i / n;
      xa = fromX + (cpX - fromX) * j;
      ya = fromY + (cpY - fromY) * j;
      points.push(xa + (cpX + (toX - cpX) * j - xa) * j, ya + (cpY + (toY - cpY) * j - ya) * j);
    }
  }
}


//# sourceMappingURL=QuadraticUtils.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "buildCircle": () => (/* binding */ buildCircle)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const buildCircle = {
  build(graphicsData) {
    const points = graphicsData.points;
    let x;
    let y;
    let dx;
    let dy;
    let rx;
    let ry;
    if (graphicsData.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.CIRC) {
      const circle = graphicsData.shape;
      x = circle.x;
      y = circle.y;
      rx = ry = circle.radius;
      dx = dy = 0;
    } else if (graphicsData.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.ELIP) {
      const ellipse = graphicsData.shape;
      x = ellipse.x;
      y = ellipse.y;
      rx = ellipse.width;
      ry = ellipse.height;
      dx = dy = 0;
    } else {
      const roundedRect = graphicsData.shape;
      const halfWidth = roundedRect.width / 2;
      const halfHeight = roundedRect.height / 2;
      x = roundedRect.x + halfWidth;
      y = roundedRect.y + halfHeight;
      rx = ry = Math.max(0, Math.min(roundedRect.radius, Math.min(halfWidth, halfHeight)));
      dx = halfWidth - rx;
      dy = halfHeight - ry;
    }
    if (!(rx >= 0 && ry >= 0 && dx >= 0 && dy >= 0)) {
      points.length = 0;
      return;
    }
    const n = Math.ceil(2.3 * Math.sqrt(rx + ry));
    const m = n * 8 + (dx ? 4 : 0) + (dy ? 4 : 0);
    points.length = m;
    if (m === 0) {
      return;
    }
    if (n === 0) {
      points.length = 8;
      points[0] = points[6] = x + dx;
      points[1] = points[3] = y + dy;
      points[2] = points[4] = x - dx;
      points[5] = points[7] = y - dy;
      return;
    }
    let j1 = 0;
    let j2 = n * 4 + (dx ? 2 : 0) + 2;
    let j3 = j2;
    let j4 = m;
    {
      const x0 = dx + rx;
      const y0 = dy;
      const x1 = x + x0;
      const x2 = x - x0;
      const y1 = y + y0;
      points[j1++] = x1;
      points[j1++] = y1;
      points[--j2] = y1;
      points[--j2] = x2;
      if (dy) {
        const y2 = y - y0;
        points[j3++] = x2;
        points[j3++] = y2;
        points[--j4] = y2;
        points[--j4] = x1;
      }
    }
    for (let i = 1; i < n; i++) {
      const a = Math.PI / 2 * (i / n);
      const x0 = dx + Math.cos(a) * rx;
      const y0 = dy + Math.sin(a) * ry;
      const x1 = x + x0;
      const x2 = x - x0;
      const y1 = y + y0;
      const y2 = y - y0;
      points[j1++] = x1;
      points[j1++] = y1;
      points[--j2] = y1;
      points[--j2] = x2;
      points[j3++] = x2;
      points[j3++] = y2;
      points[--j4] = y2;
      points[--j4] = x1;
    }
    {
      const x0 = dx;
      const y0 = dy + ry;
      const x1 = x + x0;
      const x2 = x - x0;
      const y1 = y + y0;
      const y2 = y - y0;
      points[j1++] = x1;
      points[j1++] = y1;
      points[--j4] = y2;
      points[--j4] = x1;
      if (dx) {
        points[j1++] = x2;
        points[j1++] = y1;
        points[--j4] = y2;
        points[--j4] = x2;
      }
    }
  },
  triangulate(graphicsData, graphicsGeometry) {
    const points = graphicsData.points;
    const verts = graphicsGeometry.points;
    const indices = graphicsGeometry.indices;
    if (points.length === 0) {
      return;
    }
    let vertPos = verts.length / 2;
    const center = vertPos;
    let x;
    let y;
    if (graphicsData.type !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.RREC) {
      const circle = graphicsData.shape;
      x = circle.x;
      y = circle.y;
    } else {
      const roundedRect = graphicsData.shape;
      x = roundedRect.x + roundedRect.width / 2;
      y = roundedRect.y + roundedRect.height / 2;
    }
    const matrix = graphicsData.matrix;
    verts.push(graphicsData.matrix ? matrix.a * x + matrix.c * y + matrix.tx : x, graphicsData.matrix ? matrix.b * x + matrix.d * y + matrix.ty : y);
    vertPos++;
    verts.push(points[0], points[1]);
    for (let i = 2; i < points.length; i += 2) {
      verts.push(points[i], points[i + 1]);
      indices.push(vertPos++, center, vertPos);
    }
    indices.push(center + 1, center, vertPos);
  }
};


//# sourceMappingURL=buildCircle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/buildLine.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/buildLine.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "buildLine": () => (/* binding */ buildLine)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/graphics/lib/const.mjs");



function square(x, y, nx, ny, innerWeight, outerWeight, clockwise, verts) {
  const ix = x - nx * innerWeight;
  const iy = y - ny * innerWeight;
  const ox = x + nx * outerWeight;
  const oy = y + ny * outerWeight;
  let exx;
  let eyy;
  if (clockwise) {
    exx = ny;
    eyy = -nx;
  } else {
    exx = -ny;
    eyy = nx;
  }
  const eix = ix + exx;
  const eiy = iy + eyy;
  const eox = ox + exx;
  const eoy = oy + eyy;
  verts.push(eix, eiy);
  verts.push(eox, eoy);
  return 2;
}
function round(cx, cy, sx, sy, ex, ey, verts, clockwise) {
  const cx2p0x = sx - cx;
  const cy2p0y = sy - cy;
  let angle0 = Math.atan2(cx2p0x, cy2p0y);
  let angle1 = Math.atan2(ex - cx, ey - cy);
  if (clockwise && angle0 < angle1) {
    angle0 += Math.PI * 2;
  } else if (!clockwise && angle0 > angle1) {
    angle1 += Math.PI * 2;
  }
  let startAngle = angle0;
  const angleDiff = angle1 - angle0;
  const absAngleDiff = Math.abs(angleDiff);
  const radius = Math.sqrt(cx2p0x * cx2p0x + cy2p0y * cy2p0y);
  const segCount = (15 * absAngleDiff * Math.sqrt(radius) / Math.PI >> 0) + 1;
  const angleInc = angleDiff / segCount;
  startAngle += angleInc;
  if (clockwise) {
    verts.push(cx, cy);
    verts.push(sx, sy);
    for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc) {
      verts.push(cx, cy);
      verts.push(cx + Math.sin(angle) * radius, cy + Math.cos(angle) * radius);
    }
    verts.push(cx, cy);
    verts.push(ex, ey);
  } else {
    verts.push(sx, sy);
    verts.push(cx, cy);
    for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc) {
      verts.push(cx + Math.sin(angle) * radius, cy + Math.cos(angle) * radius);
      verts.push(cx, cy);
    }
    verts.push(ex, ey);
    verts.push(cx, cy);
  }
  return segCount * 2;
}
function buildNonNativeLine(graphicsData, graphicsGeometry) {
  const shape = graphicsData.shape;
  let points = graphicsData.points || shape.points.slice();
  const eps = graphicsGeometry.closePointEps;
  if (points.length === 0) {
    return;
  }
  const style = graphicsData.lineStyle;
  const firstPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point(points[0], points[1]);
  const lastPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point(points[points.length - 2], points[points.length - 1]);
  const closedShape = shape.type !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.POLY || shape.closeStroke;
  const closedPath = Math.abs(firstPoint.x - lastPoint.x) < eps && Math.abs(firstPoint.y - lastPoint.y) < eps;
  if (closedShape) {
    points = points.slice();
    if (closedPath) {
      points.pop();
      points.pop();
      lastPoint.set(points[points.length - 2], points[points.length - 1]);
    }
    const midPointX = (firstPoint.x + lastPoint.x) * 0.5;
    const midPointY = (lastPoint.y + firstPoint.y) * 0.5;
    points.unshift(midPointX, midPointY);
    points.push(midPointX, midPointY);
  }
  const verts = graphicsGeometry.points;
  const length = points.length / 2;
  let indexCount = points.length;
  const indexStart = verts.length / 2;
  const width = style.width / 2;
  const widthSquared = width * width;
  const miterLimitSquared = style.miterLimit * style.miterLimit;
  let x0 = points[0];
  let y0 = points[1];
  let x1 = points[2];
  let y1 = points[3];
  let x2 = 0;
  let y2 = 0;
  let perpx = -(y0 - y1);
  let perpy = x0 - x1;
  let perp1x = 0;
  let perp1y = 0;
  let dist = Math.sqrt(perpx * perpx + perpy * perpy);
  perpx /= dist;
  perpy /= dist;
  perpx *= width;
  perpy *= width;
  const ratio = style.alignment;
  const innerWeight = (1 - ratio) * 2;
  const outerWeight = ratio * 2;
  if (!closedShape) {
    if (style.cap === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_CAP.ROUND) {
      indexCount += round(x0 - perpx * (innerWeight - outerWeight) * 0.5, y0 - perpy * (innerWeight - outerWeight) * 0.5, x0 - perpx * innerWeight, y0 - perpy * innerWeight, x0 + perpx * outerWeight, y0 + perpy * outerWeight, verts, true) + 2;
    } else if (style.cap === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_CAP.SQUARE) {
      indexCount += square(x0, y0, perpx, perpy, innerWeight, outerWeight, true, verts);
    }
  }
  verts.push(x0 - perpx * innerWeight, y0 - perpy * innerWeight);
  verts.push(x0 + perpx * outerWeight, y0 + perpy * outerWeight);
  for (let i = 1; i < length - 1; ++i) {
    x0 = points[(i - 1) * 2];
    y0 = points[(i - 1) * 2 + 1];
    x1 = points[i * 2];
    y1 = points[i * 2 + 1];
    x2 = points[(i + 1) * 2];
    y2 = points[(i + 1) * 2 + 1];
    perpx = -(y0 - y1);
    perpy = x0 - x1;
    dist = Math.sqrt(perpx * perpx + perpy * perpy);
    perpx /= dist;
    perpy /= dist;
    perpx *= width;
    perpy *= width;
    perp1x = -(y1 - y2);
    perp1y = x1 - x2;
    dist = Math.sqrt(perp1x * perp1x + perp1y * perp1y);
    perp1x /= dist;
    perp1y /= dist;
    perp1x *= width;
    perp1y *= width;
    const dx0 = x1 - x0;
    const dy0 = y0 - y1;
    const dx1 = x1 - x2;
    const dy1 = y2 - y1;
    const dot = dx0 * dx1 + dy0 * dy1;
    const cross = dy0 * dx1 - dy1 * dx0;
    const clockwise = cross < 0;
    if (Math.abs(cross) < 1e-3 * Math.abs(dot)) {
      verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight);
      verts.push(x1 + perpx * outerWeight, y1 + perpy * outerWeight);
      if (dot >= 0) {
        if (style.join === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.ROUND) {
          indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 4;
        } else {
          indexCount += 2;
        }
        verts.push(x1 - perp1x * outerWeight, y1 - perp1y * outerWeight);
        verts.push(x1 + perp1x * innerWeight, y1 + perp1y * innerWeight);
      }
      continue;
    }
    const c1 = (-perpx + x0) * (-perpy + y1) - (-perpx + x1) * (-perpy + y0);
    const c2 = (-perp1x + x2) * (-perp1y + y1) - (-perp1x + x1) * (-perp1y + y2);
    const px = (dx0 * c2 - dx1 * c1) / cross;
    const py = (dy1 * c1 - dy0 * c2) / cross;
    const pdist = (px - x1) * (px - x1) + (py - y1) * (py - y1);
    const imx = x1 + (px - x1) * innerWeight;
    const imy = y1 + (py - y1) * innerWeight;
    const omx = x1 - (px - x1) * outerWeight;
    const omy = y1 - (py - y1) * outerWeight;
    const smallerInsideSegmentSq = Math.min(dx0 * dx0 + dy0 * dy0, dx1 * dx1 + dy1 * dy1);
    const insideWeight = clockwise ? innerWeight : outerWeight;
    const smallerInsideDiagonalSq = smallerInsideSegmentSq + insideWeight * insideWeight * widthSquared;
    const insideMiterOk = pdist <= smallerInsideDiagonalSq;
    if (insideMiterOk) {
      if (style.join === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.BEVEL || pdist / widthSquared > miterLimitSquared) {
        if (clockwise) {
          verts.push(imx, imy);
          verts.push(x1 + perpx * outerWeight, y1 + perpy * outerWeight);
          verts.push(imx, imy);
          verts.push(x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);
        } else {
          verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight);
          verts.push(omx, omy);
          verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight);
          verts.push(omx, omy);
        }
        indexCount += 2;
      } else if (style.join === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.ROUND) {
        if (clockwise) {
          verts.push(imx, imy);
          verts.push(x1 + perpx * outerWeight, y1 + perpy * outerWeight);
          indexCount += round(x1, y1, x1 + perpx * outerWeight, y1 + perpy * outerWeight, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight, verts, true) + 4;
          verts.push(imx, imy);
          verts.push(x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);
        } else {
          verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight);
          verts.push(omx, omy);
          indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 4;
          verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight);
          verts.push(omx, omy);
        }
      } else {
        verts.push(imx, imy);
        verts.push(omx, omy);
      }
    } else {
      verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight);
      verts.push(x1 + perpx * outerWeight, y1 + perpy * outerWeight);
      if (style.join === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.ROUND) {
        if (clockwise) {
          indexCount += round(x1, y1, x1 + perpx * outerWeight, y1 + perpy * outerWeight, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight, verts, true) + 2;
        } else {
          indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 2;
        }
      } else if (style.join === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_JOIN.MITER && pdist / widthSquared <= miterLimitSquared) {
        if (clockwise) {
          verts.push(omx, omy);
          verts.push(omx, omy);
        } else {
          verts.push(imx, imy);
          verts.push(imx, imy);
        }
        indexCount += 2;
      }
      verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight);
      verts.push(x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);
      indexCount += 2;
    }
  }
  x0 = points[(length - 2) * 2];
  y0 = points[(length - 2) * 2 + 1];
  x1 = points[(length - 1) * 2];
  y1 = points[(length - 1) * 2 + 1];
  perpx = -(y0 - y1);
  perpy = x0 - x1;
  dist = Math.sqrt(perpx * perpx + perpy * perpy);
  perpx /= dist;
  perpy /= dist;
  perpx *= width;
  perpy *= width;
  verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight);
  verts.push(x1 + perpx * outerWeight, y1 + perpy * outerWeight);
  if (!closedShape) {
    if (style.cap === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_CAP.ROUND) {
      indexCount += round(x1 - perpx * (innerWeight - outerWeight) * 0.5, y1 - perpy * (innerWeight - outerWeight) * 0.5, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 + perpx * outerWeight, y1 + perpy * outerWeight, verts, false) + 2;
    } else if (style.cap === _const_mjs__WEBPACK_IMPORTED_MODULE_1__.LINE_CAP.SQUARE) {
      indexCount += square(x1, y1, perpx, perpy, innerWeight, outerWeight, false, verts);
    }
  }
  const indices = graphicsGeometry.indices;
  const eps2 = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.GRAPHICS_CURVES.epsilon * _const_mjs__WEBPACK_IMPORTED_MODULE_1__.GRAPHICS_CURVES.epsilon;
  for (let i = indexStart; i < indexCount + indexStart - 2; ++i) {
    x0 = verts[i * 2];
    y0 = verts[i * 2 + 1];
    x1 = verts[(i + 1) * 2];
    y1 = verts[(i + 1) * 2 + 1];
    x2 = verts[(i + 2) * 2];
    y2 = verts[(i + 2) * 2 + 1];
    if (Math.abs(x0 * (y1 - y2) + x1 * (y2 - y0) + x2 * (y0 - y1)) < eps2) {
      continue;
    }
    indices.push(i, i + 1, i + 2);
  }
}
function buildNativeLine(graphicsData, graphicsGeometry) {
  let i = 0;
  const shape = graphicsData.shape;
  const points = graphicsData.points || shape.points;
  const closedShape = shape.type !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.SHAPES.POLY || shape.closeStroke;
  if (points.length === 0)
    return;
  const verts = graphicsGeometry.points;
  const indices = graphicsGeometry.indices;
  const length = points.length / 2;
  const startIndex = verts.length / 2;
  let currentIndex = startIndex;
  verts.push(points[0], points[1]);
  for (i = 1; i < length; i++) {
    verts.push(points[i * 2], points[i * 2 + 1]);
    indices.push(currentIndex, currentIndex + 1);
    currentIndex++;
  }
  if (closedShape) {
    indices.push(currentIndex, startIndex);
  }
}
function buildLine(graphicsData, graphicsGeometry) {
  if (graphicsData.lineStyle.native) {
    buildNativeLine(graphicsData, graphicsGeometry);
  } else {
    buildNonNativeLine(graphicsData, graphicsGeometry);
  }
}


//# sourceMappingURL=buildLine.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "buildPoly": () => (/* binding */ buildPoly)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


function fixOrientation(points, hole = false) {
  const m = points.length;
  if (m < 6) {
    return;
  }
  let area = 0;
  for (let i = 0, x1 = points[m - 2], y1 = points[m - 1]; i < m; i += 2) {
    const x2 = points[i];
    const y2 = points[i + 1];
    area += (x2 - x1) * (y2 + y1);
    x1 = x2;
    y1 = y2;
  }
  if (!hole && area > 0 || hole && area <= 0) {
    const n = m / 2;
    for (let i = n + n % 2; i < m; i += 2) {
      const i1 = m - i - 2;
      const i2 = m - i - 1;
      const i3 = i;
      const i4 = i + 1;
      [points[i1], points[i3]] = [points[i3], points[i1]];
      [points[i2], points[i4]] = [points[i4], points[i2]];
    }
  }
}
const buildPoly = {
  build(graphicsData) {
    graphicsData.points = graphicsData.shape.points.slice();
  },
  triangulate(graphicsData, graphicsGeometry) {
    let points = graphicsData.points;
    const holes = graphicsData.holes;
    const verts = graphicsGeometry.points;
    const indices = graphicsGeometry.indices;
    if (points.length >= 6) {
      fixOrientation(points, false);
      const holeArray = [];
      for (let i = 0; i < holes.length; i++) {
        const hole = holes[i];
        fixOrientation(hole.points, true);
        holeArray.push(points.length / 2);
        points = points.concat(hole.points);
      }
      const triangles = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.earcut(points, holeArray, 2);
      if (!triangles) {
        return;
      }
      const vertPos = verts.length / 2;
      for (let i = 0; i < triangles.length; i += 3) {
        indices.push(triangles[i] + vertPos);
        indices.push(triangles[i + 1] + vertPos);
        indices.push(triangles[i + 2] + vertPos);
      }
      for (let i = 0; i < points.length; i++) {
        verts.push(points[i]);
      }
    }
  }
};


//# sourceMappingURL=buildPoly.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/buildRectangle.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/buildRectangle.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "buildRectangle": () => (/* binding */ buildRectangle)
/* harmony export */ });
const buildRectangle = {
  build(graphicsData) {
    const rectData = graphicsData.shape;
    const x = rectData.x;
    const y = rectData.y;
    const width = rectData.width;
    const height = rectData.height;
    const points = graphicsData.points;
    points.length = 0;
    if (!(width >= 0 && height >= 0)) {
      return;
    }
    points.push(x, y, x + width, y, x + width, y + height, x, y + height);
  },
  triangulate(graphicsData, graphicsGeometry) {
    const points = graphicsData.points;
    const verts = graphicsGeometry.points;
    if (points.length === 0) {
      return;
    }
    const vertPos = verts.length / 2;
    verts.push(points[0], points[1], points[2], points[3], points[6], points[7], points[4], points[5]);
    graphicsGeometry.indices.push(vertPos, vertPos + 1, vertPos + 2, vertPos + 1, vertPos + 2, vertPos + 3);
  }
};


//# sourceMappingURL=buildRectangle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/buildRoundedRectangle.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/buildRoundedRectangle.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "buildRoundedRectangle": () => (/* binding */ buildRoundedRectangle)
/* harmony export */ });
/* harmony import */ var _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buildCircle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs");


const buildRoundedRectangle = {
  build(graphicsData) {
    _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_0__.buildCircle.build(graphicsData);
  },
  triangulate(graphicsData, graphicsGeometry) {
    _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_0__.buildCircle.triangulate(graphicsData, graphicsGeometry);
  }
};


//# sourceMappingURL=buildRoundedRectangle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/graphics/lib/utils/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/graphics/lib/utils/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArcUtils": () => (/* reexport safe */ _ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_5__.ArcUtils),
/* harmony export */   "BATCH_POOL": () => (/* binding */ BATCH_POOL),
/* harmony export */   "BatchPart": () => (/* reexport safe */ _BatchPart_mjs__WEBPACK_IMPORTED_MODULE_8__.BatchPart),
/* harmony export */   "BezierUtils": () => (/* reexport safe */ _BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_6__.BezierUtils),
/* harmony export */   "DRAW_CALL_POOL": () => (/* binding */ DRAW_CALL_POOL),
/* harmony export */   "FILL_COMMANDS": () => (/* binding */ FILL_COMMANDS),
/* harmony export */   "QuadraticUtils": () => (/* reexport safe */ _QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_7__.QuadraticUtils),
/* harmony export */   "buildCircle": () => (/* reexport safe */ _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_1__.buildCircle),
/* harmony export */   "buildLine": () => (/* reexport safe */ _buildLine_mjs__WEBPACK_IMPORTED_MODULE_4__.buildLine),
/* harmony export */   "buildPoly": () => (/* reexport safe */ _buildPoly_mjs__WEBPACK_IMPORTED_MODULE_0__.buildPoly),
/* harmony export */   "buildRectangle": () => (/* reexport safe */ _buildRectangle_mjs__WEBPACK_IMPORTED_MODULE_2__.buildRectangle),
/* harmony export */   "buildRoundedRectangle": () => (/* reexport safe */ _buildRoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_3__.buildRoundedRectangle)
/* harmony export */ });
/* harmony import */ var _buildPoly_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buildPoly.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs");
/* harmony import */ var _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buildCircle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs");
/* harmony import */ var _buildRectangle_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./buildRectangle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildRectangle.mjs");
/* harmony import */ var _buildRoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./buildRoundedRectangle.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildRoundedRectangle.mjs");
/* harmony import */ var _buildLine_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./buildLine.mjs */ "./node_modules/@pixi/graphics/lib/utils/buildLine.mjs");
/* harmony import */ var _ArcUtils_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ArcUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs");
/* harmony import */ var _BezierUtils_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BezierUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs");
/* harmony import */ var _QuadraticUtils_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./QuadraticUtils.mjs */ "./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs");
/* harmony import */ var _BatchPart_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BatchPart.mjs */ "./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");















const FILL_COMMANDS = {
  [_pixi_core__WEBPACK_IMPORTED_MODULE_9__.SHAPES.POLY]: _buildPoly_mjs__WEBPACK_IMPORTED_MODULE_0__.buildPoly,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_9__.SHAPES.CIRC]: _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_1__.buildCircle,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_9__.SHAPES.ELIP]: _buildCircle_mjs__WEBPACK_IMPORTED_MODULE_1__.buildCircle,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_9__.SHAPES.RECT]: _buildRectangle_mjs__WEBPACK_IMPORTED_MODULE_2__.buildRectangle,
  [_pixi_core__WEBPACK_IMPORTED_MODULE_9__.SHAPES.RREC]: _buildRoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_3__.buildRoundedRectangle
};
const BATCH_POOL = [];
const DRAW_CALL_POOL = [];


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/IPoint.mjs":
/*!************************************************!*\
  !*** ./node_modules/@pixi/math/lib/IPoint.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=IPoint.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/IPointData.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/math/lib/IPointData.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=IPointData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/Matrix.mjs":
/*!************************************************!*\
  !*** ./node_modules/@pixi/math/lib/Matrix.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Matrix": () => (/* binding */ Matrix)
/* harmony export */ });
/* harmony import */ var _Point_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Point.mjs */ "./node_modules/@pixi/math/lib/Point.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");



class Matrix {
  constructor(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0) {
    this.array = null;
    this.a = a;
    this.b = b;
    this.c = c;
    this.d = d;
    this.tx = tx;
    this.ty = ty;
  }
  fromArray(array) {
    this.a = array[0];
    this.b = array[1];
    this.c = array[3];
    this.d = array[4];
    this.tx = array[2];
    this.ty = array[5];
  }
  set(a, b, c, d, tx, ty) {
    this.a = a;
    this.b = b;
    this.c = c;
    this.d = d;
    this.tx = tx;
    this.ty = ty;
    return this;
  }
  toArray(transpose, out) {
    if (!this.array) {
      this.array = new Float32Array(9);
    }
    const array = out || this.array;
    if (transpose) {
      array[0] = this.a;
      array[1] = this.b;
      array[2] = 0;
      array[3] = this.c;
      array[4] = this.d;
      array[5] = 0;
      array[6] = this.tx;
      array[7] = this.ty;
      array[8] = 1;
    } else {
      array[0] = this.a;
      array[1] = this.c;
      array[2] = this.tx;
      array[3] = this.b;
      array[4] = this.d;
      array[5] = this.ty;
      array[6] = 0;
      array[7] = 0;
      array[8] = 1;
    }
    return array;
  }
  apply(pos, newPos) {
    newPos = newPos || new _Point_mjs__WEBPACK_IMPORTED_MODULE_0__.Point();
    const x = pos.x;
    const y = pos.y;
    newPos.x = this.a * x + this.c * y + this.tx;
    newPos.y = this.b * x + this.d * y + this.ty;
    return newPos;
  }
  applyInverse(pos, newPos) {
    newPos = newPos || new _Point_mjs__WEBPACK_IMPORTED_MODULE_0__.Point();
    const id = 1 / (this.a * this.d + this.c * -this.b);
    const x = pos.x;
    const y = pos.y;
    newPos.x = this.d * id * x + -this.c * id * y + (this.ty * this.c - this.tx * this.d) * id;
    newPos.y = this.a * id * y + -this.b * id * x + (-this.ty * this.a + this.tx * this.b) * id;
    return newPos;
  }
  translate(x, y) {
    this.tx += x;
    this.ty += y;
    return this;
  }
  scale(x, y) {
    this.a *= x;
    this.d *= y;
    this.c *= x;
    this.b *= y;
    this.tx *= x;
    this.ty *= y;
    return this;
  }
  rotate(angle) {
    const cos = Math.cos(angle);
    const sin = Math.sin(angle);
    const a1 = this.a;
    const c1 = this.c;
    const tx1 = this.tx;
    this.a = a1 * cos - this.b * sin;
    this.b = a1 * sin + this.b * cos;
    this.c = c1 * cos - this.d * sin;
    this.d = c1 * sin + this.d * cos;
    this.tx = tx1 * cos - this.ty * sin;
    this.ty = tx1 * sin + this.ty * cos;
    return this;
  }
  append(matrix) {
    const a1 = this.a;
    const b1 = this.b;
    const c1 = this.c;
    const d1 = this.d;
    this.a = matrix.a * a1 + matrix.b * c1;
    this.b = matrix.a * b1 + matrix.b * d1;
    this.c = matrix.c * a1 + matrix.d * c1;
    this.d = matrix.c * b1 + matrix.d * d1;
    this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;
    this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;
    return this;
  }
  setTransform(x, y, pivotX, pivotY, scaleX, scaleY, rotation, skewX, skewY) {
    this.a = Math.cos(rotation + skewY) * scaleX;
    this.b = Math.sin(rotation + skewY) * scaleX;
    this.c = -Math.sin(rotation - skewX) * scaleY;
    this.d = Math.cos(rotation - skewX) * scaleY;
    this.tx = x - (pivotX * this.a + pivotY * this.c);
    this.ty = y - (pivotX * this.b + pivotY * this.d);
    return this;
  }
  prepend(matrix) {
    const tx1 = this.tx;
    if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {
      const a1 = this.a;
      const c1 = this.c;
      this.a = a1 * matrix.a + this.b * matrix.c;
      this.b = a1 * matrix.b + this.b * matrix.d;
      this.c = c1 * matrix.a + this.d * matrix.c;
      this.d = c1 * matrix.b + this.d * matrix.d;
    }
    this.tx = tx1 * matrix.a + this.ty * matrix.c + matrix.tx;
    this.ty = tx1 * matrix.b + this.ty * matrix.d + matrix.ty;
    return this;
  }
  decompose(transform) {
    const a = this.a;
    const b = this.b;
    const c = this.c;
    const d = this.d;
    const pivot = transform.pivot;
    const skewX = -Math.atan2(-c, d);
    const skewY = Math.atan2(b, a);
    const delta = Math.abs(skewX + skewY);
    if (delta < 1e-5 || Math.abs(_const_mjs__WEBPACK_IMPORTED_MODULE_1__.PI_2 - delta) < 1e-5) {
      transform.rotation = skewY;
      transform.skew.x = transform.skew.y = 0;
    } else {
      transform.rotation = 0;
      transform.skew.x = skewX;
      transform.skew.y = skewY;
    }
    transform.scale.x = Math.sqrt(a * a + b * b);
    transform.scale.y = Math.sqrt(c * c + d * d);
    transform.position.x = this.tx + (pivot.x * a + pivot.y * c);
    transform.position.y = this.ty + (pivot.x * b + pivot.y * d);
    return transform;
  }
  invert() {
    const a1 = this.a;
    const b1 = this.b;
    const c1 = this.c;
    const d1 = this.d;
    const tx1 = this.tx;
    const n = a1 * d1 - b1 * c1;
    this.a = d1 / n;
    this.b = -b1 / n;
    this.c = -c1 / n;
    this.d = a1 / n;
    this.tx = (c1 * this.ty - d1 * tx1) / n;
    this.ty = -(a1 * this.ty - b1 * tx1) / n;
    return this;
  }
  identity() {
    this.a = 1;
    this.b = 0;
    this.c = 0;
    this.d = 1;
    this.tx = 0;
    this.ty = 0;
    return this;
  }
  clone() {
    const matrix = new Matrix();
    matrix.a = this.a;
    matrix.b = this.b;
    matrix.c = this.c;
    matrix.d = this.d;
    matrix.tx = this.tx;
    matrix.ty = this.ty;
    return matrix;
  }
  copyTo(matrix) {
    matrix.a = this.a;
    matrix.b = this.b;
    matrix.c = this.c;
    matrix.d = this.d;
    matrix.tx = this.tx;
    matrix.ty = this.ty;
    return matrix;
  }
  copyFrom(matrix) {
    this.a = matrix.a;
    this.b = matrix.b;
    this.c = matrix.c;
    this.d = matrix.d;
    this.tx = matrix.tx;
    this.ty = matrix.ty;
    return this;
  }
  toString() {
    return `[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`;
  }
  static get IDENTITY() {
    return new Matrix();
  }
  static get TEMP_MATRIX() {
    return new Matrix();
  }
}


//# sourceMappingURL=Matrix.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/ObservablePoint.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/math/lib/ObservablePoint.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ObservablePoint": () => (/* binding */ ObservablePoint)
/* harmony export */ });
class ObservablePoint {
  constructor(cb, scope, x = 0, y = 0) {
    this._x = x;
    this._y = y;
    this.cb = cb;
    this.scope = scope;
  }
  clone(cb = this.cb, scope = this.scope) {
    return new ObservablePoint(cb, scope, this._x, this._y);
  }
  set(x = 0, y = x) {
    if (this._x !== x || this._y !== y) {
      this._x = x;
      this._y = y;
      this.cb.call(this.scope);
    }
    return this;
  }
  copyFrom(p) {
    if (this._x !== p.x || this._y !== p.y) {
      this._x = p.x;
      this._y = p.y;
      this.cb.call(this.scope);
    }
    return this;
  }
  copyTo(p) {
    p.set(this._x, this._y);
    return p;
  }
  equals(p) {
    return p.x === this._x && p.y === this._y;
  }
  toString() {
    return `[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`;
  }
  get x() {
    return this._x;
  }
  set x(value) {
    if (this._x !== value) {
      this._x = value;
      this.cb.call(this.scope);
    }
  }
  get y() {
    return this._y;
  }
  set y(value) {
    if (this._y !== value) {
      this._y = value;
      this.cb.call(this.scope);
    }
  }
}


//# sourceMappingURL=ObservablePoint.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/Point.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/math/lib/Point.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Point": () => (/* binding */ Point)
/* harmony export */ });
class Point {
  constructor(x = 0, y = 0) {
    this.x = 0;
    this.y = 0;
    this.x = x;
    this.y = y;
  }
  clone() {
    return new Point(this.x, this.y);
  }
  copyFrom(p) {
    this.set(p.x, p.y);
    return this;
  }
  copyTo(p) {
    p.set(this.x, this.y);
    return p;
  }
  equals(p) {
    return p.x === this.x && p.y === this.y;
  }
  set(x = 0, y = x) {
    this.x = x;
    this.y = y;
    return this;
  }
  toString() {
    return `[@pixi/math:Point x=${this.x} y=${this.y}]`;
  }
}


//# sourceMappingURL=Point.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/Transform.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/math/lib/Transform.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Transform": () => (/* binding */ Transform)
/* harmony export */ });
/* harmony import */ var _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObservablePoint.mjs */ "./node_modules/@pixi/math/lib/ObservablePoint.mjs");
/* harmony import */ var _Matrix_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Matrix.mjs */ "./node_modules/@pixi/math/lib/Matrix.mjs");



const _Transform = class {
  constructor() {
    this.worldTransform = new _Matrix_mjs__WEBPACK_IMPORTED_MODULE_1__.Matrix();
    this.localTransform = new _Matrix_mjs__WEBPACK_IMPORTED_MODULE_1__.Matrix();
    this.position = new _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_0__.ObservablePoint(this.onChange, this, 0, 0);
    this.scale = new _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_0__.ObservablePoint(this.onChange, this, 1, 1);
    this.pivot = new _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_0__.ObservablePoint(this.onChange, this, 0, 0);
    this.skew = new _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_0__.ObservablePoint(this.updateSkew, this, 0, 0);
    this._rotation = 0;
    this._cx = 1;
    this._sx = 0;
    this._cy = 0;
    this._sy = 1;
    this._localID = 0;
    this._currentLocalID = 0;
    this._worldID = 0;
    this._parentID = 0;
  }
  onChange() {
    this._localID++;
  }
  updateSkew() {
    this._cx = Math.cos(this._rotation + this.skew.y);
    this._sx = Math.sin(this._rotation + this.skew.y);
    this._cy = -Math.sin(this._rotation - this.skew.x);
    this._sy = Math.cos(this._rotation - this.skew.x);
    this._localID++;
  }
  toString() {
    return `[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`;
  }
  updateLocalTransform() {
    const lt = this.localTransform;
    if (this._localID !== this._currentLocalID) {
      lt.a = this._cx * this.scale.x;
      lt.b = this._sx * this.scale.x;
      lt.c = this._cy * this.scale.y;
      lt.d = this._sy * this.scale.y;
      lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);
      lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);
      this._currentLocalID = this._localID;
      this._parentID = -1;
    }
  }
  updateTransform(parentTransform) {
    const lt = this.localTransform;
    if (this._localID !== this._currentLocalID) {
      lt.a = this._cx * this.scale.x;
      lt.b = this._sx * this.scale.x;
      lt.c = this._cy * this.scale.y;
      lt.d = this._sy * this.scale.y;
      lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);
      lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);
      this._currentLocalID = this._localID;
      this._parentID = -1;
    }
    if (this._parentID !== parentTransform._worldID) {
      const pt = parentTransform.worldTransform;
      const wt = this.worldTransform;
      wt.a = lt.a * pt.a + lt.b * pt.c;
      wt.b = lt.a * pt.b + lt.b * pt.d;
      wt.c = lt.c * pt.a + lt.d * pt.c;
      wt.d = lt.c * pt.b + lt.d * pt.d;
      wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;
      wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;
      this._parentID = parentTransform._worldID;
      this._worldID++;
    }
  }
  setFromMatrix(matrix) {
    matrix.decompose(this);
    this._localID++;
  }
  get rotation() {
    return this._rotation;
  }
  set rotation(value) {
    if (this._rotation !== value) {
      this._rotation = value;
      this.updateSkew();
    }
  }
};
let Transform = _Transform;
Transform.IDENTITY = new _Transform();


//# sourceMappingURL=Transform.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/const.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/math/lib/const.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEG_TO_RAD": () => (/* binding */ DEG_TO_RAD),
/* harmony export */   "PI_2": () => (/* binding */ PI_2),
/* harmony export */   "RAD_TO_DEG": () => (/* binding */ RAD_TO_DEG),
/* harmony export */   "SHAPES": () => (/* binding */ SHAPES)
/* harmony export */ });
const PI_2 = Math.PI * 2;
const RAD_TO_DEG = 180 / Math.PI;
const DEG_TO_RAD = Math.PI / 180;
var SHAPES = /* @__PURE__ */ ((SHAPES2) => {
  SHAPES2[SHAPES2["POLY"] = 0] = "POLY";
  SHAPES2[SHAPES2["RECT"] = 1] = "RECT";
  SHAPES2[SHAPES2["CIRC"] = 2] = "CIRC";
  SHAPES2[SHAPES2["ELIP"] = 3] = "ELIP";
  SHAPES2[SHAPES2["RREC"] = 4] = "RREC";
  return SHAPES2;
})(SHAPES || {});


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/groupD8.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/math/lib/groupD8.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "groupD8": () => (/* binding */ groupD8)
/* harmony export */ });
/* harmony import */ var _Matrix_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Matrix.mjs */ "./node_modules/@pixi/math/lib/Matrix.mjs");


const ux = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1];
const uy = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1];
const vx = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1];
const vy = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1];
const rotationCayley = [];
const rotationMatrices = [];
const signum = Math.sign;
function init() {
  for (let i = 0; i < 16; i++) {
    const row = [];
    rotationCayley.push(row);
    for (let j = 0; j < 16; j++) {
      const _ux = signum(ux[i] * ux[j] + vx[i] * uy[j]);
      const _uy = signum(uy[i] * ux[j] + vy[i] * uy[j]);
      const _vx = signum(ux[i] * vx[j] + vx[i] * vy[j]);
      const _vy = signum(uy[i] * vx[j] + vy[i] * vy[j]);
      for (let k = 0; k < 16; k++) {
        if (ux[k] === _ux && uy[k] === _uy && vx[k] === _vx && vy[k] === _vy) {
          row.push(k);
          break;
        }
      }
    }
  }
  for (let i = 0; i < 16; i++) {
    const mat = new _Matrix_mjs__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    mat.set(ux[i], uy[i], vx[i], vy[i], 0, 0);
    rotationMatrices.push(mat);
  }
}
init();
const groupD8 = {
  E: 0,
  SE: 1,
  S: 2,
  SW: 3,
  W: 4,
  NW: 5,
  N: 6,
  NE: 7,
  MIRROR_VERTICAL: 8,
  MAIN_DIAGONAL: 10,
  MIRROR_HORIZONTAL: 12,
  REVERSE_DIAGONAL: 14,
  uX: (ind) => ux[ind],
  uY: (ind) => uy[ind],
  vX: (ind) => vx[ind],
  vY: (ind) => vy[ind],
  inv: (rotation) => {
    if (rotation & 8) {
      return rotation & 15;
    }
    return -rotation & 7;
  },
  add: (rotationSecond, rotationFirst) => rotationCayley[rotationSecond][rotationFirst],
  sub: (rotationSecond, rotationFirst) => rotationCayley[rotationSecond][groupD8.inv(rotationFirst)],
  rotate180: (rotation) => rotation ^ 4,
  isVertical: (rotation) => (rotation & 3) === 2,
  byDirection: (dx, dy) => {
    if (Math.abs(dx) * 2 <= Math.abs(dy)) {
      if (dy >= 0) {
        return groupD8.S;
      }
      return groupD8.N;
    } else if (Math.abs(dy) * 2 <= Math.abs(dx)) {
      if (dx > 0) {
        return groupD8.E;
      }
      return groupD8.W;
    } else if (dy > 0) {
      if (dx > 0) {
        return groupD8.SE;
      }
      return groupD8.SW;
    } else if (dx > 0) {
      return groupD8.NE;
    }
    return groupD8.NW;
  },
  matrixAppendRotationInv: (matrix, rotation, tx = 0, ty = 0) => {
    const mat = rotationMatrices[groupD8.inv(rotation)];
    mat.tx = tx;
    mat.ty = ty;
    matrix.append(mat);
  }
};


//# sourceMappingURL=groupD8.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/index.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/math/lib/index.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Circle": () => (/* reexport safe */ _shapes_Circle_mjs__WEBPACK_IMPORTED_MODULE_0__.Circle),
/* harmony export */   "DEG_TO_RAD": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_12__.DEG_TO_RAD),
/* harmony export */   "Ellipse": () => (/* reexport safe */ _shapes_Ellipse_mjs__WEBPACK_IMPORTED_MODULE_1__.Ellipse),
/* harmony export */   "Matrix": () => (/* reexport safe */ _Matrix_mjs__WEBPACK_IMPORTED_MODULE_9__.Matrix),
/* harmony export */   "ObservablePoint": () => (/* reexport safe */ _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_8__.ObservablePoint),
/* harmony export */   "PI_2": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_12__.PI_2),
/* harmony export */   "Point": () => (/* reexport safe */ _Point_mjs__WEBPACK_IMPORTED_MODULE_7__.Point),
/* harmony export */   "Polygon": () => (/* reexport safe */ _shapes_Polygon_mjs__WEBPACK_IMPORTED_MODULE_2__.Polygon),
/* harmony export */   "RAD_TO_DEG": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_12__.RAD_TO_DEG),
/* harmony export */   "Rectangle": () => (/* reexport safe */ _shapes_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_3__.Rectangle),
/* harmony export */   "RoundedRectangle": () => (/* reexport safe */ _shapes_RoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_4__.RoundedRectangle),
/* harmony export */   "SHAPES": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_12__.SHAPES),
/* harmony export */   "Transform": () => (/* reexport safe */ _Transform_mjs__WEBPACK_IMPORTED_MODULE_11__.Transform),
/* harmony export */   "groupD8": () => (/* reexport safe */ _groupD8_mjs__WEBPACK_IMPORTED_MODULE_10__.groupD8)
/* harmony export */ });
/* harmony import */ var _shapes_Circle_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shapes/Circle.mjs */ "./node_modules/@pixi/math/lib/shapes/Circle.mjs");
/* harmony import */ var _shapes_Ellipse_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shapes/Ellipse.mjs */ "./node_modules/@pixi/math/lib/shapes/Ellipse.mjs");
/* harmony import */ var _shapes_Polygon_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shapes/Polygon.mjs */ "./node_modules/@pixi/math/lib/shapes/Polygon.mjs");
/* harmony import */ var _shapes_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shapes/Rectangle.mjs */ "./node_modules/@pixi/math/lib/shapes/Rectangle.mjs");
/* harmony import */ var _shapes_RoundedRectangle_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shapes/RoundedRectangle.mjs */ "./node_modules/@pixi/math/lib/shapes/RoundedRectangle.mjs");
/* harmony import */ var _IPointData_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./IPointData.mjs */ "./node_modules/@pixi/math/lib/IPointData.mjs");
/* harmony import */ var _IPoint_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./IPoint.mjs */ "./node_modules/@pixi/math/lib/IPoint.mjs");
/* harmony import */ var _Point_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Point.mjs */ "./node_modules/@pixi/math/lib/Point.mjs");
/* harmony import */ var _ObservablePoint_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ObservablePoint.mjs */ "./node_modules/@pixi/math/lib/ObservablePoint.mjs");
/* harmony import */ var _Matrix_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Matrix.mjs */ "./node_modules/@pixi/math/lib/Matrix.mjs");
/* harmony import */ var _groupD8_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./groupD8.mjs */ "./node_modules/@pixi/math/lib/groupD8.mjs");
/* harmony import */ var _Transform_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Transform.mjs */ "./node_modules/@pixi/math/lib/Transform.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");













//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/shapes/Circle.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/math/lib/shapes/Circle.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Circle": () => (/* binding */ Circle)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");
/* harmony import */ var _Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Rectangle.mjs */ "./node_modules/@pixi/math/lib/shapes/Rectangle.mjs");



class Circle {
  constructor(x = 0, y = 0, radius = 0) {
    this.x = x;
    this.y = y;
    this.radius = radius;
    this.type = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.SHAPES.CIRC;
  }
  clone() {
    return new Circle(this.x, this.y, this.radius);
  }
  contains(x, y) {
    if (this.radius <= 0) {
      return false;
    }
    const r2 = this.radius * this.radius;
    let dx = this.x - x;
    let dy = this.y - y;
    dx *= dx;
    dy *= dy;
    return dx + dy <= r2;
  }
  getBounds() {
    return new _Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__.Rectangle(this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2);
  }
  toString() {
    return `[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`;
  }
}


//# sourceMappingURL=Circle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/shapes/Ellipse.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/math/lib/shapes/Ellipse.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Ellipse": () => (/* binding */ Ellipse)
/* harmony export */ });
/* harmony import */ var _Rectangle_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Rectangle.mjs */ "./node_modules/@pixi/math/lib/shapes/Rectangle.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");



class Ellipse {
  constructor(x = 0, y = 0, halfWidth = 0, halfHeight = 0) {
    this.x = x;
    this.y = y;
    this.width = halfWidth;
    this.height = halfHeight;
    this.type = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.SHAPES.ELIP;
  }
  clone() {
    return new Ellipse(this.x, this.y, this.width, this.height);
  }
  contains(x, y) {
    if (this.width <= 0 || this.height <= 0) {
      return false;
    }
    let normx = (x - this.x) / this.width;
    let normy = (y - this.y) / this.height;
    normx *= normx;
    normy *= normy;
    return normx + normy <= 1;
  }
  getBounds() {
    return new _Rectangle_mjs__WEBPACK_IMPORTED_MODULE_0__.Rectangle(this.x - this.width, this.y - this.height, this.width, this.height);
  }
  toString() {
    return `[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;
  }
}


//# sourceMappingURL=Ellipse.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/shapes/Polygon.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/math/lib/shapes/Polygon.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Polygon": () => (/* binding */ Polygon)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");


class Polygon {
  constructor(...points) {
    let flat = Array.isArray(points[0]) ? points[0] : points;
    if (typeof flat[0] !== "number") {
      const p = [];
      for (let i = 0, il = flat.length; i < il; i++) {
        p.push(flat[i].x, flat[i].y);
      }
      flat = p;
    }
    this.points = flat;
    this.type = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.SHAPES.POLY;
    this.closeStroke = true;
  }
  clone() {
    const points = this.points.slice();
    const polygon = new Polygon(points);
    polygon.closeStroke = this.closeStroke;
    return polygon;
  }
  contains(x, y) {
    let inside = false;
    const length = this.points.length / 2;
    for (let i = 0, j = length - 1; i < length; j = i++) {
      const xi = this.points[i * 2];
      const yi = this.points[i * 2 + 1];
      const xj = this.points[j * 2];
      const yj = this.points[j * 2 + 1];
      const intersect = yi > y !== yj > y && x < (xj - xi) * ((y - yi) / (yj - yi)) + xi;
      if (intersect) {
        inside = !inside;
      }
    }
    return inside;
  }
  toString() {
    return `[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((pointsDesc, currentPoint) => `${pointsDesc}, ${currentPoint}`, "")}]`;
  }
}


//# sourceMappingURL=Polygon.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/shapes/Rectangle.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/math/lib/shapes/Rectangle.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Rectangle": () => (/* binding */ Rectangle)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");
/* harmony import */ var _Point_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Point.mjs */ "./node_modules/@pixi/math/lib/Point.mjs");



const tempPoints = [new _Point_mjs__WEBPACK_IMPORTED_MODULE_1__.Point(), new _Point_mjs__WEBPACK_IMPORTED_MODULE_1__.Point(), new _Point_mjs__WEBPACK_IMPORTED_MODULE_1__.Point(), new _Point_mjs__WEBPACK_IMPORTED_MODULE_1__.Point()];
class Rectangle {
  constructor(x = 0, y = 0, width = 0, height = 0) {
    this.x = Number(x);
    this.y = Number(y);
    this.width = Number(width);
    this.height = Number(height);
    this.type = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.SHAPES.RECT;
  }
  get left() {
    return this.x;
  }
  get right() {
    return this.x + this.width;
  }
  get top() {
    return this.y;
  }
  get bottom() {
    return this.y + this.height;
  }
  static get EMPTY() {
    return new Rectangle(0, 0, 0, 0);
  }
  clone() {
    return new Rectangle(this.x, this.y, this.width, this.height);
  }
  copyFrom(rectangle) {
    this.x = rectangle.x;
    this.y = rectangle.y;
    this.width = rectangle.width;
    this.height = rectangle.height;
    return this;
  }
  copyTo(rectangle) {
    rectangle.x = this.x;
    rectangle.y = this.y;
    rectangle.width = this.width;
    rectangle.height = this.height;
    return rectangle;
  }
  contains(x, y) {
    if (this.width <= 0 || this.height <= 0) {
      return false;
    }
    if (x >= this.x && x < this.x + this.width) {
      if (y >= this.y && y < this.y + this.height) {
        return true;
      }
    }
    return false;
  }
  intersects(other, transform) {
    if (!transform) {
      const x02 = this.x < other.x ? other.x : this.x;
      const x12 = this.right > other.right ? other.right : this.right;
      if (x12 <= x02) {
        return false;
      }
      const y02 = this.y < other.y ? other.y : this.y;
      const y12 = this.bottom > other.bottom ? other.bottom : this.bottom;
      return y12 > y02;
    }
    const x0 = this.left;
    const x1 = this.right;
    const y0 = this.top;
    const y1 = this.bottom;
    if (x1 <= x0 || y1 <= y0) {
      return false;
    }
    const lt = tempPoints[0].set(other.left, other.top);
    const lb = tempPoints[1].set(other.left, other.bottom);
    const rt = tempPoints[2].set(other.right, other.top);
    const rb = tempPoints[3].set(other.right, other.bottom);
    if (rt.x <= lt.x || lb.y <= lt.y) {
      return false;
    }
    const s = Math.sign(transform.a * transform.d - transform.b * transform.c);
    if (s === 0) {
      return false;
    }
    transform.apply(lt, lt);
    transform.apply(lb, lb);
    transform.apply(rt, rt);
    transform.apply(rb, rb);
    if (Math.max(lt.x, lb.x, rt.x, rb.x) <= x0 || Math.min(lt.x, lb.x, rt.x, rb.x) >= x1 || Math.max(lt.y, lb.y, rt.y, rb.y) <= y0 || Math.min(lt.y, lb.y, rt.y, rb.y) >= y1) {
      return false;
    }
    const nx = s * (lb.y - lt.y);
    const ny = s * (lt.x - lb.x);
    const n00 = nx * x0 + ny * y0;
    const n10 = nx * x1 + ny * y0;
    const n01 = nx * x0 + ny * y1;
    const n11 = nx * x1 + ny * y1;
    if (Math.max(n00, n10, n01, n11) <= nx * lt.x + ny * lt.y || Math.min(n00, n10, n01, n11) >= nx * rb.x + ny * rb.y) {
      return false;
    }
    const mx = s * (lt.y - rt.y);
    const my = s * (rt.x - lt.x);
    const m00 = mx * x0 + my * y0;
    const m10 = mx * x1 + my * y0;
    const m01 = mx * x0 + my * y1;
    const m11 = mx * x1 + my * y1;
    if (Math.max(m00, m10, m01, m11) <= mx * lt.x + my * lt.y || Math.min(m00, m10, m01, m11) >= mx * rb.x + my * rb.y) {
      return false;
    }
    return true;
  }
  pad(paddingX = 0, paddingY = paddingX) {
    this.x -= paddingX;
    this.y -= paddingY;
    this.width += paddingX * 2;
    this.height += paddingY * 2;
    return this;
  }
  fit(rectangle) {
    const x1 = Math.max(this.x, rectangle.x);
    const x2 = Math.min(this.x + this.width, rectangle.x + rectangle.width);
    const y1 = Math.max(this.y, rectangle.y);
    const y2 = Math.min(this.y + this.height, rectangle.y + rectangle.height);
    this.x = x1;
    this.width = Math.max(x2 - x1, 0);
    this.y = y1;
    this.height = Math.max(y2 - y1, 0);
    return this;
  }
  ceil(resolution = 1, eps = 1e-3) {
    const x2 = Math.ceil((this.x + this.width - eps) * resolution) / resolution;
    const y2 = Math.ceil((this.y + this.height - eps) * resolution) / resolution;
    this.x = Math.floor((this.x + eps) * resolution) / resolution;
    this.y = Math.floor((this.y + eps) * resolution) / resolution;
    this.width = x2 - this.x;
    this.height = y2 - this.y;
    return this;
  }
  enlarge(rectangle) {
    const x1 = Math.min(this.x, rectangle.x);
    const x2 = Math.max(this.x + this.width, rectangle.x + rectangle.width);
    const y1 = Math.min(this.y, rectangle.y);
    const y2 = Math.max(this.y + this.height, rectangle.y + rectangle.height);
    this.x = x1;
    this.width = x2 - x1;
    this.y = y1;
    this.height = y2 - y1;
    return this;
  }
  toString() {
    return `[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;
  }
}


//# sourceMappingURL=Rectangle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/math/lib/shapes/RoundedRectangle.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/math/lib/shapes/RoundedRectangle.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RoundedRectangle": () => (/* binding */ RoundedRectangle)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/math/lib/const.mjs");


class RoundedRectangle {
  constructor(x = 0, y = 0, width = 0, height = 0, radius = 20) {
    this.x = x;
    this.y = y;
    this.width = width;
    this.height = height;
    this.radius = radius;
    this.type = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.SHAPES.RREC;
  }
  clone() {
    return new RoundedRectangle(this.x, this.y, this.width, this.height, this.radius);
  }
  contains(x, y) {
    if (this.width <= 0 || this.height <= 0) {
      return false;
    }
    if (x >= this.x && x <= this.x + this.width) {
      if (y >= this.y && y <= this.y + this.height) {
        const radius = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));
        if (y >= this.y + radius && y <= this.y + this.height - radius || x >= this.x + radius && x <= this.x + this.width - radius) {
          return true;
        }
        let dx = x - (this.x + radius);
        let dy = y - (this.y + radius);
        const radius2 = radius * radius;
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
        dx = x - (this.x + this.width - radius);
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
        dy = y - (this.y + this.height - radius);
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
        dx = x - (this.x + radius);
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
      }
    }
    return false;
  }
  toString() {
    return `[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`;
  }
}


//# sourceMappingURL=RoundedRectangle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/NineSlicePlane.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/NineSlicePlane.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NineSlicePlane": () => (/* binding */ NineSlicePlane)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _SimplePlane_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SimplePlane.mjs */ "./node_modules/@pixi/mesh-extras/lib/SimplePlane.mjs");



const DEFAULT_BORDER_SIZE = 10;
class NineSlicePlane extends _SimplePlane_mjs__WEBPACK_IMPORTED_MODULE_1__.SimplePlane {
  constructor(texture, leftWidth = DEFAULT_BORDER_SIZE, topHeight = DEFAULT_BORDER_SIZE, rightWidth = DEFAULT_BORDER_SIZE, bottomHeight = DEFAULT_BORDER_SIZE) {
    super(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE, 4, 4);
    this._origWidth = texture.orig.width;
    this._origHeight = texture.orig.height;
    this._width = this._origWidth;
    this._height = this._origHeight;
    this._leftWidth = leftWidth;
    this._rightWidth = rightWidth;
    this._topHeight = topHeight;
    this._bottomHeight = bottomHeight;
    this.texture = texture;
  }
  textureUpdated() {
    this._textureID = this.shader.texture._updateID;
    this._refresh();
  }
  get vertices() {
    return this.geometry.getBuffer("aVertexPosition").data;
  }
  set vertices(value) {
    this.geometry.getBuffer("aVertexPosition").data = value;
  }
  updateHorizontalVertices() {
    const vertices = this.vertices;
    const scale = this._getMinScale();
    vertices[9] = vertices[11] = vertices[13] = vertices[15] = this._topHeight * scale;
    vertices[17] = vertices[19] = vertices[21] = vertices[23] = this._height - this._bottomHeight * scale;
    vertices[25] = vertices[27] = vertices[29] = vertices[31] = this._height;
  }
  updateVerticalVertices() {
    const vertices = this.vertices;
    const scale = this._getMinScale();
    vertices[2] = vertices[10] = vertices[18] = vertices[26] = this._leftWidth * scale;
    vertices[4] = vertices[12] = vertices[20] = vertices[28] = this._width - this._rightWidth * scale;
    vertices[6] = vertices[14] = vertices[22] = vertices[30] = this._width;
  }
  _getMinScale() {
    const w = this._leftWidth + this._rightWidth;
    const scaleW = this._width > w ? 1 : this._width / w;
    const h = this._topHeight + this._bottomHeight;
    const scaleH = this._height > h ? 1 : this._height / h;
    const scale = Math.min(scaleW, scaleH);
    return scale;
  }
  get width() {
    return this._width;
  }
  set width(value) {
    this._width = value;
    this._refresh();
  }
  get height() {
    return this._height;
  }
  set height(value) {
    this._height = value;
    this._refresh();
  }
  get leftWidth() {
    return this._leftWidth;
  }
  set leftWidth(value) {
    this._leftWidth = value;
    this._refresh();
  }
  get rightWidth() {
    return this._rightWidth;
  }
  set rightWidth(value) {
    this._rightWidth = value;
    this._refresh();
  }
  get topHeight() {
    return this._topHeight;
  }
  set topHeight(value) {
    this._topHeight = value;
    this._refresh();
  }
  get bottomHeight() {
    return this._bottomHeight;
  }
  set bottomHeight(value) {
    this._bottomHeight = value;
    this._refresh();
  }
  _refresh() {
    const texture = this.texture;
    const uvs = this.geometry.buffers[1].data;
    this._origWidth = texture.orig.width;
    this._origHeight = texture.orig.height;
    const _uvw = 1 / this._origWidth;
    const _uvh = 1 / this._origHeight;
    uvs[0] = uvs[8] = uvs[16] = uvs[24] = 0;
    uvs[1] = uvs[3] = uvs[5] = uvs[7] = 0;
    uvs[6] = uvs[14] = uvs[22] = uvs[30] = 1;
    uvs[25] = uvs[27] = uvs[29] = uvs[31] = 1;
    uvs[2] = uvs[10] = uvs[18] = uvs[26] = _uvw * this._leftWidth;
    uvs[4] = uvs[12] = uvs[20] = uvs[28] = 1 - _uvw * this._rightWidth;
    uvs[9] = uvs[11] = uvs[13] = uvs[15] = _uvh * this._topHeight;
    uvs[17] = uvs[19] = uvs[21] = uvs[23] = 1 - _uvh * this._bottomHeight;
    this.updateHorizontalVertices();
    this.updateVerticalVertices();
    this.geometry.buffers[0].update();
    this.geometry.buffers[1].update();
  }
}


//# sourceMappingURL=NineSlicePlane.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/SimpleMesh.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/SimpleMesh.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SimpleMesh": () => (/* binding */ SimpleMesh)
/* harmony export */ });
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");



class SimpleMesh extends _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh {
  constructor(texture = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Texture.EMPTY, vertices, uvs, indices, drawMode) {
    const geometry = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.MeshGeometry(vertices, uvs, indices);
    geometry.getBuffer("aVertexPosition").static = false;
    const meshMaterial = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.MeshMaterial(texture);
    super(geometry, meshMaterial, null, drawMode);
    this.autoUpdate = true;
  }
  get vertices() {
    return this.geometry.getBuffer("aVertexPosition").data;
  }
  set vertices(value) {
    this.geometry.getBuffer("aVertexPosition").data = value;
  }
  _render(renderer) {
    if (this.autoUpdate) {
      this.geometry.getBuffer("aVertexPosition").update();
    }
    super._render(renderer);
  }
}


//# sourceMappingURL=SimpleMesh.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/SimplePlane.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/SimplePlane.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SimplePlane": () => (/* binding */ SimplePlane)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");
/* harmony import */ var _geometry_PlaneGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./geometry/PlaneGeometry.mjs */ "./node_modules/@pixi/mesh-extras/lib/geometry/PlaneGeometry.mjs");




class SimplePlane extends _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__.Mesh {
  constructor(texture, verticesX, verticesY) {
    const planeGeometry = new _geometry_PlaneGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__.PlaneGeometry(texture.width, texture.height, verticesX, verticesY);
    const meshMaterial = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_1__.MeshMaterial(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.WHITE);
    super(planeGeometry, meshMaterial);
    this.texture = texture;
    this.autoResize = true;
  }
  textureUpdated() {
    this._textureID = this.shader.texture._updateID;
    const geometry = this.geometry;
    const { width, height } = this.shader.texture;
    if (this.autoResize && (geometry.width !== width || geometry.height !== height)) {
      geometry.width = this.shader.texture.width;
      geometry.height = this.shader.texture.height;
      geometry.build();
    }
  }
  set texture(value) {
    if (this.shader.texture === value) {
      return;
    }
    this.shader.texture = value;
    this._textureID = -1;
    if (value.baseTexture.valid) {
      this.textureUpdated();
    } else {
      value.once("update", this.textureUpdated, this);
    }
  }
  get texture() {
    return this.shader.texture;
  }
  _render(renderer) {
    if (this._textureID !== this.shader.texture._updateID) {
      this.textureUpdated();
    }
    super._render(renderer);
  }
  destroy(options) {
    this.shader.texture.off("update", this.textureUpdated, this);
    super.destroy(options);
  }
}


//# sourceMappingURL=SimplePlane.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/SimpleRope.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/SimpleRope.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SimpleRope": () => (/* binding */ SimpleRope)
/* harmony export */ });
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _geometry_RopeGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./geometry/RopeGeometry.mjs */ "./node_modules/@pixi/mesh-extras/lib/geometry/RopeGeometry.mjs");




class SimpleRope extends _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh {
  constructor(texture, points, textureScale = 0) {
    const ropeGeometry = new _geometry_RopeGeometry_mjs__WEBPACK_IMPORTED_MODULE_2__.RopeGeometry(texture.height, points, textureScale);
    const meshMaterial = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.MeshMaterial(texture);
    if (textureScale > 0) {
      texture.baseTexture.wrapMode = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.WRAP_MODES.REPEAT;
    }
    super(ropeGeometry, meshMaterial);
    this.autoUpdate = true;
  }
  _render(renderer) {
    const geometry = this.geometry;
    if (this.autoUpdate || geometry._width !== this.shader.texture.height) {
      geometry._width = this.shader.texture.height;
      geometry.update();
    }
    super._render(renderer);
  }
}


//# sourceMappingURL=SimpleRope.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/geometry/PlaneGeometry.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/geometry/PlaneGeometry.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlaneGeometry": () => (/* binding */ PlaneGeometry)
/* harmony export */ });
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");


class PlaneGeometry extends _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.MeshGeometry {
  constructor(width = 100, height = 100, segWidth = 10, segHeight = 10) {
    super();
    this.segWidth = segWidth;
    this.segHeight = segHeight;
    this.width = width;
    this.height = height;
    this.build();
  }
  build() {
    const total = this.segWidth * this.segHeight;
    const verts = [];
    const uvs = [];
    const indices = [];
    const segmentsX = this.segWidth - 1;
    const segmentsY = this.segHeight - 1;
    const sizeX = this.width / segmentsX;
    const sizeY = this.height / segmentsY;
    for (let i = 0; i < total; i++) {
      const x = i % this.segWidth;
      const y = i / this.segWidth | 0;
      verts.push(x * sizeX, y * sizeY);
      uvs.push(x / segmentsX, y / segmentsY);
    }
    const totalSub = segmentsX * segmentsY;
    for (let i = 0; i < totalSub; i++) {
      const xpos = i % segmentsX;
      const ypos = i / segmentsX | 0;
      const value = ypos * this.segWidth + xpos;
      const value2 = ypos * this.segWidth + xpos + 1;
      const value3 = (ypos + 1) * this.segWidth + xpos;
      const value4 = (ypos + 1) * this.segWidth + xpos + 1;
      indices.push(value, value2, value3, value2, value4, value3);
    }
    this.buffers[0].data = new Float32Array(verts);
    this.buffers[1].data = new Float32Array(uvs);
    this.indexBuffer.data = new Uint16Array(indices);
    this.buffers[0].update();
    this.buffers[1].update();
    this.indexBuffer.update();
  }
}


//# sourceMappingURL=PlaneGeometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/geometry/RopeGeometry.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/geometry/RopeGeometry.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RopeGeometry": () => (/* binding */ RopeGeometry)
/* harmony export */ });
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");


class RopeGeometry extends _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.MeshGeometry {
  constructor(width = 200, points, textureScale = 0) {
    super(new Float32Array(points.length * 4), new Float32Array(points.length * 4), new Uint16Array((points.length - 1) * 6));
    this.points = points;
    this._width = width;
    this.textureScale = textureScale;
    this.build();
  }
  get width() {
    return this._width;
  }
  build() {
    const points = this.points;
    if (!points)
      return;
    const vertexBuffer = this.getBuffer("aVertexPosition");
    const uvBuffer = this.getBuffer("aTextureCoord");
    const indexBuffer = this.getIndex();
    if (points.length < 1) {
      return;
    }
    if (vertexBuffer.data.length / 4 !== points.length) {
      vertexBuffer.data = new Float32Array(points.length * 4);
      uvBuffer.data = new Float32Array(points.length * 4);
      indexBuffer.data = new Uint16Array((points.length - 1) * 6);
    }
    const uvs = uvBuffer.data;
    const indices = indexBuffer.data;
    uvs[0] = 0;
    uvs[1] = 0;
    uvs[2] = 0;
    uvs[3] = 1;
    let amount = 0;
    let prev = points[0];
    const textureWidth = this._width * this.textureScale;
    const total = points.length;
    for (let i = 0; i < total; i++) {
      const index = i * 4;
      if (this.textureScale > 0) {
        const dx = prev.x - points[i].x;
        const dy = prev.y - points[i].y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        prev = points[i];
        amount += distance / textureWidth;
      } else {
        amount = i / (total - 1);
      }
      uvs[index] = amount;
      uvs[index + 1] = 0;
      uvs[index + 2] = amount;
      uvs[index + 3] = 1;
    }
    let indexCount = 0;
    for (let i = 0; i < total - 1; i++) {
      const index = i * 2;
      indices[indexCount++] = index;
      indices[indexCount++] = index + 1;
      indices[indexCount++] = index + 2;
      indices[indexCount++] = index + 2;
      indices[indexCount++] = index + 1;
      indices[indexCount++] = index + 3;
    }
    uvBuffer.update();
    indexBuffer.update();
    this.updateVertices();
  }
  updateVertices() {
    const points = this.points;
    if (points.length < 1) {
      return;
    }
    let lastPoint = points[0];
    let nextPoint;
    let perpX = 0;
    let perpY = 0;
    const vertices = this.buffers[0].data;
    const total = points.length;
    for (let i = 0; i < total; i++) {
      const point = points[i];
      const index = i * 4;
      if (i < points.length - 1) {
        nextPoint = points[i + 1];
      } else {
        nextPoint = point;
      }
      perpY = -(nextPoint.x - lastPoint.x);
      perpX = nextPoint.y - lastPoint.y;
      let ratio = (1 - i / (total - 1)) * 10;
      if (ratio > 1) {
        ratio = 1;
      }
      const perpLength = Math.sqrt(perpX * perpX + perpY * perpY);
      const num = this.textureScale > 0 ? this.textureScale * this._width / 2 : this._width / 2;
      perpX /= perpLength;
      perpY /= perpLength;
      perpX *= num;
      perpY *= num;
      vertices[index] = point.x + perpX;
      vertices[index + 1] = point.y + perpY;
      vertices[index + 2] = point.x - perpX;
      vertices[index + 3] = point.y - perpY;
      lastPoint = point;
    }
    this.buffers[0].update();
  }
  update() {
    if (this.textureScale > 0) {
      this.build();
    } else {
      this.updateVertices();
    }
  }
}


//# sourceMappingURL=RopeGeometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh-extras/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/mesh-extras/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NineSlicePlane": () => (/* reexport safe */ _NineSlicePlane_mjs__WEBPACK_IMPORTED_MODULE_5__.NineSlicePlane),
/* harmony export */   "PlaneGeometry": () => (/* reexport safe */ _geometry_PlaneGeometry_mjs__WEBPACK_IMPORTED_MODULE_0__.PlaneGeometry),
/* harmony export */   "RopeGeometry": () => (/* reexport safe */ _geometry_RopeGeometry_mjs__WEBPACK_IMPORTED_MODULE_1__.RopeGeometry),
/* harmony export */   "SimpleMesh": () => (/* reexport safe */ _SimpleMesh_mjs__WEBPACK_IMPORTED_MODULE_4__.SimpleMesh),
/* harmony export */   "SimplePlane": () => (/* reexport safe */ _SimplePlane_mjs__WEBPACK_IMPORTED_MODULE_3__.SimplePlane),
/* harmony export */   "SimpleRope": () => (/* reexport safe */ _SimpleRope_mjs__WEBPACK_IMPORTED_MODULE_2__.SimpleRope)
/* harmony export */ });
/* harmony import */ var _geometry_PlaneGeometry_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geometry/PlaneGeometry.mjs */ "./node_modules/@pixi/mesh-extras/lib/geometry/PlaneGeometry.mjs");
/* harmony import */ var _geometry_RopeGeometry_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geometry/RopeGeometry.mjs */ "./node_modules/@pixi/mesh-extras/lib/geometry/RopeGeometry.mjs");
/* harmony import */ var _SimpleRope_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SimpleRope.mjs */ "./node_modules/@pixi/mesh-extras/lib/SimpleRope.mjs");
/* harmony import */ var _SimplePlane_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SimplePlane.mjs */ "./node_modules/@pixi/mesh-extras/lib/SimplePlane.mjs");
/* harmony import */ var _SimpleMesh_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SimpleMesh.mjs */ "./node_modules/@pixi/mesh-extras/lib/SimpleMesh.mjs");
/* harmony import */ var _NineSlicePlane_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./NineSlicePlane.mjs */ "./node_modules/@pixi/mesh-extras/lib/NineSlicePlane.mjs");






//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/Mesh.mjs":
/*!**********************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/Mesh.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Mesh": () => (/* binding */ Mesh)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _MeshBatchUvs_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MeshBatchUvs.mjs */ "./node_modules/@pixi/mesh/lib/MeshBatchUvs.mjs");




const tempPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
const tempPolygon = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Polygon();
const _Mesh = class extends _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container {
  constructor(geometry, shader, state, drawMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLES) {
    super();
    this.geometry = geometry;
    this.shader = shader;
    this.state = state || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.State.for2d();
    this.drawMode = drawMode;
    this.start = 0;
    this.size = 0;
    this.uvs = null;
    this.indices = null;
    this.vertexData = new Float32Array(1);
    this.vertexDirty = -1;
    this._transformID = -1;
    this._roundPixels = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ROUND_PIXELS;
    this.batchUvs = null;
  }
  get geometry() {
    return this._geometry;
  }
  set geometry(value) {
    if (this._geometry === value) {
      return;
    }
    if (this._geometry) {
      this._geometry.refCount--;
      if (this._geometry.refCount === 0) {
        this._geometry.dispose();
      }
    }
    this._geometry = value;
    if (this._geometry) {
      this._geometry.refCount++;
    }
    this.vertexDirty = -1;
  }
  get uvBuffer() {
    return this.geometry.buffers[1];
  }
  get verticesBuffer() {
    return this.geometry.buffers[0];
  }
  set material(value) {
    this.shader = value;
  }
  get material() {
    return this.shader;
  }
  set blendMode(value) {
    this.state.blendMode = value;
  }
  get blendMode() {
    return this.state.blendMode;
  }
  set roundPixels(value) {
    if (this._roundPixels !== value) {
      this._transformID = -1;
    }
    this._roundPixels = value;
  }
  get roundPixels() {
    return this._roundPixels;
  }
  get tint() {
    return "tint" in this.shader ? this.shader.tint : null;
  }
  set tint(value) {
    this.shader.tint = value;
  }
  get texture() {
    return "texture" in this.shader ? this.shader.texture : null;
  }
  set texture(value) {
    this.shader.texture = value;
  }
  _render(renderer) {
    const vertices = this.geometry.buffers[0].data;
    const shader = this.shader;
    if (shader.batchable && this.drawMode === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.DRAW_MODES.TRIANGLES && vertices.length < _Mesh.BATCHABLE_SIZE * 2) {
      this._renderToBatch(renderer);
    } else {
      this._renderDefault(renderer);
    }
  }
  _renderDefault(renderer) {
    const shader = this.shader;
    shader.alpha = this.worldAlpha;
    if (shader.update) {
      shader.update();
    }
    renderer.batch.flush();
    shader.uniforms.translationMatrix = this.transform.worldTransform.toArray(true);
    renderer.shader.bind(shader);
    renderer.state.set(this.state);
    renderer.geometry.bind(this.geometry, shader);
    renderer.geometry.draw(this.drawMode, this.size, this.start, this.geometry.instanceCount);
  }
  _renderToBatch(renderer) {
    const geometry = this.geometry;
    const shader = this.shader;
    if (shader.uvMatrix) {
      shader.uvMatrix.update();
      this.calculateUvs();
    }
    this.calculateVertices();
    this.indices = geometry.indexBuffer.data;
    this._tintRGB = shader._tintRGB;
    this._texture = shader.texture;
    const pluginName = this.material.pluginName;
    renderer.batch.setObjectRenderer(renderer.plugins[pluginName]);
    renderer.plugins[pluginName].render(this);
  }
  calculateVertices() {
    const geometry = this.geometry;
    const verticesBuffer = geometry.buffers[0];
    const vertices = verticesBuffer.data;
    const vertexDirtyId = verticesBuffer._updateID;
    if (vertexDirtyId === this.vertexDirty && this._transformID === this.transform._worldID) {
      return;
    }
    this._transformID = this.transform._worldID;
    if (this.vertexData.length !== vertices.length) {
      this.vertexData = new Float32Array(vertices.length);
    }
    const wt = this.transform.worldTransform;
    const a = wt.a;
    const b = wt.b;
    const c = wt.c;
    const d = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const vertexData = this.vertexData;
    for (let i = 0; i < vertexData.length / 2; i++) {
      const x = vertices[i * 2];
      const y = vertices[i * 2 + 1];
      vertexData[i * 2] = a * x + c * y + tx;
      vertexData[i * 2 + 1] = b * x + d * y + ty;
    }
    if (this._roundPixels) {
      const resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION;
      for (let i = 0; i < vertexData.length; ++i) {
        vertexData[i] = Math.round(vertexData[i] * resolution) / resolution;
      }
    }
    this.vertexDirty = vertexDirtyId;
  }
  calculateUvs() {
    const geomUvs = this.geometry.buffers[1];
    const shader = this.shader;
    if (!shader.uvMatrix.isSimple) {
      if (!this.batchUvs) {
        this.batchUvs = new _MeshBatchUvs_mjs__WEBPACK_IMPORTED_MODULE_2__.MeshBatchUvs(geomUvs, shader.uvMatrix);
      }
      this.batchUvs.update();
      this.uvs = this.batchUvs.data;
    } else {
      this.uvs = geomUvs.data;
    }
  }
  _calculateBounds() {
    this.calculateVertices();
    this._bounds.addVertexData(this.vertexData, 0, this.vertexData.length);
  }
  containsPoint(point) {
    if (!this.getBounds().contains(point.x, point.y)) {
      return false;
    }
    this.worldTransform.applyInverse(point, tempPoint);
    const vertices = this.geometry.getBuffer("aVertexPosition").data;
    const points = tempPolygon.points;
    const indices = this.geometry.getIndex().data;
    const len = indices.length;
    const step = this.drawMode === 4 ? 3 : 1;
    for (let i = 0; i + 2 < len; i += step) {
      const ind0 = indices[i] * 2;
      const ind1 = indices[i + 1] * 2;
      const ind2 = indices[i + 2] * 2;
      points[0] = vertices[ind0];
      points[1] = vertices[ind0 + 1];
      points[2] = vertices[ind1];
      points[3] = vertices[ind1 + 1];
      points[4] = vertices[ind2];
      points[5] = vertices[ind2 + 1];
      if (tempPolygon.contains(tempPoint.x, tempPoint.y)) {
        return true;
      }
    }
    return false;
  }
  destroy(options) {
    super.destroy(options);
    if (this._cachedTexture) {
      this._cachedTexture.destroy();
      this._cachedTexture = null;
    }
    this.geometry = null;
    this.shader = null;
    this.state = null;
    this.uvs = null;
    this.indices = null;
    this.vertexData = null;
  }
};
let Mesh = _Mesh;
Mesh.BATCHABLE_SIZE = 100;


//# sourceMappingURL=Mesh.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/MeshBatchUvs.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/MeshBatchUvs.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MeshBatchUvs": () => (/* binding */ MeshBatchUvs)
/* harmony export */ });
class MeshBatchUvs {
  constructor(uvBuffer, uvMatrix) {
    this.uvBuffer = uvBuffer;
    this.uvMatrix = uvMatrix;
    this.data = null;
    this._bufferUpdateId = -1;
    this._textureUpdateId = -1;
    this._updateID = 0;
  }
  update(forceUpdate) {
    if (!forceUpdate && this._bufferUpdateId === this.uvBuffer._updateID && this._textureUpdateId === this.uvMatrix._updateID) {
      return;
    }
    this._bufferUpdateId = this.uvBuffer._updateID;
    this._textureUpdateId = this.uvMatrix._updateID;
    const data = this.uvBuffer.data;
    if (!this.data || this.data.length !== data.length) {
      this.data = new Float32Array(data.length);
    }
    this.uvMatrix.multiplyUvs(data, this.data);
    this._updateID++;
  }
}


//# sourceMappingURL=MeshBatchUvs.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/MeshGeometry.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/MeshGeometry.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MeshGeometry": () => (/* binding */ MeshGeometry)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class MeshGeometry extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Geometry {
  constructor(vertices, uvs, index) {
    super();
    const verticesBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(vertices);
    const uvsBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(uvs, true);
    const indexBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(index, true, true);
    this.addAttribute("aVertexPosition", verticesBuffer, 2, false, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT).addAttribute("aTextureCoord", uvsBuffer, 2, false, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT).addIndex(indexBuffer);
    this._updateId = -1;
  }
  get vertexDirtyId() {
    return this.buffers[0]._updateID;
  }
}


//# sourceMappingURL=MeshGeometry.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/MeshMaterial.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/MeshMaterial.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MeshMaterial": () => (/* binding */ MeshMaterial)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _shader_mesh_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shader/mesh.mjs */ "./node_modules/@pixi/mesh/lib/shader/mesh.mjs");
/* harmony import */ var _shader_mesh2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shader/mesh2.mjs */ "./node_modules/@pixi/mesh/lib/shader/mesh2.mjs");




class MeshMaterial extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader {
  constructor(uSampler, options) {
    const uniforms = {
      uSampler,
      alpha: 1,
      uTextureMatrix: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix.IDENTITY,
      uColor: new Float32Array([1, 1, 1, 1])
    };
    options = Object.assign({
      tint: 16777215,
      alpha: 1,
      pluginName: "batch"
    }, options);
    if (options.uniforms) {
      Object.assign(uniforms, options.uniforms);
    }
    super(options.program || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Program.from(_shader_mesh2_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], _shader_mesh_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]), uniforms);
    this._colorDirty = false;
    this.uvMatrix = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TextureMatrix(uSampler);
    this.batchable = options.program === void 0;
    this.pluginName = options.pluginName;
    this.tint = options.tint;
    this.alpha = options.alpha;
  }
  get texture() {
    return this.uniforms.uSampler;
  }
  set texture(value) {
    if (this.uniforms.uSampler !== value) {
      if (!this.uniforms.uSampler.baseTexture.alphaMode !== !value.baseTexture.alphaMode) {
        this._colorDirty = true;
      }
      this.uniforms.uSampler = value;
      this.uvMatrix.texture = value;
    }
  }
  set alpha(value) {
    if (value === this._alpha)
      return;
    this._alpha = value;
    this._colorDirty = true;
  }
  get alpha() {
    return this._alpha;
  }
  set tint(value) {
    if (value === this._tint)
      return;
    this._tint = value;
    this._tintRGB = (value >> 16) + (value & 65280) + ((value & 255) << 16);
    this._colorDirty = true;
  }
  get tint() {
    return this._tint;
  }
  update() {
    if (this._colorDirty) {
      this._colorDirty = false;
      const baseTexture = this.texture.baseTexture;
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.premultiplyTintToRgba(this._tint, this._alpha, this.uniforms.uColor, baseTexture.alphaMode);
    }
    if (this.uvMatrix.update()) {
      this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord;
    }
  }
}


//# sourceMappingURL=MeshMaterial.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/index.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/index.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Mesh": () => (/* reexport safe */ _Mesh_mjs__WEBPACK_IMPORTED_MODULE_0__.Mesh),
/* harmony export */   "MeshBatchUvs": () => (/* reexport safe */ _MeshBatchUvs_mjs__WEBPACK_IMPORTED_MODULE_1__.MeshBatchUvs),
/* harmony export */   "MeshGeometry": () => (/* reexport safe */ _MeshGeometry_mjs__WEBPACK_IMPORTED_MODULE_3__.MeshGeometry),
/* harmony export */   "MeshMaterial": () => (/* reexport safe */ _MeshMaterial_mjs__WEBPACK_IMPORTED_MODULE_2__.MeshMaterial)
/* harmony export */ });
/* harmony import */ var _Mesh_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Mesh.mjs */ "./node_modules/@pixi/mesh/lib/Mesh.mjs");
/* harmony import */ var _MeshBatchUvs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MeshBatchUvs.mjs */ "./node_modules/@pixi/mesh/lib/MeshBatchUvs.mjs");
/* harmony import */ var _MeshMaterial_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MeshMaterial.mjs */ "./node_modules/@pixi/mesh/lib/MeshMaterial.mjs");
/* harmony import */ var _MeshGeometry_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MeshGeometry.mjs */ "./node_modules/@pixi/mesh/lib/MeshGeometry.mjs");




//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/shader/mesh.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/shader/mesh.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n";


//# sourceMappingURL=mesh.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mesh/lib/shader/mesh2.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/mesh/lib/shader/mesh2.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ vertex)
/* harmony export */ });
var vertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n";


//# sourceMappingURL=mesh2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mixin-cache-as-bitmap/lib/index.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/mixin-cache-as-bitmap/lib/index.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CacheData": () => (/* binding */ CacheData)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");




const _tempMatrix = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix();
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._cacheAsBitmap = false;
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._cacheData = null;
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._cacheAsBitmapResolution = null;
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._cacheAsBitmapMultisample = null;
class CacheData {
  constructor() {
    this.textureCacheId = null;
    this.originalRender = null;
    this.originalRenderCanvas = null;
    this.originalCalculateBounds = null;
    this.originalGetLocalBounds = null;
    this.originalUpdateTransform = null;
    this.originalDestroy = null;
    this.originalMask = null;
    this.originalFilterArea = null;
    this.originalContainsPoint = null;
    this.sprite = null;
  }
}
Object.defineProperties(_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype, {
  cacheAsBitmapResolution: {
    get() {
      return this._cacheAsBitmapResolution;
    },
    set(resolution) {
      if (resolution === this._cacheAsBitmapResolution) {
        return;
      }
      this._cacheAsBitmapResolution = resolution;
      if (this.cacheAsBitmap) {
        this.cacheAsBitmap = false;
        this.cacheAsBitmap = true;
      }
    }
  },
  cacheAsBitmapMultisample: {
    get() {
      return this._cacheAsBitmapMultisample;
    },
    set(multisample) {
      if (multisample === this._cacheAsBitmapMultisample) {
        return;
      }
      this._cacheAsBitmapMultisample = multisample;
      if (this.cacheAsBitmap) {
        this.cacheAsBitmap = false;
        this.cacheAsBitmap = true;
      }
    }
  },
  cacheAsBitmap: {
    get() {
      return this._cacheAsBitmap;
    },
    set(value) {
      if (this._cacheAsBitmap === value) {
        return;
      }
      this._cacheAsBitmap = value;
      let data;
      if (value) {
        if (!this._cacheData) {
          this._cacheData = new CacheData();
        }
        data = this._cacheData;
        data.originalRender = this.render;
        data.originalRenderCanvas = this.renderCanvas;
        data.originalUpdateTransform = this.updateTransform;
        data.originalCalculateBounds = this.calculateBounds;
        data.originalGetLocalBounds = this.getLocalBounds;
        data.originalDestroy = this.destroy;
        data.originalContainsPoint = this.containsPoint;
        data.originalMask = this._mask;
        data.originalFilterArea = this.filterArea;
        this.render = this._renderCached;
        this.renderCanvas = this._renderCachedCanvas;
        this.destroy = this._cacheAsBitmapDestroy;
      } else {
        data = this._cacheData;
        if (data.sprite) {
          this._destroyCachedDisplayObject();
        }
        this.render = data.originalRender;
        this.renderCanvas = data.originalRenderCanvas;
        this.calculateBounds = data.originalCalculateBounds;
        this.getLocalBounds = data.originalGetLocalBounds;
        this.destroy = data.originalDestroy;
        this.updateTransform = data.originalUpdateTransform;
        this.containsPoint = data.originalContainsPoint;
        this._mask = data.originalMask;
        this.filterArea = data.originalFilterArea;
      }
    }
  }
});
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._renderCached = function _renderCached(renderer) {
  if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
    return;
  }
  this._initCachedDisplayObject(renderer);
  this._cacheData.sprite.transform._worldID = this.transform._worldID;
  this._cacheData.sprite.worldAlpha = this.worldAlpha;
  this._cacheData.sprite._render(renderer);
};
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._initCachedDisplayObject = function _initCachedDisplayObject(renderer) {
  if (this._cacheData?.sprite) {
    return;
  }
  const cacheAlpha = this.alpha;
  this.alpha = 1;
  renderer.batch.flush();
  const bounds = this.getLocalBounds(null, true).clone();
  if (this.filters?.length) {
    const padding = this.filters[0].padding;
    bounds.pad(padding);
  }
  bounds.ceil(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION);
  const cachedRenderTexture = renderer.renderTexture.current;
  const cachedSourceFrame = renderer.renderTexture.sourceFrame.clone();
  const cachedDestinationFrame = renderer.renderTexture.destinationFrame.clone();
  const cachedProjectionTransform = renderer.projection.transform;
  const renderTexture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RenderTexture.create({
    width: bounds.width,
    height: bounds.height,
    resolution: this.cacheAsBitmapResolution || renderer.resolution,
    multisample: this.cacheAsBitmapMultisample ?? renderer.multisample
  });
  const textureCacheId = `cacheAsBitmap_${_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.uid()}`;
  this._cacheData.textureCacheId = textureCacheId;
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture.addToCache(renderTexture.baseTexture, textureCacheId);
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.addToCache(renderTexture, textureCacheId);
  const m = this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-bounds.x, -bounds.y);
  this.render = this._cacheData.originalRender;
  renderer.render(this, { renderTexture, clear: true, transform: m, skipUpdateTransform: false });
  renderer.framebuffer.blit();
  renderer.projection.transform = cachedProjectionTransform;
  renderer.renderTexture.bind(cachedRenderTexture, cachedSourceFrame, cachedDestinationFrame);
  this.render = this._renderCached;
  this.updateTransform = this.displayObjectUpdateTransform;
  this.calculateBounds = this._calculateCachedBounds;
  this.getLocalBounds = this._getCachedLocalBounds;
  this._mask = null;
  this.filterArea = null;
  this.alpha = cacheAlpha;
  const cachedSprite = new _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__.Sprite(renderTexture);
  cachedSprite.transform.worldTransform = this.transform.worldTransform;
  cachedSprite.anchor.x = -(bounds.x / bounds.width);
  cachedSprite.anchor.y = -(bounds.y / bounds.height);
  cachedSprite.alpha = cacheAlpha;
  cachedSprite._bounds = this._bounds;
  this._cacheData.sprite = cachedSprite;
  this.transform._parentID = -1;
  if (!this.parent) {
    this.enableTempParent();
    this.updateTransform();
    this.disableTempParent(null);
  } else {
    this.updateTransform();
  }
  this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);
};
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._renderCachedCanvas = function _renderCachedCanvas(renderer) {
  if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
    return;
  }
  this._initCachedDisplayObjectCanvas(renderer);
  this._cacheData.sprite.worldAlpha = this.worldAlpha;
  this._cacheData.sprite._renderCanvas(renderer);
};
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._initCachedDisplayObjectCanvas = function _initCachedDisplayObjectCanvas(renderer) {
  if (this._cacheData?.sprite) {
    return;
  }
  const bounds = this.getLocalBounds(null, true);
  const cacheAlpha = this.alpha;
  this.alpha = 1;
  const cachedRenderTarget = renderer.canvasContext.activeContext;
  const cachedProjectionTransform = renderer._projTransform;
  bounds.ceil(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION);
  const renderTexture = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.RenderTexture.create({ width: bounds.width, height: bounds.height });
  const textureCacheId = `cacheAsBitmap_${_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.uid()}`;
  this._cacheData.textureCacheId = textureCacheId;
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture.addToCache(renderTexture.baseTexture, textureCacheId);
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.addToCache(renderTexture, textureCacheId);
  const m = _tempMatrix;
  this.transform.localTransform.copyTo(m);
  m.invert();
  m.tx -= bounds.x;
  m.ty -= bounds.y;
  this.renderCanvas = this._cacheData.originalRenderCanvas;
  renderer.render(this, { renderTexture, clear: true, transform: m, skipUpdateTransform: false });
  renderer.canvasContext.activeContext = cachedRenderTarget;
  renderer._projTransform = cachedProjectionTransform;
  this.renderCanvas = this._renderCachedCanvas;
  this.updateTransform = this.displayObjectUpdateTransform;
  this.calculateBounds = this._calculateCachedBounds;
  this.getLocalBounds = this._getCachedLocalBounds;
  this._mask = null;
  this.filterArea = null;
  this.alpha = cacheAlpha;
  const cachedSprite = new _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__.Sprite(renderTexture);
  cachedSprite.transform.worldTransform = this.transform.worldTransform;
  cachedSprite.anchor.x = -(bounds.x / bounds.width);
  cachedSprite.anchor.y = -(bounds.y / bounds.height);
  cachedSprite.alpha = cacheAlpha;
  cachedSprite._bounds = this._bounds;
  this._cacheData.sprite = cachedSprite;
  this.transform._parentID = -1;
  if (!this.parent) {
    this.parent = renderer._tempDisplayObjectParent;
    this.updateTransform();
    this.parent = null;
  } else {
    this.updateTransform();
  }
  this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);
};
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._calculateCachedBounds = function _calculateCachedBounds() {
  this._bounds.clear();
  this._cacheData.sprite.transform._worldID = this.transform._worldID;
  this._cacheData.sprite._calculateBounds();
  this._bounds.updateID = this._boundsID;
};
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._getCachedLocalBounds = function _getCachedLocalBounds() {
  return this._cacheData.sprite.getLocalBounds(null);
};
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._destroyCachedDisplayObject = function _destroyCachedDisplayObject() {
  this._cacheData.sprite._texture.destroy(true);
  this._cacheData.sprite = null;
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture.removeFromCache(this._cacheData.textureCacheId);
  _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.removeFromCache(this._cacheData.textureCacheId);
  this._cacheData.textureCacheId = null;
};
_pixi_display__WEBPACK_IMPORTED_MODULE_2__.DisplayObject.prototype._cacheAsBitmapDestroy = function _cacheAsBitmapDestroy(options) {
  this.cacheAsBitmap = false;
  this.destroy(options);
};


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mixin-get-child-by-name/lib/index.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/mixin-get-child-by-name/lib/index.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");


_pixi_display__WEBPACK_IMPORTED_MODULE_0__.DisplayObject.prototype.name = null;
_pixi_display__WEBPACK_IMPORTED_MODULE_0__.Container.prototype.getChildByName = function getChildByName(name, deep) {
  for (let i = 0, j = this.children.length; i < j; i++) {
    if (this.children[i].name === name) {
      return this.children[i];
    }
  }
  if (deep) {
    for (let i = 0, j = this.children.length; i < j; i++) {
      const child = this.children[i];
      if (!child.getChildByName) {
        continue;
      }
      const target = child.getChildByName(name, true);
      if (target) {
        return target;
      }
    }
  }
  return null;
};
//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/mixin-get-global-position/lib/index.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@pixi/mixin-get-global-position/lib/index.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");



_pixi_display__WEBPACK_IMPORTED_MODULE_0__.DisplayObject.prototype.getGlobalPosition = function getGlobalPosition(point = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Point(), skipUpdate = false) {
  if (this.parent) {
    this.parent.toGlobal(this.position, point, skipUpdate);
  } else {
    point.x = this.position.x;
    point.y = this.position.y;
  }
  return point;
};
//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/ParticleBuffer.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/ParticleBuffer.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ParticleBuffer": () => (/* binding */ ParticleBuffer)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


class ParticleBuffer {
  constructor(properties, dynamicPropertyFlags, size) {
    this.geometry = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Geometry();
    this.indexBuffer = null;
    this.size = size;
    this.dynamicProperties = [];
    this.staticProperties = [];
    for (let i = 0; i < properties.length; ++i) {
      let property = properties[i];
      property = {
        attributeName: property.attributeName,
        size: property.size,
        uploadFunction: property.uploadFunction,
        type: property.type || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.FLOAT,
        offset: property.offset
      };
      if (dynamicPropertyFlags[i]) {
        this.dynamicProperties.push(property);
      } else {
        this.staticProperties.push(property);
      }
    }
    this.staticStride = 0;
    this.staticBuffer = null;
    this.staticData = null;
    this.staticDataUint32 = null;
    this.dynamicStride = 0;
    this.dynamicBuffer = null;
    this.dynamicData = null;
    this.dynamicDataUint32 = null;
    this._updateID = 0;
    this.initBuffers();
  }
  initBuffers() {
    const geometry = this.geometry;
    let dynamicOffset = 0;
    this.indexBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.createIndicesForQuads(this.size), true, true);
    geometry.addIndex(this.indexBuffer);
    this.dynamicStride = 0;
    for (let i = 0; i < this.dynamicProperties.length; ++i) {
      const property = this.dynamicProperties[i];
      property.offset = dynamicOffset;
      dynamicOffset += property.size;
      this.dynamicStride += property.size;
    }
    const dynBuffer = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
    this.dynamicData = new Float32Array(dynBuffer);
    this.dynamicDataUint32 = new Uint32Array(dynBuffer);
    this.dynamicBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(this.dynamicData, false, false);
    let staticOffset = 0;
    this.staticStride = 0;
    for (let i = 0; i < this.staticProperties.length; ++i) {
      const property = this.staticProperties[i];
      property.offset = staticOffset;
      staticOffset += property.size;
      this.staticStride += property.size;
    }
    const statBuffer = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
    this.staticData = new Float32Array(statBuffer);
    this.staticDataUint32 = new Uint32Array(statBuffer);
    this.staticBuffer = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Buffer(this.staticData, true, false);
    for (let i = 0; i < this.dynamicProperties.length; ++i) {
      const property = this.dynamicProperties[i];
      geometry.addAttribute(property.attributeName, this.dynamicBuffer, 0, property.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE, property.type, this.dynamicStride * 4, property.offset * 4);
    }
    for (let i = 0; i < this.staticProperties.length; ++i) {
      const property = this.staticProperties[i];
      geometry.addAttribute(property.attributeName, this.staticBuffer, 0, property.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE, property.type, this.staticStride * 4, property.offset * 4);
    }
  }
  uploadDynamic(children, startIndex, amount) {
    for (let i = 0; i < this.dynamicProperties.length; i++) {
      const property = this.dynamicProperties[i];
      property.uploadFunction(children, startIndex, amount, property.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, property.offset);
    }
    this.dynamicBuffer._updateID++;
  }
  uploadStatic(children, startIndex, amount) {
    for (let i = 0; i < this.staticProperties.length; i++) {
      const property = this.staticProperties[i];
      property.uploadFunction(children, startIndex, amount, property.type === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE ? this.staticDataUint32 : this.staticData, this.staticStride, property.offset);
    }
    this.staticBuffer._updateID++;
  }
  destroy() {
    this.indexBuffer = null;
    this.dynamicProperties = null;
    this.dynamicBuffer = null;
    this.dynamicData = null;
    this.dynamicDataUint32 = null;
    this.staticProperties = null;
    this.staticBuffer = null;
    this.staticData = null;
    this.staticDataUint32 = null;
    this.geometry.destroy();
  }
}


//# sourceMappingURL=ParticleBuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/ParticleContainer.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/ParticleContainer.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ParticleContainer": () => (/* binding */ ParticleContainer)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");



class ParticleContainer extends _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container {
  constructor(maxSize = 1500, properties, batchSize = 16384, autoResize = false) {
    super();
    const maxBatchSize = 16384;
    if (batchSize > maxBatchSize) {
      batchSize = maxBatchSize;
    }
    this._properties = [false, true, false, false, false];
    this._maxSize = maxSize;
    this._batchSize = batchSize;
    this._buffers = null;
    this._bufferUpdateIDs = [];
    this._updateID = 0;
    this.interactiveChildren = false;
    this.blendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL;
    this.autoResize = autoResize;
    this.roundPixels = true;
    this.baseTexture = null;
    this.setProperties(properties);
    this._tint = 0;
    this.tintRgb = new Float32Array(4);
    this.tint = 16777215;
  }
  setProperties(properties) {
    if (properties) {
      this._properties[0] = "vertices" in properties || "scale" in properties ? !!properties.vertices || !!properties.scale : this._properties[0];
      this._properties[1] = "position" in properties ? !!properties.position : this._properties[1];
      this._properties[2] = "rotation" in properties ? !!properties.rotation : this._properties[2];
      this._properties[3] = "uvs" in properties ? !!properties.uvs : this._properties[3];
      this._properties[4] = "tint" in properties || "alpha" in properties ? !!properties.tint || !!properties.alpha : this._properties[4];
    }
  }
  updateTransform() {
    this.displayObjectUpdateTransform();
  }
  get tint() {
    return this._tint;
  }
  set tint(value) {
    this._tint = value;
    _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.hex2rgb(value, this.tintRgb);
  }
  render(renderer) {
    if (!this.visible || this.worldAlpha <= 0 || !this.children.length || !this.renderable) {
      return;
    }
    if (!this.baseTexture) {
      this.baseTexture = this.children[0]._texture.baseTexture;
      if (!this.baseTexture.valid) {
        this.baseTexture.once("update", () => this.onChildrenChange(0));
      }
    }
    renderer.batch.setObjectRenderer(renderer.plugins.particle);
    renderer.plugins.particle.render(this);
  }
  onChildrenChange(smallestChildIndex) {
    const bufferIndex = Math.floor(smallestChildIndex / this._batchSize);
    while (this._bufferUpdateIDs.length < bufferIndex) {
      this._bufferUpdateIDs.push(0);
    }
    this._bufferUpdateIDs[bufferIndex] = ++this._updateID;
  }
  dispose() {
    if (this._buffers) {
      for (let i = 0; i < this._buffers.length; ++i) {
        this._buffers[i].destroy();
      }
      this._buffers = null;
    }
  }
  destroy(options) {
    super.destroy(options);
    this.dispose();
    this._properties = null;
    this._buffers = null;
    this._bufferUpdateIDs = null;
  }
}


//# sourceMappingURL=ParticleContainer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/ParticleRenderer.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/ParticleRenderer.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ParticleRenderer": () => (/* binding */ ParticleRenderer)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _ParticleBuffer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ParticleBuffer.mjs */ "./node_modules/@pixi/particle-container/lib/ParticleBuffer.mjs");
/* harmony import */ var _particles_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./particles.mjs */ "./node_modules/@pixi/particle-container/lib/particles.mjs");
/* harmony import */ var _particles2_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./particles2.mjs */ "./node_modules/@pixi/particle-container/lib/particles2.mjs");





class ParticleRenderer extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ObjectRenderer {
  constructor(renderer) {
    super(renderer);
    this.shader = null;
    this.properties = null;
    this.tempMatrix = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix();
    this.properties = [
      {
        attributeName: "aVertexPosition",
        size: 2,
        uploadFunction: this.uploadVertices,
        offset: 0
      },
      {
        attributeName: "aPositionCoord",
        size: 2,
        uploadFunction: this.uploadPosition,
        offset: 0
      },
      {
        attributeName: "aRotation",
        size: 1,
        uploadFunction: this.uploadRotation,
        offset: 0
      },
      {
        attributeName: "aTextureCoord",
        size: 2,
        uploadFunction: this.uploadUvs,
        offset: 0
      },
      {
        attributeName: "aColor",
        size: 1,
        type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TYPES.UNSIGNED_BYTE,
        uploadFunction: this.uploadTint,
        offset: 0
      }
    ];
    this.shader = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader.from(_particles2_mjs__WEBPACK_IMPORTED_MODULE_3__["default"], _particles_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], {});
    this.state = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.State.for2d();
  }
  render(container) {
    const children = container.children;
    const maxSize = container._maxSize;
    const batchSize = container._batchSize;
    const renderer = this.renderer;
    let totalChildren = children.length;
    if (totalChildren === 0) {
      return;
    } else if (totalChildren > maxSize && !container.autoResize) {
      totalChildren = maxSize;
    }
    let buffers = container._buffers;
    if (!buffers) {
      buffers = container._buffers = this.generateBuffers(container);
    }
    const baseTexture = children[0]._texture.baseTexture;
    const premultiplied = baseTexture.alphaMode > 0;
    this.state.blendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.correctBlendMode(container.blendMode, premultiplied);
    renderer.state.set(this.state);
    const gl = renderer.gl;
    const m = container.worldTransform.copyTo(this.tempMatrix);
    m.prepend(renderer.globalUniforms.uniforms.projectionMatrix);
    this.shader.uniforms.translationMatrix = m.toArray(true);
    this.shader.uniforms.uColor = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.premultiplyRgba(container.tintRgb, container.worldAlpha, this.shader.uniforms.uColor, premultiplied);
    this.shader.uniforms.uSampler = baseTexture;
    this.renderer.shader.bind(this.shader);
    let updateStatic = false;
    for (let i = 0, j = 0; i < totalChildren; i += batchSize, j += 1) {
      let amount = totalChildren - i;
      if (amount > batchSize) {
        amount = batchSize;
      }
      if (j >= buffers.length) {
        buffers.push(this._generateOneMoreBuffer(container));
      }
      const buffer = buffers[j];
      buffer.uploadDynamic(children, i, amount);
      const bid = container._bufferUpdateIDs[j] || 0;
      updateStatic = updateStatic || buffer._updateID < bid;
      if (updateStatic) {
        buffer._updateID = container._updateID;
        buffer.uploadStatic(children, i, amount);
      }
      renderer.geometry.bind(buffer.geometry);
      gl.drawElements(gl.TRIANGLES, amount * 6, gl.UNSIGNED_SHORT, 0);
    }
  }
  generateBuffers(container) {
    const buffers = [];
    const size = container._maxSize;
    const batchSize = container._batchSize;
    const dynamicPropertyFlags = container._properties;
    for (let i = 0; i < size; i += batchSize) {
      buffers.push(new _ParticleBuffer_mjs__WEBPACK_IMPORTED_MODULE_1__.ParticleBuffer(this.properties, dynamicPropertyFlags, batchSize));
    }
    return buffers;
  }
  _generateOneMoreBuffer(container) {
    const batchSize = container._batchSize;
    const dynamicPropertyFlags = container._properties;
    return new _ParticleBuffer_mjs__WEBPACK_IMPORTED_MODULE_1__.ParticleBuffer(this.properties, dynamicPropertyFlags, batchSize);
  }
  uploadVertices(children, startIndex, amount, array, stride, offset) {
    let w0 = 0;
    let w1 = 0;
    let h0 = 0;
    let h1 = 0;
    for (let i = 0; i < amount; ++i) {
      const sprite = children[startIndex + i];
      const texture = sprite._texture;
      const sx = sprite.scale.x;
      const sy = sprite.scale.y;
      const trim = texture.trim;
      const orig = texture.orig;
      if (trim) {
        w1 = trim.x - sprite.anchor.x * orig.width;
        w0 = w1 + trim.width;
        h1 = trim.y - sprite.anchor.y * orig.height;
        h0 = h1 + trim.height;
      } else {
        w0 = orig.width * (1 - sprite.anchor.x);
        w1 = orig.width * -sprite.anchor.x;
        h0 = orig.height * (1 - sprite.anchor.y);
        h1 = orig.height * -sprite.anchor.y;
      }
      array[offset] = w1 * sx;
      array[offset + 1] = h1 * sy;
      array[offset + stride] = w0 * sx;
      array[offset + stride + 1] = h1 * sy;
      array[offset + stride * 2] = w0 * sx;
      array[offset + stride * 2 + 1] = h0 * sy;
      array[offset + stride * 3] = w1 * sx;
      array[offset + stride * 3 + 1] = h0 * sy;
      offset += stride * 4;
    }
  }
  uploadPosition(children, startIndex, amount, array, stride, offset) {
    for (let i = 0; i < amount; i++) {
      const spritePosition = children[startIndex + i].position;
      array[offset] = spritePosition.x;
      array[offset + 1] = spritePosition.y;
      array[offset + stride] = spritePosition.x;
      array[offset + stride + 1] = spritePosition.y;
      array[offset + stride * 2] = spritePosition.x;
      array[offset + stride * 2 + 1] = spritePosition.y;
      array[offset + stride * 3] = spritePosition.x;
      array[offset + stride * 3 + 1] = spritePosition.y;
      offset += stride * 4;
    }
  }
  uploadRotation(children, startIndex, amount, array, stride, offset) {
    for (let i = 0; i < amount; i++) {
      const spriteRotation = children[startIndex + i].rotation;
      array[offset] = spriteRotation;
      array[offset + stride] = spriteRotation;
      array[offset + stride * 2] = spriteRotation;
      array[offset + stride * 3] = spriteRotation;
      offset += stride * 4;
    }
  }
  uploadUvs(children, startIndex, amount, array, stride, offset) {
    for (let i = 0; i < amount; ++i) {
      const textureUvs = children[startIndex + i]._texture._uvs;
      if (textureUvs) {
        array[offset] = textureUvs.x0;
        array[offset + 1] = textureUvs.y0;
        array[offset + stride] = textureUvs.x1;
        array[offset + stride + 1] = textureUvs.y1;
        array[offset + stride * 2] = textureUvs.x2;
        array[offset + stride * 2 + 1] = textureUvs.y2;
        array[offset + stride * 3] = textureUvs.x3;
        array[offset + stride * 3 + 1] = textureUvs.y3;
        offset += stride * 4;
      } else {
        array[offset] = 0;
        array[offset + 1] = 0;
        array[offset + stride] = 0;
        array[offset + stride + 1] = 0;
        array[offset + stride * 2] = 0;
        array[offset + stride * 2 + 1] = 0;
        array[offset + stride * 3] = 0;
        array[offset + stride * 3 + 1] = 0;
        offset += stride * 4;
      }
    }
  }
  uploadTint(children, startIndex, amount, array, stride, offset) {
    for (let i = 0; i < amount; ++i) {
      const sprite = children[startIndex + i];
      const premultiplied = sprite._texture.baseTexture.alphaMode > 0;
      const alpha = sprite.alpha;
      const argb = alpha < 1 && premultiplied ? _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.premultiplyTint(sprite._tintRGB, alpha) : sprite._tintRGB + (alpha * 255 << 24);
      array[offset] = argb;
      array[offset + stride] = argb;
      array[offset + stride * 2] = argb;
      array[offset + stride * 3] = argb;
      offset += stride * 4;
    }
  }
  destroy() {
    super.destroy();
    if (this.shader) {
      this.shader.destroy();
      this.shader = null;
    }
    this.tempMatrix = null;
  }
}
ParticleRenderer.extension = {
  name: "particle",
  type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererPlugin
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(ParticleRenderer);


//# sourceMappingURL=ParticleRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/index.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ParticleContainer": () => (/* reexport safe */ _ParticleContainer_mjs__WEBPACK_IMPORTED_MODULE_0__.ParticleContainer),
/* harmony export */   "ParticleRenderer": () => (/* reexport safe */ _ParticleRenderer_mjs__WEBPACK_IMPORTED_MODULE_1__.ParticleRenderer)
/* harmony export */ });
/* harmony import */ var _ParticleContainer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ParticleContainer.mjs */ "./node_modules/@pixi/particle-container/lib/ParticleContainer.mjs");
/* harmony import */ var _ParticleRenderer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ParticleRenderer.mjs */ "./node_modules/@pixi/particle-container/lib/ParticleRenderer.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/particles.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/particles.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragment)
/* harmony export */ });
var fragment = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}";


//# sourceMappingURL=particles.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/particle-container/lib/particles2.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/particle-container/lib/particles2.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ vertex)
/* harmony export */ });
var vertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n";


//# sourceMappingURL=particles2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/BasePrepare.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/BasePrepare.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BasePrepare": () => (/* binding */ BasePrepare)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _pixi_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/text */ "./node_modules/@pixi/text/lib/index.mjs");
/* harmony import */ var _CountLimiter_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CountLimiter.mjs */ "./node_modules/@pixi/prepare/lib/CountLimiter.mjs");





function findMultipleBaseTextures(item, queue) {
  let result = false;
  if (item?._textures?.length) {
    for (let i = 0; i < item._textures.length; i++) {
      if (item._textures[i] instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture) {
        const baseTexture = item._textures[i].baseTexture;
        if (!queue.includes(baseTexture)) {
          queue.push(baseTexture);
          result = true;
        }
      }
    }
  }
  return result;
}
function findBaseTexture(item, queue) {
  if (item.baseTexture instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture) {
    const texture = item.baseTexture;
    if (!queue.includes(texture)) {
      queue.push(texture);
    }
    return true;
  }
  return false;
}
function findTexture(item, queue) {
  if (item._texture && item._texture instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture) {
    const texture = item._texture.baseTexture;
    if (!queue.includes(texture)) {
      queue.push(texture);
    }
    return true;
  }
  return false;
}
function drawText(_helper, item) {
  if (item instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_2__.Text) {
    item.updateText(true);
    return true;
  }
  return false;
}
function calculateTextStyle(_helper, item) {
  if (item instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_2__.TextStyle) {
    const font = item.toFontString();
    _pixi_text__WEBPACK_IMPORTED_MODULE_2__.TextMetrics.measureFont(font);
    return true;
  }
  return false;
}
function findText(item, queue) {
  if (item instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_2__.Text) {
    if (!queue.includes(item.style)) {
      queue.push(item.style);
    }
    if (!queue.includes(item)) {
      queue.push(item);
    }
    const texture = item._texture.baseTexture;
    if (!queue.includes(texture)) {
      queue.push(texture);
    }
    return true;
  }
  return false;
}
function findTextStyle(item, queue) {
  if (item instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_2__.TextStyle) {
    if (!queue.includes(item)) {
      queue.push(item);
    }
    return true;
  }
  return false;
}
class BasePrepare {
  constructor(renderer) {
    this.limiter = new _CountLimiter_mjs__WEBPACK_IMPORTED_MODULE_3__.CountLimiter(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.UPLOADS_PER_FRAME);
    this.renderer = renderer;
    this.uploadHookHelper = null;
    this.queue = [];
    this.addHooks = [];
    this.uploadHooks = [];
    this.completes = [];
    this.ticking = false;
    this.delayedTick = () => {
      if (!this.queue) {
        return;
      }
      this.prepareItems();
    };
    this.registerFindHook(findText);
    this.registerFindHook(findTextStyle);
    this.registerFindHook(findMultipleBaseTextures);
    this.registerFindHook(findBaseTexture);
    this.registerFindHook(findTexture);
    this.registerUploadHook(drawText);
    this.registerUploadHook(calculateTextStyle);
  }
  upload(item) {
    return new Promise((resolve) => {
      if (item) {
        this.add(item);
      }
      if (this.queue.length) {
        this.completes.push(resolve);
        if (!this.ticking) {
          this.ticking = true;
          _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.system.addOnce(this.tick, this, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.UPDATE_PRIORITY.UTILITY);
        }
      } else {
        resolve();
      }
    });
  }
  tick() {
    setTimeout(this.delayedTick, 0);
  }
  prepareItems() {
    this.limiter.beginFrame();
    while (this.queue.length && this.limiter.allowedToUpload()) {
      const item = this.queue[0];
      let uploaded = false;
      if (item && !item._destroyed) {
        for (let i = 0, len = this.uploadHooks.length; i < len; i++) {
          if (this.uploadHooks[i](this.uploadHookHelper, item)) {
            this.queue.shift();
            uploaded = true;
            break;
          }
        }
      }
      if (!uploaded) {
        this.queue.shift();
      }
    }
    if (!this.queue.length) {
      this.ticking = false;
      const completes = this.completes.slice(0);
      this.completes.length = 0;
      for (let i = 0, len = completes.length; i < len; i++) {
        completes[i]();
      }
    } else {
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.system.addOnce(this.tick, this, _pixi_core__WEBPACK_IMPORTED_MODULE_0__.UPDATE_PRIORITY.UTILITY);
    }
  }
  registerFindHook(addHook) {
    if (addHook) {
      this.addHooks.push(addHook);
    }
    return this;
  }
  registerUploadHook(uploadHook) {
    if (uploadHook) {
      this.uploadHooks.push(uploadHook);
    }
    return this;
  }
  add(item) {
    for (let i = 0, len = this.addHooks.length; i < len; i++) {
      if (this.addHooks[i](item, this.queue)) {
        break;
      }
    }
    if (item instanceof _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container) {
      for (let i = item.children.length - 1; i >= 0; i--) {
        this.add(item.children[i]);
      }
    }
    return this;
  }
  destroy() {
    if (this.ticking) {
      _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Ticker.system.remove(this.tick, this);
    }
    this.ticking = false;
    this.addHooks = null;
    this.uploadHooks = null;
    this.renderer = null;
    this.completes = null;
    this.queue = null;
    this.limiter = null;
    this.uploadHookHelper = null;
  }
}


//# sourceMappingURL=BasePrepare.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/CountLimiter.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/CountLimiter.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CountLimiter": () => (/* binding */ CountLimiter)
/* harmony export */ });
class CountLimiter {
  constructor(maxItemsPerFrame) {
    this.maxItemsPerFrame = maxItemsPerFrame;
    this.itemsLeft = 0;
  }
  beginFrame() {
    this.itemsLeft = this.maxItemsPerFrame;
  }
  allowedToUpload() {
    return this.itemsLeft-- > 0;
  }
}


//# sourceMappingURL=CountLimiter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/Prepare.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/Prepare.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Prepare": () => (/* binding */ Prepare)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_graphics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/graphics */ "./node_modules/@pixi/graphics/lib/index.mjs");
/* harmony import */ var _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BasePrepare.mjs */ "./node_modules/@pixi/prepare/lib/BasePrepare.mjs");




function uploadBaseTextures(renderer, item) {
  if (item instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture) {
    if (!item._glTextures[renderer.CONTEXT_UID]) {
      renderer.texture.bind(item);
    }
    return true;
  }
  return false;
}
function uploadGraphics(renderer, item) {
  if (!(item instanceof _pixi_graphics__WEBPACK_IMPORTED_MODULE_1__.Graphics)) {
    return false;
  }
  const { geometry } = item;
  item.finishPoly();
  geometry.updateBatches();
  const { batches } = geometry;
  for (let i = 0; i < batches.length; i++) {
    const { texture } = batches[i].style;
    if (texture) {
      uploadBaseTextures(renderer, texture.baseTexture);
    }
  }
  if (!geometry.batchable) {
    renderer.geometry.bind(geometry, item._resolveDirectShader(renderer));
  }
  return true;
}
function findGraphics(item, queue) {
  if (item instanceof _pixi_graphics__WEBPACK_IMPORTED_MODULE_1__.Graphics) {
    queue.push(item);
    return true;
  }
  return false;
}
class Prepare extends _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_2__.BasePrepare {
  constructor(renderer) {
    super(renderer);
    this.uploadHookHelper = this.renderer;
    this.registerFindHook(findGraphics);
    this.registerUploadHook(uploadBaseTextures);
    this.registerUploadHook(uploadGraphics);
  }
}
Prepare.extension = {
  name: "prepare",
  type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererSystem
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(Prepare);


//# sourceMappingURL=Prepare.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/TimeLimiter.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/TimeLimiter.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TimeLimiter": () => (/* binding */ TimeLimiter)
/* harmony export */ });
class TimeLimiter {
  constructor(maxMilliseconds) {
    this.maxMilliseconds = maxMilliseconds;
    this.frameStart = 0;
  }
  beginFrame() {
    this.frameStart = Date.now();
  }
  allowedToUpload() {
    return Date.now() - this.frameStart < this.maxMilliseconds;
  }
}


//# sourceMappingURL=TimeLimiter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BasePrepare": () => (/* reexport safe */ _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_2__.BasePrepare),
/* harmony export */   "CountLimiter": () => (/* reexport safe */ _CountLimiter_mjs__WEBPACK_IMPORTED_MODULE_3__.CountLimiter),
/* harmony export */   "Prepare": () => (/* reexport safe */ _Prepare_mjs__WEBPACK_IMPORTED_MODULE_1__.Prepare),
/* harmony export */   "TimeLimiter": () => (/* reexport safe */ _TimeLimiter_mjs__WEBPACK_IMPORTED_MODULE_4__.TimeLimiter)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/prepare/lib/settings.mjs");
/* harmony import */ var _Prepare_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Prepare.mjs */ "./node_modules/@pixi/prepare/lib/Prepare.mjs");
/* harmony import */ var _BasePrepare_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BasePrepare.mjs */ "./node_modules/@pixi/prepare/lib/BasePrepare.mjs");
/* harmony import */ var _CountLimiter_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CountLimiter.mjs */ "./node_modules/@pixi/prepare/lib/CountLimiter.mjs");
/* harmony import */ var _TimeLimiter_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TimeLimiter.mjs */ "./node_modules/@pixi/prepare/lib/TimeLimiter.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/prepare/lib/settings.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/prepare/lib/settings.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "settings": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");



_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.UPLOADS_PER_FRAME = 4;
//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/runner/lib/Runner.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/runner/lib/Runner.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Runner": () => (/* binding */ Runner)
/* harmony export */ });
class Runner {
  constructor(name) {
    this.items = [];
    this._name = name;
    this._aliasCount = 0;
  }
  emit(a0, a1, a2, a3, a4, a5, a6, a7) {
    if (arguments.length > 8) {
      throw new Error("max arguments reached");
    }
    const { name, items } = this;
    this._aliasCount++;
    for (let i = 0, len = items.length; i < len; i++) {
      items[i][name](a0, a1, a2, a3, a4, a5, a6, a7);
    }
    if (items === this.items) {
      this._aliasCount--;
    }
    return this;
  }
  ensureNonAliasedItems() {
    if (this._aliasCount > 0 && this.items.length > 1) {
      this._aliasCount = 0;
      this.items = this.items.slice(0);
    }
  }
  add(item) {
    if (item[this._name]) {
      this.ensureNonAliasedItems();
      this.remove(item);
      this.items.push(item);
    }
    return this;
  }
  remove(item) {
    const index = this.items.indexOf(item);
    if (index !== -1) {
      this.ensureNonAliasedItems();
      this.items.splice(index, 1);
    }
    return this;
  }
  contains(item) {
    return this.items.includes(item);
  }
  removeAll() {
    this.ensureNonAliasedItems();
    this.items.length = 0;
    return this;
  }
  destroy() {
    this.removeAll();
    this.items = null;
    this._name = null;
  }
  get empty() {
    return this.items.length === 0;
  }
  get name() {
    return this._name;
  }
}
Object.defineProperties(Runner.prototype, {
  dispatch: { value: Runner.prototype.emit },
  run: { value: Runner.prototype.emit }
});


//# sourceMappingURL=Runner.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/runner/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/runner/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Runner": () => (/* reexport safe */ _Runner_mjs__WEBPACK_IMPORTED_MODULE_0__.Runner)
/* harmony export */ });
/* harmony import */ var _Runner_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Runner.mjs */ "./node_modules/@pixi/runner/lib/Runner.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/ICanvas.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/ICanvas.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=ICanvas.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/ICanvasRenderingContext2D.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/ICanvasRenderingContext2D.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=ICanvasRenderingContext2D.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/adapter.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/adapter.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BrowserAdapter": () => (/* binding */ BrowserAdapter)
/* harmony export */ });
const BrowserAdapter = {
  createCanvas: (width, height) => {
    const canvas = document.createElement("canvas");
    canvas.width = width;
    canvas.height = height;
    return canvas;
  },
  getWebGLRenderingContext: () => WebGLRenderingContext,
  getNavigator: () => navigator,
  getBaseUrl: () => document.baseURI ?? window.location.href,
  getFontFaceSet: () => document.fonts,
  fetch: (url, options) => fetch(url, options),
  parseXML: (xml) => {
    const parser = new DOMParser();
    return parser.parseFromString(xml, "text/xml");
  }
};


//# sourceMappingURL=adapter.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/external/ismobilejs/esm/index.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/external/ismobilejs/esm/index.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _isMobile_mjs__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _isMobile_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isMobile.mjs */ "./node_modules/@pixi/settings/lib/external/ismobilejs/esm/isMobile.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/external/ismobilejs/esm/isMobile.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/external/ismobilejs/esm/isMobile.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isMobile)
/* harmony export */ });
var appleIphone = /iPhone/i;
var appleIpod = /iPod/i;
var appleTablet = /iPad/i;
var appleUniversal = /\biOS-universal(?:.+)Mac\b/i;
var androidPhone = /\bAndroid(?:.+)Mobile\b/i;
var androidTablet = /Android/i;
var amazonPhone = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i;
var amazonTablet = /Silk/i;
var windowsPhone = /Windows Phone/i;
var windowsTablet = /\bWindows(?:.+)ARM\b/i;
var otherBlackBerry = /BlackBerry/i;
var otherBlackBerry10 = /BB10/i;
var otherOpera = /Opera Mini/i;
var otherChrome = /\b(CriOS|Chrome)(?:.+)Mobile/i;
var otherFirefox = /Mobile(?:.+)Firefox\b/i;
var isAppleTabletOnIos13 = function (navigator) {
    return (typeof navigator !== 'undefined' &&
        navigator.platform === 'MacIntel' &&
        typeof navigator.maxTouchPoints === 'number' &&
        navigator.maxTouchPoints > 1 &&
        typeof MSStream === 'undefined');
};
function createMatch(userAgent) {
    return function (regex) { return regex.test(userAgent); };
}
function isMobile(param) {
    var nav = {
        userAgent: '',
        platform: '',
        maxTouchPoints: 0
    };
    if (!param && typeof navigator !== 'undefined') {
        nav = {
            userAgent: navigator.userAgent,
            platform: navigator.platform,
            maxTouchPoints: navigator.maxTouchPoints || 0
        };
    }
    else if (typeof param === 'string') {
        nav.userAgent = param;
    }
    else if (param && param.userAgent) {
        nav = {
            userAgent: param.userAgent,
            platform: param.platform,
            maxTouchPoints: param.maxTouchPoints || 0
        };
    }
    var userAgent = nav.userAgent;
    var tmp = userAgent.split('[FBAN');
    if (typeof tmp[1] !== 'undefined') {
        userAgent = tmp[0];
    }
    tmp = userAgent.split('Twitter');
    if (typeof tmp[1] !== 'undefined') {
        userAgent = tmp[0];
    }
    var match = createMatch(userAgent);
    var result = {
        apple: {
            phone: match(appleIphone) && !match(windowsPhone),
            ipod: match(appleIpod),
            tablet: !match(appleIphone) &&
                (match(appleTablet) || isAppleTabletOnIos13(nav)) &&
                !match(windowsPhone),
            universal: match(appleUniversal),
            device: (match(appleIphone) ||
                match(appleIpod) ||
                match(appleTablet) ||
                match(appleUniversal) ||
                isAppleTabletOnIos13(nav)) &&
                !match(windowsPhone)
        },
        amazon: {
            phone: match(amazonPhone),
            tablet: !match(amazonPhone) && match(amazonTablet),
            device: match(amazonPhone) || match(amazonTablet)
        },
        android: {
            phone: (!match(windowsPhone) && match(amazonPhone)) ||
                (!match(windowsPhone) && match(androidPhone)),
            tablet: !match(windowsPhone) &&
                !match(amazonPhone) &&
                !match(androidPhone) &&
                (match(amazonTablet) || match(androidTablet)),
            device: (!match(windowsPhone) &&
                (match(amazonPhone) ||
                    match(amazonTablet) ||
                    match(androidPhone) ||
                    match(androidTablet))) ||
                match(/\bokhttp\b/i)
        },
        windows: {
            phone: match(windowsPhone),
            tablet: match(windowsTablet),
            device: match(windowsPhone) || match(windowsTablet)
        },
        other: {
            blackberry: match(otherBlackBerry),
            blackberry10: match(otherBlackBerry10),
            opera: match(otherOpera),
            firefox: match(otherFirefox),
            chrome: match(otherChrome),
            device: match(otherBlackBerry) ||
                match(otherBlackBerry10) ||
                match(otherOpera) ||
                match(otherFirefox) ||
                match(otherChrome)
        },
        any: false,
        phone: false,
        tablet: false
    };
    result.any =
        result.apple.device ||
            result.android.device ||
            result.windows.device ||
            result.other.device;
    result.phone =
        result.apple.phone || result.android.phone || result.windows.phone;
    result.tablet =
        result.apple.tablet || result.android.tablet || result.windows.tablet;
    return result;
}


//# sourceMappingURL=isMobile.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/index.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/index.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BrowserAdapter": () => (/* reexport safe */ _adapter_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserAdapter),
/* harmony export */   "isMobile": () => (/* reexport safe */ _utils_isMobile_mjs__WEBPACK_IMPORTED_MODULE_1__.isMobile),
/* harmony export */   "settings": () => (/* reexport safe */ _settings_mjs__WEBPACK_IMPORTED_MODULE_0__.settings)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/settings/lib/settings.mjs");
/* harmony import */ var _utils_isMobile_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/isMobile.mjs */ "./node_modules/@pixi/settings/lib/utils/isMobile.mjs");
/* harmony import */ var _adapter_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./adapter.mjs */ "./node_modules/@pixi/settings/lib/adapter.mjs");
/* harmony import */ var _ICanvas_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ICanvas.mjs */ "./node_modules/@pixi/settings/lib/ICanvas.mjs");
/* harmony import */ var _ICanvasRenderingContext2D_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ICanvasRenderingContext2D.mjs */ "./node_modules/@pixi/settings/lib/ICanvasRenderingContext2D.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/settings.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/settings.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "settings": () => (/* binding */ settings)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");
/* harmony import */ var _adapter_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adapter.mjs */ "./node_modules/@pixi/settings/lib/adapter.mjs");
/* harmony import */ var _utils_canUploadSameBuffer_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/canUploadSameBuffer.mjs */ "./node_modules/@pixi/settings/lib/utils/canUploadSameBuffer.mjs");
/* harmony import */ var _utils_isMobile_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/isMobile.mjs */ "./node_modules/@pixi/settings/lib/utils/isMobile.mjs");
/* harmony import */ var _utils_maxRecommendedTextures_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/maxRecommendedTextures.mjs */ "./node_modules/@pixi/settings/lib/utils/maxRecommendedTextures.mjs");






const settings = {
  ADAPTER: _adapter_mjs__WEBPACK_IMPORTED_MODULE_1__.BrowserAdapter,
  MIPMAP_TEXTURES: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MIPMAP_MODES.POW2,
  ANISOTROPIC_LEVEL: 0,
  RESOLUTION: 1,
  FILTER_RESOLUTION: 1,
  FILTER_MULTISAMPLE: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.MSAA_QUALITY.NONE,
  SPRITE_MAX_TEXTURES: (0,_utils_maxRecommendedTextures_mjs__WEBPACK_IMPORTED_MODULE_4__.maxRecommendedTextures)(32),
  SPRITE_BATCH_SIZE: 4096,
  RENDER_OPTIONS: {
    view: null,
    antialias: false,
    autoDensity: false,
    backgroundColor: 0,
    backgroundAlpha: 1,
    premultipliedAlpha: true,
    clearBeforeRender: true,
    preserveDrawingBuffer: false,
    width: 800,
    height: 600,
    legacy: false,
    hello: false
  },
  GC_MODE: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.GC_MODES.AUTO,
  GC_MAX_IDLE: 60 * 60,
  GC_MAX_CHECK_COUNT: 60 * 10,
  WRAP_MODE: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.CLAMP,
  SCALE_MODE: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.SCALE_MODES.LINEAR,
  PRECISION_VERTEX: _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH,
  PRECISION_FRAGMENT: _utils_isMobile_mjs__WEBPACK_IMPORTED_MODULE_3__.isMobile.apple.device ? _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.HIGH : _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.PRECISION.MEDIUM,
  CAN_UPLOAD_SAME_BUFFER: (0,_utils_canUploadSameBuffer_mjs__WEBPACK_IMPORTED_MODULE_2__.canUploadSameBuffer)(),
  CREATE_IMAGE_BITMAP: false,
  ROUND_PIXELS: false
};


//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/utils/canUploadSameBuffer.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/utils/canUploadSameBuffer.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "canUploadSameBuffer": () => (/* binding */ canUploadSameBuffer)
/* harmony export */ });
/* harmony import */ var _isMobile_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isMobile.mjs */ "./node_modules/@pixi/settings/lib/utils/isMobile.mjs");


function canUploadSameBuffer() {
  return !_isMobile_mjs__WEBPACK_IMPORTED_MODULE_0__.isMobile.apple.device;
}


//# sourceMappingURL=canUploadSameBuffer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/utils/isMobile.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/utils/isMobile.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isMobile": () => (/* binding */ isMobile)
/* harmony export */ });
/* harmony import */ var _external_ismobilejs_esm_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../external/ismobilejs/esm/index.mjs */ "./node_modules/@pixi/settings/lib/external/ismobilejs/esm/index.mjs");
/* harmony import */ var _external_ismobilejs_esm_isMobile_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../external/ismobilejs/esm/isMobile.mjs */ "./node_modules/@pixi/settings/lib/external/ismobilejs/esm/isMobile.mjs");



const isMobile = (0,_external_ismobilejs_esm_isMobile_mjs__WEBPACK_IMPORTED_MODULE_1__["default"])(globalThis.navigator);


//# sourceMappingURL=isMobile.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/settings/lib/utils/maxRecommendedTextures.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/settings/lib/utils/maxRecommendedTextures.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "maxRecommendedTextures": () => (/* binding */ maxRecommendedTextures)
/* harmony export */ });
/* harmony import */ var _isMobile_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isMobile.mjs */ "./node_modules/@pixi/settings/lib/utils/isMobile.mjs");


function maxRecommendedTextures(max) {
  let allowMax = true;
  if (_isMobile_mjs__WEBPACK_IMPORTED_MODULE_0__.isMobile.tablet || _isMobile_mjs__WEBPACK_IMPORTED_MODULE_0__.isMobile.phone) {
    if (_isMobile_mjs__WEBPACK_IMPORTED_MODULE_0__.isMobile.apple.device) {
      const match = navigator.userAgent.match(/OS (\d+)_(\d+)?/);
      if (match) {
        const majorVersion = parseInt(match[1], 10);
        if (majorVersion < 11) {
          allowMax = false;
        }
      }
    }
    if (_isMobile_mjs__WEBPACK_IMPORTED_MODULE_0__.isMobile.android.device) {
      const match = navigator.userAgent.match(/Android\s([0-9.]*)/);
      if (match) {
        const majorVersion = parseInt(match[1], 10);
        if (majorVersion < 7) {
          allowMax = false;
        }
      }
    }
  }
  return allowMax ? max : 4;
}


//# sourceMappingURL=maxRecommendedTextures.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-animated/lib/AnimatedSprite.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/sprite-animated/lib/AnimatedSprite.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AnimatedSprite": () => (/* binding */ AnimatedSprite)
/* harmony export */ });
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");



class AnimatedSprite extends _pixi_sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite {
  constructor(textures, autoUpdate = true) {
    super(textures[0] instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Texture ? textures[0] : textures[0].texture);
    this._textures = null;
    this._durations = null;
    this._autoUpdate = autoUpdate;
    this._isConnectedToTicker = false;
    this.animationSpeed = 1;
    this.loop = true;
    this.updateAnchor = false;
    this.onComplete = null;
    this.onFrameChange = null;
    this.onLoop = null;
    this._currentTime = 0;
    this._playing = false;
    this._previousFrame = null;
    this.textures = textures;
  }
  stop() {
    if (!this._playing) {
      return;
    }
    this._playing = false;
    if (this._autoUpdate && this._isConnectedToTicker) {
      _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Ticker.shared.remove(this.update, this);
      this._isConnectedToTicker = false;
    }
  }
  play() {
    if (this._playing) {
      return;
    }
    this._playing = true;
    if (this._autoUpdate && !this._isConnectedToTicker) {
      _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Ticker.shared.add(this.update, this, _pixi_core__WEBPACK_IMPORTED_MODULE_1__.UPDATE_PRIORITY.HIGH);
      this._isConnectedToTicker = true;
    }
  }
  gotoAndStop(frameNumber) {
    this.stop();
    this.currentFrame = frameNumber;
  }
  gotoAndPlay(frameNumber) {
    this.currentFrame = frameNumber;
    this.play();
  }
  update(deltaTime) {
    if (!this._playing) {
      return;
    }
    const elapsed = this.animationSpeed * deltaTime;
    const previousFrame = this.currentFrame;
    if (this._durations !== null) {
      let lag = this._currentTime % 1 * this._durations[this.currentFrame];
      lag += elapsed / 60 * 1e3;
      while (lag < 0) {
        this._currentTime--;
        lag += this._durations[this.currentFrame];
      }
      const sign = Math.sign(this.animationSpeed * deltaTime);
      this._currentTime = Math.floor(this._currentTime);
      while (lag >= this._durations[this.currentFrame]) {
        lag -= this._durations[this.currentFrame] * sign;
        this._currentTime += sign;
      }
      this._currentTime += lag / this._durations[this.currentFrame];
    } else {
      this._currentTime += elapsed;
    }
    if (this._currentTime < 0 && !this.loop) {
      this.gotoAndStop(0);
      if (this.onComplete) {
        this.onComplete();
      }
    } else if (this._currentTime >= this._textures.length && !this.loop) {
      this.gotoAndStop(this._textures.length - 1);
      if (this.onComplete) {
        this.onComplete();
      }
    } else if (previousFrame !== this.currentFrame) {
      if (this.loop && this.onLoop) {
        if (this.animationSpeed > 0 && this.currentFrame < previousFrame) {
          this.onLoop();
        } else if (this.animationSpeed < 0 && this.currentFrame > previousFrame) {
          this.onLoop();
        }
      }
      this.updateTexture();
    }
  }
  updateTexture() {
    const currentFrame = this.currentFrame;
    if (this._previousFrame === currentFrame) {
      return;
    }
    this._previousFrame = currentFrame;
    this._texture = this._textures[currentFrame];
    this._textureID = -1;
    this._textureTrimmedID = -1;
    this._cachedTint = 16777215;
    this.uvs = this._texture._uvs.uvsFloat32;
    if (this.updateAnchor) {
      this._anchor.copyFrom(this._texture.defaultAnchor);
    }
    if (this.onFrameChange) {
      this.onFrameChange(this.currentFrame);
    }
  }
  destroy(options) {
    this.stop();
    super.destroy(options);
    this.onComplete = null;
    this.onFrameChange = null;
    this.onLoop = null;
  }
  static fromFrames(frames) {
    const textures = [];
    for (let i = 0; i < frames.length; ++i) {
      textures.push(_pixi_core__WEBPACK_IMPORTED_MODULE_1__.Texture.from(frames[i]));
    }
    return new AnimatedSprite(textures);
  }
  static fromImages(images) {
    const textures = [];
    for (let i = 0; i < images.length; ++i) {
      textures.push(_pixi_core__WEBPACK_IMPORTED_MODULE_1__.Texture.from(images[i]));
    }
    return new AnimatedSprite(textures);
  }
  get totalFrames() {
    return this._textures.length;
  }
  get textures() {
    return this._textures;
  }
  set textures(value) {
    if (value[0] instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Texture) {
      this._textures = value;
      this._durations = null;
    } else {
      this._textures = [];
      this._durations = [];
      for (let i = 0; i < value.length; i++) {
        this._textures.push(value[i].texture);
        this._durations.push(value[i].time);
      }
    }
    this._previousFrame = null;
    this.gotoAndStop(0);
    this.updateTexture();
  }
  get currentFrame() {
    let currentFrame = Math.floor(this._currentTime) % this._textures.length;
    if (currentFrame < 0) {
      currentFrame += this._textures.length;
    }
    return currentFrame;
  }
  set currentFrame(value) {
    if (value < 0 || value > this.totalFrames - 1) {
      throw new Error(`[AnimatedSprite]: Invalid frame index value ${value}, expected to be between 0 and totalFrames ${this.totalFrames}.`);
    }
    const previousFrame = this.currentFrame;
    this._currentTime = value;
    if (previousFrame !== this.currentFrame) {
      this.updateTexture();
    }
  }
  get playing() {
    return this._playing;
  }
  get autoUpdate() {
    return this._autoUpdate;
  }
  set autoUpdate(value) {
    if (value !== this._autoUpdate) {
      this._autoUpdate = value;
      if (!this._autoUpdate && this._isConnectedToTicker) {
        _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Ticker.shared.remove(this.update, this);
        this._isConnectedToTicker = false;
      } else if (this._autoUpdate && !this._isConnectedToTicker && this._playing) {
        _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Ticker.shared.add(this.update, this);
        this._isConnectedToTicker = true;
      }
    }
  }
}


//# sourceMappingURL=AnimatedSprite.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-animated/lib/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/sprite-animated/lib/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AnimatedSprite": () => (/* reexport safe */ _AnimatedSprite_mjs__WEBPACK_IMPORTED_MODULE_0__.AnimatedSprite)
/* harmony export */ });
/* harmony import */ var _AnimatedSprite_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimatedSprite.mjs */ "./node_modules/@pixi/sprite-animated/lib/AnimatedSprite.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/TilingSprite.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/TilingSprite.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TilingSprite": () => (/* binding */ TilingSprite)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");



const tempPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
class TilingSprite extends _pixi_sprite__WEBPACK_IMPORTED_MODULE_1__.Sprite {
  constructor(texture, width = 100, height = 100) {
    super(texture);
    this.tileTransform = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Transform();
    this._width = width;
    this._height = height;
    this.uvMatrix = this.texture.uvMatrix || new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.TextureMatrix(texture);
    this.pluginName = "tilingSprite";
    this.uvRespectAnchor = false;
  }
  get clampMargin() {
    return this.uvMatrix.clampMargin;
  }
  set clampMargin(value) {
    this.uvMatrix.clampMargin = value;
    this.uvMatrix.update(true);
  }
  get tileScale() {
    return this.tileTransform.scale;
  }
  set tileScale(value) {
    this.tileTransform.scale.copyFrom(value);
  }
  get tilePosition() {
    return this.tileTransform.position;
  }
  set tilePosition(value) {
    this.tileTransform.position.copyFrom(value);
  }
  _onTextureUpdate() {
    if (this.uvMatrix) {
      this.uvMatrix.texture = this._texture;
    }
    this._cachedTint = 16777215;
  }
  _render(renderer) {
    const texture = this._texture;
    if (!texture || !texture.valid) {
      return;
    }
    this.tileTransform.updateLocalTransform();
    this.uvMatrix.update();
    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);
    renderer.plugins[this.pluginName].render(this);
  }
  _calculateBounds() {
    const minX = this._width * -this._anchor._x;
    const minY = this._height * -this._anchor._y;
    const maxX = this._width * (1 - this._anchor._x);
    const maxY = this._height * (1 - this._anchor._y);
    this._bounds.addFrame(this.transform, minX, minY, maxX, maxY);
  }
  getLocalBounds(rect) {
    if (this.children.length === 0) {
      this._bounds.minX = this._width * -this._anchor._x;
      this._bounds.minY = this._height * -this._anchor._y;
      this._bounds.maxX = this._width * (1 - this._anchor._x);
      this._bounds.maxY = this._height * (1 - this._anchor._y);
      if (!rect) {
        if (!this._localBoundsRect) {
          this._localBoundsRect = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
        }
        rect = this._localBoundsRect;
      }
      return this._bounds.getRectangle(rect);
    }
    return super.getLocalBounds.call(this, rect);
  }
  containsPoint(point) {
    this.worldTransform.applyInverse(point, tempPoint);
    const width = this._width;
    const height = this._height;
    const x1 = -width * this.anchor._x;
    if (tempPoint.x >= x1 && tempPoint.x < x1 + width) {
      const y1 = -height * this.anchor._y;
      if (tempPoint.y >= y1 && tempPoint.y < y1 + height) {
        return true;
      }
    }
    return false;
  }
  destroy(options) {
    super.destroy(options);
    this.tileTransform = null;
    this.uvMatrix = null;
  }
  static from(source, options) {
    const texture = source instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture ? source : _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.from(source, options);
    return new TilingSprite(texture, options.width, options.height);
  }
  get width() {
    return this._width;
  }
  set width(value) {
    this._width = value;
  }
  get height() {
    return this._height;
  }
  set height(value) {
    this._height = value;
  }
}


//# sourceMappingURL=TilingSprite.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/TilingSpriteRenderer.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/TilingSpriteRenderer.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TilingSpriteRenderer": () => (/* binding */ TilingSpriteRenderer)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _sprite_tiling_simple_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sprite-tiling-simple.mjs */ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-simple.mjs");
/* harmony import */ var _sprite_tiling_fallback_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sprite-tiling-fallback.mjs */ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback.mjs");
/* harmony import */ var _sprite_tiling_fallback2_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sprite-tiling-fallback2.mjs */ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback2.mjs");
/* harmony import */ var _sprite_tiling_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sprite-tiling.mjs */ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling.mjs");
/* harmony import */ var _sprite_tiling2_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sprite-tiling2.mjs */ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling2.mjs");







const tempMat = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Matrix();
class TilingSpriteRenderer extends _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ObjectRenderer {
  constructor(renderer) {
    super(renderer);
    renderer.runners.contextChange.add(this);
    this.quad = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.QuadUv();
    this.state = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.State.for2d();
  }
  contextChange() {
    const renderer = this.renderer;
    const uniforms = { globals: renderer.globalUniforms };
    this.simpleShader = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader.from(_sprite_tiling_fallback_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], _sprite_tiling_simple_mjs__WEBPACK_IMPORTED_MODULE_1__["default"], uniforms);
    this.shader = renderer.context.webGLVersion > 1 ? _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader.from(_sprite_tiling_mjs__WEBPACK_IMPORTED_MODULE_4__["default"], _sprite_tiling2_mjs__WEBPACK_IMPORTED_MODULE_5__["default"], uniforms) : _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Shader.from(_sprite_tiling_fallback_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], _sprite_tiling_fallback2_mjs__WEBPACK_IMPORTED_MODULE_3__["default"], uniforms);
  }
  render(ts) {
    const renderer = this.renderer;
    const quad = this.quad;
    let vertices = quad.vertices;
    vertices[0] = vertices[6] = ts._width * -ts.anchor.x;
    vertices[1] = vertices[3] = ts._height * -ts.anchor.y;
    vertices[2] = vertices[4] = ts._width * (1 - ts.anchor.x);
    vertices[5] = vertices[7] = ts._height * (1 - ts.anchor.y);
    const anchorX = ts.uvRespectAnchor ? ts.anchor.x : 0;
    const anchorY = ts.uvRespectAnchor ? ts.anchor.y : 0;
    vertices = quad.uvs;
    vertices[0] = vertices[6] = -anchorX;
    vertices[1] = vertices[3] = -anchorY;
    vertices[2] = vertices[4] = 1 - anchorX;
    vertices[5] = vertices[7] = 1 - anchorY;
    quad.invalidate();
    const tex = ts._texture;
    const baseTex = tex.baseTexture;
    const premultiplied = baseTex.alphaMode > 0;
    const lt = ts.tileTransform.localTransform;
    const uv = ts.uvMatrix;
    let isSimple = baseTex.isPowerOfTwo && tex.frame.width === baseTex.width && tex.frame.height === baseTex.height;
    if (isSimple) {
      if (!baseTex._glTextures[renderer.CONTEXT_UID]) {
        if (baseTex.wrapMode === _pixi_core__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.CLAMP) {
          baseTex.wrapMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.REPEAT;
        }
      } else {
        isSimple = baseTex.wrapMode !== _pixi_core__WEBPACK_IMPORTED_MODULE_0__.WRAP_MODES.CLAMP;
      }
    }
    const shader = isSimple ? this.simpleShader : this.shader;
    const w = tex.width;
    const h = tex.height;
    const W = ts._width;
    const H = ts._height;
    tempMat.set(lt.a * w / W, lt.b * w / H, lt.c * h / W, lt.d * h / H, lt.tx / W, lt.ty / H);
    tempMat.invert();
    if (isSimple) {
      tempMat.prepend(uv.mapCoord);
    } else {
      shader.uniforms.uMapCoord = uv.mapCoord.toArray(true);
      shader.uniforms.uClampFrame = uv.uClampFrame;
      shader.uniforms.uClampOffset = uv.uClampOffset;
    }
    shader.uniforms.uTransform = tempMat.toArray(true);
    shader.uniforms.uColor = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.premultiplyTintToRgba(ts.tint, ts.worldAlpha, shader.uniforms.uColor, premultiplied);
    shader.uniforms.translationMatrix = ts.transform.worldTransform.toArray(true);
    shader.uniforms.uSampler = tex;
    renderer.shader.bind(shader);
    renderer.geometry.bind(quad);
    this.state.blendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.correctBlendMode(ts.blendMode, premultiplied);
    renderer.state.set(this.state);
    renderer.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0);
  }
}
TilingSpriteRenderer.extension = {
  name: "tilingSprite",
  type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.RendererPlugin
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(TilingSpriteRenderer);


//# sourceMappingURL=TilingSpriteRenderer.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TilingSprite": () => (/* reexport safe */ _TilingSprite_mjs__WEBPACK_IMPORTED_MODULE_0__.TilingSprite),
/* harmony export */   "TilingSpriteRenderer": () => (/* reexport safe */ _TilingSpriteRenderer_mjs__WEBPACK_IMPORTED_MODULE_1__.TilingSpriteRenderer)
/* harmony export */ });
/* harmony import */ var _TilingSprite_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TilingSprite.mjs */ "./node_modules/@pixi/sprite-tiling/lib/TilingSprite.mjs");
/* harmony import */ var _TilingSpriteRenderer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TilingSpriteRenderer.mjs */ "./node_modules/@pixi/sprite-tiling/lib/TilingSpriteRenderer.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ gl1VertexSrc)
/* harmony export */ });
var gl1VertexSrc = "#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";


//# sourceMappingURL=sprite-tiling-fallback.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback2.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback2.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ gl1FragmentSrc)
/* harmony export */ });
var gl1FragmentSrc = "#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n";


//# sourceMappingURL=sprite-tiling-fallback2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-simple.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-simple.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fragmentSimpleSrc)
/* harmony export */ });
var fragmentSimpleSrc = "#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n";


//# sourceMappingURL=sprite-tiling-simple.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/sprite-tiling.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ gl2VertexSrc)
/* harmony export */ });
var gl2VertexSrc = "#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";


//# sourceMappingURL=sprite-tiling.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite-tiling/lib/sprite-tiling2.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/sprite-tiling/lib/sprite-tiling2.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ gl2FragmentSrc)
/* harmony export */ });
var gl2FragmentSrc = "#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n";


//# sourceMappingURL=sprite-tiling2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite/lib/Sprite.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/sprite/lib/Sprite.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Sprite": () => (/* binding */ Sprite)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");



const tempPoint = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Point();
const indices = new Uint16Array([0, 1, 2, 0, 2, 3]);
class Sprite extends _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Container {
  constructor(texture) {
    super();
    this._anchor = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ObservablePoint(this._onAnchorUpdate, this, texture ? texture.defaultAnchor.x : 0, texture ? texture.defaultAnchor.y : 0);
    this._texture = null;
    this._width = 0;
    this._height = 0;
    this._tint = null;
    this._tintRGB = null;
    this.tint = 16777215;
    this.blendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL;
    this._cachedTint = 16777215;
    this.uvs = null;
    this.texture = texture || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY;
    this.vertexData = new Float32Array(8);
    this.vertexTrimmedData = null;
    this._transformID = -1;
    this._textureID = -1;
    this._transformTrimmedID = -1;
    this._textureTrimmedID = -1;
    this.indices = indices;
    this.pluginName = "batch";
    this.isSprite = true;
    this._roundPixels = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ROUND_PIXELS;
  }
  _onTextureUpdate() {
    this._textureID = -1;
    this._textureTrimmedID = -1;
    this._cachedTint = 16777215;
    if (this._width) {
      this.scale.x = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.x) * this._width / this._texture.orig.width;
    }
    if (this._height) {
      this.scale.y = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.y) * this._height / this._texture.orig.height;
    }
  }
  _onAnchorUpdate() {
    this._transformID = -1;
    this._transformTrimmedID = -1;
  }
  calculateVertices() {
    const texture = this._texture;
    if (this._transformID === this.transform._worldID && this._textureID === texture._updateID) {
      return;
    }
    if (this._textureID !== texture._updateID) {
      this.uvs = this._texture._uvs.uvsFloat32;
    }
    this._transformID = this.transform._worldID;
    this._textureID = texture._updateID;
    const wt = this.transform.worldTransform;
    const a = wt.a;
    const b = wt.b;
    const c = wt.c;
    const d = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const vertexData = this.vertexData;
    const trim = texture.trim;
    const orig = texture.orig;
    const anchor = this._anchor;
    let w0 = 0;
    let w1 = 0;
    let h0 = 0;
    let h1 = 0;
    if (trim) {
      w1 = trim.x - anchor._x * orig.width;
      w0 = w1 + trim.width;
      h1 = trim.y - anchor._y * orig.height;
      h0 = h1 + trim.height;
    } else {
      w1 = -anchor._x * orig.width;
      w0 = w1 + orig.width;
      h1 = -anchor._y * orig.height;
      h0 = h1 + orig.height;
    }
    vertexData[0] = a * w1 + c * h1 + tx;
    vertexData[1] = d * h1 + b * w1 + ty;
    vertexData[2] = a * w0 + c * h1 + tx;
    vertexData[3] = d * h1 + b * w0 + ty;
    vertexData[4] = a * w0 + c * h0 + tx;
    vertexData[5] = d * h0 + b * w0 + ty;
    vertexData[6] = a * w1 + c * h0 + tx;
    vertexData[7] = d * h0 + b * w1 + ty;
    if (this._roundPixels) {
      const resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION;
      for (let i = 0; i < vertexData.length; ++i) {
        vertexData[i] = Math.round(vertexData[i] * resolution) / resolution;
      }
    }
  }
  calculateTrimmedVertices() {
    if (!this.vertexTrimmedData) {
      this.vertexTrimmedData = new Float32Array(8);
    } else if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) {
      return;
    }
    this._transformTrimmedID = this.transform._worldID;
    this._textureTrimmedID = this._texture._updateID;
    const texture = this._texture;
    const vertexData = this.vertexTrimmedData;
    const orig = texture.orig;
    const anchor = this._anchor;
    const wt = this.transform.worldTransform;
    const a = wt.a;
    const b = wt.b;
    const c = wt.c;
    const d = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const w1 = -anchor._x * orig.width;
    const w0 = w1 + orig.width;
    const h1 = -anchor._y * orig.height;
    const h0 = h1 + orig.height;
    vertexData[0] = a * w1 + c * h1 + tx;
    vertexData[1] = d * h1 + b * w1 + ty;
    vertexData[2] = a * w0 + c * h1 + tx;
    vertexData[3] = d * h1 + b * w0 + ty;
    vertexData[4] = a * w0 + c * h0 + tx;
    vertexData[5] = d * h0 + b * w0 + ty;
    vertexData[6] = a * w1 + c * h0 + tx;
    vertexData[7] = d * h0 + b * w1 + ty;
  }
  _render(renderer) {
    this.calculateVertices();
    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);
    renderer.plugins[this.pluginName].render(this);
  }
  _calculateBounds() {
    const trim = this._texture.trim;
    const orig = this._texture.orig;
    if (!trim || trim.width === orig.width && trim.height === orig.height) {
      this.calculateVertices();
      this._bounds.addQuad(this.vertexData);
    } else {
      this.calculateTrimmedVertices();
      this._bounds.addQuad(this.vertexTrimmedData);
    }
  }
  getLocalBounds(rect) {
    if (this.children.length === 0) {
      if (!this._localBounds) {
        this._localBounds = new _pixi_display__WEBPACK_IMPORTED_MODULE_1__.Bounds();
      }
      this._localBounds.minX = this._texture.orig.width * -this._anchor._x;
      this._localBounds.minY = this._texture.orig.height * -this._anchor._y;
      this._localBounds.maxX = this._texture.orig.width * (1 - this._anchor._x);
      this._localBounds.maxY = this._texture.orig.height * (1 - this._anchor._y);
      if (!rect) {
        if (!this._localBoundsRect) {
          this._localBoundsRect = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle();
        }
        rect = this._localBoundsRect;
      }
      return this._localBounds.getRectangle(rect);
    }
    return super.getLocalBounds.call(this, rect);
  }
  containsPoint(point) {
    this.worldTransform.applyInverse(point, tempPoint);
    const width = this._texture.orig.width;
    const height = this._texture.orig.height;
    const x1 = -width * this.anchor.x;
    let y1 = 0;
    if (tempPoint.x >= x1 && tempPoint.x < x1 + width) {
      y1 = -height * this.anchor.y;
      if (tempPoint.y >= y1 && tempPoint.y < y1 + height) {
        return true;
      }
    }
    return false;
  }
  destroy(options) {
    super.destroy(options);
    this._texture.off("update", this._onTextureUpdate, this);
    this._anchor = null;
    const destroyTexture = typeof options === "boolean" ? options : options?.texture;
    if (destroyTexture) {
      const destroyBaseTexture = typeof options === "boolean" ? options : options?.baseTexture;
      this._texture.destroy(!!destroyBaseTexture);
    }
    this._texture = null;
  }
  static from(source, options) {
    const texture = source instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture ? source : _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.from(source, options);
    return new Sprite(texture);
  }
  set roundPixels(value) {
    if (this._roundPixels !== value) {
      this._transformID = -1;
    }
    this._roundPixels = value;
  }
  get roundPixels() {
    return this._roundPixels;
  }
  get width() {
    return Math.abs(this.scale.x) * this._texture.orig.width;
  }
  set width(value) {
    const s = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.x) || 1;
    this.scale.x = s * value / this._texture.orig.width;
    this._width = value;
  }
  get height() {
    return Math.abs(this.scale.y) * this._texture.orig.height;
  }
  set height(value) {
    const s = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.sign(this.scale.y) || 1;
    this.scale.y = s * value / this._texture.orig.height;
    this._height = value;
  }
  get anchor() {
    return this._anchor;
  }
  set anchor(value) {
    this._anchor.copyFrom(value);
  }
  get tint() {
    return this._tint;
  }
  set tint(value) {
    this._tint = value;
    this._tintRGB = (value >> 16) + (value & 65280) + ((value & 255) << 16);
  }
  get texture() {
    return this._texture;
  }
  set texture(value) {
    if (this._texture === value) {
      return;
    }
    if (this._texture) {
      this._texture.off("update", this._onTextureUpdate, this);
    }
    this._texture = value || _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.EMPTY;
    this._cachedTint = 16777215;
    this._textureID = -1;
    this._textureTrimmedID = -1;
    if (value) {
      if (value.baseTexture.valid) {
        this._onTextureUpdate();
      } else {
        value.once("update", this._onTextureUpdate, this);
      }
    }
  }
}


//# sourceMappingURL=Sprite.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/sprite/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/sprite/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Sprite": () => (/* reexport safe */ _Sprite_mjs__WEBPACK_IMPORTED_MODULE_0__.Sprite)
/* harmony export */ });
/* harmony import */ var _Sprite_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Sprite.mjs */ "./node_modules/@pixi/sprite/lib/Sprite.mjs");

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/spritesheet/lib/Spritesheet.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/spritesheet/lib/Spritesheet.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Spritesheet": () => (/* binding */ Spritesheet)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const _Spritesheet = class {
  constructor(texture, data, resolutionFilename = null) {
    this.linkedSheets = [];
    this._texture = texture instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture ? texture : null;
    this.baseTexture = texture instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture ? texture : this._texture.baseTexture;
    this.textures = {};
    this.animations = {};
    this.data = data;
    const resource = this.baseTexture.resource;
    this.resolution = this._updateResolution(resolutionFilename || (resource ? resource.url : null));
    this._frames = this.data.frames;
    this._frameKeys = Object.keys(this._frames);
    this._batchIndex = 0;
    this._callback = null;
  }
  _updateResolution(resolutionFilename = null) {
    const { scale } = this.data.meta;
    let resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.getResolutionOfUrl(resolutionFilename, null);
    if (resolution === null) {
      resolution = parseFloat(scale ?? "1");
    }
    if (resolution !== 1) {
      this.baseTexture.setResolution(resolution);
    }
    return resolution;
  }
  parse() {
    return new Promise((resolve) => {
      this._callback = resolve;
      this._batchIndex = 0;
      if (this._frameKeys.length <= _Spritesheet.BATCH_SIZE) {
        this._processFrames(0);
        this._processAnimations();
        this._parseComplete();
      } else {
        this._nextBatch();
      }
    });
  }
  _processFrames(initialFrameIndex) {
    let frameIndex = initialFrameIndex;
    const maxFrames = _Spritesheet.BATCH_SIZE;
    while (frameIndex - initialFrameIndex < maxFrames && frameIndex < this._frameKeys.length) {
      const i = this._frameKeys[frameIndex];
      const data = this._frames[i];
      const rect = data.frame;
      if (rect) {
        let frame = null;
        let trim = null;
        const sourceSize = data.trimmed !== false && data.sourceSize ? data.sourceSize : data.frame;
        const orig = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(0, 0, Math.floor(sourceSize.w) / this.resolution, Math.floor(sourceSize.h) / this.resolution);
        if (data.rotated) {
          frame = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(Math.floor(rect.x) / this.resolution, Math.floor(rect.y) / this.resolution, Math.floor(rect.h) / this.resolution, Math.floor(rect.w) / this.resolution);
        } else {
          frame = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(Math.floor(rect.x) / this.resolution, Math.floor(rect.y) / this.resolution, Math.floor(rect.w) / this.resolution, Math.floor(rect.h) / this.resolution);
        }
        if (data.trimmed !== false && data.spriteSourceSize) {
          trim = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(Math.floor(data.spriteSourceSize.x) / this.resolution, Math.floor(data.spriteSourceSize.y) / this.resolution, Math.floor(rect.w) / this.resolution, Math.floor(rect.h) / this.resolution);
        }
        this.textures[i] = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture(this.baseTexture, frame, orig, trim, data.rotated ? 2 : 0, data.anchor);
        _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture.addToCache(this.textures[i], i);
      }
      frameIndex++;
    }
  }
  _processAnimations() {
    const animations = this.data.animations || {};
    for (const animName in animations) {
      this.animations[animName] = [];
      for (let i = 0; i < animations[animName].length; i++) {
        const frameName = animations[animName][i];
        this.animations[animName].push(this.textures[frameName]);
      }
    }
  }
  _parseComplete() {
    const callback = this._callback;
    this._callback = null;
    this._batchIndex = 0;
    callback.call(this, this.textures);
  }
  _nextBatch() {
    this._processFrames(this._batchIndex * _Spritesheet.BATCH_SIZE);
    this._batchIndex++;
    setTimeout(() => {
      if (this._batchIndex * _Spritesheet.BATCH_SIZE < this._frameKeys.length) {
        this._nextBatch();
      } else {
        this._processAnimations();
        this._parseComplete();
      }
    }, 0);
  }
  destroy(destroyBase = false) {
    for (const i in this.textures) {
      this.textures[i].destroy();
    }
    this._frames = null;
    this._frameKeys = null;
    this.data = null;
    this.textures = null;
    if (destroyBase) {
      this._texture?.destroy();
      this.baseTexture.destroy();
    }
    this._texture = null;
    this.baseTexture = null;
    this.linkedSheets = [];
  }
};
let Spritesheet = _Spritesheet;
Spritesheet.BATCH_SIZE = 1e3;


//# sourceMappingURL=Spritesheet.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/spritesheet/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/spritesheet/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Spritesheet": () => (/* reexport safe */ _Spritesheet_mjs__WEBPACK_IMPORTED_MODULE_0__.Spritesheet),
/* harmony export */   "spritesheetAsset": () => (/* reexport safe */ _spritesheetAsset_mjs__WEBPACK_IMPORTED_MODULE_1__.spritesheetAsset)
/* harmony export */ });
/* harmony import */ var _Spritesheet_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Spritesheet.mjs */ "./node_modules/@pixi/spritesheet/lib/Spritesheet.mjs");
/* harmony import */ var _spritesheetAsset_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./spritesheetAsset.mjs */ "./node_modules/@pixi/spritesheet/lib/spritesheetAsset.mjs");


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/spritesheet/lib/spritesheetAsset.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@pixi/spritesheet/lib/spritesheetAsset.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "spritesheetAsset": () => (/* binding */ spritesheetAsset)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_assets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/assets */ "./node_modules/@pixi/assets/lib/index.mjs");
/* harmony import */ var _Spritesheet_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Spritesheet.mjs */ "./node_modules/@pixi/spritesheet/lib/Spritesheet.mjs");




const validImages = ["jpg", "png", "jpeg", "avif", "webp"];
function getCacheableAssets(keys, asset, ignoreMultiPack) {
  const out = {};
  keys.forEach((key) => {
    out[key] = asset;
  });
  Object.keys(asset.textures).forEach((key) => {
    out[key] = asset.textures[key];
  });
  if (!ignoreMultiPack) {
    const basePath = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.dirname(keys[0]);
    asset.linkedSheets.forEach((item, i) => {
      const out2 = getCacheableAssets([`${basePath}/${asset.data.meta.related_multi_packs[i]}`], item, true);
      Object.assign(out, out2);
    });
  }
  return out;
}
const spritesheetAsset = {
  extension: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Asset,
  cache: {
    test: (asset) => asset instanceof _Spritesheet_mjs__WEBPACK_IMPORTED_MODULE_2__.Spritesheet,
    getCacheableAssets: (keys, asset) => getCacheableAssets(keys, asset, false)
  },
  resolver: {
    test: (value) => {
      const tempURL = value.split("?")[0];
      const split = tempURL.split(".");
      const extension = split.pop();
      const format = split.pop();
      return extension === "json" && validImages.includes(format);
    },
    parse: (value) => {
      const split = value.split(".");
      return {
        resolution: parseFloat(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
        format: split[split.length - 2],
        src: value
      };
    }
  },
  loader: {
    extension: {
      type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
      priority: _pixi_assets__WEBPACK_IMPORTED_MODULE_1__.LoaderParserPriority.Normal
    },
    async testParse(asset, options) {
      return _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.extname(options.src).includes(".json") && !!asset.frames;
    },
    async parse(asset, options, loader) {
      let basePath = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.dirname(options.src);
      if (basePath && basePath.lastIndexOf("/") !== basePath.length - 1) {
        basePath += "/";
      }
      const imagePath = basePath + asset.meta.image;
      const assets = await loader.load([imagePath]);
      const texture = assets[imagePath];
      const spritesheet = new _Spritesheet_mjs__WEBPACK_IMPORTED_MODULE_2__.Spritesheet(texture.baseTexture, asset, options.src);
      await spritesheet.parse();
      const multiPacks = asset?.meta?.related_multi_packs;
      if (Array.isArray(multiPacks)) {
        const promises = [];
        for (const item of multiPacks) {
          if (typeof item !== "string") {
            continue;
          }
          const itemUrl = basePath + item;
          if (options.data?.ignoreMultiPack) {
            continue;
          }
          promises.push(loader.load({
            src: itemUrl,
            data: {
              ignoreMultiPack: true
            }
          }));
        }
        const res = await Promise.all(promises);
        spritesheet.linkedSheets = res;
        res.forEach((item) => {
          item.linkedSheets = [spritesheet].concat(spritesheet.linkedSheets.filter((sp) => sp !== item));
        });
      }
      return spritesheet;
    },
    unload(spritesheet) {
      spritesheet.destroy(true);
    }
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(spritesheetAsset);


//# sourceMappingURL=spritesheetAsset.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitmapFont": () => (/* binding */ BitmapFont)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/text */ "./node_modules/@pixi/text/lib/index.mjs");
/* harmony import */ var _formats_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./formats/index.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/index.mjs");
/* harmony import */ var _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BitmapFontData.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/index.mjs");
/* harmony import */ var _utils_resolveCharacters_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/resolveCharacters.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/resolveCharacters.mjs");
/* harmony import */ var _utils_drawGlyph_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/drawGlyph.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/drawGlyph.mjs");
/* harmony import */ var _utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/extractCharCode.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs");









const _BitmapFont = class {
  constructor(data, textures, ownsTextures) {
    const [info] = data.info;
    const [common] = data.common;
    const [page] = data.page;
    const [distanceField] = data.distanceField;
    const res = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.getResolutionOfUrl(page.file);
    const pageTextures = {};
    this._ownsTextures = ownsTextures;
    this.font = info.face;
    this.size = info.size;
    this.lineHeight = common.lineHeight / res;
    this.chars = {};
    this.pageTextures = pageTextures;
    for (let i = 0; i < data.page.length; i++) {
      const { id, file } = data.page[i];
      pageTextures[id] = textures instanceof Array ? textures[i] : textures[file];
      if (distanceField?.fieldType && distanceField.fieldType !== "none") {
        pageTextures[id].baseTexture.alphaMode = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA;
        pageTextures[id].baseTexture.mipmap = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.MIPMAP_MODES.OFF;
      }
    }
    for (let i = 0; i < data.char.length; i++) {
      const { id, page: page2 } = data.char[i];
      let { x, y, width, height, xoffset, yoffset, xadvance } = data.char[i];
      x /= res;
      y /= res;
      width /= res;
      height /= res;
      xoffset /= res;
      yoffset /= res;
      xadvance /= res;
      const rect = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Rectangle(x + pageTextures[page2].frame.x / res, y + pageTextures[page2].frame.y / res, width, height);
      this.chars[id] = {
        xOffset: xoffset,
        yOffset: yoffset,
        xAdvance: xadvance,
        kerning: {},
        texture: new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture(pageTextures[page2].baseTexture, rect),
        page: page2
      };
    }
    for (let i = 0; i < data.kerning.length; i++) {
      let { first, second, amount } = data.kerning[i];
      first /= res;
      second /= res;
      amount /= res;
      if (this.chars[second]) {
        this.chars[second].kerning[first] = amount;
      }
    }
    this.distanceFieldRange = distanceField?.distanceRange;
    this.distanceFieldType = distanceField?.fieldType?.toLowerCase() ?? "none";
  }
  destroy() {
    for (const id in this.chars) {
      this.chars[id].texture.destroy();
      this.chars[id].texture = null;
    }
    for (const id in this.pageTextures) {
      if (this._ownsTextures) {
        this.pageTextures[id].destroy(true);
      }
      this.pageTextures[id] = null;
    }
    this.chars = null;
    this.pageTextures = null;
  }
  static install(data, textures, ownsTextures) {
    let fontData;
    if (data instanceof _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_3__.BitmapFontData) {
      fontData = data;
    } else {
      const format = (0,_formats_index_mjs__WEBPACK_IMPORTED_MODULE_2__.autoDetectFormat)(data);
      if (!format) {
        throw new Error("Unrecognized data format for font.");
      }
      fontData = format.parse(data);
    }
    if (textures instanceof _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture) {
      textures = [textures];
    }
    const font = new _BitmapFont(fontData, textures, ownsTextures);
    _BitmapFont.available[font.font] = font;
    return font;
  }
  static uninstall(name) {
    const font = _BitmapFont.available[name];
    if (!font) {
      throw new Error(`No font found named '${name}'`);
    }
    font.destroy();
    delete _BitmapFont.available[name];
  }
  static from(name, textStyle, options) {
    if (!name) {
      throw new Error("[BitmapFont] Property `name` is required.");
    }
    const {
      chars,
      padding,
      resolution,
      textureWidth,
      textureHeight,
      ...baseOptions
    } = Object.assign({}, _BitmapFont.defaultOptions, options);
    const charsList = (0,_utils_resolveCharacters_mjs__WEBPACK_IMPORTED_MODULE_5__.resolveCharacters)(chars);
    const style = textStyle instanceof _pixi_text__WEBPACK_IMPORTED_MODULE_1__.TextStyle ? textStyle : new _pixi_text__WEBPACK_IMPORTED_MODULE_1__.TextStyle(textStyle);
    const lineWidth = textureWidth;
    const fontData = new _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_3__.BitmapFontData();
    fontData.info[0] = {
      face: style.fontFamily,
      size: style.fontSize
    };
    fontData.common[0] = {
      lineHeight: style.fontSize
    };
    let positionX = 0;
    let positionY = 0;
    let canvas;
    let context;
    let baseTexture;
    let maxCharHeight = 0;
    const baseTextures = [];
    const textures = [];
    for (let i = 0; i < charsList.length; i++) {
      if (!canvas) {
        canvas = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
        canvas.width = textureWidth;
        canvas.height = textureHeight;
        context = canvas.getContext("2d");
        baseTexture = new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.BaseTexture(canvas, { resolution, ...baseOptions });
        baseTextures.push(baseTexture);
        textures.push(new _pixi_core__WEBPACK_IMPORTED_MODULE_0__.Texture(baseTexture));
        fontData.page.push({
          id: textures.length - 1,
          file: ""
        });
      }
      const character = charsList[i];
      const metrics = _pixi_text__WEBPACK_IMPORTED_MODULE_1__.TextMetrics.measureText(character, style, false, canvas);
      const width = metrics.width;
      const height = Math.ceil(metrics.height);
      const textureGlyphWidth = Math.ceil((style.fontStyle === "italic" ? 2 : 1) * width);
      if (positionY >= textureHeight - height * resolution) {
        if (positionY === 0) {
          throw new Error(`[BitmapFont] textureHeight ${textureHeight}px is too small (fontFamily: '${style.fontFamily}', fontSize: ${style.fontSize}px, char: '${character}')`);
        }
        --i;
        canvas = null;
        context = null;
        baseTexture = null;
        positionY = 0;
        positionX = 0;
        maxCharHeight = 0;
        continue;
      }
      maxCharHeight = Math.max(height + metrics.fontProperties.descent, maxCharHeight);
      if (textureGlyphWidth * resolution + positionX >= lineWidth) {
        if (positionX === 0) {
          throw new Error(`[BitmapFont] textureWidth ${textureWidth}px is too small (fontFamily: '${style.fontFamily}', fontSize: ${style.fontSize}px, char: '${character}')`);
        }
        --i;
        positionY += maxCharHeight * resolution;
        positionY = Math.ceil(positionY);
        positionX = 0;
        maxCharHeight = 0;
        continue;
      }
      (0,_utils_drawGlyph_mjs__WEBPACK_IMPORTED_MODULE_6__.drawGlyph)(canvas, context, metrics, positionX, positionY, resolution, style);
      const id = (0,_utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_7__.extractCharCode)(metrics.text);
      fontData.char.push({
        id,
        page: textures.length - 1,
        x: positionX / resolution,
        y: positionY / resolution,
        width: textureGlyphWidth,
        height,
        xoffset: 0,
        yoffset: 0,
        xadvance: Math.ceil(width - (style.dropShadow ? style.dropShadowDistance : 0) - (style.stroke ? style.strokeThickness : 0))
      });
      positionX += (textureGlyphWidth + 2 * padding) * resolution;
      positionX = Math.ceil(positionX);
    }
    for (let i = 0, len = charsList.length; i < len; i++) {
      const first = charsList[i];
      for (let j = 0; j < len; j++) {
        const second = charsList[j];
        const c1 = context.measureText(first).width;
        const c2 = context.measureText(second).width;
        const total = context.measureText(first + second).width;
        const amount = total - (c1 + c2);
        if (amount) {
          fontData.kerning.push({
            first: (0,_utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_7__.extractCharCode)(first),
            second: (0,_utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_7__.extractCharCode)(second),
            amount
          });
        }
      }
    }
    const font = new _BitmapFont(fontData, textures, true);
    if (_BitmapFont.available[name] !== void 0) {
      _BitmapFont.uninstall(name);
    }
    _BitmapFont.available[name] = font;
    return font;
  }
};
let BitmapFont = _BitmapFont;
BitmapFont.ALPHA = [["a", "z"], ["A", "Z"], " "];
BitmapFont.NUMERIC = [["0", "9"]];
BitmapFont.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "];
BitmapFont.ASCII = [[" ", "~"]];
BitmapFont.defaultOptions = {
  resolution: 1,
  textureWidth: 512,
  textureHeight: 512,
  padding: 4,
  chars: _BitmapFont.ALPHANUMERIC
};
BitmapFont.available = {};


//# sourceMappingURL=BitmapFont.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitmapFontData": () => (/* binding */ BitmapFontData)
/* harmony export */ });
class BitmapFontData {
  constructor() {
    this.info = [];
    this.common = [];
    this.page = [];
    this.char = [];
    this.kerning = [];
    this.distanceField = [];
  }
}


//# sourceMappingURL=BitmapFontData.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/BitmapText.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/BitmapText.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitmapText": () => (/* binding */ BitmapText)
/* harmony export */ });
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");
/* harmony import */ var _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BitmapFont.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs");
/* harmony import */ var _utils_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/index.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/index.mjs");
/* harmony import */ var _shader_msdf_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shader/msdf.mjs */ "./node_modules/@pixi/text-bitmap/lib/shader/msdf.mjs");
/* harmony import */ var _shader_msdf2_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shader/msdf2.mjs */ "./node_modules/@pixi/text-bitmap/lib/shader/msdf2.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _utils_splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/splitTextToCharacters.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs");
/* harmony import */ var _utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/extractCharCode.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs");










const pageMeshDataDefaultPageMeshData = [];
const pageMeshDataMSDFPageMeshData = [];
const charRenderDataPool = [];
const _BitmapText = class extends _pixi_display__WEBPACK_IMPORTED_MODULE_6__.Container {
  constructor(text, style = {}) {
    super();
    this._tint = 16777215;
    const { align, tint, maxWidth, letterSpacing, fontName, fontSize } = Object.assign({}, _BitmapText.styleDefaults, style);
    if (!_BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_1__.BitmapFont.available[fontName]) {
      throw new Error(`Missing BitmapFont "${fontName}"`);
    }
    this._activePagesMeshData = [];
    this._textWidth = 0;
    this._textHeight = 0;
    this._align = align;
    this._tint = tint;
    this._font = void 0;
    this._fontName = fontName;
    this._fontSize = fontSize;
    this.text = text;
    this._maxWidth = maxWidth;
    this._maxLineHeight = 0;
    this._letterSpacing = letterSpacing;
    this._anchor = new _pixi_core__WEBPACK_IMPORTED_MODULE_5__.ObservablePoint(() => {
      this.dirty = true;
    }, this, 0, 0);
    this._roundPixels = _pixi_core__WEBPACK_IMPORTED_MODULE_5__.settings.ROUND_PIXELS;
    this.dirty = true;
    this._resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_5__.settings.RESOLUTION;
    this._autoResolution = true;
    this._textureCache = {};
  }
  updateText() {
    const data = _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_1__.BitmapFont.available[this._fontName];
    const fontSize = this.fontSize;
    const scale = fontSize / data.size;
    const pos = new _pixi_core__WEBPACK_IMPORTED_MODULE_5__.Point();
    const chars = [];
    const lineWidths = [];
    const lineSpaces = [];
    const text = this._text.replace(/(?:\r\n|\r)/g, "\n") || " ";
    const charsInput = (0,_utils_splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_7__.splitTextToCharacters)(text);
    const maxWidth = this._maxWidth * data.size / fontSize;
    const pageMeshDataPool = data.distanceFieldType === "none" ? pageMeshDataDefaultPageMeshData : pageMeshDataMSDFPageMeshData;
    let prevCharCode = null;
    let lastLineWidth = 0;
    let maxLineWidth = 0;
    let line = 0;
    let lastBreakPos = -1;
    let lastBreakWidth = 0;
    let spacesRemoved = 0;
    let maxLineHeight = 0;
    let spaceCount = 0;
    for (let i = 0; i < charsInput.length; i++) {
      const char = charsInput[i];
      const charCode = (0,_utils_extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_8__.extractCharCode)(char);
      if (/(?:\s)/.test(char)) {
        lastBreakPos = i;
        lastBreakWidth = lastLineWidth;
        spaceCount++;
      }
      if (char === "\r" || char === "\n") {
        lineWidths.push(lastLineWidth);
        lineSpaces.push(-1);
        maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
        ++line;
        ++spacesRemoved;
        pos.x = 0;
        pos.y += data.lineHeight;
        prevCharCode = null;
        spaceCount = 0;
        continue;
      }
      const charData = data.chars[charCode];
      if (!charData) {
        continue;
      }
      if (prevCharCode && charData.kerning[prevCharCode]) {
        pos.x += charData.kerning[prevCharCode];
      }
      const charRenderData = charRenderDataPool.pop() || {
        texture: _pixi_core__WEBPACK_IMPORTED_MODULE_5__.Texture.EMPTY,
        line: 0,
        charCode: 0,
        prevSpaces: 0,
        position: new _pixi_core__WEBPACK_IMPORTED_MODULE_5__.Point()
      };
      charRenderData.texture = charData.texture;
      charRenderData.line = line;
      charRenderData.charCode = charCode;
      charRenderData.position.x = pos.x + charData.xOffset + this._letterSpacing / 2;
      charRenderData.position.y = pos.y + charData.yOffset;
      charRenderData.prevSpaces = spaceCount;
      chars.push(charRenderData);
      lastLineWidth = charRenderData.position.x + Math.max(charData.xAdvance - charData.xOffset, charData.texture.orig.width);
      pos.x += charData.xAdvance + this._letterSpacing;
      maxLineHeight = Math.max(maxLineHeight, charData.yOffset + charData.texture.height);
      prevCharCode = charCode;
      if (lastBreakPos !== -1 && maxWidth > 0 && pos.x > maxWidth) {
        ++spacesRemoved;
        _pixi_core__WEBPACK_IMPORTED_MODULE_5__.utils.removeItems(chars, 1 + lastBreakPos - spacesRemoved, 1 + i - lastBreakPos);
        i = lastBreakPos;
        lastBreakPos = -1;
        lineWidths.push(lastBreakWidth);
        lineSpaces.push(chars.length > 0 ? chars[chars.length - 1].prevSpaces : 0);
        maxLineWidth = Math.max(maxLineWidth, lastBreakWidth);
        line++;
        pos.x = 0;
        pos.y += data.lineHeight;
        prevCharCode = null;
        spaceCount = 0;
      }
    }
    const lastChar = charsInput[charsInput.length - 1];
    if (lastChar !== "\r" && lastChar !== "\n") {
      if (/(?:\s)/.test(lastChar)) {
        lastLineWidth = lastBreakWidth;
      }
      lineWidths.push(lastLineWidth);
      maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
      lineSpaces.push(-1);
    }
    const lineAlignOffsets = [];
    for (let i = 0; i <= line; i++) {
      let alignOffset = 0;
      if (this._align === "right") {
        alignOffset = maxLineWidth - lineWidths[i];
      } else if (this._align === "center") {
        alignOffset = (maxLineWidth - lineWidths[i]) / 2;
      } else if (this._align === "justify") {
        alignOffset = lineSpaces[i] < 0 ? 0 : (maxLineWidth - lineWidths[i]) / lineSpaces[i];
      }
      lineAlignOffsets.push(alignOffset);
    }
    const lenChars = chars.length;
    const pagesMeshData = {};
    const newPagesMeshData = [];
    const activePagesMeshData = this._activePagesMeshData;
    pageMeshDataPool.push(...activePagesMeshData);
    for (let i = 0; i < lenChars; i++) {
      const texture = chars[i].texture;
      const baseTextureUid = texture.baseTexture.uid;
      if (!pagesMeshData[baseTextureUid]) {
        let pageMeshData = pageMeshDataPool.pop();
        if (!pageMeshData) {
          const geometry = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.MeshGeometry();
          let material;
          let meshBlendMode;
          if (data.distanceFieldType === "none") {
            material = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.MeshMaterial(_pixi_core__WEBPACK_IMPORTED_MODULE_5__.Texture.EMPTY);
            meshBlendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_5__.BLEND_MODES.NORMAL;
          } else {
            material = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.MeshMaterial(_pixi_core__WEBPACK_IMPORTED_MODULE_5__.Texture.EMPTY, { program: _pixi_core__WEBPACK_IMPORTED_MODULE_5__.Program.from(_shader_msdf2_mjs__WEBPACK_IMPORTED_MODULE_4__["default"], _shader_msdf_mjs__WEBPACK_IMPORTED_MODULE_3__["default"]), uniforms: { uFWidth: 0 } });
            meshBlendMode = _pixi_core__WEBPACK_IMPORTED_MODULE_5__.BLEND_MODES.NORMAL_NPM;
          }
          const mesh = new _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, material);
          mesh.blendMode = meshBlendMode;
          pageMeshData = {
            index: 0,
            indexCount: 0,
            vertexCount: 0,
            uvsCount: 0,
            total: 0,
            mesh,
            vertices: null,
            uvs: null,
            indices: null
          };
        }
        pageMeshData.index = 0;
        pageMeshData.indexCount = 0;
        pageMeshData.vertexCount = 0;
        pageMeshData.uvsCount = 0;
        pageMeshData.total = 0;
        const { _textureCache } = this;
        _textureCache[baseTextureUid] = _textureCache[baseTextureUid] || new _pixi_core__WEBPACK_IMPORTED_MODULE_5__.Texture(texture.baseTexture);
        pageMeshData.mesh.texture = _textureCache[baseTextureUid];
        pageMeshData.mesh.tint = this._tint;
        newPagesMeshData.push(pageMeshData);
        pagesMeshData[baseTextureUid] = pageMeshData;
      }
      pagesMeshData[baseTextureUid].total++;
    }
    for (let i = 0; i < activePagesMeshData.length; i++) {
      if (!newPagesMeshData.includes(activePagesMeshData[i])) {
        this.removeChild(activePagesMeshData[i].mesh);
      }
    }
    for (let i = 0; i < newPagesMeshData.length; i++) {
      if (newPagesMeshData[i].mesh.parent !== this) {
        this.addChild(newPagesMeshData[i].mesh);
      }
    }
    this._activePagesMeshData = newPagesMeshData;
    for (const i in pagesMeshData) {
      const pageMeshData = pagesMeshData[i];
      const total = pageMeshData.total;
      if (!(pageMeshData.indices?.length > 6 * total) || pageMeshData.vertices.length < _pixi_mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh.BATCHABLE_SIZE * 2) {
        pageMeshData.vertices = new Float32Array(4 * 2 * total);
        pageMeshData.uvs = new Float32Array(4 * 2 * total);
        pageMeshData.indices = new Uint16Array(6 * total);
      } else {
        const total2 = pageMeshData.total;
        const vertices = pageMeshData.vertices;
        for (let i2 = total2 * 4 * 2; i2 < vertices.length; i2++) {
          vertices[i2] = 0;
        }
      }
      pageMeshData.mesh.size = 6 * total;
    }
    for (let i = 0; i < lenChars; i++) {
      const char = chars[i];
      let offset = char.position.x + lineAlignOffsets[char.line] * (this._align === "justify" ? char.prevSpaces : 1);
      if (this._roundPixels) {
        offset = Math.round(offset);
      }
      const xPos = offset * scale;
      const yPos = char.position.y * scale;
      const texture = char.texture;
      const pageMesh = pagesMeshData[texture.baseTexture.uid];
      const textureFrame = texture.frame;
      const textureUvs = texture._uvs;
      const index = pageMesh.index++;
      pageMesh.indices[index * 6 + 0] = 0 + index * 4;
      pageMesh.indices[index * 6 + 1] = 1 + index * 4;
      pageMesh.indices[index * 6 + 2] = 2 + index * 4;
      pageMesh.indices[index * 6 + 3] = 0 + index * 4;
      pageMesh.indices[index * 6 + 4] = 2 + index * 4;
      pageMesh.indices[index * 6 + 5] = 3 + index * 4;
      pageMesh.vertices[index * 8 + 0] = xPos;
      pageMesh.vertices[index * 8 + 1] = yPos;
      pageMesh.vertices[index * 8 + 2] = xPos + textureFrame.width * scale;
      pageMesh.vertices[index * 8 + 3] = yPos;
      pageMesh.vertices[index * 8 + 4] = xPos + textureFrame.width * scale;
      pageMesh.vertices[index * 8 + 5] = yPos + textureFrame.height * scale;
      pageMesh.vertices[index * 8 + 6] = xPos;
      pageMesh.vertices[index * 8 + 7] = yPos + textureFrame.height * scale;
      pageMesh.uvs[index * 8 + 0] = textureUvs.x0;
      pageMesh.uvs[index * 8 + 1] = textureUvs.y0;
      pageMesh.uvs[index * 8 + 2] = textureUvs.x1;
      pageMesh.uvs[index * 8 + 3] = textureUvs.y1;
      pageMesh.uvs[index * 8 + 4] = textureUvs.x2;
      pageMesh.uvs[index * 8 + 5] = textureUvs.y2;
      pageMesh.uvs[index * 8 + 6] = textureUvs.x3;
      pageMesh.uvs[index * 8 + 7] = textureUvs.y3;
    }
    this._textWidth = maxLineWidth * scale;
    this._textHeight = (pos.y + data.lineHeight) * scale;
    for (const i in pagesMeshData) {
      const pageMeshData = pagesMeshData[i];
      if (this.anchor.x !== 0 || this.anchor.y !== 0) {
        let vertexCount = 0;
        const anchorOffsetX = this._textWidth * this.anchor.x;
        const anchorOffsetY = this._textHeight * this.anchor.y;
        for (let i2 = 0; i2 < pageMeshData.total; i2++) {
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
        }
      }
      this._maxLineHeight = maxLineHeight * scale;
      const vertexBuffer = pageMeshData.mesh.geometry.getBuffer("aVertexPosition");
      const textureBuffer = pageMeshData.mesh.geometry.getBuffer("aTextureCoord");
      const indexBuffer = pageMeshData.mesh.geometry.getIndex();
      vertexBuffer.data = pageMeshData.vertices;
      textureBuffer.data = pageMeshData.uvs;
      indexBuffer.data = pageMeshData.indices;
      vertexBuffer.update();
      textureBuffer.update();
      indexBuffer.update();
    }
    for (let i = 0; i < chars.length; i++) {
      charRenderDataPool.push(chars[i]);
    }
    this._font = data;
    this.dirty = false;
  }
  updateTransform() {
    this.validate();
    this.containerUpdateTransform();
  }
  _render(renderer) {
    if (this._autoResolution && this._resolution !== renderer.resolution) {
      this._resolution = renderer.resolution;
      this.dirty = true;
    }
    const { distanceFieldRange, distanceFieldType, size } = _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_1__.BitmapFont.available[this._fontName];
    if (distanceFieldType !== "none") {
      const { a, b, c, d } = this.worldTransform;
      const dx = Math.sqrt(a * a + b * b);
      const dy = Math.sqrt(c * c + d * d);
      const worldScale = (Math.abs(dx) + Math.abs(dy)) / 2;
      const fontScale = this.fontSize / size;
      const resolution = renderer._view.resolution;
      for (const mesh of this._activePagesMeshData) {
        mesh.mesh.shader.uniforms.uFWidth = worldScale * distanceFieldRange * fontScale * resolution;
      }
    }
    super._render(renderer);
  }
  getLocalBounds() {
    this.validate();
    return super.getLocalBounds();
  }
  validate() {
    const font = _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_1__.BitmapFont.available[this._fontName];
    if (!font) {
      throw new Error(`Missing BitmapFont "${this._fontName}"`);
    }
    if (this._font !== font) {
      this.dirty = true;
    }
    if (this.dirty) {
      this.updateText();
    }
  }
  get tint() {
    return this._tint;
  }
  set tint(value) {
    if (this._tint === value)
      return;
    this._tint = value;
    for (let i = 0; i < this._activePagesMeshData.length; i++) {
      this._activePagesMeshData[i].mesh.tint = value;
    }
  }
  get align() {
    return this._align;
  }
  set align(value) {
    if (this._align !== value) {
      this._align = value;
      this.dirty = true;
    }
  }
  get fontName() {
    return this._fontName;
  }
  set fontName(value) {
    if (!_BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_1__.BitmapFont.available[value]) {
      throw new Error(`Missing BitmapFont "${value}"`);
    }
    if (this._fontName !== value) {
      this._fontName = value;
      this.dirty = true;
    }
  }
  get fontSize() {
    return this._fontSize ?? _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_1__.BitmapFont.available[this._fontName].size;
  }
  set fontSize(value) {
    if (this._fontSize !== value) {
      this._fontSize = value;
      this.dirty = true;
    }
  }
  get anchor() {
    return this._anchor;
  }
  set anchor(value) {
    if (typeof value === "number") {
      this._anchor.set(value);
    } else {
      this._anchor.copyFrom(value);
    }
  }
  get text() {
    return this._text;
  }
  set text(text) {
    text = String(text === null || text === void 0 ? "" : text);
    if (this._text === text) {
      return;
    }
    this._text = text;
    this.dirty = true;
  }
  get maxWidth() {
    return this._maxWidth;
  }
  set maxWidth(value) {
    if (this._maxWidth === value) {
      return;
    }
    this._maxWidth = value;
    this.dirty = true;
  }
  get maxLineHeight() {
    this.validate();
    return this._maxLineHeight;
  }
  get textWidth() {
    this.validate();
    return this._textWidth;
  }
  get letterSpacing() {
    return this._letterSpacing;
  }
  set letterSpacing(value) {
    if (this._letterSpacing !== value) {
      this._letterSpacing = value;
      this.dirty = true;
    }
  }
  get roundPixels() {
    return this._roundPixels;
  }
  set roundPixels(value) {
    if (value !== this._roundPixels) {
      this._roundPixels = value;
      this.dirty = true;
    }
  }
  get textHeight() {
    this.validate();
    return this._textHeight;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._autoResolution = false;
    if (this._resolution === value) {
      return;
    }
    this._resolution = value;
    this.dirty = true;
  }
  destroy(options) {
    const { _textureCache } = this;
    const data = _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_1__.BitmapFont.available[this._fontName];
    const pageMeshDataPool = data.distanceFieldType === "none" ? pageMeshDataDefaultPageMeshData : pageMeshDataMSDFPageMeshData;
    pageMeshDataPool.push(...this._activePagesMeshData);
    for (const pageMeshData of this._activePagesMeshData) {
      this.removeChild(pageMeshData.mesh);
    }
    this._activePagesMeshData = [];
    pageMeshDataPool.filter((page) => _textureCache[page.mesh.texture.baseTexture.uid]).forEach((page) => {
      page.mesh.texture = _pixi_core__WEBPACK_IMPORTED_MODULE_5__.Texture.EMPTY;
    });
    for (const id in _textureCache) {
      const texture = _textureCache[id];
      texture.destroy();
      delete _textureCache[id];
    }
    this._font = null;
    this._textureCache = null;
    super.destroy(options);
  }
};
let BitmapText = _BitmapText;
BitmapText.styleDefaults = {
  align: "left",
  tint: 16777215,
  maxWidth: 0,
  letterSpacing: 0
};


//# sourceMappingURL=BitmapText.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/BitmapTextStyle.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/BitmapTextStyle.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=BitmapTextStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextFormat": () => (/* binding */ TextFormat)
/* harmony export */ });
/* harmony import */ var _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BitmapFontData.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs");


class TextFormat {
  static test(data) {
    return typeof data === "string" && data.startsWith("info face=");
  }
  static parse(txt) {
    const items = txt.match(/^[a-z]+\s+.+$/gm);
    const rawData = {
      info: [],
      common: [],
      page: [],
      char: [],
      chars: [],
      kerning: [],
      kernings: [],
      distanceField: []
    };
    for (const i in items) {
      const name = items[i].match(/^[a-z]+/gm)[0];
      const attributeList = items[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm);
      const itemData = {};
      for (const i2 in attributeList) {
        const split = attributeList[i2].split("=");
        const key = split[0];
        const strValue = split[1].replace(/"/gm, "");
        const floatValue = parseFloat(strValue);
        const value = isNaN(floatValue) ? strValue : floatValue;
        itemData[key] = value;
      }
      rawData[name].push(itemData);
    }
    const font = new _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_0__.BitmapFontData();
    rawData.info.forEach((info) => font.info.push({
      face: info.face,
      size: parseInt(info.size, 10)
    }));
    rawData.common.forEach((common) => font.common.push({
      lineHeight: parseInt(common.lineHeight, 10)
    }));
    rawData.page.forEach((page) => font.page.push({
      id: parseInt(page.id, 10),
      file: page.file
    }));
    rawData.char.forEach((char) => font.char.push({
      id: parseInt(char.id, 10),
      page: parseInt(char.page, 10),
      x: parseInt(char.x, 10),
      y: parseInt(char.y, 10),
      width: parseInt(char.width, 10),
      height: parseInt(char.height, 10),
      xoffset: parseInt(char.xoffset, 10),
      yoffset: parseInt(char.yoffset, 10),
      xadvance: parseInt(char.xadvance, 10)
    }));
    rawData.kerning.forEach((kerning) => font.kerning.push({
      first: parseInt(kerning.first, 10),
      second: parseInt(kerning.second, 10),
      amount: parseInt(kerning.amount, 10)
    }));
    rawData.distanceField.forEach((df) => font.distanceField.push({
      distanceRange: parseInt(df.distanceRange, 10),
      fieldType: df.fieldType
    }));
    return font;
  }
}


//# sourceMappingURL=TextFormat.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "XMLFormat": () => (/* binding */ XMLFormat)
/* harmony export */ });
/* harmony import */ var _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BitmapFontData.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs");


class XMLFormat {
  static test(data) {
    const xml = data;
    return "getElementsByTagName" in xml && xml.getElementsByTagName("page").length && xml.getElementsByTagName("info")[0].getAttribute("face") !== null;
  }
  static parse(xml) {
    const data = new _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_0__.BitmapFontData();
    const info = xml.getElementsByTagName("info");
    const common = xml.getElementsByTagName("common");
    const page = xml.getElementsByTagName("page");
    const char = xml.getElementsByTagName("char");
    const kerning = xml.getElementsByTagName("kerning");
    const distanceField = xml.getElementsByTagName("distanceField");
    for (let i = 0; i < info.length; i++) {
      data.info.push({
        face: info[i].getAttribute("face"),
        size: parseInt(info[i].getAttribute("size"), 10)
      });
    }
    for (let i = 0; i < common.length; i++) {
      data.common.push({
        lineHeight: parseInt(common[i].getAttribute("lineHeight"), 10)
      });
    }
    for (let i = 0; i < page.length; i++) {
      data.page.push({
        id: parseInt(page[i].getAttribute("id"), 10) || 0,
        file: page[i].getAttribute("file")
      });
    }
    for (let i = 0; i < char.length; i++) {
      const letter = char[i];
      data.char.push({
        id: parseInt(letter.getAttribute("id"), 10),
        page: parseInt(letter.getAttribute("page"), 10) || 0,
        x: parseInt(letter.getAttribute("x"), 10),
        y: parseInt(letter.getAttribute("y"), 10),
        width: parseInt(letter.getAttribute("width"), 10),
        height: parseInt(letter.getAttribute("height"), 10),
        xoffset: parseInt(letter.getAttribute("xoffset"), 10),
        yoffset: parseInt(letter.getAttribute("yoffset"), 10),
        xadvance: parseInt(letter.getAttribute("xadvance"), 10)
      });
    }
    for (let i = 0; i < kerning.length; i++) {
      data.kerning.push({
        first: parseInt(kerning[i].getAttribute("first"), 10),
        second: parseInt(kerning[i].getAttribute("second"), 10),
        amount: parseInt(kerning[i].getAttribute("amount"), 10)
      });
    }
    for (let i = 0; i < distanceField.length; i++) {
      data.distanceField.push({
        fieldType: distanceField[i].getAttribute("fieldType"),
        distanceRange: parseInt(distanceField[i].getAttribute("distanceRange"), 10)
      });
    }
    return data;
  }
}


//# sourceMappingURL=XMLFormat.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "XMLStringFormat": () => (/* binding */ XMLStringFormat)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./XMLFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs");



class XMLStringFormat {
  static test(data) {
    if (typeof data === "string" && data.includes("<font>")) {
      return _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__.XMLFormat.test(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.parseXML(data));
    }
    return false;
  }
  static parse(xmlTxt) {
    return _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__.XMLFormat.parse(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.parseXML(xmlTxt));
  }
}


//# sourceMappingURL=XMLStringFormat.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/formats/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/formats/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextFormat": () => (/* reexport safe */ _TextFormat_mjs__WEBPACK_IMPORTED_MODULE_0__.TextFormat),
/* harmony export */   "XMLFormat": () => (/* reexport safe */ _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__.XMLFormat),
/* harmony export */   "XMLStringFormat": () => (/* reexport safe */ _XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_2__.XMLStringFormat),
/* harmony export */   "autoDetectFormat": () => (/* binding */ autoDetectFormat)
/* harmony export */ });
/* harmony import */ var _TextFormat_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs");
/* harmony import */ var _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./XMLFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs");
/* harmony import */ var _XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./XMLStringFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs");







const formats = [
  _TextFormat_mjs__WEBPACK_IMPORTED_MODULE_0__.TextFormat,
  _XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_1__.XMLFormat,
  _XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_2__.XMLStringFormat
];
function autoDetectFormat(data) {
  for (let i = 0; i < formats.length; i++) {
    if (formats[i].test(data)) {
      return formats[i];
    }
  }
  return null;
}


//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BitmapFont": () => (/* reexport safe */ _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_0__.BitmapFont),
/* harmony export */   "BitmapFontData": () => (/* reexport safe */ _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_1__.BitmapFontData),
/* harmony export */   "BitmapText": () => (/* reexport safe */ _BitmapText_mjs__WEBPACK_IMPORTED_MODULE_2__.BitmapText),
/* harmony export */   "TextFormat": () => (/* reexport safe */ _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_6__.TextFormat),
/* harmony export */   "XMLFormat": () => (/* reexport safe */ _formats_XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_7__.XMLFormat),
/* harmony export */   "XMLStringFormat": () => (/* reexport safe */ _formats_XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_8__.XMLStringFormat),
/* harmony export */   "autoDetectFormat": () => (/* reexport safe */ _formats_index_mjs__WEBPACK_IMPORTED_MODULE_4__.autoDetectFormat),
/* harmony export */   "loadBitmapFont": () => (/* reexport safe */ _loadBitmapFont_mjs__WEBPACK_IMPORTED_MODULE_5__.loadBitmapFont)
/* harmony export */ });
/* harmony import */ var _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BitmapFont.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs");
/* harmony import */ var _BitmapFontData_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BitmapFontData.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs");
/* harmony import */ var _BitmapText_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BitmapText.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapText.mjs");
/* harmony import */ var _BitmapTextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BitmapTextStyle.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapTextStyle.mjs");
/* harmony import */ var _formats_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./formats/index.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/index.mjs");
/* harmony import */ var _loadBitmapFont_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./loadBitmapFont.mjs */ "./node_modules/@pixi/text-bitmap/lib/loadBitmapFont.mjs");
/* harmony import */ var _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./formats/TextFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs");
/* harmony import */ var _formats_XMLFormat_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./formats/XMLFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs");
/* harmony import */ var _formats_XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./formats/XMLStringFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs");









//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/loadBitmapFont.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/loadBitmapFont.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadBitmapFont": () => (/* binding */ loadBitmapFont)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_assets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/assets */ "./node_modules/@pixi/assets/lib/index.mjs");
/* harmony import */ var _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BitmapFont.mjs */ "./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs");
/* harmony import */ var _formats_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./formats/index.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/index.mjs");
/* harmony import */ var _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./formats/TextFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs");
/* harmony import */ var _formats_XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./formats/XMLStringFormat.mjs */ "./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs");







const validExtensions = [".xml", ".fnt"];
const loadBitmapFont = {
  extension: {
    type: _pixi_core__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.LoadParser,
    priority: _pixi_assets__WEBPACK_IMPORTED_MODULE_1__.LoaderParserPriority.Normal
  },
  test(url) {
    return validExtensions.includes(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.extname(url));
  },
  async testParse(data) {
    return _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_4__.TextFormat.test(data) || _formats_XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_5__.XMLStringFormat.test(data);
  },
  async parse(asset, data, loader) {
    const fontData = _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_4__.TextFormat.test(asset) ? _formats_TextFormat_mjs__WEBPACK_IMPORTED_MODULE_4__.TextFormat.parse(asset) : _formats_XMLStringFormat_mjs__WEBPACK_IMPORTED_MODULE_5__.XMLStringFormat.parse(asset);
    const { src } = data;
    const { page: pages } = fontData;
    const textureUrls = [];
    for (let i = 0; i < pages.length; ++i) {
      const pageFile = pages[i].file;
      const imagePath = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.join(_pixi_core__WEBPACK_IMPORTED_MODULE_0__.utils.path.dirname(src), pageFile);
      textureUrls.push(imagePath);
    }
    const loadedTextures = await loader.load(textureUrls);
    const textures = textureUrls.map((url) => loadedTextures[url]);
    return _BitmapFont_mjs__WEBPACK_IMPORTED_MODULE_2__.BitmapFont.install(fontData, textures, true);
  },
  async load(url, _options) {
    const response = await _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.fetch(url);
    return response.text();
  },
  unload(bitmapFont) {
    bitmapFont.destroy();
  }
};
_pixi_core__WEBPACK_IMPORTED_MODULE_0__.extensions.add(loadBitmapFont);


//# sourceMappingURL=loadBitmapFont.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/shader/msdf.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/shader/msdf.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ msdfFrag)
/* harmony export */ });
var msdfFrag = "// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n";


//# sourceMappingURL=msdf.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/shader/msdf2.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/shader/msdf2.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ msdfVert)
/* harmony export */ });
var msdfVert = "// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n";


//# sourceMappingURL=msdf2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/drawGlyph.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/drawGlyph.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "drawGlyph": () => (/* binding */ drawGlyph)
/* harmony export */ });
/* harmony import */ var _generateFillStyle_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./generateFillStyle.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");



function drawGlyph(canvas, context, metrics, x, y, resolution, style) {
  const char = metrics.text;
  const fontProperties = metrics.fontProperties;
  context.translate(x, y);
  context.scale(resolution, resolution);
  const tx = style.strokeThickness / 2;
  const ty = -(style.strokeThickness / 2);
  context.font = style.toFontString();
  context.lineWidth = style.strokeThickness;
  context.textBaseline = style.textBaseline;
  context.lineJoin = style.lineJoin;
  context.miterLimit = style.miterLimit;
  context.fillStyle = (0,_generateFillStyle_mjs__WEBPACK_IMPORTED_MODULE_0__.generateFillStyle)(canvas, context, style, resolution, [char], metrics);
  context.strokeStyle = style.stroke;
  if (style.dropShadow) {
    const dropShadowColor = style.dropShadowColor;
    const rgb = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.hex2rgb(typeof dropShadowColor === "number" ? dropShadowColor : _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.string2hex(dropShadowColor));
    const dropShadowBlur = style.dropShadowBlur * resolution;
    const dropShadowDistance = style.dropShadowDistance * resolution;
    context.shadowColor = `rgba(${rgb[0] * 255},${rgb[1] * 255},${rgb[2] * 255},${style.dropShadowAlpha})`;
    context.shadowBlur = dropShadowBlur;
    context.shadowOffsetX = Math.cos(style.dropShadowAngle) * dropShadowDistance;
    context.shadowOffsetY = Math.sin(style.dropShadowAngle) * dropShadowDistance;
  } else {
    context.shadowColor = "black";
    context.shadowBlur = 0;
    context.shadowOffsetX = 0;
    context.shadowOffsetY = 0;
  }
  if (style.stroke && style.strokeThickness) {
    context.strokeText(char, tx, ty + metrics.lineHeight - fontProperties.descent);
  }
  if (style.fill) {
    context.fillText(char, tx, ty + metrics.lineHeight - fontProperties.descent);
  }
  context.setTransform(1, 0, 0, 1, 0, 0);
  context.fillStyle = "rgba(0, 0, 0, 0)";
}


//# sourceMappingURL=drawGlyph.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "extractCharCode": () => (/* binding */ extractCharCode)
/* harmony export */ });
function extractCharCode(str) {
  return str.codePointAt ? str.codePointAt(0) : str.charCodeAt(0);
}


//# sourceMappingURL=extractCharCode.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "generateFillStyle": () => (/* binding */ generateFillStyle)
/* harmony export */ });
/* harmony import */ var _pixi_text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/text */ "./node_modules/@pixi/text/lib/index.mjs");


function generateFillStyle(canvas, context, style, resolution, lines, metrics) {
  const fillStyle = style.fill;
  if (!Array.isArray(fillStyle)) {
    return fillStyle;
  } else if (fillStyle.length === 1) {
    return fillStyle[0];
  }
  let gradient;
  const dropShadowCorrection = style.dropShadow ? style.dropShadowDistance : 0;
  const padding = style.padding || 0;
  const width = canvas.width / resolution - dropShadowCorrection - padding * 2;
  const height = canvas.height / resolution - dropShadowCorrection - padding * 2;
  const fill = fillStyle.slice();
  const fillGradientStops = style.fillGradientStops.slice();
  if (!fillGradientStops.length) {
    const lengthPlus1 = fill.length + 1;
    for (let i = 1; i < lengthPlus1; ++i) {
      fillGradientStops.push(i / lengthPlus1);
    }
  }
  fill.unshift(fillStyle[0]);
  fillGradientStops.unshift(0);
  fill.push(fillStyle[fillStyle.length - 1]);
  fillGradientStops.push(1);
  if (style.fillGradientType === _pixi_text__WEBPACK_IMPORTED_MODULE_0__.TEXT_GRADIENT.LINEAR_VERTICAL) {
    gradient = context.createLinearGradient(width / 2, padding, width / 2, height + padding);
    let lastIterationStop = 0;
    const textHeight = metrics.fontProperties.fontSize + style.strokeThickness;
    const gradStopLineHeight = textHeight / height;
    for (let i = 0; i < lines.length; i++) {
      const thisLineTop = metrics.lineHeight * i;
      for (let j = 0; j < fill.length; j++) {
        let lineStop = 0;
        if (typeof fillGradientStops[j] === "number") {
          lineStop = fillGradientStops[j];
        } else {
          lineStop = j / fill.length;
        }
        const globalStop = thisLineTop / height + lineStop * gradStopLineHeight;
        let clampedStop = Math.max(lastIterationStop, globalStop);
        clampedStop = Math.min(clampedStop, 1);
        gradient.addColorStop(clampedStop, fill[j]);
        lastIterationStop = clampedStop;
      }
    }
  } else {
    gradient = context.createLinearGradient(padding, height / 2, width + padding, height / 2);
    const totalIterations = fill.length + 1;
    let currentIteration = 1;
    for (let i = 0; i < fill.length; i++) {
      let stop;
      if (typeof fillGradientStops[i] === "number") {
        stop = fillGradientStops[i];
      } else {
        stop = currentIteration / totalIterations;
      }
      gradient.addColorStop(stop, fill[i]);
      currentIteration++;
    }
  }
  return gradient;
}


//# sourceMappingURL=generateFillStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "drawGlyph": () => (/* reexport safe */ _drawGlyph_mjs__WEBPACK_IMPORTED_MODULE_0__.drawGlyph),
/* harmony export */   "extractCharCode": () => (/* reexport safe */ _extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_3__.extractCharCode),
/* harmony export */   "generateFillStyle": () => (/* reexport safe */ _generateFillStyle_mjs__WEBPACK_IMPORTED_MODULE_1__.generateFillStyle),
/* harmony export */   "resolveCharacters": () => (/* reexport safe */ _resolveCharacters_mjs__WEBPACK_IMPORTED_MODULE_2__.resolveCharacters),
/* harmony export */   "splitTextToCharacters": () => (/* reexport safe */ _splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_4__.splitTextToCharacters)
/* harmony export */ });
/* harmony import */ var _drawGlyph_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./drawGlyph.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/drawGlyph.mjs");
/* harmony import */ var _generateFillStyle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./generateFillStyle.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs");
/* harmony import */ var _resolveCharacters_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resolveCharacters.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/resolveCharacters.mjs");
/* harmony import */ var _extractCharCode_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./extractCharCode.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs");
/* harmony import */ var _splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./splitTextToCharacters.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs");





//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/resolveCharacters.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/resolveCharacters.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "resolveCharacters": () => (/* binding */ resolveCharacters)
/* harmony export */ });
/* harmony import */ var _splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./splitTextToCharacters.mjs */ "./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs");


function resolveCharacters(chars) {
  if (typeof chars === "string") {
    chars = [chars];
  }
  const result = [];
  for (let i = 0, j = chars.length; i < j; i++) {
    const item = chars[i];
    if (Array.isArray(item)) {
      if (item.length !== 2) {
        throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${item.length}.`);
      }
      const startCode = item[0].charCodeAt(0);
      const endCode = item[1].charCodeAt(0);
      if (endCode < startCode) {
        throw new Error("[BitmapFont]: Invalid character range.");
      }
      for (let i2 = startCode, j2 = endCode; i2 <= j2; i2++) {
        result.push(String.fromCharCode(i2));
      }
    } else {
      result.push(...(0,_splitTextToCharacters_mjs__WEBPACK_IMPORTED_MODULE_0__.splitTextToCharacters)(item));
    }
  }
  if (result.length === 0) {
    throw new Error("[BitmapFont]: Empty set when resolving characters.");
  }
  return result;
}


//# sourceMappingURL=resolveCharacters.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "splitTextToCharacters": () => (/* binding */ splitTextToCharacters)
/* harmony export */ });
function splitTextToCharacters(text) {
  return Array.from ? Array.from(text) : text.split("");
}


//# sourceMappingURL=splitTextToCharacters.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text/lib/Text.mjs":
/*!**********************************************!*\
  !*** ./node_modules/@pixi/text/lib/Text.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Text": () => (/* binding */ Text)
/* harmony export */ });
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/text/lib/const.mjs");
/* harmony import */ var _TextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TextStyle.mjs */ "./node_modules/@pixi/text/lib/TextStyle.mjs");
/* harmony import */ var _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextMetrics.mjs */ "./node_modules/@pixi/text/lib/TextMetrics.mjs");






const defaultDestroyOptions = {
  texture: true,
  children: false,
  baseTexture: true
};
const _Text = class extends _pixi_sprite__WEBPACK_IMPORTED_MODULE_0__.Sprite {
  constructor(text, style, canvas) {
    let ownCanvas = false;
    if (!canvas) {
      canvas = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.createCanvas();
      ownCanvas = true;
    }
    canvas.width = 3;
    canvas.height = 3;
    const texture = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Texture.from(canvas);
    texture.orig = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Rectangle();
    texture.trim = new _pixi_core__WEBPACK_IMPORTED_MODULE_1__.Rectangle();
    super(texture);
    this._ownCanvas = ownCanvas;
    this.canvas = canvas;
    this.context = canvas.getContext("2d", {
      willReadFrequently: true
    });
    this._resolution = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.settings.RESOLUTION;
    this._autoResolution = true;
    this._text = null;
    this._style = null;
    this._styleListener = null;
    this._font = "";
    this.text = text;
    this.style = style;
    this.localStyleID = -1;
  }
  updateText(respectDirty) {
    const style = this._style;
    if (this.localStyleID !== style.styleID) {
      this.dirty = true;
      this.localStyleID = style.styleID;
    }
    if (!this.dirty && respectDirty) {
      return;
    }
    this._font = this._style.toFontString();
    const context = this.context;
    const measured = _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_4__.TextMetrics.measureText(this._text || " ", this._style, this._style.wordWrap, this.canvas);
    const width = measured.width;
    const height = measured.height;
    const lines = measured.lines;
    const lineHeight = measured.lineHeight;
    const lineWidths = measured.lineWidths;
    const maxLineWidth = measured.maxLineWidth;
    const fontProperties = measured.fontProperties;
    this.canvas.width = Math.ceil(Math.ceil(Math.max(1, width) + style.padding * 2) * this._resolution);
    this.canvas.height = Math.ceil(Math.ceil(Math.max(1, height) + style.padding * 2) * this._resolution);
    context.scale(this._resolution, this._resolution);
    context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    context.font = this._font;
    context.lineWidth = style.strokeThickness;
    context.textBaseline = style.textBaseline;
    context.lineJoin = style.lineJoin;
    context.miterLimit = style.miterLimit;
    let linePositionX;
    let linePositionY;
    const passesCount = style.dropShadow ? 2 : 1;
    for (let i = 0; i < passesCount; ++i) {
      const isShadowPass = style.dropShadow && i === 0;
      const dsOffsetText = isShadowPass ? Math.ceil(Math.max(1, height) + style.padding * 2) : 0;
      const dsOffsetShadow = dsOffsetText * this._resolution;
      if (isShadowPass) {
        context.fillStyle = "black";
        context.strokeStyle = "black";
        const dropShadowColor = style.dropShadowColor;
        const rgb = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.hex2rgb(typeof dropShadowColor === "number" ? dropShadowColor : _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.string2hex(dropShadowColor));
        const dropShadowBlur = style.dropShadowBlur * this._resolution;
        const dropShadowDistance = style.dropShadowDistance * this._resolution;
        context.shadowColor = `rgba(${rgb[0] * 255},${rgb[1] * 255},${rgb[2] * 255},${style.dropShadowAlpha})`;
        context.shadowBlur = dropShadowBlur;
        context.shadowOffsetX = Math.cos(style.dropShadowAngle) * dropShadowDistance;
        context.shadowOffsetY = Math.sin(style.dropShadowAngle) * dropShadowDistance + dsOffsetShadow;
      } else {
        context.fillStyle = this._generateFillStyle(style, lines, measured);
        context.strokeStyle = style.stroke;
        context.shadowColor = "black";
        context.shadowBlur = 0;
        context.shadowOffsetX = 0;
        context.shadowOffsetY = 0;
      }
      let linePositionYShift = (lineHeight - fontProperties.fontSize) / 2;
      if (lineHeight - fontProperties.fontSize < 0) {
        linePositionYShift = 0;
      }
      for (let i2 = 0; i2 < lines.length; i2++) {
        linePositionX = style.strokeThickness / 2;
        linePositionY = style.strokeThickness / 2 + i2 * lineHeight + fontProperties.ascent + linePositionYShift;
        if (style.align === "right") {
          linePositionX += maxLineWidth - lineWidths[i2];
        } else if (style.align === "center") {
          linePositionX += (maxLineWidth - lineWidths[i2]) / 2;
        }
        if (style.stroke && style.strokeThickness) {
          this.drawLetterSpacing(lines[i2], linePositionX + style.padding, linePositionY + style.padding - dsOffsetText, true);
        }
        if (style.fill) {
          this.drawLetterSpacing(lines[i2], linePositionX + style.padding, linePositionY + style.padding - dsOffsetText);
        }
      }
    }
    this.updateTexture();
  }
  drawLetterSpacing(text, x, y, isStroke = false) {
    const style = this._style;
    const letterSpacing = style.letterSpacing;
    const supportLetterSpacing = _Text.experimentalLetterSpacing && ("letterSpacing" in CanvasRenderingContext2D.prototype || "textLetterSpacing" in CanvasRenderingContext2D.prototype);
    if (letterSpacing === 0 || supportLetterSpacing) {
      if (supportLetterSpacing) {
        this.context.letterSpacing = letterSpacing;
        this.context.textLetterSpacing = letterSpacing;
      }
      if (isStroke) {
        this.context.strokeText(text, x, y);
      } else {
        this.context.fillText(text, x, y);
      }
      return;
    }
    let currentPosition = x;
    const stringArray = Array.from ? Array.from(text) : text.split("");
    let previousWidth = this.context.measureText(text).width;
    let currentWidth = 0;
    for (let i = 0; i < stringArray.length; ++i) {
      const currentChar = stringArray[i];
      if (isStroke) {
        this.context.strokeText(currentChar, currentPosition, y);
      } else {
        this.context.fillText(currentChar, currentPosition, y);
      }
      let textStr = "";
      for (let j = i + 1; j < stringArray.length; ++j) {
        textStr += stringArray[j];
      }
      currentWidth = this.context.measureText(textStr).width;
      currentPosition += previousWidth - currentWidth + letterSpacing;
      previousWidth = currentWidth;
    }
  }
  updateTexture() {
    const canvas = this.canvas;
    if (this._style.trim) {
      const trimmed = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.trimCanvas(canvas);
      if (trimmed.data) {
        canvas.width = trimmed.width;
        canvas.height = trimmed.height;
        this.context.putImageData(trimmed.data, 0, 0);
      }
    }
    const texture = this._texture;
    const style = this._style;
    const padding = style.trim ? 0 : style.padding;
    const baseTexture = texture.baseTexture;
    texture.trim.width = texture._frame.width = canvas.width / this._resolution;
    texture.trim.height = texture._frame.height = canvas.height / this._resolution;
    texture.trim.x = -padding;
    texture.trim.y = -padding;
    texture.orig.width = texture._frame.width - padding * 2;
    texture.orig.height = texture._frame.height - padding * 2;
    this._onTextureUpdate();
    baseTexture.setRealSize(canvas.width, canvas.height, this._resolution);
    texture.updateUvs();
    this.dirty = false;
  }
  _render(renderer) {
    if (this._autoResolution && this._resolution !== renderer.resolution) {
      this._resolution = renderer.resolution;
      this.dirty = true;
    }
    this.updateText(true);
    super._render(renderer);
  }
  updateTransform() {
    this.updateText(true);
    super.updateTransform();
  }
  getBounds(skipUpdate, rect) {
    this.updateText(true);
    if (this._textureID === -1) {
      skipUpdate = false;
    }
    return super.getBounds(skipUpdate, rect);
  }
  getLocalBounds(rect) {
    this.updateText(true);
    return super.getLocalBounds.call(this, rect);
  }
  _calculateBounds() {
    this.calculateVertices();
    this._bounds.addQuad(this.vertexData);
  }
  _generateFillStyle(style, lines, metrics) {
    const fillStyle = style.fill;
    if (!Array.isArray(fillStyle)) {
      return fillStyle;
    } else if (fillStyle.length === 1) {
      return fillStyle[0];
    }
    let gradient;
    const dropShadowCorrection = style.dropShadow ? style.dropShadowDistance : 0;
    const padding = style.padding || 0;
    const width = this.canvas.width / this._resolution - dropShadowCorrection - padding * 2;
    const height = this.canvas.height / this._resolution - dropShadowCorrection - padding * 2;
    const fill = fillStyle.slice();
    const fillGradientStops = style.fillGradientStops.slice();
    if (!fillGradientStops.length) {
      const lengthPlus1 = fill.length + 1;
      for (let i = 1; i < lengthPlus1; ++i) {
        fillGradientStops.push(i / lengthPlus1);
      }
    }
    fill.unshift(fillStyle[0]);
    fillGradientStops.unshift(0);
    fill.push(fillStyle[fillStyle.length - 1]);
    fillGradientStops.push(1);
    if (style.fillGradientType === _const_mjs__WEBPACK_IMPORTED_MODULE_2__.TEXT_GRADIENT.LINEAR_VERTICAL) {
      gradient = this.context.createLinearGradient(width / 2, padding, width / 2, height + padding);
      const textHeight = metrics.fontProperties.fontSize + style.strokeThickness;
      for (let i = 0; i < lines.length; i++) {
        const lastLineBottom = metrics.lineHeight * (i - 1) + textHeight;
        const thisLineTop = metrics.lineHeight * i;
        let thisLineGradientStart = thisLineTop;
        if (i > 0 && lastLineBottom > thisLineTop) {
          thisLineGradientStart = (thisLineTop + lastLineBottom) / 2;
        }
        const thisLineBottom = thisLineTop + textHeight;
        const nextLineTop = metrics.lineHeight * (i + 1);
        let thisLineGradientEnd = thisLineBottom;
        if (i + 1 < lines.length && nextLineTop < thisLineBottom) {
          thisLineGradientEnd = (thisLineBottom + nextLineTop) / 2;
        }
        const gradStopLineHeight = (thisLineGradientEnd - thisLineGradientStart) / height;
        for (let j = 0; j < fill.length; j++) {
          let lineStop = 0;
          if (typeof fillGradientStops[j] === "number") {
            lineStop = fillGradientStops[j];
          } else {
            lineStop = j / fill.length;
          }
          let globalStop = Math.min(1, Math.max(0, thisLineGradientStart / height + lineStop * gradStopLineHeight));
          globalStop = Number(globalStop.toFixed(5));
          gradient.addColorStop(globalStop, fill[j]);
        }
      }
    } else {
      gradient = this.context.createLinearGradient(padding, height / 2, width + padding, height / 2);
      const totalIterations = fill.length + 1;
      let currentIteration = 1;
      for (let i = 0; i < fill.length; i++) {
        let stop;
        if (typeof fillGradientStops[i] === "number") {
          stop = fillGradientStops[i];
        } else {
          stop = currentIteration / totalIterations;
        }
        gradient.addColorStop(stop, fill[i]);
        currentIteration++;
      }
    }
    return gradient;
  }
  destroy(options) {
    if (typeof options === "boolean") {
      options = { children: options };
    }
    options = Object.assign({}, defaultDestroyOptions, options);
    super.destroy(options);
    if (this._ownCanvas) {
      this.canvas.height = this.canvas.width = 0;
    }
    this.context = null;
    this.canvas = null;
    this._style = null;
  }
  get width() {
    this.updateText(true);
    return Math.abs(this.scale.x) * this._texture.orig.width;
  }
  set width(value) {
    this.updateText(true);
    const s = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.sign(this.scale.x) || 1;
    this.scale.x = s * value / this._texture.orig.width;
    this._width = value;
  }
  get height() {
    this.updateText(true);
    return Math.abs(this.scale.y) * this._texture.orig.height;
  }
  set height(value) {
    this.updateText(true);
    const s = _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.sign(this.scale.y) || 1;
    this.scale.y = s * value / this._texture.orig.height;
    this._height = value;
  }
  get style() {
    return this._style;
  }
  set style(style) {
    style = style || {};
    if (style instanceof _TextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__.TextStyle) {
      this._style = style;
    } else {
      this._style = new _TextStyle_mjs__WEBPACK_IMPORTED_MODULE_3__.TextStyle(style);
    }
    this.localStyleID = -1;
    this.dirty = true;
  }
  get text() {
    return this._text;
  }
  set text(text) {
    text = String(text === null || text === void 0 ? "" : text);
    if (this._text === text) {
      return;
    }
    this._text = text;
    this.dirty = true;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._autoResolution = false;
    if (this._resolution === value) {
      return;
    }
    this._resolution = value;
    this.dirty = true;
  }
};
let Text = _Text;
Text.experimentalLetterSpacing = false;


//# sourceMappingURL=Text.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text/lib/TextMetrics.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@pixi/text/lib/TextMetrics.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextMetrics": () => (/* binding */ TextMetrics)
/* harmony export */ });
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");


const contextSettings = {
  willReadFrequently: true
};
class TextMetrics {
  constructor(text, style, width, height, lines, lineWidths, lineHeight, maxLineWidth, fontProperties) {
    this.text = text;
    this.style = style;
    this.width = width;
    this.height = height;
    this.lines = lines;
    this.lineWidths = lineWidths;
    this.lineHeight = lineHeight;
    this.maxLineWidth = maxLineWidth;
    this.fontProperties = fontProperties;
  }
  static measureText(text, style, wordWrap, canvas = TextMetrics._canvas) {
    wordWrap = wordWrap === void 0 || wordWrap === null ? style.wordWrap : wordWrap;
    const font = style.toFontString();
    const fontProperties = TextMetrics.measureFont(font);
    if (fontProperties.fontSize === 0) {
      fontProperties.fontSize = style.fontSize;
      fontProperties.ascent = style.fontSize;
    }
    const context = canvas.getContext("2d", contextSettings);
    context.font = font;
    const outputText = wordWrap ? TextMetrics.wordWrap(text, style, canvas) : text;
    const lines = outputText.split(/(?:\r\n|\r|\n)/);
    const lineWidths = new Array(lines.length);
    let maxLineWidth = 0;
    for (let i = 0; i < lines.length; i++) {
      const lineWidth = context.measureText(lines[i]).width + (lines[i].length - 1) * style.letterSpacing;
      lineWidths[i] = lineWidth;
      maxLineWidth = Math.max(maxLineWidth, lineWidth);
    }
    let width = maxLineWidth + style.strokeThickness;
    if (style.dropShadow) {
      width += style.dropShadowDistance;
    }
    const lineHeight = style.lineHeight || fontProperties.fontSize + style.strokeThickness;
    let height = Math.max(lineHeight, fontProperties.fontSize + style.strokeThickness * 2) + (lines.length - 1) * (lineHeight + style.leading);
    if (style.dropShadow) {
      height += style.dropShadowDistance;
    }
    return new TextMetrics(text, style, width, height, lines, lineWidths, lineHeight + style.leading, maxLineWidth, fontProperties);
  }
  static wordWrap(text, style, canvas = TextMetrics._canvas) {
    const context = canvas.getContext("2d", contextSettings);
    let width = 0;
    let line = "";
    let lines = "";
    const cache = /* @__PURE__ */ Object.create(null);
    const { letterSpacing, whiteSpace } = style;
    const collapseSpaces = TextMetrics.collapseSpaces(whiteSpace);
    const collapseNewlines = TextMetrics.collapseNewlines(whiteSpace);
    let canPrependSpaces = !collapseSpaces;
    const wordWrapWidth = style.wordWrapWidth + letterSpacing;
    const tokens = TextMetrics.tokenize(text);
    for (let i = 0; i < tokens.length; i++) {
      let token = tokens[i];
      if (TextMetrics.isNewline(token)) {
        if (!collapseNewlines) {
          lines += TextMetrics.addLine(line);
          canPrependSpaces = !collapseSpaces;
          line = "";
          width = 0;
          continue;
        }
        token = " ";
      }
      if (collapseSpaces) {
        const currIsBreakingSpace = TextMetrics.isBreakingSpace(token);
        const lastIsBreakingSpace = TextMetrics.isBreakingSpace(line[line.length - 1]);
        if (currIsBreakingSpace && lastIsBreakingSpace) {
          continue;
        }
      }
      const tokenWidth = TextMetrics.getFromCache(token, letterSpacing, cache, context);
      if (tokenWidth > wordWrapWidth) {
        if (line !== "") {
          lines += TextMetrics.addLine(line);
          line = "";
          width = 0;
        }
        if (TextMetrics.canBreakWords(token, style.breakWords)) {
          const characters = TextMetrics.wordWrapSplit(token);
          for (let j = 0; j < characters.length; j++) {
            let char = characters[j];
            let k = 1;
            while (characters[j + k]) {
              const nextChar = characters[j + k];
              const lastChar = char[char.length - 1];
              if (!TextMetrics.canBreakChars(lastChar, nextChar, token, j, style.breakWords)) {
                char += nextChar;
              } else {
                break;
              }
              k++;
            }
            j += char.length - 1;
            const characterWidth = TextMetrics.getFromCache(char, letterSpacing, cache, context);
            if (characterWidth + width > wordWrapWidth) {
              lines += TextMetrics.addLine(line);
              canPrependSpaces = false;
              line = "";
              width = 0;
            }
            line += char;
            width += characterWidth;
          }
        } else {
          if (line.length > 0) {
            lines += TextMetrics.addLine(line);
            line = "";
            width = 0;
          }
          const isLastToken = i === tokens.length - 1;
          lines += TextMetrics.addLine(token, !isLastToken);
          canPrependSpaces = false;
          line = "";
          width = 0;
        }
      } else {
        if (tokenWidth + width > wordWrapWidth) {
          canPrependSpaces = false;
          lines += TextMetrics.addLine(line);
          line = "";
          width = 0;
        }
        if (line.length > 0 || !TextMetrics.isBreakingSpace(token) || canPrependSpaces) {
          line += token;
          width += tokenWidth;
        }
      }
    }
    lines += TextMetrics.addLine(line, false);
    return lines;
  }
  static addLine(line, newLine = true) {
    line = TextMetrics.trimRight(line);
    line = newLine ? `${line}
` : line;
    return line;
  }
  static getFromCache(key, letterSpacing, cache, context) {
    let width = cache[key];
    if (typeof width !== "number") {
      const spacing = key.length * letterSpacing;
      width = context.measureText(key).width + spacing;
      cache[key] = width;
    }
    return width;
  }
  static collapseSpaces(whiteSpace) {
    return whiteSpace === "normal" || whiteSpace === "pre-line";
  }
  static collapseNewlines(whiteSpace) {
    return whiteSpace === "normal";
  }
  static trimRight(text) {
    if (typeof text !== "string") {
      return "";
    }
    for (let i = text.length - 1; i >= 0; i--) {
      const char = text[i];
      if (!TextMetrics.isBreakingSpace(char)) {
        break;
      }
      text = text.slice(0, -1);
    }
    return text;
  }
  static isNewline(char) {
    if (typeof char !== "string") {
      return false;
    }
    return TextMetrics._newlines.includes(char.charCodeAt(0));
  }
  static isBreakingSpace(char, _nextChar) {
    if (typeof char !== "string") {
      return false;
    }
    return TextMetrics._breakingSpaces.includes(char.charCodeAt(0));
  }
  static tokenize(text) {
    const tokens = [];
    let token = "";
    if (typeof text !== "string") {
      return tokens;
    }
    for (let i = 0; i < text.length; i++) {
      const char = text[i];
      const nextChar = text[i + 1];
      if (TextMetrics.isBreakingSpace(char, nextChar) || TextMetrics.isNewline(char)) {
        if (token !== "") {
          tokens.push(token);
          token = "";
        }
        tokens.push(char);
        continue;
      }
      token += char;
    }
    if (token !== "") {
      tokens.push(token);
    }
    return tokens;
  }
  static canBreakWords(_token, breakWords) {
    return breakWords;
  }
  static canBreakChars(_char, _nextChar, _token, _index, _breakWords) {
    return true;
  }
  static wordWrapSplit(token) {
    return token.split("");
  }
  static measureFont(font) {
    if (TextMetrics._fonts[font]) {
      return TextMetrics._fonts[font];
    }
    const properties = {
      ascent: 0,
      descent: 0,
      fontSize: 0
    };
    const canvas = TextMetrics._canvas;
    const context = TextMetrics._context;
    context.font = font;
    const metricsString = TextMetrics.METRICS_STRING + TextMetrics.BASELINE_SYMBOL;
    const width = Math.ceil(context.measureText(metricsString).width);
    let baseline = Math.ceil(context.measureText(TextMetrics.BASELINE_SYMBOL).width);
    const height = Math.ceil(TextMetrics.HEIGHT_MULTIPLIER * baseline);
    baseline = baseline * TextMetrics.BASELINE_MULTIPLIER | 0;
    canvas.width = width;
    canvas.height = height;
    context.fillStyle = "#f00";
    context.fillRect(0, 0, width, height);
    context.font = font;
    context.textBaseline = "alphabetic";
    context.fillStyle = "#000";
    context.fillText(metricsString, 0, baseline);
    const imagedata = context.getImageData(0, 0, width, height).data;
    const pixels = imagedata.length;
    const line = width * 4;
    let i = 0;
    let idx = 0;
    let stop = false;
    for (i = 0; i < baseline; ++i) {
      for (let j = 0; j < line; j += 4) {
        if (imagedata[idx + j] !== 255) {
          stop = true;
          break;
        }
      }
      if (!stop) {
        idx += line;
      } else {
        break;
      }
    }
    properties.ascent = baseline - i;
    idx = pixels - line;
    stop = false;
    for (i = height; i > baseline; --i) {
      for (let j = 0; j < line; j += 4) {
        if (imagedata[idx + j] !== 255) {
          stop = true;
          break;
        }
      }
      if (!stop) {
        idx -= line;
      } else {
        break;
      }
    }
    properties.descent = i - baseline;
    properties.fontSize = properties.ascent + properties.descent;
    TextMetrics._fonts[font] = properties;
    return properties;
  }
  static clearMetrics(font = "") {
    if (font) {
      delete TextMetrics._fonts[font];
    } else {
      TextMetrics._fonts = {};
    }
  }
  static get _canvas() {
    if (!TextMetrics.__canvas) {
      let canvas;
      try {
        const c = new OffscreenCanvas(0, 0);
        const context = c.getContext("2d", contextSettings);
        if (context?.measureText) {
          TextMetrics.__canvas = c;
          return c;
        }
        canvas = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
      } catch (ex) {
        canvas = _pixi_core__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
      }
      canvas.width = canvas.height = 10;
      TextMetrics.__canvas = canvas;
    }
    return TextMetrics.__canvas;
  }
  static get _context() {
    if (!TextMetrics.__context) {
      TextMetrics.__context = TextMetrics._canvas.getContext("2d", contextSettings);
    }
    return TextMetrics.__context;
  }
}
TextMetrics._fonts = {};
TextMetrics.METRICS_STRING = "|\xC9q\xC5";
TextMetrics.BASELINE_SYMBOL = "M";
TextMetrics.BASELINE_MULTIPLIER = 1.4;
TextMetrics.HEIGHT_MULTIPLIER = 2;
TextMetrics._newlines = [
  10,
  13
];
TextMetrics._breakingSpaces = [
  9,
  32,
  8192,
  8193,
  8194,
  8195,
  8196,
  8197,
  8198,
  8200,
  8201,
  8202,
  8287,
  12288
];


//# sourceMappingURL=TextMetrics.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text/lib/TextStyle.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/text/lib/TextStyle.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextStyle": () => (/* binding */ TextStyle)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/text/lib/const.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");



const defaultStyle = {
  align: "left",
  breakWords: false,
  dropShadow: false,
  dropShadowAlpha: 1,
  dropShadowAngle: Math.PI / 6,
  dropShadowBlur: 0,
  dropShadowColor: "black",
  dropShadowDistance: 5,
  fill: "black",
  fillGradientType: _const_mjs__WEBPACK_IMPORTED_MODULE_0__.TEXT_GRADIENT.LINEAR_VERTICAL,
  fillGradientStops: [],
  fontFamily: "Arial",
  fontSize: 26,
  fontStyle: "normal",
  fontVariant: "normal",
  fontWeight: "normal",
  letterSpacing: 0,
  lineHeight: 0,
  lineJoin: "miter",
  miterLimit: 10,
  padding: 0,
  stroke: "black",
  strokeThickness: 0,
  textBaseline: "alphabetic",
  trim: false,
  whiteSpace: "pre",
  wordWrap: false,
  wordWrapWidth: 100,
  leading: 0
};
const genericFontFamilies = [
  "serif",
  "sans-serif",
  "monospace",
  "cursive",
  "fantasy",
  "system-ui"
];
class TextStyle {
  constructor(style) {
    this.styleID = 0;
    this.reset();
    deepCopyProperties(this, style, style);
  }
  clone() {
    const clonedProperties = {};
    deepCopyProperties(clonedProperties, this, defaultStyle);
    return new TextStyle(clonedProperties);
  }
  reset() {
    deepCopyProperties(this, defaultStyle, defaultStyle);
  }
  get align() {
    return this._align;
  }
  set align(align) {
    if (this._align !== align) {
      this._align = align;
      this.styleID++;
    }
  }
  get breakWords() {
    return this._breakWords;
  }
  set breakWords(breakWords) {
    if (this._breakWords !== breakWords) {
      this._breakWords = breakWords;
      this.styleID++;
    }
  }
  get dropShadow() {
    return this._dropShadow;
  }
  set dropShadow(dropShadow) {
    if (this._dropShadow !== dropShadow) {
      this._dropShadow = dropShadow;
      this.styleID++;
    }
  }
  get dropShadowAlpha() {
    return this._dropShadowAlpha;
  }
  set dropShadowAlpha(dropShadowAlpha) {
    if (this._dropShadowAlpha !== dropShadowAlpha) {
      this._dropShadowAlpha = dropShadowAlpha;
      this.styleID++;
    }
  }
  get dropShadowAngle() {
    return this._dropShadowAngle;
  }
  set dropShadowAngle(dropShadowAngle) {
    if (this._dropShadowAngle !== dropShadowAngle) {
      this._dropShadowAngle = dropShadowAngle;
      this.styleID++;
    }
  }
  get dropShadowBlur() {
    return this._dropShadowBlur;
  }
  set dropShadowBlur(dropShadowBlur) {
    if (this._dropShadowBlur !== dropShadowBlur) {
      this._dropShadowBlur = dropShadowBlur;
      this.styleID++;
    }
  }
  get dropShadowColor() {
    return this._dropShadowColor;
  }
  set dropShadowColor(dropShadowColor) {
    const outputColor = getColor(dropShadowColor);
    if (this._dropShadowColor !== outputColor) {
      this._dropShadowColor = outputColor;
      this.styleID++;
    }
  }
  get dropShadowDistance() {
    return this._dropShadowDistance;
  }
  set dropShadowDistance(dropShadowDistance) {
    if (this._dropShadowDistance !== dropShadowDistance) {
      this._dropShadowDistance = dropShadowDistance;
      this.styleID++;
    }
  }
  get fill() {
    return this._fill;
  }
  set fill(fill) {
    const outputColor = getColor(fill);
    if (this._fill !== outputColor) {
      this._fill = outputColor;
      this.styleID++;
    }
  }
  get fillGradientType() {
    return this._fillGradientType;
  }
  set fillGradientType(fillGradientType) {
    if (this._fillGradientType !== fillGradientType) {
      this._fillGradientType = fillGradientType;
      this.styleID++;
    }
  }
  get fillGradientStops() {
    return this._fillGradientStops;
  }
  set fillGradientStops(fillGradientStops) {
    if (!areArraysEqual(this._fillGradientStops, fillGradientStops)) {
      this._fillGradientStops = fillGradientStops;
      this.styleID++;
    }
  }
  get fontFamily() {
    return this._fontFamily;
  }
  set fontFamily(fontFamily) {
    if (this.fontFamily !== fontFamily) {
      this._fontFamily = fontFamily;
      this.styleID++;
    }
  }
  get fontSize() {
    return this._fontSize;
  }
  set fontSize(fontSize) {
    if (this._fontSize !== fontSize) {
      this._fontSize = fontSize;
      this.styleID++;
    }
  }
  get fontStyle() {
    return this._fontStyle;
  }
  set fontStyle(fontStyle) {
    if (this._fontStyle !== fontStyle) {
      this._fontStyle = fontStyle;
      this.styleID++;
    }
  }
  get fontVariant() {
    return this._fontVariant;
  }
  set fontVariant(fontVariant) {
    if (this._fontVariant !== fontVariant) {
      this._fontVariant = fontVariant;
      this.styleID++;
    }
  }
  get fontWeight() {
    return this._fontWeight;
  }
  set fontWeight(fontWeight) {
    if (this._fontWeight !== fontWeight) {
      this._fontWeight = fontWeight;
      this.styleID++;
    }
  }
  get letterSpacing() {
    return this._letterSpacing;
  }
  set letterSpacing(letterSpacing) {
    if (this._letterSpacing !== letterSpacing) {
      this._letterSpacing = letterSpacing;
      this.styleID++;
    }
  }
  get lineHeight() {
    return this._lineHeight;
  }
  set lineHeight(lineHeight) {
    if (this._lineHeight !== lineHeight) {
      this._lineHeight = lineHeight;
      this.styleID++;
    }
  }
  get leading() {
    return this._leading;
  }
  set leading(leading) {
    if (this._leading !== leading) {
      this._leading = leading;
      this.styleID++;
    }
  }
  get lineJoin() {
    return this._lineJoin;
  }
  set lineJoin(lineJoin) {
    if (this._lineJoin !== lineJoin) {
      this._lineJoin = lineJoin;
      this.styleID++;
    }
  }
  get miterLimit() {
    return this._miterLimit;
  }
  set miterLimit(miterLimit) {
    if (this._miterLimit !== miterLimit) {
      this._miterLimit = miterLimit;
      this.styleID++;
    }
  }
  get padding() {
    return this._padding;
  }
  set padding(padding) {
    if (this._padding !== padding) {
      this._padding = padding;
      this.styleID++;
    }
  }
  get stroke() {
    return this._stroke;
  }
  set stroke(stroke) {
    const outputColor = getColor(stroke);
    if (this._stroke !== outputColor) {
      this._stroke = outputColor;
      this.styleID++;
    }
  }
  get strokeThickness() {
    return this._strokeThickness;
  }
  set strokeThickness(strokeThickness) {
    if (this._strokeThickness !== strokeThickness) {
      this._strokeThickness = strokeThickness;
      this.styleID++;
    }
  }
  get textBaseline() {
    return this._textBaseline;
  }
  set textBaseline(textBaseline) {
    if (this._textBaseline !== textBaseline) {
      this._textBaseline = textBaseline;
      this.styleID++;
    }
  }
  get trim() {
    return this._trim;
  }
  set trim(trim) {
    if (this._trim !== trim) {
      this._trim = trim;
      this.styleID++;
    }
  }
  get whiteSpace() {
    return this._whiteSpace;
  }
  set whiteSpace(whiteSpace) {
    if (this._whiteSpace !== whiteSpace) {
      this._whiteSpace = whiteSpace;
      this.styleID++;
    }
  }
  get wordWrap() {
    return this._wordWrap;
  }
  set wordWrap(wordWrap) {
    if (this._wordWrap !== wordWrap) {
      this._wordWrap = wordWrap;
      this.styleID++;
    }
  }
  get wordWrapWidth() {
    return this._wordWrapWidth;
  }
  set wordWrapWidth(wordWrapWidth) {
    if (this._wordWrapWidth !== wordWrapWidth) {
      this._wordWrapWidth = wordWrapWidth;
      this.styleID++;
    }
  }
  toFontString() {
    const fontSizeString = typeof this.fontSize === "number" ? `${this.fontSize}px` : this.fontSize;
    let fontFamilies = this.fontFamily;
    if (!Array.isArray(this.fontFamily)) {
      fontFamilies = this.fontFamily.split(",");
    }
    for (let i = fontFamilies.length - 1; i >= 0; i--) {
      let fontFamily = fontFamilies[i].trim();
      if (!/([\"\'])[^\'\"]+\1/.test(fontFamily) && !genericFontFamilies.includes(fontFamily)) {
        fontFamily = `"${fontFamily}"`;
      }
      fontFamilies[i] = fontFamily;
    }
    return `${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${fontSizeString} ${fontFamilies.join(",")}`;
  }
}
function getSingleColor(color) {
  if (typeof color === "number") {
    return _pixi_core__WEBPACK_IMPORTED_MODULE_1__.utils.hex2string(color);
  } else if (typeof color === "string") {
    if (color.startsWith("0x")) {
      color = color.replace("0x", "#");
    }
  }
  return color;
}
function getColor(color) {
  if (!Array.isArray(color)) {
    return getSingleColor(color);
  } else {
    for (let i = 0; i < color.length; ++i) {
      color[i] = getSingleColor(color[i]);
    }
    return color;
  }
}
function areArraysEqual(array1, array2) {
  if (!Array.isArray(array1) || !Array.isArray(array2)) {
    return false;
  }
  if (array1.length !== array2.length) {
    return false;
  }
  for (let i = 0; i < array1.length; ++i) {
    if (array1[i] !== array2[i]) {
      return false;
    }
  }
  return true;
}
function deepCopyProperties(target, source, propertyObj) {
  for (const prop in propertyObj) {
    if (Array.isArray(source[prop])) {
      target[prop] = source[prop].slice();
    } else {
      target[prop] = source[prop];
    }
  }
}


//# sourceMappingURL=TextStyle.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text/lib/const.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/text/lib/const.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TEXT_GRADIENT": () => (/* binding */ TEXT_GRADIENT)
/* harmony export */ });
var TEXT_GRADIENT = /* @__PURE__ */ ((TEXT_GRADIENT2) => {
  TEXT_GRADIENT2[TEXT_GRADIENT2["LINEAR_VERTICAL"] = 0] = "LINEAR_VERTICAL";
  TEXT_GRADIENT2[TEXT_GRADIENT2["LINEAR_HORIZONTAL"] = 1] = "LINEAR_HORIZONTAL";
  return TEXT_GRADIENT2;
})(TEXT_GRADIENT || {});


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/text/lib/index.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/text/lib/index.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TEXT_GRADIENT": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_3__.TEXT_GRADIENT),
/* harmony export */   "Text": () => (/* reexport safe */ _Text_mjs__WEBPACK_IMPORTED_MODULE_0__.Text),
/* harmony export */   "TextMetrics": () => (/* reexport safe */ _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_2__.TextMetrics),
/* harmony export */   "TextStyle": () => (/* reexport safe */ _TextStyle_mjs__WEBPACK_IMPORTED_MODULE_1__.TextStyle)
/* harmony export */ });
/* harmony import */ var _Text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Text.mjs */ "./node_modules/@pixi/text/lib/Text.mjs");
/* harmony import */ var _TextStyle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TextStyle.mjs */ "./node_modules/@pixi/text/lib/TextStyle.mjs");
/* harmony import */ var _TextMetrics_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextMetrics.mjs */ "./node_modules/@pixi/text/lib/TextMetrics.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/text/lib/const.mjs");




//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/Ticker.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/Ticker.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Ticker": () => (/* binding */ Ticker)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/ticker/lib/settings.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/ticker/lib/const.mjs");
/* harmony import */ var _TickerListener_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TickerListener.mjs */ "./node_modules/@pixi/ticker/lib/TickerListener.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");





class Ticker {
  constructor() {
    this.autoStart = false;
    this.deltaTime = 1;
    this.lastTime = -1;
    this.speed = 1;
    this.started = false;
    this._requestId = null;
    this._maxElapsedMS = 100;
    this._minElapsedMS = 0;
    this._protected = false;
    this._lastFrame = -1;
    this._head = new _TickerListener_mjs__WEBPACK_IMPORTED_MODULE_2__.TickerListener(null, null, Infinity);
    this.deltaMS = 1 / _pixi_settings__WEBPACK_IMPORTED_MODULE_3__.settings.TARGET_FPMS;
    this.elapsedMS = 1 / _pixi_settings__WEBPACK_IMPORTED_MODULE_3__.settings.TARGET_FPMS;
    this._tick = (time) => {
      this._requestId = null;
      if (this.started) {
        this.update(time);
        if (this.started && this._requestId === null && this._head.next) {
          this._requestId = requestAnimationFrame(this._tick);
        }
      }
    };
  }
  _requestIfNeeded() {
    if (this._requestId === null && this._head.next) {
      this.lastTime = performance.now();
      this._lastFrame = this.lastTime;
      this._requestId = requestAnimationFrame(this._tick);
    }
  }
  _cancelIfNeeded() {
    if (this._requestId !== null) {
      cancelAnimationFrame(this._requestId);
      this._requestId = null;
    }
  }
  _startIfPossible() {
    if (this.started) {
      this._requestIfNeeded();
    } else if (this.autoStart) {
      this.start();
    }
  }
  add(fn, context, priority = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.UPDATE_PRIORITY.NORMAL) {
    return this._addListener(new _TickerListener_mjs__WEBPACK_IMPORTED_MODULE_2__.TickerListener(fn, context, priority));
  }
  addOnce(fn, context, priority = _const_mjs__WEBPACK_IMPORTED_MODULE_1__.UPDATE_PRIORITY.NORMAL) {
    return this._addListener(new _TickerListener_mjs__WEBPACK_IMPORTED_MODULE_2__.TickerListener(fn, context, priority, true));
  }
  _addListener(listener) {
    let current = this._head.next;
    let previous = this._head;
    if (!current) {
      listener.connect(previous);
    } else {
      while (current) {
        if (listener.priority > current.priority) {
          listener.connect(previous);
          break;
        }
        previous = current;
        current = current.next;
      }
      if (!listener.previous) {
        listener.connect(previous);
      }
    }
    this._startIfPossible();
    return this;
  }
  remove(fn, context) {
    let listener = this._head.next;
    while (listener) {
      if (listener.match(fn, context)) {
        listener = listener.destroy();
      } else {
        listener = listener.next;
      }
    }
    if (!this._head.next) {
      this._cancelIfNeeded();
    }
    return this;
  }
  get count() {
    if (!this._head) {
      return 0;
    }
    let count = 0;
    let current = this._head;
    while (current = current.next) {
      count++;
    }
    return count;
  }
  start() {
    if (!this.started) {
      this.started = true;
      this._requestIfNeeded();
    }
  }
  stop() {
    if (this.started) {
      this.started = false;
      this._cancelIfNeeded();
    }
  }
  destroy() {
    if (!this._protected) {
      this.stop();
      let listener = this._head.next;
      while (listener) {
        listener = listener.destroy(true);
      }
      this._head.destroy();
      this._head = null;
    }
  }
  update(currentTime = performance.now()) {
    let elapsedMS;
    if (currentTime > this.lastTime) {
      elapsedMS = this.elapsedMS = currentTime - this.lastTime;
      if (elapsedMS > this._maxElapsedMS) {
        elapsedMS = this._maxElapsedMS;
      }
      elapsedMS *= this.speed;
      if (this._minElapsedMS) {
        const delta = currentTime - this._lastFrame | 0;
        if (delta < this._minElapsedMS) {
          return;
        }
        this._lastFrame = currentTime - delta % this._minElapsedMS;
      }
      this.deltaMS = elapsedMS;
      this.deltaTime = this.deltaMS * _pixi_settings__WEBPACK_IMPORTED_MODULE_3__.settings.TARGET_FPMS;
      const head = this._head;
      let listener = head.next;
      while (listener) {
        listener = listener.emit(this.deltaTime);
      }
      if (!head.next) {
        this._cancelIfNeeded();
      }
    } else {
      this.deltaTime = this.deltaMS = this.elapsedMS = 0;
    }
    this.lastTime = currentTime;
  }
  get FPS() {
    return 1e3 / this.elapsedMS;
  }
  get minFPS() {
    return 1e3 / this._maxElapsedMS;
  }
  set minFPS(fps) {
    const minFPS = Math.min(this.maxFPS, fps);
    const minFPMS = Math.min(Math.max(0, minFPS) / 1e3, _pixi_settings__WEBPACK_IMPORTED_MODULE_3__.settings.TARGET_FPMS);
    this._maxElapsedMS = 1 / minFPMS;
  }
  get maxFPS() {
    if (this._minElapsedMS) {
      return Math.round(1e3 / this._minElapsedMS);
    }
    return 0;
  }
  set maxFPS(fps) {
    if (fps === 0) {
      this._minElapsedMS = 0;
    } else {
      const maxFPS = Math.max(this.minFPS, fps);
      this._minElapsedMS = 1 / (maxFPS / 1e3);
    }
  }
  static get shared() {
    if (!Ticker._shared) {
      const shared = Ticker._shared = new Ticker();
      shared.autoStart = true;
      shared._protected = true;
    }
    return Ticker._shared;
  }
  static get system() {
    if (!Ticker._system) {
      const system = Ticker._system = new Ticker();
      system.autoStart = true;
      system._protected = true;
    }
    return Ticker._system;
  }
}


//# sourceMappingURL=Ticker.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/TickerListener.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/TickerListener.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TickerListener": () => (/* binding */ TickerListener)
/* harmony export */ });
class TickerListener {
  constructor(fn, context = null, priority = 0, once = false) {
    this.next = null;
    this.previous = null;
    this._destroyed = false;
    this.fn = fn;
    this.context = context;
    this.priority = priority;
    this.once = once;
  }
  match(fn, context = null) {
    return this.fn === fn && this.context === context;
  }
  emit(deltaTime) {
    if (this.fn) {
      if (this.context) {
        this.fn.call(this.context, deltaTime);
      } else {
        this.fn(deltaTime);
      }
    }
    const redirect = this.next;
    if (this.once) {
      this.destroy(true);
    }
    if (this._destroyed) {
      this.next = null;
    }
    return redirect;
  }
  connect(previous) {
    this.previous = previous;
    if (previous.next) {
      previous.next.previous = this;
    }
    this.next = previous.next;
    previous.next = this;
  }
  destroy(hard = false) {
    this._destroyed = true;
    this.fn = null;
    this.context = null;
    if (this.previous) {
      this.previous.next = this.next;
    }
    if (this.next) {
      this.next.previous = this.previous;
    }
    const redirect = this.next;
    this.next = hard ? null : redirect;
    this.previous = null;
    return redirect;
  }
}


//# sourceMappingURL=TickerListener.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/TickerPlugin.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/TickerPlugin.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TickerPlugin": () => (/* binding */ TickerPlugin)
/* harmony export */ });
/* harmony import */ var _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/extensions */ "./node_modules/@pixi/extensions/lib/index.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/ticker/lib/const.mjs");
/* harmony import */ var _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Ticker.mjs */ "./node_modules/@pixi/ticker/lib/Ticker.mjs");




class TickerPlugin {
  static init(options) {
    options = Object.assign({
      autoStart: true,
      sharedTicker: false
    }, options);
    Object.defineProperty(this, "ticker", {
      set(ticker) {
        if (this._ticker) {
          this._ticker.remove(this.render, this);
        }
        this._ticker = ticker;
        if (ticker) {
          ticker.add(this.render, this, _const_mjs__WEBPACK_IMPORTED_MODULE_1__.UPDATE_PRIORITY.LOW);
        }
      },
      get() {
        return this._ticker;
      }
    });
    this.stop = () => {
      this._ticker.stop();
    };
    this.start = () => {
      this._ticker.start();
    };
    this._ticker = null;
    this.ticker = options.sharedTicker ? _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__.Ticker.shared : new _Ticker_mjs__WEBPACK_IMPORTED_MODULE_2__.Ticker();
    if (options.autoStart) {
      this.start();
    }
  }
  static destroy() {
    if (this._ticker) {
      const oldTicker = this._ticker;
      this.ticker = null;
      oldTicker.destroy();
    }
  }
}
TickerPlugin.extension = _pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.ExtensionType.Application;
_pixi_extensions__WEBPACK_IMPORTED_MODULE_0__.extensions.add(TickerPlugin);


//# sourceMappingURL=TickerPlugin.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/const.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/const.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UPDATE_PRIORITY": () => (/* binding */ UPDATE_PRIORITY)
/* harmony export */ });
var UPDATE_PRIORITY = /* @__PURE__ */ ((UPDATE_PRIORITY2) => {
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["HIGH"] = 25] = "HIGH";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["NORMAL"] = 0] = "NORMAL";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["LOW"] = -25] = "LOW";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["UTILITY"] = -50] = "UTILITY";
  return UPDATE_PRIORITY2;
})(UPDATE_PRIORITY || {});


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/index.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/index.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Ticker": () => (/* reexport safe */ _Ticker_mjs__WEBPACK_IMPORTED_MODULE_1__.Ticker),
/* harmony export */   "TickerPlugin": () => (/* reexport safe */ _TickerPlugin_mjs__WEBPACK_IMPORTED_MODULE_2__.TickerPlugin),
/* harmony export */   "UPDATE_PRIORITY": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_3__.UPDATE_PRIORITY)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/ticker/lib/settings.mjs");
/* harmony import */ var _Ticker_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Ticker.mjs */ "./node_modules/@pixi/ticker/lib/Ticker.mjs");
/* harmony import */ var _TickerPlugin_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TickerPlugin.mjs */ "./node_modules/@pixi/ticker/lib/TickerPlugin.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/ticker/lib/const.mjs");




//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/ticker/lib/settings.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/ticker/lib/settings.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "settings": () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");



_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.TARGET_FPMS = 0.06;
//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/browser/hello.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/browser/hello.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "sayHello": () => (/* binding */ sayHello),
/* harmony export */   "skipHello": () => (/* binding */ skipHello)
/* harmony export */ });
/* harmony import */ var _logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logging/deprecation.mjs */ "./node_modules/@pixi/utils/lib/logging/deprecation.mjs");


function skipHello() {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", "skipHello is deprecated, please use PIXI.settings.RENDER_OPTIONS.hello");
}
function sayHello() {
  (0,_logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_0__.deprecation)("7.0.0", `sayHello is deprecated, please use Renderer's "hello" option`);
}


//# sourceMappingURL=hello.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/browser/isWebGLSupported.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/browser/isWebGLSupported.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isWebGLSupported": () => (/* binding */ isWebGLSupported)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings.mjs */ "./node_modules/@pixi/utils/lib/settings.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");



let supported;
function isWebGLSupported() {
  if (typeof supported === "undefined") {
    supported = function supported2() {
      const contextOptions = {
        stencil: true,
        failIfMajorPerformanceCaveat: _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT
      };
      try {
        if (!_pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.getWebGLRenderingContext()) {
          return false;
        }
        const canvas = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.ADAPTER.createCanvas();
        let gl = canvas.getContext("webgl", contextOptions) || canvas.getContext("experimental-webgl", contextOptions);
        const success = !!(gl && gl.getContextAttributes().stencil);
        if (gl) {
          const loseContext = gl.getExtension("WEBGL_lose_context");
          if (loseContext) {
            loseContext.loseContext();
          }
        }
        gl = null;
        return success;
      } catch (e) {
        return false;
      }
    }();
  }
  return supported;
}


//# sourceMappingURL=isWebGLSupported.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/color/hex.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/color/hex.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "hex2rgb": () => (/* binding */ hex2rgb),
/* harmony export */   "hex2string": () => (/* binding */ hex2string),
/* harmony export */   "rgb2hex": () => (/* binding */ rgb2hex),
/* harmony export */   "string2hex": () => (/* binding */ string2hex)
/* harmony export */ });
/* harmony import */ var _external_css_color_names_css_color_names_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../external/css-color-names/css-color-names.mjs */ "./node_modules/@pixi/utils/lib/external/css-color-names/css-color-names.mjs");


function hex2rgb(hex, out = []) {
  out[0] = (hex >> 16 & 255) / 255;
  out[1] = (hex >> 8 & 255) / 255;
  out[2] = (hex & 255) / 255;
  return out;
}
function hex2string(hex) {
  let hexString = hex.toString(16);
  hexString = "000000".substring(0, 6 - hexString.length) + hexString;
  return `#${hexString}`;
}
function string2hex(string) {
  if (typeof string === "string") {
    string = _external_css_color_names_css_color_names_mjs__WEBPACK_IMPORTED_MODULE_0__["default"][string.toLowerCase()] || string;
    if (string[0] === "#") {
      string = string.slice(1);
    }
    if (string.length === 3) {
      const [r, g, b] = string;
      string = r + r + g + g + b + b;
    }
  }
  return parseInt(string, 16);
}
function rgb2hex(rgb) {
  return (rgb[0] * 255 << 16) + (rgb[1] * 255 << 8) + (rgb[2] * 255 | 0);
}


//# sourceMappingURL=hex.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/color/premultiply.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/color/premultiply.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "correctBlendMode": () => (/* binding */ correctBlendMode),
/* harmony export */   "premultiplyBlendMode": () => (/* binding */ premultiplyBlendMode),
/* harmony export */   "premultiplyRgba": () => (/* binding */ premultiplyRgba),
/* harmony export */   "premultiplyTint": () => (/* binding */ premultiplyTint),
/* harmony export */   "premultiplyTintToRgba": () => (/* binding */ premultiplyTintToRgba)
/* harmony export */ });
/* harmony import */ var _pixi_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/constants */ "./node_modules/@pixi/constants/lib/index.mjs");


function mapPremultipliedBlendModes() {
  const pm = [];
  const npm = [];
  for (let i = 0; i < 32; i++) {
    pm[i] = i;
    npm[i] = i;
  }
  pm[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL_NPM] = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL;
  pm[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.ADD_NPM] = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.ADD;
  pm[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SCREEN_NPM] = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SCREEN;
  npm[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL] = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.NORMAL_NPM;
  npm[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.ADD] = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.ADD_NPM;
  npm[_pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SCREEN] = _pixi_constants__WEBPACK_IMPORTED_MODULE_0__.BLEND_MODES.SCREEN_NPM;
  const array = [];
  array.push(npm);
  array.push(pm);
  return array;
}
const premultiplyBlendMode = mapPremultipliedBlendModes();
function correctBlendMode(blendMode, premultiplied) {
  return premultiplyBlendMode[premultiplied ? 1 : 0][blendMode];
}
function premultiplyRgba(rgb, alpha, out, premultiply) {
  out = out || new Float32Array(4);
  if (premultiply || premultiply === void 0) {
    out[0] = rgb[0] * alpha;
    out[1] = rgb[1] * alpha;
    out[2] = rgb[2] * alpha;
  } else {
    out[0] = rgb[0];
    out[1] = rgb[1];
    out[2] = rgb[2];
  }
  out[3] = alpha;
  return out;
}
function premultiplyTint(tint, alpha) {
  if (alpha === 1) {
    return (alpha * 255 << 24) + tint;
  }
  if (alpha === 0) {
    return 0;
  }
  let R = tint >> 16 & 255;
  let G = tint >> 8 & 255;
  let B = tint & 255;
  R = R * alpha + 0.5 | 0;
  G = G * alpha + 0.5 | 0;
  B = B * alpha + 0.5 | 0;
  return (alpha * 255 << 24) + (R << 16) + (G << 8) + B;
}
function premultiplyTintToRgba(tint, alpha, out, premultiply) {
  out = out || new Float32Array(4);
  out[0] = (tint >> 16 & 255) / 255;
  out[1] = (tint >> 8 & 255) / 255;
  out[2] = (tint & 255) / 255;
  if (premultiply || premultiply === void 0) {
    out[0] *= alpha;
    out[1] *= alpha;
    out[2] *= alpha;
  }
  out[3] = alpha;
  return out;
}


//# sourceMappingURL=premultiply.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/const.mjs":
/*!************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/const.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DATA_URI": () => (/* binding */ DATA_URI)
/* harmony export */ });
const DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;


//# sourceMappingURL=const.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/createIndicesForQuads.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/createIndicesForQuads.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createIndicesForQuads": () => (/* binding */ createIndicesForQuads)
/* harmony export */ });
function createIndicesForQuads(size, outBuffer = null) {
  const totalIndices = size * 6;
  outBuffer = outBuffer || new Uint16Array(totalIndices);
  if (outBuffer.length !== totalIndices) {
    throw new Error(`Out buffer length is incorrect, got ${outBuffer.length} and expected ${totalIndices}`);
  }
  for (let i = 0, j = 0; i < totalIndices; i += 6, j += 4) {
    outBuffer[i + 0] = j + 0;
    outBuffer[i + 1] = j + 1;
    outBuffer[i + 2] = j + 2;
    outBuffer[i + 3] = j + 0;
    outBuffer[i + 4] = j + 2;
    outBuffer[i + 5] = j + 3;
  }
  return outBuffer;
}


//# sourceMappingURL=createIndicesForQuads.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/getBufferType.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/getBufferType.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getBufferType": () => (/* binding */ getBufferType)
/* harmony export */ });
function getBufferType(array) {
  if (array.BYTES_PER_ELEMENT === 4) {
    if (array instanceof Float32Array) {
      return "Float32Array";
    } else if (array instanceof Uint32Array) {
      return "Uint32Array";
    }
    return "Int32Array";
  } else if (array.BYTES_PER_ELEMENT === 2) {
    if (array instanceof Uint16Array) {
      return "Uint16Array";
    }
  } else if (array.BYTES_PER_ELEMENT === 1) {
    if (array instanceof Uint8Array) {
      return "Uint8Array";
    }
  }
  return null;
}


//# sourceMappingURL=getBufferType.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/interleaveTypedArrays.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/interleaveTypedArrays.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "interleaveTypedArrays": () => (/* binding */ interleaveTypedArrays)
/* harmony export */ });
/* harmony import */ var _getBufferType_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getBufferType.mjs */ "./node_modules/@pixi/utils/lib/data/getBufferType.mjs");


const map = { Float32Array, Uint32Array, Int32Array, Uint8Array };
function interleaveTypedArrays(arrays, sizes) {
  let outSize = 0;
  let stride = 0;
  const views = {};
  for (let i = 0; i < arrays.length; i++) {
    stride += sizes[i];
    outSize += arrays[i].length;
  }
  const buffer = new ArrayBuffer(outSize * 4);
  let out = null;
  let littleOffset = 0;
  for (let i = 0; i < arrays.length; i++) {
    const size = sizes[i];
    const array = arrays[i];
    const type = (0,_getBufferType_mjs__WEBPACK_IMPORTED_MODULE_0__.getBufferType)(array);
    if (!views[type]) {
      views[type] = new map[type](buffer);
    }
    out = views[type];
    for (let j = 0; j < array.length; j++) {
      const indexStart = (j / size | 0) * stride + littleOffset;
      const index = j % size;
      out[indexStart + index] = array[j];
    }
    littleOffset += size;
  }
  return new Float32Array(buffer);
}


//# sourceMappingURL=interleaveTypedArrays.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/pow2.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/pow2.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isPow2": () => (/* binding */ isPow2),
/* harmony export */   "log2": () => (/* binding */ log2),
/* harmony export */   "nextPow2": () => (/* binding */ nextPow2)
/* harmony export */ });
function nextPow2(v) {
  v += v === 0 ? 1 : 0;
  --v;
  v |= v >>> 1;
  v |= v >>> 2;
  v |= v >>> 4;
  v |= v >>> 8;
  v |= v >>> 16;
  return v + 1;
}
function isPow2(v) {
  return !(v & v - 1) && !!v;
}
function log2(v) {
  let r = (v > 65535 ? 1 : 0) << 4;
  v >>>= r;
  let shift = (v > 255 ? 1 : 0) << 3;
  v >>>= shift;
  r |= shift;
  shift = (v > 15 ? 1 : 0) << 2;
  v >>>= shift;
  r |= shift;
  shift = (v > 3 ? 1 : 0) << 1;
  v >>>= shift;
  r |= shift;
  return r | v >> 1;
}


//# sourceMappingURL=pow2.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/removeItems.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/removeItems.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "removeItems": () => (/* binding */ removeItems)
/* harmony export */ });
function removeItems(arr, startIdx, removeCount) {
  const length = arr.length;
  let i;
  if (startIdx >= length || removeCount === 0) {
    return;
  }
  removeCount = startIdx + removeCount > length ? length - startIdx : removeCount;
  const len = length - removeCount;
  for (i = startIdx; i < len; ++i) {
    arr[i] = arr[i + removeCount];
  }
  arr.length = len;
}


//# sourceMappingURL=removeItems.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/sign.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/sign.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "sign": () => (/* binding */ sign)
/* harmony export */ });
function sign(n) {
  if (n === 0)
    return 0;
  return n < 0 ? -1 : 1;
}


//# sourceMappingURL=sign.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/data/uid.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/data/uid.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "uid": () => (/* binding */ uid)
/* harmony export */ });
let nextUid = 0;
function uid() {
  return ++nextUid;
}


//# sourceMappingURL=uid.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/external/css-color-names/css-color-names.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/external/css-color-names/css-color-names.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "aliceblue": () => (/* binding */ aliceblue),
/* harmony export */   "antiquewhite": () => (/* binding */ antiquewhite),
/* harmony export */   "aqua": () => (/* binding */ aqua),
/* harmony export */   "aquamarine": () => (/* binding */ aquamarine),
/* harmony export */   "azure": () => (/* binding */ azure),
/* harmony export */   "beige": () => (/* binding */ beige),
/* harmony export */   "bisque": () => (/* binding */ bisque),
/* harmony export */   "black": () => (/* binding */ black),
/* harmony export */   "blanchedalmond": () => (/* binding */ blanchedalmond),
/* harmony export */   "blue": () => (/* binding */ blue),
/* harmony export */   "blueviolet": () => (/* binding */ blueviolet),
/* harmony export */   "brown": () => (/* binding */ brown),
/* harmony export */   "burlywood": () => (/* binding */ burlywood),
/* harmony export */   "cadetblue": () => (/* binding */ cadetblue),
/* harmony export */   "chartreuse": () => (/* binding */ chartreuse),
/* harmony export */   "chocolate": () => (/* binding */ chocolate),
/* harmony export */   "coral": () => (/* binding */ coral),
/* harmony export */   "cornflowerblue": () => (/* binding */ cornflowerblue),
/* harmony export */   "cornsilk": () => (/* binding */ cornsilk),
/* harmony export */   "crimson": () => (/* binding */ crimson),
/* harmony export */   "cyan": () => (/* binding */ cyan),
/* harmony export */   "darkblue": () => (/* binding */ darkblue),
/* harmony export */   "darkcyan": () => (/* binding */ darkcyan),
/* harmony export */   "darkgoldenrod": () => (/* binding */ darkgoldenrod),
/* harmony export */   "darkgray": () => (/* binding */ darkgray),
/* harmony export */   "darkgreen": () => (/* binding */ darkgreen),
/* harmony export */   "darkgrey": () => (/* binding */ darkgrey),
/* harmony export */   "darkkhaki": () => (/* binding */ darkkhaki),
/* harmony export */   "darkmagenta": () => (/* binding */ darkmagenta),
/* harmony export */   "darkolivegreen": () => (/* binding */ darkolivegreen),
/* harmony export */   "darkorange": () => (/* binding */ darkorange),
/* harmony export */   "darkorchid": () => (/* binding */ darkorchid),
/* harmony export */   "darkred": () => (/* binding */ darkred),
/* harmony export */   "darksalmon": () => (/* binding */ darksalmon),
/* harmony export */   "darkseagreen": () => (/* binding */ darkseagreen),
/* harmony export */   "darkslateblue": () => (/* binding */ darkslateblue),
/* harmony export */   "darkslategray": () => (/* binding */ darkslategray),
/* harmony export */   "darkslategrey": () => (/* binding */ darkslategrey),
/* harmony export */   "darkturquoise": () => (/* binding */ darkturquoise),
/* harmony export */   "darkviolet": () => (/* binding */ darkviolet),
/* harmony export */   "deeppink": () => (/* binding */ deeppink),
/* harmony export */   "deepskyblue": () => (/* binding */ deepskyblue),
/* harmony export */   "default": () => (/* binding */ cssColorNames),
/* harmony export */   "dimgray": () => (/* binding */ dimgray),
/* harmony export */   "dimgrey": () => (/* binding */ dimgrey),
/* harmony export */   "dodgerblue": () => (/* binding */ dodgerblue),
/* harmony export */   "firebrick": () => (/* binding */ firebrick),
/* harmony export */   "floralwhite": () => (/* binding */ floralwhite),
/* harmony export */   "forestgreen": () => (/* binding */ forestgreen),
/* harmony export */   "fuchsia": () => (/* binding */ fuchsia),
/* harmony export */   "gainsboro": () => (/* binding */ gainsboro),
/* harmony export */   "ghostwhite": () => (/* binding */ ghostwhite),
/* harmony export */   "gold": () => (/* binding */ gold),
/* harmony export */   "goldenrod": () => (/* binding */ goldenrod),
/* harmony export */   "gray": () => (/* binding */ gray),
/* harmony export */   "green": () => (/* binding */ green),
/* harmony export */   "greenyellow": () => (/* binding */ greenyellow),
/* harmony export */   "grey": () => (/* binding */ grey),
/* harmony export */   "honeydew": () => (/* binding */ honeydew),
/* harmony export */   "hotpink": () => (/* binding */ hotpink),
/* harmony export */   "indianred": () => (/* binding */ indianred),
/* harmony export */   "indigo": () => (/* binding */ indigo),
/* harmony export */   "ivory": () => (/* binding */ ivory),
/* harmony export */   "khaki": () => (/* binding */ khaki),
/* harmony export */   "lavender": () => (/* binding */ lavender),
/* harmony export */   "lavenderblush": () => (/* binding */ lavenderblush),
/* harmony export */   "lawngreen": () => (/* binding */ lawngreen),
/* harmony export */   "lemonchiffon": () => (/* binding */ lemonchiffon),
/* harmony export */   "lightblue": () => (/* binding */ lightblue),
/* harmony export */   "lightcoral": () => (/* binding */ lightcoral),
/* harmony export */   "lightcyan": () => (/* binding */ lightcyan),
/* harmony export */   "lightgoldenrodyellow": () => (/* binding */ lightgoldenrodyellow),
/* harmony export */   "lightgray": () => (/* binding */ lightgray),
/* harmony export */   "lightgreen": () => (/* binding */ lightgreen),
/* harmony export */   "lightgrey": () => (/* binding */ lightgrey),
/* harmony export */   "lightpink": () => (/* binding */ lightpink),
/* harmony export */   "lightsalmon": () => (/* binding */ lightsalmon),
/* harmony export */   "lightseagreen": () => (/* binding */ lightseagreen),
/* harmony export */   "lightskyblue": () => (/* binding */ lightskyblue),
/* harmony export */   "lightslategray": () => (/* binding */ lightslategray),
/* harmony export */   "lightslategrey": () => (/* binding */ lightslategrey),
/* harmony export */   "lightsteelblue": () => (/* binding */ lightsteelblue),
/* harmony export */   "lightyellow": () => (/* binding */ lightyellow),
/* harmony export */   "lime": () => (/* binding */ lime),
/* harmony export */   "limegreen": () => (/* binding */ limegreen),
/* harmony export */   "linen": () => (/* binding */ linen),
/* harmony export */   "magenta": () => (/* binding */ magenta),
/* harmony export */   "maroon": () => (/* binding */ maroon),
/* harmony export */   "mediumaquamarine": () => (/* binding */ mediumaquamarine),
/* harmony export */   "mediumblue": () => (/* binding */ mediumblue),
/* harmony export */   "mediumorchid": () => (/* binding */ mediumorchid),
/* harmony export */   "mediumpurple": () => (/* binding */ mediumpurple),
/* harmony export */   "mediumseagreen": () => (/* binding */ mediumseagreen),
/* harmony export */   "mediumslateblue": () => (/* binding */ mediumslateblue),
/* harmony export */   "mediumspringgreen": () => (/* binding */ mediumspringgreen),
/* harmony export */   "mediumturquoise": () => (/* binding */ mediumturquoise),
/* harmony export */   "mediumvioletred": () => (/* binding */ mediumvioletred),
/* harmony export */   "midnightblue": () => (/* binding */ midnightblue),
/* harmony export */   "mintcream": () => (/* binding */ mintcream),
/* harmony export */   "mistyrose": () => (/* binding */ mistyrose),
/* harmony export */   "moccasin": () => (/* binding */ moccasin),
/* harmony export */   "navajowhite": () => (/* binding */ navajowhite),
/* harmony export */   "navy": () => (/* binding */ navy),
/* harmony export */   "oldlace": () => (/* binding */ oldlace),
/* harmony export */   "olive": () => (/* binding */ olive),
/* harmony export */   "olivedrab": () => (/* binding */ olivedrab),
/* harmony export */   "orange": () => (/* binding */ orange),
/* harmony export */   "orangered": () => (/* binding */ orangered),
/* harmony export */   "orchid": () => (/* binding */ orchid),
/* harmony export */   "palegoldenrod": () => (/* binding */ palegoldenrod),
/* harmony export */   "palegreen": () => (/* binding */ palegreen),
/* harmony export */   "paleturquoise": () => (/* binding */ paleturquoise),
/* harmony export */   "palevioletred": () => (/* binding */ palevioletred),
/* harmony export */   "papayawhip": () => (/* binding */ papayawhip),
/* harmony export */   "peachpuff": () => (/* binding */ peachpuff),
/* harmony export */   "peru": () => (/* binding */ peru),
/* harmony export */   "pink": () => (/* binding */ pink),
/* harmony export */   "plum": () => (/* binding */ plum),
/* harmony export */   "powderblue": () => (/* binding */ powderblue),
/* harmony export */   "purple": () => (/* binding */ purple),
/* harmony export */   "rebeccapurple": () => (/* binding */ rebeccapurple),
/* harmony export */   "red": () => (/* binding */ red),
/* harmony export */   "rosybrown": () => (/* binding */ rosybrown),
/* harmony export */   "royalblue": () => (/* binding */ royalblue),
/* harmony export */   "saddlebrown": () => (/* binding */ saddlebrown),
/* harmony export */   "salmon": () => (/* binding */ salmon),
/* harmony export */   "sandybrown": () => (/* binding */ sandybrown),
/* harmony export */   "seagreen": () => (/* binding */ seagreen),
/* harmony export */   "seashell": () => (/* binding */ seashell),
/* harmony export */   "sienna": () => (/* binding */ sienna),
/* harmony export */   "silver": () => (/* binding */ silver),
/* harmony export */   "skyblue": () => (/* binding */ skyblue),
/* harmony export */   "slateblue": () => (/* binding */ slateblue),
/* harmony export */   "slategray": () => (/* binding */ slategray),
/* harmony export */   "slategrey": () => (/* binding */ slategrey),
/* harmony export */   "snow": () => (/* binding */ snow),
/* harmony export */   "springgreen": () => (/* binding */ springgreen),
/* harmony export */   "steelblue": () => (/* binding */ steelblue),
/* harmony export */   "tan": () => (/* binding */ tan),
/* harmony export */   "teal": () => (/* binding */ teal),
/* harmony export */   "thistle": () => (/* binding */ thistle),
/* harmony export */   "tomato": () => (/* binding */ tomato),
/* harmony export */   "turquoise": () => (/* binding */ turquoise),
/* harmony export */   "violet": () => (/* binding */ violet),
/* harmony export */   "wheat": () => (/* binding */ wheat),
/* harmony export */   "white": () => (/* binding */ white),
/* harmony export */   "whitesmoke": () => (/* binding */ whitesmoke),
/* harmony export */   "yellow": () => (/* binding */ yellow),
/* harmony export */   "yellowgreen": () => (/* binding */ yellowgreen)
/* harmony export */ });
var aliceblue = "#f0f8ff";
var antiquewhite = "#faebd7";
var aqua = "#00ffff";
var aquamarine = "#7fffd4";
var azure = "#f0ffff";
var beige = "#f5f5dc";
var bisque = "#ffe4c4";
var black = "#000000";
var blanchedalmond = "#ffebcd";
var blue = "#0000ff";
var blueviolet = "#8a2be2";
var brown = "#a52a2a";
var burlywood = "#deb887";
var cadetblue = "#5f9ea0";
var chartreuse = "#7fff00";
var chocolate = "#d2691e";
var coral = "#ff7f50";
var cornflowerblue = "#6495ed";
var cornsilk = "#fff8dc";
var crimson = "#dc143c";
var cyan = "#00ffff";
var darkblue = "#00008b";
var darkcyan = "#008b8b";
var darkgoldenrod = "#b8860b";
var darkgray = "#a9a9a9";
var darkgreen = "#006400";
var darkgrey = "#a9a9a9";
var darkkhaki = "#bdb76b";
var darkmagenta = "#8b008b";
var darkolivegreen = "#556b2f";
var darkorange = "#ff8c00";
var darkorchid = "#9932cc";
var darkred = "#8b0000";
var darksalmon = "#e9967a";
var darkseagreen = "#8fbc8f";
var darkslateblue = "#483d8b";
var darkslategray = "#2f4f4f";
var darkslategrey = "#2f4f4f";
var darkturquoise = "#00ced1";
var darkviolet = "#9400d3";
var deeppink = "#ff1493";
var deepskyblue = "#00bfff";
var dimgray = "#696969";
var dimgrey = "#696969";
var dodgerblue = "#1e90ff";
var firebrick = "#b22222";
var floralwhite = "#fffaf0";
var forestgreen = "#228b22";
var fuchsia = "#ff00ff";
var gainsboro = "#dcdcdc";
var ghostwhite = "#f8f8ff";
var goldenrod = "#daa520";
var gold = "#ffd700";
var gray = "#808080";
var green = "#008000";
var greenyellow = "#adff2f";
var grey = "#808080";
var honeydew = "#f0fff0";
var hotpink = "#ff69b4";
var indianred = "#cd5c5c";
var indigo = "#4b0082";
var ivory = "#fffff0";
var khaki = "#f0e68c";
var lavenderblush = "#fff0f5";
var lavender = "#e6e6fa";
var lawngreen = "#7cfc00";
var lemonchiffon = "#fffacd";
var lightblue = "#add8e6";
var lightcoral = "#f08080";
var lightcyan = "#e0ffff";
var lightgoldenrodyellow = "#fafad2";
var lightgray = "#d3d3d3";
var lightgreen = "#90ee90";
var lightgrey = "#d3d3d3";
var lightpink = "#ffb6c1";
var lightsalmon = "#ffa07a";
var lightseagreen = "#20b2aa";
var lightskyblue = "#87cefa";
var lightslategray = "#778899";
var lightslategrey = "#778899";
var lightsteelblue = "#b0c4de";
var lightyellow = "#ffffe0";
var lime = "#00ff00";
var limegreen = "#32cd32";
var linen = "#faf0e6";
var magenta = "#ff00ff";
var maroon = "#800000";
var mediumaquamarine = "#66cdaa";
var mediumblue = "#0000cd";
var mediumorchid = "#ba55d3";
var mediumpurple = "#9370db";
var mediumseagreen = "#3cb371";
var mediumslateblue = "#7b68ee";
var mediumspringgreen = "#00fa9a";
var mediumturquoise = "#48d1cc";
var mediumvioletred = "#c71585";
var midnightblue = "#191970";
var mintcream = "#f5fffa";
var mistyrose = "#ffe4e1";
var moccasin = "#ffe4b5";
var navajowhite = "#ffdead";
var navy = "#000080";
var oldlace = "#fdf5e6";
var olive = "#808000";
var olivedrab = "#6b8e23";
var orange = "#ffa500";
var orangered = "#ff4500";
var orchid = "#da70d6";
var palegoldenrod = "#eee8aa";
var palegreen = "#98fb98";
var paleturquoise = "#afeeee";
var palevioletred = "#db7093";
var papayawhip = "#ffefd5";
var peachpuff = "#ffdab9";
var peru = "#cd853f";
var pink = "#ffc0cb";
var plum = "#dda0dd";
var powderblue = "#b0e0e6";
var purple = "#800080";
var rebeccapurple = "#663399";
var red = "#ff0000";
var rosybrown = "#bc8f8f";
var royalblue = "#4169e1";
var saddlebrown = "#8b4513";
var salmon = "#fa8072";
var sandybrown = "#f4a460";
var seagreen = "#2e8b57";
var seashell = "#fff5ee";
var sienna = "#a0522d";
var silver = "#c0c0c0";
var skyblue = "#87ceeb";
var slateblue = "#6a5acd";
var slategray = "#708090";
var slategrey = "#708090";
var snow = "#fffafa";
var springgreen = "#00ff7f";
var steelblue = "#4682b4";
var tan = "#d2b48c";
var teal = "#008080";
var thistle = "#d8bfd8";
var tomato = "#ff6347";
var turquoise = "#40e0d0";
var violet = "#ee82ee";
var wheat = "#f5deb3";
var white = "#ffffff";
var whitesmoke = "#f5f5f5";
var yellow = "#ffff00";
var yellowgreen = "#9acd32";
var cssColorNames = {
	aliceblue: aliceblue,
	antiquewhite: antiquewhite,
	aqua: aqua,
	aquamarine: aquamarine,
	azure: azure,
	beige: beige,
	bisque: bisque,
	black: black,
	blanchedalmond: blanchedalmond,
	blue: blue,
	blueviolet: blueviolet,
	brown: brown,
	burlywood: burlywood,
	cadetblue: cadetblue,
	chartreuse: chartreuse,
	chocolate: chocolate,
	coral: coral,
	cornflowerblue: cornflowerblue,
	cornsilk: cornsilk,
	crimson: crimson,
	cyan: cyan,
	darkblue: darkblue,
	darkcyan: darkcyan,
	darkgoldenrod: darkgoldenrod,
	darkgray: darkgray,
	darkgreen: darkgreen,
	darkgrey: darkgrey,
	darkkhaki: darkkhaki,
	darkmagenta: darkmagenta,
	darkolivegreen: darkolivegreen,
	darkorange: darkorange,
	darkorchid: darkorchid,
	darkred: darkred,
	darksalmon: darksalmon,
	darkseagreen: darkseagreen,
	darkslateblue: darkslateblue,
	darkslategray: darkslategray,
	darkslategrey: darkslategrey,
	darkturquoise: darkturquoise,
	darkviolet: darkviolet,
	deeppink: deeppink,
	deepskyblue: deepskyblue,
	dimgray: dimgray,
	dimgrey: dimgrey,
	dodgerblue: dodgerblue,
	firebrick: firebrick,
	floralwhite: floralwhite,
	forestgreen: forestgreen,
	fuchsia: fuchsia,
	gainsboro: gainsboro,
	ghostwhite: ghostwhite,
	goldenrod: goldenrod,
	gold: gold,
	gray: gray,
	green: green,
	greenyellow: greenyellow,
	grey: grey,
	honeydew: honeydew,
	hotpink: hotpink,
	indianred: indianred,
	indigo: indigo,
	ivory: ivory,
	khaki: khaki,
	lavenderblush: lavenderblush,
	lavender: lavender,
	lawngreen: lawngreen,
	lemonchiffon: lemonchiffon,
	lightblue: lightblue,
	lightcoral: lightcoral,
	lightcyan: lightcyan,
	lightgoldenrodyellow: lightgoldenrodyellow,
	lightgray: lightgray,
	lightgreen: lightgreen,
	lightgrey: lightgrey,
	lightpink: lightpink,
	lightsalmon: lightsalmon,
	lightseagreen: lightseagreen,
	lightskyblue: lightskyblue,
	lightslategray: lightslategray,
	lightslategrey: lightslategrey,
	lightsteelblue: lightsteelblue,
	lightyellow: lightyellow,
	lime: lime,
	limegreen: limegreen,
	linen: linen,
	magenta: magenta,
	maroon: maroon,
	mediumaquamarine: mediumaquamarine,
	mediumblue: mediumblue,
	mediumorchid: mediumorchid,
	mediumpurple: mediumpurple,
	mediumseagreen: mediumseagreen,
	mediumslateblue: mediumslateblue,
	mediumspringgreen: mediumspringgreen,
	mediumturquoise: mediumturquoise,
	mediumvioletred: mediumvioletred,
	midnightblue: midnightblue,
	mintcream: mintcream,
	mistyrose: mistyrose,
	moccasin: moccasin,
	navajowhite: navajowhite,
	navy: navy,
	oldlace: oldlace,
	olive: olive,
	olivedrab: olivedrab,
	orange: orange,
	orangered: orangered,
	orchid: orchid,
	palegoldenrod: palegoldenrod,
	palegreen: palegreen,
	paleturquoise: paleturquoise,
	palevioletred: palevioletred,
	papayawhip: papayawhip,
	peachpuff: peachpuff,
	peru: peru,
	pink: pink,
	plum: plum,
	powderblue: powderblue,
	purple: purple,
	rebeccapurple: rebeccapurple,
	red: red,
	rosybrown: rosybrown,
	royalblue: royalblue,
	saddlebrown: saddlebrown,
	salmon: salmon,
	sandybrown: sandybrown,
	seagreen: seagreen,
	seashell: seashell,
	sienna: sienna,
	silver: silver,
	skyblue: skyblue,
	slateblue: slateblue,
	slategray: slategray,
	slategrey: slategrey,
	snow: snow,
	springgreen: springgreen,
	steelblue: steelblue,
	tan: tan,
	teal: teal,
	thistle: thistle,
	tomato: tomato,
	turquoise: turquoise,
	violet: violet,
	wheat: wheat,
	white: white,
	whitesmoke: whitesmoke,
	yellow: yellow,
	yellowgreen: yellowgreen
};


//# sourceMappingURL=css-color-names.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/index.mjs":
/*!************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/index.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseTextureCache": () => (/* reexport safe */ _media_caches_mjs__WEBPACK_IMPORTED_MODULE_18__.BaseTextureCache),
/* harmony export */   "CanvasRenderTarget": () => (/* reexport safe */ _media_CanvasRenderTarget_mjs__WEBPACK_IMPORTED_MODULE_19__.CanvasRenderTarget),
/* harmony export */   "DATA_URI": () => (/* reexport safe */ _const_mjs__WEBPACK_IMPORTED_MODULE_24__.DATA_URI),
/* harmony export */   "EventEmitter": () => (/* reexport default export from named module */ eventemitter3__WEBPACK_IMPORTED_MODULE_1__),
/* harmony export */   "ProgramCache": () => (/* reexport safe */ _media_caches_mjs__WEBPACK_IMPORTED_MODULE_18__.ProgramCache),
/* harmony export */   "TextureCache": () => (/* reexport safe */ _media_caches_mjs__WEBPACK_IMPORTED_MODULE_18__.TextureCache),
/* harmony export */   "clearTextureCache": () => (/* reexport safe */ _media_caches_mjs__WEBPACK_IMPORTED_MODULE_18__.clearTextureCache),
/* harmony export */   "correctBlendMode": () => (/* reexport safe */ _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__.correctBlendMode),
/* harmony export */   "createIndicesForQuads": () => (/* reexport safe */ _data_createIndicesForQuads_mjs__WEBPACK_IMPORTED_MODULE_10__.createIndicesForQuads),
/* harmony export */   "decomposeDataUri": () => (/* reexport safe */ _network_decomposeDataUri_mjs__WEBPACK_IMPORTED_MODULE_21__.decomposeDataUri),
/* harmony export */   "deprecation": () => (/* reexport safe */ _logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_17__.deprecation),
/* harmony export */   "destroyTextureCache": () => (/* reexport safe */ _media_caches_mjs__WEBPACK_IMPORTED_MODULE_18__.destroyTextureCache),
/* harmony export */   "determineCrossOrigin": () => (/* reexport safe */ _network_determineCrossOrigin_mjs__WEBPACK_IMPORTED_MODULE_22__.determineCrossOrigin),
/* harmony export */   "earcut": () => (/* reexport default export from named module */ earcut__WEBPACK_IMPORTED_MODULE_2__),
/* harmony export */   "getBufferType": () => (/* reexport safe */ _data_getBufferType_mjs__WEBPACK_IMPORTED_MODULE_11__.getBufferType),
/* harmony export */   "getResolutionOfUrl": () => (/* reexport safe */ _network_getResolutionOfUrl_mjs__WEBPACK_IMPORTED_MODULE_23__.getResolutionOfUrl),
/* harmony export */   "hex2rgb": () => (/* reexport safe */ _color_hex_mjs__WEBPACK_IMPORTED_MODULE_8__.hex2rgb),
/* harmony export */   "hex2string": () => (/* reexport safe */ _color_hex_mjs__WEBPACK_IMPORTED_MODULE_8__.hex2string),
/* harmony export */   "interleaveTypedArrays": () => (/* reexport safe */ _data_interleaveTypedArrays_mjs__WEBPACK_IMPORTED_MODULE_12__.interleaveTypedArrays),
/* harmony export */   "isMobile": () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.isMobile),
/* harmony export */   "isPow2": () => (/* reexport safe */ _data_pow2_mjs__WEBPACK_IMPORTED_MODULE_13__.isPow2),
/* harmony export */   "isWebGLSupported": () => (/* reexport safe */ _browser_isWebGLSupported_mjs__WEBPACK_IMPORTED_MODULE_7__.isWebGLSupported),
/* harmony export */   "log2": () => (/* reexport safe */ _data_pow2_mjs__WEBPACK_IMPORTED_MODULE_13__.log2),
/* harmony export */   "nextPow2": () => (/* reexport safe */ _data_pow2_mjs__WEBPACK_IMPORTED_MODULE_13__.nextPow2),
/* harmony export */   "path": () => (/* reexport safe */ _path_mjs__WEBPACK_IMPORTED_MODULE_4__.path),
/* harmony export */   "premultiplyBlendMode": () => (/* reexport safe */ _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__.premultiplyBlendMode),
/* harmony export */   "premultiplyRgba": () => (/* reexport safe */ _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__.premultiplyRgba),
/* harmony export */   "premultiplyTint": () => (/* reexport safe */ _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__.premultiplyTint),
/* harmony export */   "premultiplyTintToRgba": () => (/* reexport safe */ _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__.premultiplyTintToRgba),
/* harmony export */   "removeItems": () => (/* reexport safe */ _data_removeItems_mjs__WEBPACK_IMPORTED_MODULE_14__.removeItems),
/* harmony export */   "rgb2hex": () => (/* reexport safe */ _color_hex_mjs__WEBPACK_IMPORTED_MODULE_8__.rgb2hex),
/* harmony export */   "sayHello": () => (/* reexport safe */ _browser_hello_mjs__WEBPACK_IMPORTED_MODULE_6__.sayHello),
/* harmony export */   "sign": () => (/* reexport safe */ _data_sign_mjs__WEBPACK_IMPORTED_MODULE_15__.sign),
/* harmony export */   "skipHello": () => (/* reexport safe */ _browser_hello_mjs__WEBPACK_IMPORTED_MODULE_6__.skipHello),
/* harmony export */   "string2hex": () => (/* reexport safe */ _color_hex_mjs__WEBPACK_IMPORTED_MODULE_8__.string2hex),
/* harmony export */   "trimCanvas": () => (/* reexport safe */ _media_trimCanvas_mjs__WEBPACK_IMPORTED_MODULE_20__.trimCanvas),
/* harmony export */   "uid": () => (/* reexport safe */ _data_uid_mjs__WEBPACK_IMPORTED_MODULE_16__.uid),
/* harmony export */   "url": () => (/* reexport safe */ _url_mjs__WEBPACK_IMPORTED_MODULE_3__.url)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var earcut__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! earcut */ "./node_modules/earcut/src/earcut.js");
/* harmony import */ var _url_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./url.mjs */ "./node_modules/@pixi/utils/lib/url.mjs");
/* harmony import */ var _path_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./path.mjs */ "./node_modules/@pixi/utils/lib/path.mjs");
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./settings.mjs */ "./node_modules/@pixi/utils/lib/settings.mjs");
/* harmony import */ var _browser_hello_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./browser/hello.mjs */ "./node_modules/@pixi/utils/lib/browser/hello.mjs");
/* harmony import */ var _browser_isWebGLSupported_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./browser/isWebGLSupported.mjs */ "./node_modules/@pixi/utils/lib/browser/isWebGLSupported.mjs");
/* harmony import */ var _color_hex_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./color/hex.mjs */ "./node_modules/@pixi/utils/lib/color/hex.mjs");
/* harmony import */ var _color_premultiply_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./color/premultiply.mjs */ "./node_modules/@pixi/utils/lib/color/premultiply.mjs");
/* harmony import */ var _data_createIndicesForQuads_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./data/createIndicesForQuads.mjs */ "./node_modules/@pixi/utils/lib/data/createIndicesForQuads.mjs");
/* harmony import */ var _data_getBufferType_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./data/getBufferType.mjs */ "./node_modules/@pixi/utils/lib/data/getBufferType.mjs");
/* harmony import */ var _data_interleaveTypedArrays_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./data/interleaveTypedArrays.mjs */ "./node_modules/@pixi/utils/lib/data/interleaveTypedArrays.mjs");
/* harmony import */ var _data_pow2_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./data/pow2.mjs */ "./node_modules/@pixi/utils/lib/data/pow2.mjs");
/* harmony import */ var _data_removeItems_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./data/removeItems.mjs */ "./node_modules/@pixi/utils/lib/data/removeItems.mjs");
/* harmony import */ var _data_sign_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./data/sign.mjs */ "./node_modules/@pixi/utils/lib/data/sign.mjs");
/* harmony import */ var _data_uid_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./data/uid.mjs */ "./node_modules/@pixi/utils/lib/data/uid.mjs");
/* harmony import */ var _logging_deprecation_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./logging/deprecation.mjs */ "./node_modules/@pixi/utils/lib/logging/deprecation.mjs");
/* harmony import */ var _media_caches_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./media/caches.mjs */ "./node_modules/@pixi/utils/lib/media/caches.mjs");
/* harmony import */ var _media_CanvasRenderTarget_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./media/CanvasRenderTarget.mjs */ "./node_modules/@pixi/utils/lib/media/CanvasRenderTarget.mjs");
/* harmony import */ var _media_trimCanvas_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./media/trimCanvas.mjs */ "./node_modules/@pixi/utils/lib/media/trimCanvas.mjs");
/* harmony import */ var _network_decomposeDataUri_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./network/decomposeDataUri.mjs */ "./node_modules/@pixi/utils/lib/network/decomposeDataUri.mjs");
/* harmony import */ var _network_determineCrossOrigin_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./network/determineCrossOrigin.mjs */ "./node_modules/@pixi/utils/lib/network/determineCrossOrigin.mjs");
/* harmony import */ var _network_getResolutionOfUrl_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./network/getResolutionOfUrl.mjs */ "./node_modules/@pixi/utils/lib/network/getResolutionOfUrl.mjs");
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./const.mjs */ "./node_modules/@pixi/utils/lib/const.mjs");
/* harmony import */ var _types_index_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./types/index.mjs */ "./node_modules/@pixi/utils/lib/types/index.mjs");


























//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/logging/deprecation.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/logging/deprecation.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deprecation": () => (/* binding */ deprecation)
/* harmony export */ });
const warnings = {};
function deprecation(version, message, ignoreDepth = 3) {
  if (warnings[message]) {
    return;
  }
  let stack = new Error().stack;
  if (typeof stack === "undefined") {
    console.warn("PixiJS Deprecation Warning: ", `${message}
Deprecated since v${version}`);
  } else {
    stack = stack.split("\n").splice(ignoreDepth).join("\n");
    if (console.groupCollapsed) {
      console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", `${message}
Deprecated since v${version}`);
      console.warn(stack);
      console.groupEnd();
    } else {
      console.warn("PixiJS Deprecation Warning: ", `${message}
Deprecated since v${version}`);
      console.warn(stack);
    }
  }
  warnings[message] = true;
}


//# sourceMappingURL=deprecation.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/media/CanvasRenderTarget.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/media/CanvasRenderTarget.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CanvasRenderTarget": () => (/* binding */ CanvasRenderTarget)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");


class CanvasRenderTarget {
  constructor(width, height, resolution) {
    this.canvas = _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.createCanvas();
    this.context = this.canvas.getContext("2d");
    this.resolution = resolution || _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.RESOLUTION;
    this.resize(width, height);
  }
  clear() {
    this.context.setTransform(1, 0, 0, 1, 0, 0);
    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
  }
  resize(desiredWidth, desiredHeight) {
    this.canvas.width = Math.round(desiredWidth * this.resolution);
    this.canvas.height = Math.round(desiredHeight * this.resolution);
  }
  destroy() {
    this.context = null;
    this.canvas = null;
  }
  get width() {
    return this.canvas.width;
  }
  set width(val) {
    this.canvas.width = Math.round(val);
  }
  get height() {
    return this.canvas.height;
  }
  set height(val) {
    this.canvas.height = Math.round(val);
  }
}


//# sourceMappingURL=CanvasRenderTarget.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/media/caches.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/media/caches.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseTextureCache": () => (/* binding */ BaseTextureCache),
/* harmony export */   "ProgramCache": () => (/* binding */ ProgramCache),
/* harmony export */   "TextureCache": () => (/* binding */ TextureCache),
/* harmony export */   "clearTextureCache": () => (/* binding */ clearTextureCache),
/* harmony export */   "destroyTextureCache": () => (/* binding */ destroyTextureCache)
/* harmony export */ });
const ProgramCache = {};
const TextureCache = /* @__PURE__ */ Object.create(null);
const BaseTextureCache = /* @__PURE__ */ Object.create(null);
function destroyTextureCache() {
  let key;
  for (key in TextureCache) {
    TextureCache[key].destroy();
  }
  for (key in BaseTextureCache) {
    BaseTextureCache[key].destroy();
  }
}
function clearTextureCache() {
  let key;
  for (key in TextureCache) {
    delete TextureCache[key];
  }
  for (key in BaseTextureCache) {
    delete BaseTextureCache[key];
  }
}


//# sourceMappingURL=caches.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/media/trimCanvas.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/media/trimCanvas.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "trimCanvas": () => (/* binding */ trimCanvas)
/* harmony export */ });
function checkRow(data, width, y) {
  for (let x = 0, index = 4 * y * width; x < width; ++x, index += 4) {
    if (data[index + 3] !== 0)
      return false;
  }
  return true;
}
function checkColumn(data, width, x, top, bottom) {
  const stride = 4 * width;
  for (let y = top, index = top * stride + 4 * x; y <= bottom; ++y, index += stride) {
    if (data[index + 3] !== 0)
      return false;
  }
  return true;
}
function trimCanvas(canvas) {
  let { width, height } = canvas;
  const context = canvas.getContext("2d", {
    willReadFrequently: true
  });
  const imageData = context.getImageData(0, 0, width, height);
  const data = imageData.data;
  let top = 0;
  let bottom = height - 1;
  let left = 0;
  let right = width - 1;
  while (top < height && checkRow(data, width, top))
    ++top;
  if (top === height) {
    return { width: 0, height: 0, data: null };
  }
  while (checkRow(data, width, bottom))
    --bottom;
  while (checkColumn(data, width, left, top, bottom))
    ++left;
  while (checkColumn(data, width, right, top, bottom))
    --right;
  width = right - left + 1;
  height = bottom - top + 1;
  return {
    width,
    height,
    data: context.getImageData(left, top, width, height)
  };
}


//# sourceMappingURL=trimCanvas.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/network/decomposeDataUri.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/network/decomposeDataUri.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "decomposeDataUri": () => (/* binding */ decomposeDataUri)
/* harmony export */ });
/* harmony import */ var _const_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const.mjs */ "./node_modules/@pixi/utils/lib/const.mjs");


function decomposeDataUri(dataUri) {
  const dataUriMatch = _const_mjs__WEBPACK_IMPORTED_MODULE_0__.DATA_URI.exec(dataUri);
  if (dataUriMatch) {
    return {
      mediaType: dataUriMatch[1] ? dataUriMatch[1].toLowerCase() : void 0,
      subType: dataUriMatch[2] ? dataUriMatch[2].toLowerCase() : void 0,
      charset: dataUriMatch[3] ? dataUriMatch[3].toLowerCase() : void 0,
      encoding: dataUriMatch[4] ? dataUriMatch[4].toLowerCase() : void 0,
      data: dataUriMatch[5]
    };
  }
  return void 0;
}


//# sourceMappingURL=decomposeDataUri.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/network/determineCrossOrigin.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/network/determineCrossOrigin.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "determineCrossOrigin": () => (/* binding */ determineCrossOrigin)
/* harmony export */ });
/* harmony import */ var _url_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../url.mjs */ "./node_modules/@pixi/utils/lib/url.mjs");


let tempAnchor;
function determineCrossOrigin(url$1, loc = globalThis.location) {
  if (url$1.startsWith("data:")) {
    return "";
  }
  loc = loc || globalThis.location;
  if (!tempAnchor) {
    tempAnchor = document.createElement("a");
  }
  tempAnchor.href = url$1;
  const parsedUrl = _url_mjs__WEBPACK_IMPORTED_MODULE_0__.url.parse(tempAnchor.href);
  const samePort = !parsedUrl.port && loc.port === "" || parsedUrl.port === loc.port;
  if (parsedUrl.hostname !== loc.hostname || !samePort || parsedUrl.protocol !== loc.protocol) {
    return "anonymous";
  }
  return "";
}


//# sourceMappingURL=determineCrossOrigin.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/network/getResolutionOfUrl.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/network/getResolutionOfUrl.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getResolutionOfUrl": () => (/* binding */ getResolutionOfUrl)
/* harmony export */ });
/* harmony import */ var _settings_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../settings.mjs */ "./node_modules/@pixi/utils/lib/settings.mjs");
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");



function getResolutionOfUrl(url, defaultValue = 1) {
  const resolution = _pixi_settings__WEBPACK_IMPORTED_MODULE_1__.settings.RETINA_PREFIX.exec(url);
  if (resolution) {
    return parseFloat(resolution[1]);
  }
  return defaultValue;
}


//# sourceMappingURL=getResolutionOfUrl.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/path.mjs":
/*!***********************************************!*\
  !*** ./node_modules/@pixi/utils/lib/path.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "path": () => (/* binding */ path)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");


function assertPath(path2) {
  if (typeof path2 !== "string") {
    throw new TypeError(`Path must be a string. Received ${JSON.stringify(path2)}`);
  }
}
function removeUrlParams(url) {
  const re = url.split("?")[0];
  return re.split("#")[0];
}
function escapeRegExp(string) {
  return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function replaceAll(str, find, replace) {
  return str.replace(new RegExp(escapeRegExp(find), "g"), replace);
}
function normalizeStringPosix(path2, allowAboveRoot) {
  let res = "";
  let lastSegmentLength = 0;
  let lastSlash = -1;
  let dots = 0;
  let code;
  for (let i = 0; i <= path2.length; ++i) {
    if (i < path2.length) {
      code = path2.charCodeAt(i);
    } else if (code === 47) {
      break;
    } else {
      code = 47;
    }
    if (code === 47) {
      if (lastSlash === i - 1 || dots === 1) {
      } else if (lastSlash !== i - 1 && dots === 2) {
        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {
          if (res.length > 2) {
            const lastSlashIndex = res.lastIndexOf("/");
            if (lastSlashIndex !== res.length - 1) {
              if (lastSlashIndex === -1) {
                res = "";
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf("/");
              }
              lastSlash = i;
              dots = 0;
              continue;
            }
          } else if (res.length === 2 || res.length === 1) {
            res = "";
            lastSegmentLength = 0;
            lastSlash = i;
            dots = 0;
            continue;
          }
        }
        if (allowAboveRoot) {
          if (res.length > 0) {
            res += "/..";
          } else {
            res = "..";
          }
          lastSegmentLength = 2;
        }
      } else {
        if (res.length > 0) {
          res += `/${path2.slice(lastSlash + 1, i)}`;
        } else {
          res = path2.slice(lastSlash + 1, i);
        }
        lastSegmentLength = i - lastSlash - 1;
      }
      lastSlash = i;
      dots = 0;
    } else if (code === 46 && dots !== -1) {
      ++dots;
    } else {
      dots = -1;
    }
  }
  return res;
}
const path = {
  toPosix(path2) {
    return replaceAll(path2, "\\", "/");
  },
  isUrl(path2) {
    return /^https?:/.test(this.toPosix(path2));
  },
  isDataUrl(path2) {
    return /^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(path2);
  },
  hasProtocol(path2) {
    return /^[^/:]+:\//.test(this.toPosix(path2));
  },
  getProtocol(path2) {
    assertPath(path2);
    path2 = this.toPosix(path2);
    let protocol = "";
    const isFile = /^file:\/\/\//.exec(path2);
    const isHttp = /^[^/:]+:\/\//.exec(path2);
    const isWindows = /^[^/:]+:\//.exec(path2);
    if (isFile || isHttp || isWindows) {
      const arr = isFile?.[0] || isHttp?.[0] || isWindows?.[0];
      protocol = arr;
      path2 = path2.slice(arr.length);
    }
    return protocol;
  },
  toAbsolute(url, customBaseUrl, customRootUrl) {
    if (this.isDataUrl(url))
      return url;
    const baseUrl = removeUrlParams(this.toPosix(customBaseUrl ?? _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.ADAPTER.getBaseUrl()));
    const rootUrl = removeUrlParams(this.toPosix(customRootUrl ?? this.rootname(baseUrl)));
    assertPath(url);
    url = this.toPosix(url);
    if (url.startsWith("/")) {
      return path.join(rootUrl, url.slice(1));
    }
    const absolutePath = this.isAbsolute(url) ? url : this.join(baseUrl, url);
    return absolutePath;
  },
  normalize(path2) {
    path2 = this.toPosix(path2);
    assertPath(path2);
    if (path2.length === 0)
      return ".";
    let protocol = "";
    const isAbsolute = path2.startsWith("/");
    if (this.hasProtocol(path2)) {
      protocol = this.rootname(path2);
      path2 = path2.slice(protocol.length);
    }
    const trailingSeparator = path2.endsWith("/");
    path2 = normalizeStringPosix(path2, false);
    if (path2.length > 0 && trailingSeparator)
      path2 += "/";
    if (isAbsolute)
      return `/${path2}`;
    return protocol + path2;
  },
  isAbsolute(path2) {
    assertPath(path2);
    path2 = this.toPosix(path2);
    if (this.hasProtocol(path2))
      return true;
    return path2.startsWith("/");
  },
  join(...segments) {
    if (segments.length === 0) {
      return ".";
    }
    let joined;
    for (let i = 0; i < segments.length; ++i) {
      const arg = segments[i];
      assertPath(arg);
      if (arg.length > 0) {
        if (joined === void 0)
          joined = arg;
        else {
          const prevArg = segments[i - 1] ?? "";
          if (this.extname(prevArg)) {
            joined += `/../${arg}`;
          } else {
            joined += `/${arg}`;
          }
        }
      }
    }
    if (joined === void 0) {
      return ".";
    }
    return this.normalize(joined);
  },
  dirname(path2) {
    assertPath(path2);
    if (path2.length === 0)
      return ".";
    path2 = this.toPosix(path2);
    let code = path2.charCodeAt(0);
    const hasRoot = code === 47;
    let end = -1;
    let matchedSlash = true;
    const proto = this.getProtocol(path2);
    const origpath = path2;
    path2 = path2.slice(proto.length);
    for (let i = path2.length - 1; i >= 1; --i) {
      code = path2.charCodeAt(i);
      if (code === 47) {
        if (!matchedSlash) {
          end = i;
          break;
        }
      } else {
        matchedSlash = false;
      }
    }
    if (end === -1)
      return hasRoot ? "/" : this.isUrl(origpath) ? proto + path2 : proto;
    if (hasRoot && end === 1)
      return "//";
    return proto + path2.slice(0, end);
  },
  rootname(path2) {
    assertPath(path2);
    path2 = this.toPosix(path2);
    let root = "";
    if (path2.startsWith("/"))
      root = "/";
    else {
      root = this.getProtocol(path2);
    }
    if (this.isUrl(path2)) {
      const index = path2.indexOf("/", root.length);
      if (index !== -1) {
        root = path2.slice(0, index);
      } else
        root = path2;
      if (!root.endsWith("/"))
        root += "/";
    }
    return root;
  },
  basename(path2, ext) {
    assertPath(path2);
    if (ext)
      assertPath(ext);
    path2 = this.toPosix(path2);
    let start = 0;
    let end = -1;
    let matchedSlash = true;
    let i;
    if (ext !== void 0 && ext.length > 0 && ext.length <= path2.length) {
      if (ext.length === path2.length && ext === path2)
        return "";
      let extIdx = ext.length - 1;
      let firstNonSlashEnd = -1;
      for (i = path2.length - 1; i >= 0; --i) {
        const code = path2.charCodeAt(i);
        if (code === 47) {
          if (!matchedSlash) {
            start = i + 1;
            break;
          }
        } else {
          if (firstNonSlashEnd === -1) {
            matchedSlash = false;
            firstNonSlashEnd = i + 1;
          }
          if (extIdx >= 0) {
            if (code === ext.charCodeAt(extIdx)) {
              if (--extIdx === -1) {
                end = i;
              }
            } else {
              extIdx = -1;
              end = firstNonSlashEnd;
            }
          }
        }
      }
      if (start === end)
        end = firstNonSlashEnd;
      else if (end === -1)
        end = path2.length;
      return path2.slice(start, end);
    }
    for (i = path2.length - 1; i >= 0; --i) {
      if (path2.charCodeAt(i) === 47) {
        if (!matchedSlash) {
          start = i + 1;
          break;
        }
      } else if (end === -1) {
        matchedSlash = false;
        end = i + 1;
      }
    }
    if (end === -1)
      return "";
    return path2.slice(start, end);
  },
  extname(path2) {
    assertPath(path2);
    path2 = this.toPosix(path2);
    let startDot = -1;
    let startPart = 0;
    let end = -1;
    let matchedSlash = true;
    let preDotState = 0;
    for (let i = path2.length - 1; i >= 0; --i) {
      const code = path2.charCodeAt(i);
      if (code === 47) {
        if (!matchedSlash) {
          startPart = i + 1;
          break;
        }
        continue;
      }
      if (end === -1) {
        matchedSlash = false;
        end = i + 1;
      }
      if (code === 46) {
        if (startDot === -1)
          startDot = i;
        else if (preDotState !== 1)
          preDotState = 1;
      } else if (startDot !== -1) {
        preDotState = -1;
      }
    }
    if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      return "";
    }
    return path2.slice(startDot, end);
  },
  parse(path2) {
    assertPath(path2);
    const ret = { root: "", dir: "", base: "", ext: "", name: "" };
    if (path2.length === 0)
      return ret;
    path2 = this.toPosix(path2);
    let code = path2.charCodeAt(0);
    const isAbsolute = this.isAbsolute(path2);
    let start;
    const protocol = "";
    ret.root = this.rootname(path2);
    if (isAbsolute || this.hasProtocol(path2)) {
      start = 1;
    } else {
      start = 0;
    }
    let startDot = -1;
    let startPart = 0;
    let end = -1;
    let matchedSlash = true;
    let i = path2.length - 1;
    let preDotState = 0;
    for (; i >= start; --i) {
      code = path2.charCodeAt(i);
      if (code === 47) {
        if (!matchedSlash) {
          startPart = i + 1;
          break;
        }
        continue;
      }
      if (end === -1) {
        matchedSlash = false;
        end = i + 1;
      }
      if (code === 46) {
        if (startDot === -1)
          startDot = i;
        else if (preDotState !== 1)
          preDotState = 1;
      } else if (startDot !== -1) {
        preDotState = -1;
      }
    }
    if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      if (end !== -1) {
        if (startPart === 0 && isAbsolute)
          ret.base = ret.name = path2.slice(1, end);
        else
          ret.base = ret.name = path2.slice(startPart, end);
      }
    } else {
      if (startPart === 0 && isAbsolute) {
        ret.name = path2.slice(1, startDot);
        ret.base = path2.slice(1, end);
      } else {
        ret.name = path2.slice(startPart, startDot);
        ret.base = path2.slice(startPart, end);
      }
      ret.ext = path2.slice(startDot, end);
    }
    ret.dir = this.dirname(path2);
    if (protocol)
      ret.dir = protocol + ret.dir;
    return ret;
  },
  sep: "/",
  delimiter: ":"
};


//# sourceMappingURL=path.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/settings.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/settings.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "settings": () => (/* reexport safe */ _pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings)
/* harmony export */ });
/* harmony import */ var _pixi_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/settings */ "./node_modules/@pixi/settings/lib/index.mjs");



_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.RETINA_PREFIX = /@([0-9\.]+)x/;
_pixi_settings__WEBPACK_IMPORTED_MODULE_0__.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = false;
//# sourceMappingURL=settings.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/types/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@pixi/utils/lib/types/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);

//# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "./node_modules/@pixi/utils/lib/url.mjs":
/*!**********************************************!*\
  !*** ./node_modules/@pixi/utils/lib/url.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "url": () => (/* binding */ url)
/* harmony export */ });
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! url */ "./node_modules/url/url.js");


const url = {
  parse: url__WEBPACK_IMPORTED_MODULE_0__.parse,
  format: url__WEBPACK_IMPORTED_MODULE_0__.format,
  resolve: url__WEBPACK_IMPORTED_MODULE_0__.resolve
};


//# sourceMappingURL=url.mjs.map


/***/ }),

/***/ "./node_modules/pixi.js/lib/index.mjs":
/*!********************************************!*\
  !*** ./node_modules/pixi.js/lib/index.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ALPHA_MODES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ALPHA_MODES),
/* harmony export */   "AbstractMultiResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.AbstractMultiResource),
/* harmony export */   "AccessibilityManager": () => (/* reexport safe */ _pixi_accessibility__WEBPACK_IMPORTED_MODULE_9__.AccessibilityManager),
/* harmony export */   "AnimatedSprite": () => (/* reexport safe */ _pixi_sprite_animated__WEBPACK_IMPORTED_MODULE_24__.AnimatedSprite),
/* harmony export */   "Application": () => (/* reexport safe */ _pixi_app__WEBPACK_IMPORTED_MODULE_10__.Application),
/* harmony export */   "ArrayResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ArrayResource),
/* harmony export */   "Assets": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.Assets),
/* harmony export */   "AssetsClass": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.AssetsClass),
/* harmony export */   "Attribute": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Attribute),
/* harmony export */   "BLEND_MODES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BLEND_MODES),
/* harmony export */   "BUFFER_BITS": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BUFFER_BITS),
/* harmony export */   "BUFFER_TYPE": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BUFFER_TYPE),
/* harmony export */   "BackgroundSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BackgroundSystem),
/* harmony export */   "BaseImageResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BaseImageResource),
/* harmony export */   "BasePrepare": () => (/* reexport safe */ _pixi_prepare__WEBPACK_IMPORTED_MODULE_21__.BasePrepare),
/* harmony export */   "BaseRenderTexture": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BaseRenderTexture),
/* harmony export */   "BaseTexture": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BaseTexture),
/* harmony export */   "BatchDrawCall": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BatchDrawCall),
/* harmony export */   "BatchGeometry": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BatchGeometry),
/* harmony export */   "BatchRenderer": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BatchRenderer),
/* harmony export */   "BatchShaderGenerator": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BatchShaderGenerator),
/* harmony export */   "BatchSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BatchSystem),
/* harmony export */   "BatchTextureArray": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BatchTextureArray),
/* harmony export */   "BitmapFont": () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_27__.BitmapFont),
/* harmony export */   "BitmapFontData": () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_27__.BitmapFontData),
/* harmony export */   "BitmapText": () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_27__.BitmapText),
/* harmony export */   "BlobResource": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.BlobResource),
/* harmony export */   "Bounds": () => (/* reexport safe */ _pixi_display__WEBPACK_IMPORTED_MODULE_14__.Bounds),
/* harmony export */   "BrowserAdapter": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BrowserAdapter),
/* harmony export */   "Buffer": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Buffer),
/* harmony export */   "BufferResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BufferResource),
/* harmony export */   "BufferSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.BufferSystem),
/* harmony export */   "CLEAR_MODES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.CLEAR_MODES),
/* harmony export */   "COLOR_MASK_BITS": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.COLOR_MASK_BITS),
/* harmony export */   "Cache": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.Cache),
/* harmony export */   "CanvasResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.CanvasResource),
/* harmony export */   "Circle": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Circle),
/* harmony export */   "CompressedTextureResource": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.CompressedTextureResource),
/* harmony export */   "Container": () => (/* reexport safe */ _pixi_display__WEBPACK_IMPORTED_MODULE_14__.Container),
/* harmony export */   "ContextSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ContextSystem),
/* harmony export */   "CountLimiter": () => (/* reexport safe */ _pixi_prepare__WEBPACK_IMPORTED_MODULE_21__.CountLimiter),
/* harmony export */   "CubeResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.CubeResource),
/* harmony export */   "DEG_TO_RAD": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.DEG_TO_RAD),
/* harmony export */   "DRAW_MODES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.DRAW_MODES),
/* harmony export */   "DisplayObject": () => (/* reexport safe */ _pixi_display__WEBPACK_IMPORTED_MODULE_14__.DisplayObject),
/* harmony export */   "ENV": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ENV),
/* harmony export */   "Ellipse": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Ellipse),
/* harmony export */   "EventBoundary": () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_15__.EventBoundary),
/* harmony export */   "EventSystem": () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_15__.EventSystem),
/* harmony export */   "ExtensionType": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ExtensionType),
/* harmony export */   "Extract": () => (/* reexport safe */ _pixi_extract__WEBPACK_IMPORTED_MODULE_16__.Extract),
/* harmony export */   "FORMATS": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.FORMATS),
/* harmony export */   "FORMATS_TO_COMPONENTS": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.FORMATS_TO_COMPONENTS),
/* harmony export */   "FederatedDisplayObject": () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_15__.FederatedDisplayObject),
/* harmony export */   "FederatedEvent": () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_15__.FederatedEvent),
/* harmony export */   "FederatedMouseEvent": () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_15__.FederatedMouseEvent),
/* harmony export */   "FederatedPointerEvent": () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_15__.FederatedPointerEvent),
/* harmony export */   "FederatedWheelEvent": () => (/* reexport safe */ _pixi_events__WEBPACK_IMPORTED_MODULE_15__.FederatedWheelEvent),
/* harmony export */   "FillStyle": () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_17__.FillStyle),
/* harmony export */   "Filter": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Filter),
/* harmony export */   "FilterState": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.FilterState),
/* harmony export */   "FilterSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.FilterSystem),
/* harmony export */   "Framebuffer": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Framebuffer),
/* harmony export */   "FramebufferSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.FramebufferSystem),
/* harmony export */   "GC_MODES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.GC_MODES),
/* harmony export */   "GLFramebuffer": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.GLFramebuffer),
/* harmony export */   "GLProgram": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.GLProgram),
/* harmony export */   "GLTexture": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.GLTexture),
/* harmony export */   "GRAPHICS_CURVES": () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_17__.GRAPHICS_CURVES),
/* harmony export */   "GenerateTextureSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.GenerateTextureSystem),
/* harmony export */   "Geometry": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Geometry),
/* harmony export */   "GeometrySystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.GeometrySystem),
/* harmony export */   "Graphics": () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_17__.Graphics),
/* harmony export */   "GraphicsData": () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_17__.GraphicsData),
/* harmony export */   "GraphicsGeometry": () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_17__.GraphicsGeometry),
/* harmony export */   "IGLUniformData": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.IGLUniformData),
/* harmony export */   "INSTALLED": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.INSTALLED),
/* harmony export */   "INTERNAL_FORMATS": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.INTERNAL_FORMATS),
/* harmony export */   "INTERNAL_FORMAT_TO_BYTES_PER_PIXEL": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL),
/* harmony export */   "ImageBitmapResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ImageBitmapResource),
/* harmony export */   "ImageResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ImageResource),
/* harmony export */   "LINE_CAP": () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_17__.LINE_CAP),
/* harmony export */   "LINE_JOIN": () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_17__.LINE_JOIN),
/* harmony export */   "LineStyle": () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_17__.LineStyle),
/* harmony export */   "LoaderParserPriority": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.LoaderParserPriority),
/* harmony export */   "MASK_TYPES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.MASK_TYPES),
/* harmony export */   "MIPMAP_MODES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.MIPMAP_MODES),
/* harmony export */   "MSAA_QUALITY": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.MSAA_QUALITY),
/* harmony export */   "MaskData": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.MaskData),
/* harmony export */   "MaskSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.MaskSystem),
/* harmony export */   "Matrix": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Matrix),
/* harmony export */   "Mesh": () => (/* reexport safe */ _pixi_mesh__WEBPACK_IMPORTED_MODULE_18__.Mesh),
/* harmony export */   "MeshBatchUvs": () => (/* reexport safe */ _pixi_mesh__WEBPACK_IMPORTED_MODULE_18__.MeshBatchUvs),
/* harmony export */   "MeshGeometry": () => (/* reexport safe */ _pixi_mesh__WEBPACK_IMPORTED_MODULE_18__.MeshGeometry),
/* harmony export */   "MeshMaterial": () => (/* reexport safe */ _pixi_mesh__WEBPACK_IMPORTED_MODULE_18__.MeshMaterial),
/* harmony export */   "MultisampleSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.MultisampleSystem),
/* harmony export */   "NineSlicePlane": () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_19__.NineSlicePlane),
/* harmony export */   "ObjectRenderer": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ObjectRenderer),
/* harmony export */   "ObjectRendererSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ObjectRendererSystem),
/* harmony export */   "ObservablePoint": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ObservablePoint),
/* harmony export */   "PI_2": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.PI_2),
/* harmony export */   "PRECISION": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.PRECISION),
/* harmony export */   "ParticleContainer": () => (/* reexport safe */ _pixi_particle_container__WEBPACK_IMPORTED_MODULE_20__.ParticleContainer),
/* harmony export */   "ParticleRenderer": () => (/* reexport safe */ _pixi_particle_container__WEBPACK_IMPORTED_MODULE_20__.ParticleRenderer),
/* harmony export */   "PlaneGeometry": () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_19__.PlaneGeometry),
/* harmony export */   "PluginSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.PluginSystem),
/* harmony export */   "Point": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Point),
/* harmony export */   "Polygon": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Polygon),
/* harmony export */   "Prepare": () => (/* reexport safe */ _pixi_prepare__WEBPACK_IMPORTED_MODULE_21__.Prepare),
/* harmony export */   "Program": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Program),
/* harmony export */   "ProjectionSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ProjectionSystem),
/* harmony export */   "Quad": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Quad),
/* harmony export */   "QuadUv": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.QuadUv),
/* harmony export */   "RAD_TO_DEG": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.RAD_TO_DEG),
/* harmony export */   "RENDERER_TYPE": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.RENDERER_TYPE),
/* harmony export */   "Rectangle": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Rectangle),
/* harmony export */   "RenderTexture": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.RenderTexture),
/* harmony export */   "RenderTexturePool": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.RenderTexturePool),
/* harmony export */   "RenderTextureSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.RenderTextureSystem),
/* harmony export */   "Renderer": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Renderer),
/* harmony export */   "ResizePlugin": () => (/* reexport safe */ _pixi_app__WEBPACK_IMPORTED_MODULE_10__.ResizePlugin),
/* harmony export */   "Resource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Resource),
/* harmony export */   "RopeGeometry": () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_19__.RopeGeometry),
/* harmony export */   "RoundedRectangle": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.RoundedRectangle),
/* harmony export */   "Runner": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Runner),
/* harmony export */   "SAMPLER_TYPES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.SAMPLER_TYPES),
/* harmony export */   "SCALE_MODES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.SCALE_MODES),
/* harmony export */   "SHAPES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.SHAPES),
/* harmony export */   "SVGResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.SVGResource),
/* harmony export */   "ScissorSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ScissorSystem),
/* harmony export */   "Shader": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Shader),
/* harmony export */   "ShaderSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ShaderSystem),
/* harmony export */   "SimpleMesh": () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_19__.SimpleMesh),
/* harmony export */   "SimplePlane": () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_19__.SimplePlane),
/* harmony export */   "SimpleRope": () => (/* reexport safe */ _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_19__.SimpleRope),
/* harmony export */   "Sprite": () => (/* reexport safe */ _pixi_sprite__WEBPACK_IMPORTED_MODULE_22__.Sprite),
/* harmony export */   "SpriteMaskFilter": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.SpriteMaskFilter),
/* harmony export */   "Spritesheet": () => (/* reexport safe */ _pixi_spritesheet__WEBPACK_IMPORTED_MODULE_23__.Spritesheet),
/* harmony export */   "StartupSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.StartupSystem),
/* harmony export */   "State": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.State),
/* harmony export */   "StateSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.StateSystem),
/* harmony export */   "StencilSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.StencilSystem),
/* harmony export */   "SystemManager": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.SystemManager),
/* harmony export */   "TARGETS": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.TARGETS),
/* harmony export */   "TEXT_GRADIENT": () => (/* reexport safe */ _pixi_text__WEBPACK_IMPORTED_MODULE_26__.TEXT_GRADIENT),
/* harmony export */   "TYPES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.TYPES),
/* harmony export */   "TYPES_TO_BYTES_PER_COMPONENT": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.TYPES_TO_BYTES_PER_COMPONENT),
/* harmony export */   "TYPES_TO_BYTES_PER_PIXEL": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.TYPES_TO_BYTES_PER_PIXEL),
/* harmony export */   "TemporaryDisplayObject": () => (/* reexport safe */ _pixi_display__WEBPACK_IMPORTED_MODULE_14__.TemporaryDisplayObject),
/* harmony export */   "Text": () => (/* reexport safe */ _pixi_text__WEBPACK_IMPORTED_MODULE_26__.Text),
/* harmony export */   "TextFormat": () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_27__.TextFormat),
/* harmony export */   "TextMetrics": () => (/* reexport safe */ _pixi_text__WEBPACK_IMPORTED_MODULE_26__.TextMetrics),
/* harmony export */   "TextStyle": () => (/* reexport safe */ _pixi_text__WEBPACK_IMPORTED_MODULE_26__.TextStyle),
/* harmony export */   "Texture": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Texture),
/* harmony export */   "TextureGCSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.TextureGCSystem),
/* harmony export */   "TextureMatrix": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.TextureMatrix),
/* harmony export */   "TextureSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.TextureSystem),
/* harmony export */   "TextureUvs": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.TextureUvs),
/* harmony export */   "Ticker": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Ticker),
/* harmony export */   "TickerPlugin": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.TickerPlugin),
/* harmony export */   "TilingSprite": () => (/* reexport safe */ _pixi_sprite_tiling__WEBPACK_IMPORTED_MODULE_25__.TilingSprite),
/* harmony export */   "TilingSpriteRenderer": () => (/* reexport safe */ _pixi_sprite_tiling__WEBPACK_IMPORTED_MODULE_25__.TilingSpriteRenderer),
/* harmony export */   "TimeLimiter": () => (/* reexport safe */ _pixi_prepare__WEBPACK_IMPORTED_MODULE_21__.TimeLimiter),
/* harmony export */   "Transform": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.Transform),
/* harmony export */   "TransformFeedback": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.TransformFeedback),
/* harmony export */   "TransformFeedbackSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.TransformFeedbackSystem),
/* harmony export */   "UPDATE_PRIORITY": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.UPDATE_PRIORITY),
/* harmony export */   "UniformGroup": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.UniformGroup),
/* harmony export */   "VERSION": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.VERSION),
/* harmony export */   "VideoResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.VideoResource),
/* harmony export */   "ViewSystem": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ViewSystem),
/* harmony export */   "ViewableBuffer": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.ViewableBuffer),
/* harmony export */   "WRAP_MODES": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.WRAP_MODES),
/* harmony export */   "XMLFormat": () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_27__.XMLFormat),
/* harmony export */   "XMLStringFormat": () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_27__.XMLStringFormat),
/* harmony export */   "accessibleTarget": () => (/* reexport safe */ _pixi_accessibility__WEBPACK_IMPORTED_MODULE_9__.accessibleTarget),
/* harmony export */   "autoDetectFormat": () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_27__.autoDetectFormat),
/* harmony export */   "autoDetectRenderer": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.autoDetectRenderer),
/* harmony export */   "autoDetectResource": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.autoDetectResource),
/* harmony export */   "cacheTextureArray": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.cacheTextureArray),
/* harmony export */   "checkDataUrl": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.checkDataUrl),
/* harmony export */   "checkExtension": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.checkExtension),
/* harmony export */   "checkMaxIfStatementsInShader": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.checkMaxIfStatementsInShader),
/* harmony export */   "convertToList": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.convertToList),
/* harmony export */   "createStringVariations": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.createStringVariations),
/* harmony export */   "createTexture": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.createTexture),
/* harmony export */   "createUBOElements": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.createUBOElements),
/* harmony export */   "defaultFilterVertex": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.defaultFilterVertex),
/* harmony export */   "defaultVertex": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.defaultVertex),
/* harmony export */   "detectAvif": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.detectAvif),
/* harmony export */   "detectCompressedTextures": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.detectCompressedTextures),
/* harmony export */   "detectDefaults": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.detectDefaults),
/* harmony export */   "detectWebp": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.detectWebp),
/* harmony export */   "extensions": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.extensions),
/* harmony export */   "filters": () => (/* binding */ filters),
/* harmony export */   "generateProgram": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.generateProgram),
/* harmony export */   "generateUniformBufferSync": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.generateUniformBufferSync),
/* harmony export */   "getFontFamilyName": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.getFontFamilyName),
/* harmony export */   "getTestContext": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.getTestContext),
/* harmony export */   "getUBOData": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.getUBOData),
/* harmony export */   "graphicsUtils": () => (/* reexport safe */ _pixi_graphics__WEBPACK_IMPORTED_MODULE_17__.graphicsUtils),
/* harmony export */   "groupD8": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.groupD8),
/* harmony export */   "isMobile": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.isMobile),
/* harmony export */   "isSingleItem": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.isSingleItem),
/* harmony export */   "loadBitmapFont": () => (/* reexport safe */ _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_27__.loadBitmapFont),
/* harmony export */   "loadDDS": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.loadDDS),
/* harmony export */   "loadImageBitmap": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.loadImageBitmap),
/* harmony export */   "loadJson": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.loadJson),
/* harmony export */   "loadKTX": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.loadKTX),
/* harmony export */   "loadSVG": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.loadSVG),
/* harmony export */   "loadTextures": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.loadTextures),
/* harmony export */   "loadTxt": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.loadTxt),
/* harmony export */   "loadWebFont": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.loadWebFont),
/* harmony export */   "parseDDS": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.parseDDS),
/* harmony export */   "parseKTX": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.parseKTX),
/* harmony export */   "resolveCompressedTextureUrl": () => (/* reexport safe */ _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__.resolveCompressedTextureUrl),
/* harmony export */   "resolveTextureUrl": () => (/* reexport safe */ _pixi_assets__WEBPACK_IMPORTED_MODULE_11__.resolveTextureUrl),
/* harmony export */   "settings": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.settings),
/* harmony export */   "spritesheetAsset": () => (/* reexport safe */ _pixi_spritesheet__WEBPACK_IMPORTED_MODULE_23__.spritesheetAsset),
/* harmony export */   "uniformParsers": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.uniformParsers),
/* harmony export */   "utils": () => (/* reexport safe */ _pixi_core__WEBPACK_IMPORTED_MODULE_13__.utils)
/* harmony export */ });
/* harmony import */ var _pixi_filter_alpha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/filter-alpha */ "./node_modules/@pixi/filter-alpha/lib/index.mjs");
/* harmony import */ var _pixi_filter_blur__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/filter-blur */ "./node_modules/@pixi/filter-blur/lib/index.mjs");
/* harmony import */ var _pixi_filter_color_matrix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pixi/filter-color-matrix */ "./node_modules/@pixi/filter-color-matrix/lib/index.mjs");
/* harmony import */ var _pixi_filter_displacement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pixi/filter-displacement */ "./node_modules/@pixi/filter-displacement/lib/index.mjs");
/* harmony import */ var _pixi_filter_fxaa__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @pixi/filter-fxaa */ "./node_modules/@pixi/filter-fxaa/lib/index.mjs");
/* harmony import */ var _pixi_filter_noise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pixi/filter-noise */ "./node_modules/@pixi/filter-noise/lib/index.mjs");
/* harmony import */ var _pixi_mixin_cache_as_bitmap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @pixi/mixin-cache-as-bitmap */ "./node_modules/@pixi/mixin-cache-as-bitmap/lib/index.mjs");
/* harmony import */ var _pixi_mixin_get_child_by_name__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @pixi/mixin-get-child-by-name */ "./node_modules/@pixi/mixin-get-child-by-name/lib/index.mjs");
/* harmony import */ var _pixi_mixin_get_global_position__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @pixi/mixin-get-global-position */ "./node_modules/@pixi/mixin-get-global-position/lib/index.mjs");
/* harmony import */ var _pixi_accessibility__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @pixi/accessibility */ "./node_modules/@pixi/accessibility/lib/index.mjs");
/* harmony import */ var _pixi_app__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @pixi/app */ "./node_modules/@pixi/app/lib/index.mjs");
/* harmony import */ var _pixi_assets__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @pixi/assets */ "./node_modules/@pixi/assets/lib/index.mjs");
/* harmony import */ var _pixi_compressed_textures__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @pixi/compressed-textures */ "./node_modules/@pixi/compressed-textures/lib/index.mjs");
/* harmony import */ var _pixi_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @pixi/core */ "./node_modules/@pixi/core/lib/index.mjs");
/* harmony import */ var _pixi_display__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @pixi/display */ "./node_modules/@pixi/display/lib/index.mjs");
/* harmony import */ var _pixi_events__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @pixi/events */ "./node_modules/@pixi/events/lib/index.mjs");
/* harmony import */ var _pixi_extract__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @pixi/extract */ "./node_modules/@pixi/extract/lib/index.mjs");
/* harmony import */ var _pixi_graphics__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @pixi/graphics */ "./node_modules/@pixi/graphics/lib/index.mjs");
/* harmony import */ var _pixi_mesh__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @pixi/mesh */ "./node_modules/@pixi/mesh/lib/index.mjs");
/* harmony import */ var _pixi_mesh_extras__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @pixi/mesh-extras */ "./node_modules/@pixi/mesh-extras/lib/index.mjs");
/* harmony import */ var _pixi_particle_container__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @pixi/particle-container */ "./node_modules/@pixi/particle-container/lib/index.mjs");
/* harmony import */ var _pixi_prepare__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @pixi/prepare */ "./node_modules/@pixi/prepare/lib/index.mjs");
/* harmony import */ var _pixi_sprite__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @pixi/sprite */ "./node_modules/@pixi/sprite/lib/index.mjs");
/* harmony import */ var _pixi_spritesheet__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @pixi/spritesheet */ "./node_modules/@pixi/spritesheet/lib/index.mjs");
/* harmony import */ var _pixi_sprite_animated__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @pixi/sprite-animated */ "./node_modules/@pixi/sprite-animated/lib/index.mjs");
/* harmony import */ var _pixi_sprite_tiling__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @pixi/sprite-tiling */ "./node_modules/@pixi/sprite-tiling/lib/index.mjs");
/* harmony import */ var _pixi_text__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @pixi/text */ "./node_modules/@pixi/text/lib/index.mjs");
/* harmony import */ var _pixi_text_bitmap__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @pixi/text-bitmap */ "./node_modules/@pixi/text-bitmap/lib/index.mjs");





























const filters = {
  AlphaFilter: _pixi_filter_alpha__WEBPACK_IMPORTED_MODULE_0__.AlphaFilter,
  BlurFilter: _pixi_filter_blur__WEBPACK_IMPORTED_MODULE_1__.BlurFilter,
  BlurFilterPass: _pixi_filter_blur__WEBPACK_IMPORTED_MODULE_1__.BlurFilterPass,
  ColorMatrixFilter: _pixi_filter_color_matrix__WEBPACK_IMPORTED_MODULE_2__.ColorMatrixFilter,
  DisplacementFilter: _pixi_filter_displacement__WEBPACK_IMPORTED_MODULE_3__.DisplacementFilter,
  FXAAFilter: _pixi_filter_fxaa__WEBPACK_IMPORTED_MODULE_4__.FXAAFilter,
  NoiseFilter: _pixi_filter_noise__WEBPACK_IMPORTED_MODULE_5__.NoiseFilter
};


//# sourceMappingURL=index.mjs.map


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "./node_modules/pixi.js/lib/index.mjs");
/* harmony import */ var _pixi_filter_drop_shadow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @pixi/filter-drop-shadow */ "./node_modules/@pixi/filter-drop-shadow/dist/filter-drop-shadow.mjs");


var app = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Application({
    background: '#000000',
    width: 800,
    height: 800,
});
document.body.appendChild(app.view);
var Button = /** @class */ (function () {
    function Button() {
    }
    Button.prototype.createButton = function (buttonWidth, buttonHeight, buttonColor, x, y, round, img, title, font) {
        if (buttonWidth === void 0) { buttonWidth = 100; }
        if (buttonHeight === void 0) { buttonHeight = 60; }
        if (x === void 0) { x = 0; }
        if (y === void 0) { y = 0; }
        var container = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Container();
        container.sortableChildren = true;
        container.interactive = true;
        container.cursor = 'pointer';
        var lengthOfButtons = 0;
        var len = buttonColor.length;
        var square = buttonWidth / len;
        var fontFamily = font.fontFamily, fontSize = font.fontSize, fill = font.fill;
        var maxSquares = Math.floor(buttonWidth / Math.max(50, buttonWidth / len));
        console.log(maxSquares);
        container.x = x;
        container.y = y;
        if (buttonWidth < 100) {
            buttonWidth = 100;
        }
        if (buttonHeight < 60) {
            buttonHeight = 60;
        }
        var rectangle = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
        for (var i = 0; i < maxSquares; i++) {
            rectangle.beginFill(buttonColor[i], 1);
            rectangle.drawRect(x + lengthOfButtons, y, Math.max(50, buttonWidth / len), buttonHeight);
            rectangle.endFill();
            container.addChild(rectangle);
            lengthOfButtons += Math.max(50, buttonWidth / len);
        }
        var colorIsChanged = false;
        var children = [];
        // events
        container.on('pointertap', function () {
            colorIsChanged = !colorIsChanged;
            lengthOfButtons = 0;
            var rect = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics();
            for (var i = 0; i < maxSquares; i++) {
                var color = Math.floor(Math.random() * (16777215 + 1));
                if (colorIsChanged) {
                    rect.beginFill(color, 1);
                    rect.drawRect(x + lengthOfButtons, y, Math.max(50, buttonWidth / len), buttonHeight);
                    rect.endFill();
                    rect.zIndex = 0;
                    container.addChild(rect);
                    children.push(rect);
                    lengthOfButtons += Math.max(50, buttonWidth / len);
                }
                if (!colorIsChanged) {
                    container.removeChild(children[i]);
                    children = [];
                }
            }
        });
        container.on('mouseover', function () {
            container.filters = [new _pixi_filter_drop_shadow__WEBPACK_IMPORTED_MODULE_1__.DropShadowFilter({
                    color: 0xffffff,
                    distance: 10,
                })];
            container.transform.scale.set(1.05, 1.05);
            container.mask = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics()
                .beginFill(0xffffff)
                .drawRoundedRect(x * 2 + (x * 0.05), y * 2 + (y * 0.05), buttonWidth + (buttonWidth * 0.05), buttonHeight + (buttonHeight * 0.05), round)
                .endFill();
        });
        container.on('mouseleave', function () {
            container.filters = [];
            container.transform.scale.set(1, 1);
            container.mask = mask;
        });
        // adding mask
        var mask = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Graphics()
            .beginFill(0xffffff)
            .drawRoundedRect(x * 2, y * 2, buttonWidth, buttonHeight, round)
            .endFill();
        container.mask = mask;
        // adding text
        var text = new AddText().ceateText(title, fontFamily, fontSize, fill, container);
        text.position.set(x + (buttonWidth / 2), y + (buttonHeight / 2));
        // adding icon
        var sprite = new AddIcon().createIcon(img, container, buttonHeight);
        sprite.position.set((x + buttonWidth - (buttonHeight - 20) / 2) - (square / 2), y + ((buttonHeight - (buttonHeight - 20)) / 2));
        // returning ready to use button
        return container;
    };
    return Button;
}());
var AddText = /** @class */ (function () {
    function AddText() {
    }
    AddText.prototype.ceateText = function (title, fontFamily, fontSize, fill, container) {
        var text = new pixi_js__WEBPACK_IMPORTED_MODULE_0__.Text(title, {
            fontFamily: fontFamily,
            fontSize: fontSize,
            fill: fill,
        });
        container.addChild(text);
        text.zIndex = 1;
        text.anchor.set(0.5, 0.5);
        return text;
    };
    ;
    return AddText;
}());
var AddIcon = /** @class */ (function () {
    function AddIcon() {
    }
    AddIcon.prototype.createIcon = function (img, container, height) {
        var sprite = pixi_js__WEBPACK_IMPORTED_MODULE_0__.Sprite.from(img);
        sprite.zIndex = 1;
        sprite.height = height - 20;
        sprite.width = height - 20;
        container.addChild(sprite);
        return sprite;
    };
    return AddIcon;
}());
var button = new Button();
app.stage.addChild(button.createButton(400, 80, [
    0xFF4164,
    0xFF9F9F,
    0xFFD6B4,
    0xCECEAD,
    0x87B0A0,
], 100, 40, 20, './img/starbucks.png', 'starbucks', {
    fontFamily: 'Arial',
    fontSize: 42,
    fill: 0x000000,
}));
app.stage.addChild(button.createButton(400, 80, [
    0x8AB363,
    0xFFC410,
    0xFF8C67,
    0xECDCC3,
    0xF0EFEF,
], 100, 100, 20, './img/Instagram_logo_2016.svg.webp', 'instagram', {
    fontFamily: 'Arial',
    fontSize: 42,
    fill: 0x000fff,
}));
app.stage.addChild(button.createButton(400, 80, [
    0x0E3558,
    0x3970AA,
    0x62ABDD,
    0x83D5FF,
    0x93EFF7,
], 100, 160, 20, './img/Twitter-logo.svg.png', 'twitter', {
    fontFamily: 'Arial',
    fontSize: 42,
    fill: 0x000000,
}));
app.stage.addChild(button.createButton(400, 80, [
    0xE6B59C,
    0xFFF7CE,
    0xE6D8B5,
    0xA5ABA5,
    0xC6DDCD,
], 100, 220, 20, './img/600px-Apple-logo.png', 'apple', {
    fontFamily: 'Arial',
    fontSize: 42,
    fill: 0x000000,
}));

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBYTs7QUFFYjtBQUNBLHlCQUFzQjs7QUFFdEI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsMkVBQTJFO0FBQzNFO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIsY0FBYztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDLE1BQU07QUFDTiw0QkFBNEIsWUFBWTtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVTtBQUNWO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMENBQTBDOztBQUUxQztBQUNBOztBQUVBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBDQUEwQzs7QUFFMUM7O0FBRUEsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQ0FBMEMsU0FBUztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsK0JBQStCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1EQUFtRDs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxN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QTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixtQkFBbUI7QUFDdEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1CQUFtQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGlCQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixRQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDM3RCYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2Y4RDtBQUNoQjtBQUNBO0FBQ1k7O0FBRTFELDhEQUFtQixDQUFDLG1FQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2REFBcUIsSUFBSSw0REFBb0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGVBQWU7QUFDeEMsMEJBQTBCLGVBQWU7QUFDekM7QUFDQSx1QkFBdUIsZ0JBQWdCO0FBQ3ZDLHdCQUF3QixnQkFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGNBQWM7QUFDM0MsOEJBQThCLGNBQWM7QUFDNUM7QUFDQSwyQkFBMkIsZUFBZTtBQUMxQyw0QkFBNEIsZUFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscUJBQXFCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscUVBQTZCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0JBQXNCO0FBQ2xDLFlBQVksbURBQW1EO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixFQUFFO0FBQzFCLHVCQUF1QixFQUFFO0FBQ3pCLHlCQUF5QixVQUFVO0FBQ25DLDBCQUEwQixXQUFXO0FBQ3JDLG9CQUFvQiwwQkFBMEI7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5REFBaUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsZ0NBQWdDO0FBQzlELDZCQUE2QixnQ0FBZ0M7QUFDN0QsK0JBQStCLDBCQUEwQjtBQUN6RCxnQ0FBZ0MsMkJBQTJCO0FBQzNELFVBQVU7QUFDVjtBQUNBO0FBQ0EsOEJBQThCLGVBQWU7QUFDN0MsNkJBQTZCLGVBQWU7QUFDNUMsK0JBQStCLG1CQUFtQjtBQUNsRCxnQ0FBZ0Msb0JBQW9CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixTQUFTLGdCQUFnQixVQUFVLGtCQUFrQixhQUFhO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1Q0FBdUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixlQUFlO0FBQzFDLDRCQUE0QixlQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixtQ0FBbUMsdUJBQXVCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdCQUF3QjtBQUNwQztBQUNBLG9DQUFvQyx3REFBYyxhQUFhLFFBQVE7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLG9FQUE0QjtBQUNoQyxJQUFJLDBFQUFrQztBQUN0QztBQUNBO0FBQ0Esc0RBQWM7O0FBRWtCO0FBQ2hDOzs7Ozs7Ozs7Ozs7Ozs7O0FDbFNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEI7QUFDNUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNkMEQ7QUFDUTtBQUNsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRjJFO0FBQ2pDOztBQUUxQztBQUNBO0FBQ0EscUJBQXFCLG9EQUFTO0FBQzlCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsb0JBQW9CLDhEQUFrQjtBQUN0QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQXVCLENBQUMsaUVBQXlCOztBQUUxQjtBQUN2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4Q3VEOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixnQkFBZ0IsNEJBQTRCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlFQUF5QjtBQUNsRCxzREFBYzs7QUFFVTtBQUN4Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pFZ0Q7QUFDRTtBQUNsRDs7Ozs7Ozs7Ozs7Ozs7QUNGdUQ7O0FBRXZEO0FBQ0EsVUFBVSxnRUFBd0I7QUFDbEMsWUFBWSxtRUFBMkI7QUFDdkMsU0FBUyxpRUFBeUI7QUFDbEMsYUFBYSxxRUFBNkI7QUFDMUM7QUFDQSx5REFBaUIsQ0FBQywyREFBbUI7QUFDckM7QUFDQSxxRkFBcUYsc0RBQWMsMkJBQTJCLHVDQUF1QztBQUNySyxDQUFDO0FBQ0Q7QUFDQSx3RUFBd0UseURBQWlCO0FBQ3pGLENBQUM7QUFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZnVEO0FBQ0c7QUFDaEI7QUFDRztBQUNNO0FBQ087QUFDRjs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNERBQVE7QUFDaEMsc0JBQXNCLHNEQUFNO0FBQzVCLGlCQUFpQixtREFBSztBQUN0QixpQ0FBaUMsbUVBQWdCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxRUFBWTtBQUNwQyxxQkFBcUIsdUVBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdURBQVM7QUFDdEI7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckMsa0JBQWtCLHVEQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHVEQUFTO0FBQ2YsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1RUFBYTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1RUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sMERBQVk7QUFDbEIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQXVCLENBQUMsZ0VBQXdCLHNDQUFzQyxtRUFBMkIsd0NBQXdDLGlFQUF5QixxQ0FBcUMscUVBQTZCOztBQUVyTjtBQUMvQjs7Ozs7Ozs7Ozs7Ozs7OztBQ3JNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isa0JBQWtCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU0QjtBQUM1Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdDa0Q7QUFDdEI7QUFDK0I7O0FBRTNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLEtBQUs7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsdUVBQWE7QUFDOUI7QUFDQSxvQkFBb0IseUJBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx5QkFBeUIsK0NBQU87QUFDaEM7QUFDQTtBQUNBLG9DQUFvQyxpRUFBeUI7QUFDN0QsVUFBVSw4REFBc0I7QUFDaEM7QUFDQSxRQUFRLDBEQUFrQjtBQUMxQixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxLQUFLO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFaUI7QUFDakI7Ozs7Ozs7Ozs7Ozs7O0FDckZBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRG9DO0FBQ1A7QUFDRjtBQUMzQjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNIZ0U7O0FBRWhFO0FBQ0EsYUFBYSxpRUFBeUI7QUFDdEMsMkVBQTJFLCtDQUFPO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHNEQUFjOztBQUVlO0FBQzdCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2xCNEQ7QUFDNUQ7Ozs7Ozs7Ozs7Ozs7O0FDRDZCO0FBQzdCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0RpRTs7QUFFakU7QUFDQTtBQUNBLFVBQVUscUVBQTZCO0FBQ3ZDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0Qyx1QkFBdUIsOERBQXNCO0FBQzdDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHNEQUFjOztBQUVRO0FBQ3RCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3BCdUQ7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUVBQTZCO0FBQ3ZDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQWM7O0FBRVk7QUFDMUI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZmlFOztBQUVqRTtBQUNBO0FBQ0EsVUFBVSxxRUFBNkI7QUFDdkM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLHVCQUF1Qiw4REFBc0I7QUFDN0M7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esc0RBQWM7O0FBRVE7QUFDdEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3BCOEM7QUFDQTtBQUNRO0FBQ3REOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0htRDtBQUNyQjtBQUNIO0FBQ0E7QUFDQztBQUNFO0FBQ0U7QUFDd0I7QUFDSTtBQUNGO0FBQ2tCO0FBQ3BCO0FBQ2Q7QUFDZ0M7QUFDRDtBQUNoQjtBQUNGO0FBQzJCO0FBQ2xCO0FBQzBCO0FBQ1I7QUFDTDtBQUNaO0FBQ0E7QUFDUTtBQUN6RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6Qm1DO0FBQ1A7QUFDNkI7QUFDRTs7QUFFM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHlCQUF5QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLEtBQUs7QUFDdEM7QUFDQTtBQUNBLHNCQUFzQix5QkFBeUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUVBQVk7QUFDcEMseUJBQXlCLHVFQUFhO0FBQ3RDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxrQkFBa0IsNkRBQXFCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLDBEQUEwRCxJQUFJO0FBQzlELEVBQUUsRUFBRTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsdUVBQWE7QUFDeEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQkFBa0IsNkRBQXFCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWtCO0FBQ2xCOzs7Ozs7Ozs7Ozs7Ozs7QUMvRnFCO0FBQ1E7QUFDN0I7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEI7O0FBRUc7QUFDaEM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNSQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNENBQTRDLFVBQVU7QUFDdEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywyQkFBMkI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUZBQWlGLElBQUk7QUFDckYsdUJBQXVCLGlCQUFpQixHQUFHLG9CQUFvQjtBQUMvRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsZ0NBQWdDO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsZ0NBQWdDO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzQ0FBc0M7QUFDOUQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRXlCO0FBQ3pCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM0owRDtBQUNoQjtBQUNGO0FBQzJCO0FBQ3JDO0FBQzlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNMd0U7QUFDZDs7QUFFMUQ7QUFDQTtBQUNBLFVBQVUsZ0VBQXdCO0FBQ2xDLGNBQWMsdUVBQXdCO0FBQ3RDLEdBQUc7QUFDSDtBQUNBLFdBQVcsMERBQWtCO0FBQzdCLEdBQUc7QUFDSDtBQUNBLDJCQUEyQiw4REFBc0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBYzs7QUFFTTtBQUNwQjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcEJ3RTtBQUNkOztBQUUxRDtBQUNBO0FBQ0EsVUFBVSxnRUFBd0I7QUFDbEMsY0FBYyx1RUFBd0I7QUFDdEMsR0FBRztBQUNIO0FBQ0EsV0FBVywwREFBa0I7QUFDN0IsR0FBRztBQUNIO0FBQ0EsMkJBQTJCLDhEQUFzQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFjOztBQUVLO0FBQ25COzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwQndFO0FBQ1o7QUFDSTtBQUNOOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBEQUFrQjtBQUNoQyxlQUFlLDJEQUFtQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdFQUF3QjtBQUNsQyxjQUFjLHVFQUF3QjtBQUN0QyxHQUFHO0FBQ0g7QUFDQSxXQUFXLHFFQUFZLHlCQUF5Qix5RUFBYztBQUM5RCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdUVBQStCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0EsK0NBQStDLGVBQWU7QUFDOUQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EseURBQXlELHVFQUErQjtBQUN4RjtBQUNBO0FBQ0Esc0RBQWM7O0FBRTRCO0FBQzFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4RXdDO0FBQzBCO0FBQ3ZDO0FBQzNCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0hzRjtBQUMzQjtBQUNWO0FBQ1M7O0FBRTFEO0FBQ0E7QUFDQSxVQUFVLGdFQUF3QjtBQUNsQyxjQUFjLHdFQUF5QjtBQUN2QyxHQUFHO0FBQ0g7QUFDQSxXQUFXLDBEQUFrQjtBQUM3QixHQUFHO0FBQ0g7QUFDQSxXQUFXLHdEQUFnQjtBQUMzQixHQUFHO0FBQ0g7QUFDQSxvQkFBb0IsbURBQVc7QUFDL0IscUJBQXFCLG1EQUFXO0FBQ2hDLGtCQUFrQixnRUFBd0I7QUFDMUM7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQkFBb0IsdUVBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSwyQkFBMkIsOERBQXNCO0FBQ2pEO0FBQ0EsR0FBRztBQUNILFVBQVUsaUVBQW1CO0FBQzdCOztBQUVtQjtBQUNuQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyQ3FGO0FBQ3RCO0FBQ0k7QUFDUjtBQUNOO0FBQ0s7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOERBQXNCO0FBQy9DO0FBQ0EseURBQXlELElBQUksSUFBSSxpQkFBaUIsRUFBRSxvQkFBb0I7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdFQUF3QjtBQUNsQyxjQUFjLHdFQUF5QjtBQUN2QyxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFdBQVcscUVBQVksMEJBQTBCLHlFQUFjO0FBQy9ELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsb0ZBQW9DO0FBQ2pGLG9CQUFvQiw2RUFBNkI7QUFDakQsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EscUJBQXFCLG1EQUFXO0FBQ2hDLGtCQUFrQixnRUFBd0I7QUFDMUM7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXLHVFQUFhO0FBQ3hCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFjOztBQUUyQjtBQUN6Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0RXFDOztBQUVyQztBQUNBLHNCQUFzQiwrQ0FBTztBQUM3QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRXlCO0FBQ3pCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1hvRDtBQUNwRDs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNEbUM7QUFDd0I7QUFDa0I7QUFDcEI7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix1RUFBYTtBQUM5QjtBQUNBO0FBQ0Esb0RBQW9ELEtBQUs7QUFDekQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1CQUFtQix5RkFBc0I7QUFDekMsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBCQUEwQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDZEQUFxQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esd0JBQXdCLHFFQUFZO0FBQ3BDLGdCQUFnQix1RUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxRUFBWTtBQUNwQyxXQUFXLHVFQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0Esa0JBQWtCLDZEQUFxQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFb0I7QUFDcEI7Ozs7Ozs7Ozs7Ozs7OztBQ25NcUI7QUFDUTtBQUM3Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGNEQ7QUFDNUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNEaUU7QUFDakM7QUFDNkM7O0FBRTdFO0FBQ0EsYUFBYSxtRUFBMkI7QUFDeEMsUUFBUSx1RkFBaUI7QUFDekI7QUFDQSwyQkFBMkIsbUVBQTJCO0FBQ3REO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxzREFBYzs7QUFFZTtBQUM3Qjs7Ozs7Ozs7Ozs7Ozs7QUNmQTs7Ozs7Ozs7Ozs7Ozs7OztBQ0RBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxLQUFLO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE1BQU07QUFDdEM7O0FBRXdCO0FBQ3hCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1ptQzs7QUFFbkM7QUFDQTtBQUNBLGNBQWMsMERBQWtCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTBCO0FBQzFCOzs7Ozs7Ozs7Ozs7Ozs7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUV5QjtBQUN6Qjs7Ozs7Ozs7Ozs7Ozs7OztBQ2hCQTtBQUNBO0FBQ0Esa0JBQWtCLGVBQWU7QUFDakM7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFa0M7QUFDbEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3QmtEO0FBQ0k7QUFDRjtBQUNrQjtBQUNwQjtBQUNsRDs7Ozs7Ozs7Ozs7Ozs7OztBQ0xBOztBQUV3QjtBQUN4Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZ0U7QUFDaEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3RG1GO0FBQ3BEO0FBQ0Y7QUFDQTtBQUMrQjtBQUMwQjtBQUNKO0FBQ2xDO0FBQ0E7QUFDd0M7QUFDdEM7QUFDK0U7QUFDakk7Ozs7Ozs7Ozs7Ozs7O0FDWEE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRGlGOztBQUVqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHFFQUE2QjtBQUN2QztBQUNBLEdBQUc7QUFDSDtBQUNBLG1CQUFtQixxRUFBNkI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFnQjs7QUFFb0I7QUFDcEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3BEMEU7QUFDbEM7QUFDQTtBQUNHO0FBQ3FDO0FBQ2hGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0xnSDtBQUM3QjtBQUNyRDtBQUNxQjs7QUFFbkQ7QUFDQTtBQUNBLFVBQVUsZ0VBQXdCO0FBQ2xDLGNBQWMsbUVBQXlCO0FBQ3ZDLEdBQUc7QUFDSDtBQUNBLFdBQVcsNERBQWM7QUFDekIsR0FBRztBQUNIO0FBQ0EsMkJBQTJCLDhEQUFzQjtBQUNqRDtBQUNBLHNCQUFzQiwrREFBUTtBQUM5QjtBQUNBLHVCQUF1QixtREFBVztBQUNsQyxnQkFBZ0Isd0RBQWdCO0FBQ2hDLG1CQUFtQiwwRUFBa0M7QUFDckQsb0JBQW9CLGdFQUF3QjtBQUM1QztBQUNBLE9BQU87QUFDUCxhQUFhLDJEQUFhO0FBQzFCLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBYzs7QUFFSztBQUNuQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2Q2dIO0FBQzdCO0FBQ3JEO0FBQ3FCOztBQUVuRDtBQUNBO0FBQ0EsVUFBVSxnRUFBd0I7QUFDbEMsY0FBYyxtRUFBeUI7QUFDdkMsR0FBRztBQUNIO0FBQ0EsV0FBVyw0REFBYztBQUN6QixHQUFHO0FBQ0g7QUFDQSwyQkFBMkIsOERBQXNCO0FBQ2pEO0FBQ0EsWUFBWSxtQ0FBbUMsRUFBRSwrREFBUTtBQUN6RDtBQUNBO0FBQ0EsY0FBYyx3REFBZ0I7QUFDOUIsaUJBQWlCLDBFQUFrQztBQUNuRCxrQkFBa0IsZ0VBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsdUJBQXVCLG1EQUFXO0FBQ2xDO0FBQ0EsYUFBYSwyREFBYTtBQUMxQixLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQWM7O0FBRUs7QUFDbkI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaERpRTs7QUFFakU7QUFDQSxhQUFhLG1FQUEyQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsbUVBQTJCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtRUFBMkI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFjOztBQUV5QjtBQUN2Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hDMEM7QUFDK0U7QUFDekg7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGZ0M7QUFDb0Q7QUFDRzs7QUFFdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1CQUFtQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNGQUE4QztBQUMvRCxpQkFBaUIsc0ZBQThDO0FBQy9ELGlC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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpRUFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwyREFBaUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sOERBQW9CO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw4REFBb0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw4REFBb0I7QUFDNUI7QUFDQSxRQUFRO0FBQ1IsUUFBUSwyREFBaUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFeUI7QUFDekI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QXFCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNkVBQXFCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw2RUFBcUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNkVBQXFCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw2RUFBcUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFFBQVE7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDJEQUFtQixFQUFFLHdEQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNkI7QUFDN0I7Ozs7Ozs7Ozs7Ozs7Ozs7QUNobkJBLDJDQUEyQyw2QkFBNkIsc0JBQXNCLHVCQUF1QixzQkFBc0Isa0RBQWtELDRCQUE0QiwyQkFBMkIsaUJBQWlCLE9BQU8sd0dBQXdHLHFCQUFxQixPQUFPLG9CQUFvQixnQ0FBZ0MsbUNBQW1DLG1DQUFtQyxtQ0FBbUMsMkJBQTJCLGdDQUFnQyxtQ0FBbUMsbUNBQW1DLG1DQUFtQywyQkFBMkIsaUNBQWlDLG1DQUFtQyxtQ0FBbUMsbUNBQW1DLDJCQUEyQixpQ0FBaUMsbUNBQW1DLG1DQUFtQyxtQ0FBbUMsMkJBQTJCLGtEQUFrRCx5REFBeUQsMkNBQTJDLEdBQUc7O0FBRWhyQztBQUMvQjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNINEQ7QUFDNUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNEbUQ7QUFDVDtBQUNEOztBQUV6QyxpQ0FBaUMsOENBQU07QUFDdkM7QUFDQSwyQkFBMkIsOENBQU07QUFDakM7QUFDQSxVQUFVLDBEQUFNLEVBQUUseURBQVE7QUFDMUI7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZDQUFLO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRThCO0FBQzlCOzs7Ozs7Ozs7Ozs7Ozs7O0FDN0NBLDBDQUEwQyw2QkFBNkIsdUJBQXVCLHdCQUF3Qiw2QkFBNkIsK0JBQStCLGlDQUFpQywwQkFBMEIsc0JBQXNCLG9EQUFvRCxpQkFBaUIsd0RBQXdELHNJQUFzSSxHQUFHOztBQUUxZTtBQUMvQjs7Ozs7Ozs7Ozs7Ozs7OztBQ0hBLDZDQUE2QyxrQ0FBa0MsNEJBQTRCLCtCQUErQiw0QkFBNEIsMkJBQTJCLDJCQUEyQix3Q0FBd0MsdUZBQXVGLDJFQUEyRSxHQUFHLHNDQUFzQywrREFBK0QsR0FBRyxzQkFBc0IseUNBQXlDLHlDQUF5QyxvRUFBb0UsR0FBRzs7QUFFbnFCO0FBQzdCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0g4RDtBQUM5RDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBdUo7QUFDdko7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDLDRKQUE0SixrREFBa0QsbUJBQW1CLHFCQUFxQiwyQkFBMkIsZ0RBQWdELFVBQVUsc0JBQXNCLDhDQUFDLENBQUMsZUFBZSx3REFBd0Qsa0VBQW1CLENBQUMsZ0JBQWdCLDRCQUE0QixvREFBb0QsR0FBRyxxQkFBcUIsOENBQUMsOEZBQThGLDZDQUFDLHNEQUFzRCxzRUFBQyxRQUFRLHNFQUFDLHlDQUF5QyxNQUFNLG1EQUFtRCxHQUFHLGtHQUFrRyxlQUFlLDZCQUE2Qix5SUFBeUksaUJBQWlCLHVDQUF1QyxlQUFlLDJHQUEyRyxpQkFBaUIsd0JBQXdCLGtCQUFrQix1SEFBdUgsZUFBZSxzQkFBc0IsZ0JBQWdCLDJEQUEyRCxlQUFlLGtCQUFrQixrREFBQyxDQUFDLGdCQUFnQixhQUFhLGtEQUFDLHFCQUFxQixZQUFZLHVDQUF1QyxhQUFhLGtDQUFrQyxZQUFZLE9BQU8scURBQVMsa0NBQWtDLGFBQWEscURBQVMsb0NBQW9DLGNBQWMsZ0NBQWdDLGVBQWUsMkJBQTJCLFdBQVcsNkJBQTZCLFlBQVksOENBQThDLGNBQWMsZ0NBQWdDLGVBQWUsMkJBQTJCLGdCQUFnQixrQ0FBa0MsaUJBQWlCLCtCQUErQixRQUFRLFlBQVksMkdBQTJHLGtFQUFtQixFQUFnQztBQUM3M0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwQ29DO0FBQ0o7QUFDRzs7QUFFbkMseUJBQXlCLDhDQUFNO0FBQy9CO0FBQ0EsVUFBVSxpREFBTSxFQUFFLGtEQUFRO0FBQzFCO0FBQ0E7O0FBRXNCO0FBQ3RCOzs7Ozs7Ozs7Ozs7Ozs7O0FDWEEsK0NBQStDLGtDQUFrQyx5QkFBeUIsdUJBQXVCLHVCQUF1Qix1QkFBdUIsc0JBQXNCLDRCQUE0QiwyQkFBMkIsMkJBQTJCLHdDQUF3Qyx1RkFBdUYsMkVBQTJFLEdBQUcsNkxBQTZMLDJEQUEyRCwwREFBMEQsMERBQTBELHlEQUF5RCwyQ0FBMkMsR0FBRyxxQkFBcUIsNENBQTRDLHFEQUFxRCx1RkFBdUYsR0FBRzs7QUFFMW1DO0FBQzdCOzs7Ozs7Ozs7Ozs7Ozs7O0FDSEEscUNBQXFDLHVCQUF1Qix1QkFBdUIsdUJBQXVCLHNCQUFzQiw0QkFBNEIsNkJBQTZCLCtCQUErQixpNkNBQWk2QyxpQ0FBaUMsd3RCQUF3dEIsaUJBQWlCLCtDQUErQywrQ0FBK0MsK0NBQStDLCtDQUErQyw2Q0FBNkMsZ0NBQWdDLDRDQUE0QyxzQ0FBc0Msc0NBQXNDLHNDQUFzQyxzQ0FBc0Msc0NBQXNDLGdGQUFnRixnRkFBZ0YseUJBQXlCLHVEQUF1RCx1REFBdUQsMElBQTBJLDBFQUEwRSw4SkFBOEosdU5BQXVOLG9PQUFvTyxzQ0FBc0MsMEZBQTBGLG1EQUFtRCxtQkFBbUIsR0FBRyxpQkFBaUIscUJBQXFCLHVHQUF1RywrQkFBK0IsR0FBRzs7QUFFbnlJO0FBQy9COzs7Ozs7Ozs7Ozs7Ozs7OztBQ0g4QztBQUM5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFrRDtBQUNsRDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUUsZ0JBQWdCLDhDQUFDLENBQUMsMEJBQTBCLDJIQUEySCw2Q0FBQyw4RkFBOEYsZUFBZSw2RUFBNkUsTUFBTSwrSUFBK0ksS0FBSyw2QkFBNkIsY0FBYyx3QkFBd0IsWUFBWSxJQUFJLDBIQUEwSCxvSUFBb0ksaUJBQWlCLDhEQUE4RCxtQkFBbUIseUNBQXlDLFFBQVEsUUFBUSxZQUFZLFlBQVksSUFBSSxtQkFBbUIsc0NBQXNDLGNBQWMscUJBQXFCLGVBQWUsb0lBQW9JLFlBQVksbUJBQW1CLGlCQUFpQiwySUFBMkksNkNBQUMseUZBQXlGLGdCQUFnQix1QkFBdUIsY0FBYyxxQkFBcUIsZUFBZSxnRUFBZ0UsV0FBVyxrQkFBa0IsWUFBWSxzQ0FBb0U7QUFDaHhEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4RXlEO0FBQ3RCOztBQUVuQywwQkFBMEIsOENBQU07QUFDaEM7QUFDQSxVQUFVLDJEQUFtQixFQUFFLGtEQUFRO0FBQ3ZDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXVCO0FBQ3ZCOzs7Ozs7Ozs7Ozs7Ozs7OztBQzNCZ0Q7QUFDaEQ7Ozs7Ozs7Ozs7Ozs7Ozs7QUNEQSxzQ0FBc0MsK0JBQStCLHNCQUFzQix5QkFBeUIsc0JBQXNCLDZCQUE2QiwwQkFBMEIsd0VBQXdFLEdBQUcsa0JBQWtCLHNEQUFzRCx3REFBd0QsZ0RBQWdELDRHQUE0RywrQkFBK0IsT0FBTyx3QkFBd0Isc0JBQXNCLHNCQUFzQiw4REFBOEQsNkJBQTZCLEdBQUc7O0FBRWp0QjtBQUMvQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNIMEs7QUFDL0k7QUFDK0I7QUFDUDtBQUNBO0FBQ1Q7QUFDUTtBQUNVO0FBQ047QUFDTjs7QUFFaEQ7QUFDQTtBQUNBLGdDQUFnQyxvREFBUztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNERBQVM7QUFDbkMsMEJBQTBCLDREQUFTO0FBQ25DO0FBQ0E7QUFDQSxpQkFBaUIsbURBQVc7QUFDNUIscUNBQXFDLG1FQUFnQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMERBQWtCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscURBQWE7QUFDeEIsWUFBWSx1REFBZTtBQUMzQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsU0FBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsK0NBQU87QUFDdEM7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLDZCQUE2QiwrQ0FBTztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDZFQUFzQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksdUVBQW1CO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUVBQWdCO0FBQ25DO0FBQ0EsY0FBYywrREFBK0Q7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDRDQUFJO0FBQ3RCLE1BQU07QUFDTixvQkFBb0IsNENBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJLDZEQUFZO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxTQUFTLHFEQUFhLGdCQUFnQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFEQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsU0FBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaURBQVM7QUFDdkM7QUFDQTtBQUNBLDhCQUE4Qix3REFBZ0I7QUFDOUM7QUFDQTtBQUNBLDhCQUE4Qiw4Q0FBTTtBQUNwQztBQUNBO0FBQ0EsOEJBQThCLCtDQUFPO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLHNCQUFzQiwrQ0FBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxtREFBVztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFEQUFhO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsT0FBTztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOEJBQThCO0FBQzFDO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBLHdCQUF3QixrQkFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOENBQU07QUFDdkMsbUJBQW1CLHlEQUFpQixHQUFHLHlCQUF5QjtBQUNoRTtBQUNBO0FBQ0EsMENBQTBDLDhDQUFNO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlCQUF5QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscURBQWE7QUFDbkMsc0JBQXNCLHlCQUF5QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNkNBQUs7O0FBRVo7QUFDcEI7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFd0I7QUFDeEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekI4RTtBQUNrRDtBQUM5RTtBQUNYO0FBQ1c7QUFDQTtBQUNBOztBQUVsRCxxQkFBcUIsNkNBQUs7QUFDMUIsd0NBQXdDLHFEQUFhO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaURBQU07QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyQkFBMkI7QUFDL0M7QUFDQSxNQUFNLGlFQUFtQjtBQUN6QjtBQUNBO0FBQ0Esb0JBQW9CLHlCQUF5QjtBQUM3QztBQUNBO0FBQ0EsTUFBTSw2REFBZTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMkRBQVk7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwyREFBWTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhCQUE4QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5QkFBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix3QkFBd0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx5QkFBeUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQWE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsT0FBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IseURBQWlCO0FBQ2hEO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNERBQWMsVUFBVSwyREFBUztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELE9BQU87QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxPQUFPO0FBQy9DO0FBQ0Esc0JBQXNCLGdCQUFnQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0VBQXdCO0FBQ3pDLG9CQUFvQiwyQkFBMkI7QUFDL0M7QUFDQSxNQUFNLGlFQUFtQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnRUFBa0I7QUFDekM7QUFDQSx5QkFBeUIscURBQWE7QUFDdEMsa0NBQWtDLHlEQUFpQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0REFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNERBQW9CO0FBQ3ZDO0FBQ0E7QUFDQSxvQkFBb0IseUJBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix3REFBZ0IsR0FBRyw0REFBb0I7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnRUFBa0I7QUFDL0M7QUFDQSxtQ0FBbUMscURBQWE7QUFDaEQsNENBQTRDLHlEQUFpQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUFpQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0VBQXdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdUVBQXFCO0FBQzNCLE1BQU07QUFDTixzQkFBc0IsMkRBQWE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLCtEQUFTO0FBQ2Isb0JBQW9CLHVCQUF1QjtBQUMzQyxNQUFNLCtEQUFTO0FBQ2Y7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBLHNCQUFzQiwyREFBYTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw2REFBcUI7QUFDdEM7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsWUFBWTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTRCO0FBQzVCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0ZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsaUJBQWlCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdCQUFnQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnRDtBQUNoRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pDbUU7QUFDaEI7QUFDVDtBQUNRO0FBQ1E7QUFDUDtBQUMyQjtBQUM1QjtBQUNJO0FBQ007QUFDYztBQUN4QjtBQUNGO0FBQ007QUFDTTtBQUNWOztBQUVsRDtBQUNBLFdBQVc7QUFDWCxhQUFhO0FBQ2IsZ0JBQWdCO0FBQ2hCLHVCQUF1QjtBQUN2QixXQUFXO0FBQ1gsVUFBVTtBQUNWLGFBQWE7QUFDYixnQkFBZ0I7QUFDaEIsV0FBVztBQUNYLGVBQWU7QUFDZixZQUFZO0FBQ1osZ0JBQWdCO0FBQ2hCOztBQUV5QjtBQUN6Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqQ3FDOztBQUVyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxREFBYTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxREFBYTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxQjtBQUNyQjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbEM0QztBQUNPOztBQUVuRCx3QkFBd0IscURBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQWE7QUFDNUIsZ0JBQWdCLHVEQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxQjtBQUNyQjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEMrQztBQUNiOztBQUVsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzRUFBOEIsdURBQXVELDRDQUFJO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9CO0FBQ3BCOzs7Ozs7Ozs7Ozs7Ozs7O0FDOURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxQjtBQUNyQjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4QitDOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNFQUE4QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsUUFBUTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFdUI7QUFDdkI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM0QrQzs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNFQUE4QjtBQUM1QztBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTBCO0FBQzFCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2xDb0M7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtREFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrQkFBK0IsbURBQVc7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtREFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV1QjtBQUN2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0kyQztBQUN5Qjs7QUFFcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxjQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLHdDQUF3QyxjQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZDQUFLO0FBQzlCLHdCQUF3Qiw2Q0FBSztBQUM3QixxQ0FBcUMsbURBQVc7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFjO0FBQ3BDO0FBQ0EsTUFBTSx1QkFBdUIsdURBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsdURBQWU7QUFDMUM7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVEQUFlO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3QkFBd0IsdURBQWU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLHlCQUF5Qix1REFBZTtBQUN4QztBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRLHdCQUF3Qix1REFBZTtBQUMvQztBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFjO0FBQ3BDO0FBQ0EsTUFBTSx1QkFBdUIsdURBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtEQUF1QixHQUFHLCtEQUF1QjtBQUNoRSwyQkFBMkIsaUNBQWlDO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLG1EQUFXO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRXFCO0FBQ3JCOzs7Ozs7Ozs7Ozs7Ozs7OztBQzFTbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxPQUFPO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixrQkFBa0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvREFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzQkFBc0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUJBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXFCO0FBQ3JCOzs7Ozs7Ozs7Ozs7Ozs7O0FDL0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTBCO0FBQzFCOzs7Ozs7Ozs7Ozs7Ozs7OztBQzNCZ0Q7O0FBRWhEO0FBQ0E7QUFDQSxJQUFJLCtEQUFpQjtBQUNyQixHQUFHO0FBQ0g7QUFDQSxJQUFJLHFFQUF1QjtBQUMzQjtBQUNBOztBQUVpQztBQUNqQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1o0QztBQUNBO0FBQ0k7QUFDQTtBQUNNO0FBQ0E7QUFDYztBQUNBO0FBQ3hCO0FBQ0Y7QUFDTTtBQUNNO0FBQ1Y7QUFDUjs7QUFFcEM7QUFDQSxHQUFHLG1EQUFXLEdBQUcscURBQVM7QUFDMUIsR0FBRyxtREFBVyxHQUFHLHlEQUFXO0FBQzVCLEdBQUcsbURBQVcsR0FBRyx5REFBVztBQUM1QixHQUFHLG1EQUFXLEdBQUcsK0RBQWM7QUFDL0IsR0FBRyxtREFBVyxHQUFHLDZFQUFxQjtBQUN0QztBQUNBO0FBQ0E7O0FBRXFEO0FBQ3JEOzs7Ozs7Ozs7Ozs7OztBQ3pCQTs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRG9DO0FBQ0Q7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw2Q0FBSztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw2Q0FBSztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDRDQUFJO0FBQ3JDO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7OztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFMEI7QUFDMUI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbkJ5QztBQUN6Qzs7Ozs7Ozs7Ozs7Ozs7OztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrQjtBQUMvQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5SDBDO0FBQ007QUFDRDtBQUN4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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNqQixDQUNKLENBQUMsQ0FBQztBQUVILEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQ2xDLEdBQUcsRUFDSCxFQUFFLEVBQ0Y7SUFDSSxRQUFRO0lBQ1IsUUFBUTtJQUNSLFFBQVE7SUFDUixRQUFRO0lBQ1IsUUFBUTtDQUNYLEVBQ0QsR0FBRyxFQUNILEdBQUcsRUFDSCxFQUFFLEVBQ0YsNEJBQTRCLEVBQzVCLE9BQU8sRUFDUDtJQUNJLFVBQVUsRUFBRSxPQUFPO0lBQ25CLFFBQVEsRUFBRSxFQUFFO0lBQ1osSUFBSSxFQUFFLFFBQVE7Q0FDakIsQ0FDSixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL2VhcmN1dC9zcmMvZWFyY3V0LmpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2RlY29kZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2VuY29kZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2luZGV4LmpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvdXJsL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2FjY2Vzc2liaWxpdHkvbGliL0FjY2Vzc2liaWxpdHlNYW5hZ2VyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2FjY2Vzc2liaWxpdHkvbGliL2FjY2Vzc2libGVUYXJnZXQubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYWNjZXNzaWJpbGl0eS9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXBwL2xpYi9BcHBsaWNhdGlvbi5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hcHAvbGliL1Jlc2l6ZVBsdWdpbi5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hcHAvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvQXNzZXRFeHRlbnNpb24ubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9Bc3NldHMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9CYWNrZ3JvdW5kTG9hZGVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvY2FjaGUvQ2FjaGUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9jYWNoZS9DYWNoZVBhcnNlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2NhY2hlL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvY2FjaGUvcGFyc2Vycy9jYWNoZVRleHR1cmVBcnJheS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2NhY2hlL3BhcnNlcnMvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9kZXRlY3Rpb25zL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvZGV0ZWN0aW9ucy9wYXJzZXJzL2RldGVjdEF2aWYubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9kZXRlY3Rpb25zL3BhcnNlcnMvZGV0ZWN0RGVmYXVsdHMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9kZXRlY3Rpb25zL3BhcnNlcnMvZGV0ZWN0V2VicC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2RldGVjdGlvbnMvcGFyc2Vycy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvbG9hZGVyL0xvYWRlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2xvYWRlci9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2xvYWRlci9wYXJzZXJzL0xvYWRlclBhcnNlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2xvYWRlci9wYXJzZXJzL1dvcmtlck1hbmFnZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9sb2FkZXIvcGFyc2Vycy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2xvYWRlci9wYXJzZXJzL2xvYWRKc29uLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvbG9hZGVyL3BhcnNlcnMvbG9hZFR4dC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL2xvYWRlci9wYXJzZXJzL2xvYWRXZWJGb250Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvbG9hZGVyL3BhcnNlcnMvdGV4dHVyZXMvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9sb2FkZXIvcGFyc2Vycy90ZXh0dXJlcy9sb2FkU1ZHLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvbG9hZGVyL3BhcnNlcnMvdGV4dHVyZXMvbG9hZFRleHR1cmUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9sb2FkZXIvcGFyc2Vycy90ZXh0dXJlcy91dGlscy9jcmVhdGVUZXh0dXJlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvbG9hZGVyL3BhcnNlcnMvdGV4dHVyZXMvdXRpbHMvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9sb2FkZXIvdHlwZXMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9yZXNvbHZlci9SZXNvbHZlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL3Jlc29sdmVyL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvcmVzb2x2ZXIvcGFyc2Vycy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL3Jlc29sdmVyL3BhcnNlcnMvcmVzb2x2ZVRleHR1cmVVcmwubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi9yZXNvbHZlci90eXBlcy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL3V0aWxzL2NoZWNrRGF0YVVybC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL3V0aWxzL2NoZWNrRXh0ZW5zaW9uLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Fzc2V0cy9saWIvdXRpbHMvY29udmVydFRvTGlzdC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL3V0aWxzL2NyZWF0ZVN0cmluZ1ZhcmlhdGlvbnMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2xpYi91dGlscy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9hc3NldHMvbGliL3V0aWxzL2lzU2luZ2xlSXRlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9jb25zdC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9sb2FkZXJzL2NvbXByZXNzZWRUZXh0dXJlRXh0ZW5zaW9ucy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9sb2FkZXJzL2RldGVjdENvbXByZXNzZWRUZXh0dXJlcy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9sb2FkZXJzL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMvbGliL2xvYWRlcnMvbG9hZEREUy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9sb2FkZXJzL2xvYWRLVFgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvbG9hZGVycy9yZXNvbHZlQ29tcHJlc3NlZFRleHR1cmVVcmwubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvcGFyc2Vycy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9wYXJzZXJzL3BhcnNlRERTLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMvbGliL3BhcnNlcnMvcGFyc2VLVFgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcy9saWIvcmVzb3VyY2VzL0Jsb2JSZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9yZXNvdXJjZXMvQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzL2xpYi9yZXNvdXJjZXMvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29uc3RhbnRzL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9JUmVuZGVyZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvUmVuZGVyZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvYXV0b0RldGVjdFJlbmRlcmVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2JhY2tncm91bmQvQmFja2dyb3VuZFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC9CYXRjaERyYXdDYWxsLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2JhdGNoL0JhdGNoR2VvbWV0cnkubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvYmF0Y2gvQmF0Y2hSZW5kZXJlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC9CYXRjaFNoYWRlckdlbmVyYXRvci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC9CYXRjaFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC9CYXRjaFRleHR1cmVBcnJheS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC9PYmplY3RSZW5kZXJlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9iYXRjaC90ZXh0dXJlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2JhdGNoL3RleHR1cmUyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2NvbnRleHQvQ29udGV4dFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9maWx0ZXJzL0ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9maWx0ZXJzL0ZpbHRlclN0YXRlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2ZpbHRlcnMvRmlsdGVyU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2ZpbHRlcnMvSUZpbHRlclRhcmdldC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9maWx0ZXJzL2RlZmF1bHRGaWx0ZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZmlsdGVycy9kZWZhdWx0RmlsdGVyMi5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9maWx0ZXJzL3Nwcml0ZU1hc2svc3ByaXRlTWFza0ZpbHRlcjIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZmlsdGVycy9zcHJpdGVNYXNrL3Nwcml0ZU1hc2tGaWx0ZXIzLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2ZyYWdtZW50cy9kZWZhdWx0Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2ZyYWdtZW50cy9kZWZhdWx0RmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2ZyYWdtZW50cy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9mcmFtZWJ1ZmZlci9GcmFtZWJ1ZmZlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9mcmFtZWJ1ZmZlci9GcmFtZWJ1ZmZlclN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9mcmFtZWJ1ZmZlci9HTEZyYW1lYnVmZmVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2ZyYW1lYnVmZmVyL011bHRpc2FtcGxlU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2dlb21ldHJ5L0F0dHJpYnV0ZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9nZW9tZXRyeS9CdWZmZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvZ2VvbWV0cnkvQnVmZmVyU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2dlb21ldHJ5L0dMQnVmZmVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2dlb21ldHJ5L0dlb21ldHJ5Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2dlb21ldHJ5L0dlb21ldHJ5U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2dlb21ldHJ5L1ZpZXdhYmxlQnVmZmVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL2dlb21ldHJ5L3V0aWxzL2ludGVybGVhdmVUeXBlZEFycmF5cy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9tYXNrL0Fic3RyYWN0TWFza1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9tYXNrL01hc2tEYXRhLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL21hc2svTWFza1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9tYXNrL1NjaXNzb3JTeXN0ZW0ubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvbWFzay9TdGVuY2lsU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3BsdWdpbi9QbHVnaW5TeXN0ZW0ubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvcHJvamVjdGlvbi9Qcm9qZWN0aW9uU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3JlbmRlclRleHR1cmUvQmFzZVJlbmRlclRleHR1cmUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvcmVuZGVyVGV4dHVyZS9HZW5lcmF0ZVRleHR1cmVTeXN0ZW0ubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZVBvb2wubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3JlbmRlci9PYmplY3RSZW5kZXJlclN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zZXR0aW5ncy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvR0xQcm9ncmFtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci9Qcm9ncmFtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci9TaGFkZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL1NoYWRlclN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvVW5pZm9ybUdyb3VwLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci9kZWZhdWx0UHJvZ3JhbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvZGVmYXVsdFByb2dyYW0yLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9jaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9jb21waWxlU2hhZGVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9kZWZhdWx0VmFsdWUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL2dlbmVyYXRlUHJvZ3JhbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvdXRpbHMvZ2VuZXJhdGVVbmlmb3JtQnVmZmVyU3luYy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvdXRpbHMvZ2VuZXJhdGVVbmlmb3Jtc1N5bmMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL2dldEF0dHJpYnV0ZURhdGEubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL2dldE1heEZyYWdtZW50UHJlY2lzaW9uLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9nZXRUZXN0Q29udGV4dC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvdXRpbHMvZ2V0VW5pZm9ybURhdGEubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3NoYWRlci91dGlscy9sb2dQcm9ncmFtRXJyb3IubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL21hcFNpemUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL21hcFR5cGUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL3NldFByZWNpc2lvbi5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zaGFkZXIvdXRpbHMvdW5pZm9ybVBhcnNlcnMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc2hhZGVyL3V0aWxzL3Vuc2FmZUV2YWxTdXBwb3J0ZWQubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvc3RhcnR1cC9TdGFydHVwU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3N0YXRlL1N0YXRlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3N0YXRlL1N0YXRlU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3N0YXRlL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zeXN0ZW0vSVN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zeXN0ZW0vU3lzdGVtTWFuYWdlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9zeXN0ZW1zLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL0Jhc2VUZXh0dXJlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL0dMVGV4dHVyZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9UZXh0dXJlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL1RleHR1cmVHQ1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9UZXh0dXJlTWF0cml4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL1RleHR1cmVTeXN0ZW0ubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvVGV4dHVyZVV2cy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9yZXNvdXJjZXMvQWJzdHJhY3RNdWx0aVJlc291cmNlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9BcnJheVJlc291cmNlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9CYXNlSW1hZ2VSZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9yZXNvdXJjZXMvQnVmZmVyUmVzb3VyY2UubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvcmVzb3VyY2VzL0NhbnZhc1Jlc291cmNlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9DdWJlUmVzb3VyY2UubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvcmVzb3VyY2VzL0RlcHRoUmVzb3VyY2UubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvcmVzb3VyY2VzL0ltYWdlQml0bWFwUmVzb3VyY2UubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvcmVzb3VyY2VzL0ltYWdlUmVzb3VyY2UubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvdGV4dHVyZXMvcmVzb3VyY2VzL1Jlc291cmNlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9TVkdSZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9yZXNvdXJjZXMvVmlkZW9SZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy9yZXNvdXJjZXMvYXV0b0RldGVjdFJlc291cmNlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3RleHR1cmVzL3Jlc291cmNlcy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90ZXh0dXJlcy91dGlscy9tYXBUeXBlQW5kRm9ybWF0VG9JbnRlcm5hbEZvcm1hdC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90cmFuc2Zvcm1GZWVkYmFjay9UcmFuc2Zvcm1GZWVkYmFjay5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi90cmFuc2Zvcm1GZWVkYmFjay9UcmFuc2Zvcm1GZWVkYmFja1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi91dGlscy9RdWFkLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvcmUvbGliL3V0aWxzL1F1YWRVdi5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi92aWV3L1ZpZXdTeXN0ZW0ubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZGlzcGxheS9saWIvQm91bmRzLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Rpc3BsYXkvbGliL0NvbnRhaW5lci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9kaXNwbGF5L2xpYi9EaXNwbGF5T2JqZWN0Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Rpc3BsYXkvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2Rpc3BsYXkvbGliL3NldHRpbmdzLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2V2ZW50cy9saWIvRXZlbnRCb3VuZGFyeS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ldmVudHMvbGliL0V2ZW50U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2V2ZW50cy9saWIvRmVkZXJhdGVkRXZlbnQubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXZlbnRzL2xpYi9GZWRlcmF0ZWRFdmVudE1hcC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ldmVudHMvbGliL0ZlZGVyYXRlZEV2ZW50VGFyZ2V0Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2V2ZW50cy9saWIvRmVkZXJhdGVkTW91c2VFdmVudC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ldmVudHMvbGliL0ZlZGVyYXRlZFBvaW50ZXJFdmVudC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ldmVudHMvbGliL0ZlZGVyYXRlZFdoZWVsRXZlbnQubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZXZlbnRzL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9leHRlbnNpb25zL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9leHRyYWN0L2xpYi9FeHRyYWN0Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2V4dHJhY3QvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1hbHBoYS9saWIvQWxwaGFGaWx0ZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWFscGhhL2xpYi9hbHBoYS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYWxwaGEvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ibHVyL2xpYi9CbHVyRmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ibHVyL2xpYi9CbHVyRmlsdGVyUGFzcy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYmx1ci9saWIvZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYmx1ci9saWIvZ2VuZXJhdGVCbHVyVmVydFNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYmx1ci9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeC9saWIvQ29sb3JNYXRyaXhGaWx0ZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeC9saWIvY29sb3JNYXRyaXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudC9saWIvRGlzcGxhY2VtZW50RmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQvbGliL2Rpc3BsYWNlbWVudC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50L2xpYi9kaXNwbGFjZW1lbnQyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1kcm9wLXNoYWRvdy9kaXN0L2ZpbHRlci1kcm9wLXNoYWRvdy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZnhhYS9saWIvRlhBQUZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZnhhYS9saWIvZnhhYS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZnhhYS9saWIvZnhhYTIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWZ4YWEvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1rYXdhc2UtYmx1ci9kaXN0L2ZpbHRlci1rYXdhc2UtYmx1ci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItbm9pc2UvbGliL05vaXNlRmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ub2lzZS9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLW5vaXNlL2xpYi9ub2lzZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvR3JhcGhpY3MubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL0dyYXBoaWNzRGF0YS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvR3JhcGhpY3NHZW9tZXRyeS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvY29uc3QubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi9zdHlsZXMvRmlsbFN0eWxlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi9zdHlsZXMvTGluZVN0eWxlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi91dGlscy9BcmNVdGlscy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvdXRpbHMvQmF0Y2hQYXJ0Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi91dGlscy9CZXppZXJVdGlscy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvdXRpbHMvUXVhZHJhdGljVXRpbHMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL3V0aWxzL2J1aWxkQ2lyY2xlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi91dGlscy9idWlsZExpbmUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL3V0aWxzL2J1aWxkUG9seS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvdXRpbHMvYnVpbGRSZWN0YW5nbGUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvZ3JhcGhpY3MvbGliL3V0aWxzL2J1aWxkUm91bmRlZFJlY3RhbmdsZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvdXRpbHMvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvSVBvaW50Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL0lQb2ludERhdGEubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvTWF0cml4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL09ic2VydmFibGVQb2ludC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9Qb2ludC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9UcmFuc2Zvcm0ubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvY29uc3QubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvZ3JvdXBEOC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9zaGFwZXMvQ2lyY2xlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL3NoYXBlcy9FbGxpcHNlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL3NoYXBlcy9Qb2x5Z29uLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL3NoYXBlcy9SZWN0YW5nbGUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvc2hhcGVzL1JvdW5kZWRSZWN0YW5nbGUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC1leHRyYXMvbGliL05pbmVTbGljZVBsYW5lLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gtZXh0cmFzL2xpYi9TaW1wbGVNZXNoLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gtZXh0cmFzL2xpYi9TaW1wbGVQbGFuZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoLWV4dHJhcy9saWIvU2ltcGxlUm9wZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoLWV4dHJhcy9saWIvZ2VvbWV0cnkvUGxhbmVHZW9tZXRyeS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoLWV4dHJhcy9saWIvZ2VvbWV0cnkvUm9wZUdlb21ldHJ5Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gtZXh0cmFzL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoL2xpYi9NZXNoLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL01lc2hCYXRjaFV2cy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoL2xpYi9NZXNoR2VvbWV0cnkubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC9saWIvTWVzaE1hdGVyaWFsLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL3NoYWRlci9tZXNoLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL3NoYWRlci9tZXNoMi5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9wYXJ0aWNsZS1jb250YWluZXIvbGliL1BhcnRpY2xlQnVmZmVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlLWNvbnRhaW5lci9saWIvUGFydGljbGVDb250YWluZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvcGFydGljbGUtY29udGFpbmVyL2xpYi9QYXJ0aWNsZVJlbmRlcmVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlLWNvbnRhaW5lci9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvcGFydGljbGUtY29udGFpbmVyL2xpYi9wYXJ0aWNsZXMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvcGFydGljbGUtY29udGFpbmVyL2xpYi9wYXJ0aWNsZXMyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3ByZXBhcmUvbGliL0Jhc2VQcmVwYXJlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3ByZXBhcmUvbGliL0NvdW50TGltaXRlci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2xpYi9QcmVwYXJlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3ByZXBhcmUvbGliL1RpbWVMaW1pdGVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3ByZXBhcmUvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3ByZXBhcmUvbGliL3NldHRpbmdzLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3J1bm5lci9saWIvUnVubmVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3J1bm5lci9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc2V0dGluZ3MvbGliL0lDYW52YXMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc2V0dGluZ3MvbGliL0lDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc2V0dGluZ3MvbGliL2FkYXB0ZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc2V0dGluZ3MvbGliL2V4dGVybmFsL2lzbW9iaWxlanMvZXNtL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2xpYi9leHRlcm5hbC9pc21vYmlsZWpzL2VzbS9pc01vYmlsZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9zZXR0aW5ncy9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc2V0dGluZ3MvbGliL3NldHRpbmdzLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2xpYi91dGlscy9jYW5VcGxvYWRTYW1lQnVmZmVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2xpYi91dGlscy9pc01vYmlsZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9zZXR0aW5ncy9saWIvdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlcy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtYW5pbWF0ZWQvbGliL0FuaW1hdGVkU3ByaXRlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS1hbmltYXRlZC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLXRpbGluZy9saWIvVGlsaW5nU3ByaXRlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL1RpbGluZ1Nwcml0ZVJlbmRlcmVyLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL3Nwcml0ZS10aWxpbmctZmFsbGJhY2subWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLXRpbGluZy9saWIvc3ByaXRlLXRpbGluZy1mYWxsYmFjazIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLXRpbGluZy9saWIvc3ByaXRlLXRpbGluZy1zaW1wbGUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLXRpbGluZy9saWIvc3ByaXRlLXRpbGluZy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtdGlsaW5nL2xpYi9zcHJpdGUtdGlsaW5nMi5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUvbGliL1Nwcml0ZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUvbGliL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZXNoZWV0L2xpYi9TcHJpdGVzaGVldC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGVzaGVldC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlc2hlZXQvbGliL3Nwcml0ZXNoZWV0QXNzZXQubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL0JpdG1hcEZvbnQubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL0JpdG1hcEZvbnREYXRhLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi9CaXRtYXBUZXh0Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi9CaXRtYXBUZXh0U3R5bGUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL2Zvcm1hdHMvVGV4dEZvcm1hdC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvZm9ybWF0cy9YTUxGb3JtYXQubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL2Zvcm1hdHMvWE1MU3RyaW5nRm9ybWF0Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi9mb3JtYXRzL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvbG9hZEJpdG1hcEZvbnQubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL3NoYWRlci9tc2RmLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi9zaGFkZXIvbXNkZjIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL3V0aWxzL2RyYXdHbHlwaC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvdXRpbHMvZXh0cmFjdENoYXJDb2RlLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi91dGlscy9nZW5lcmF0ZUZpbGxTdHlsZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvdXRpbHMvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL3V0aWxzL3Jlc29sdmVDaGFyYWN0ZXJzLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi91dGlscy9zcGxpdFRleHRUb0NoYXJhY3RlcnMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC9saWIvVGV4dC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2xpYi9UZXh0TWV0cmljcy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2xpYi9UZXh0U3R5bGUubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC9saWIvY29uc3QubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGlja2VyL2xpYi9UaWNrZXIubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGlja2VyL2xpYi9UaWNrZXJMaXN0ZW5lci5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL1RpY2tlclBsdWdpbi5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL2NvbnN0Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3RpY2tlci9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGlja2VyL2xpYi9zZXR0aW5ncy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvYnJvd3Nlci9oZWxsby5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvYnJvd3Nlci9pc1dlYkdMU3VwcG9ydGVkLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9jb2xvci9oZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2NvbG9yL3ByZW11bHRpcGx5Lm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9jb25zdC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvZGF0YS9jcmVhdGVJbmRpY2VzRm9yUXVhZHMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2RhdGEvZ2V0QnVmZmVyVHlwZS5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvZGF0YS9pbnRlcmxlYXZlVHlwZWRBcnJheXMubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2RhdGEvcG93Mi5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvZGF0YS9yZW1vdmVJdGVtcy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvZGF0YS9zaWduLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9kYXRhL3VpZC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvZXh0ZXJuYWwvY3NzLWNvbG9yLW5hbWVzL2Nzcy1jb2xvci1uYW1lcy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL21lZGlhL0NhbnZhc1JlbmRlclRhcmdldC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvbWVkaWEvY2FjaGVzLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9tZWRpYS90cmltQ2FudmFzLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9uZXR3b3JrL2RlY29tcG9zZURhdGFVcmkubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL25ldHdvcmsvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4ubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL25ldHdvcmsvZ2V0UmVzb2x1dGlvbk9mVXJsLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9wYXRoLm1qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi9zZXR0aW5ncy5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvdHlwZXMvaW5kZXgubWpzIiwid2VicGFjazovL3Byb2plY3QvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL3VybC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcm9qZWN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9wcm9qZWN0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vcHJvamVjdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3Byb2plY3Qvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wcm9qZWN0L3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZWFyY3V0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGVhcmN1dDtcblxuZnVuY3Rpb24gZWFyY3V0KGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0pIHtcblxuICAgIGRpbSA9IGRpbSB8fCAyO1xuXG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoLFxuICAgICAgICBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJOb2RlID0gbGlua2VkTGlzdChkYXRhLCAwLCBvdXRlckxlbiwgZGltLCB0cnVlKSxcbiAgICAgICAgdHJpYW5nbGVzID0gW107XG5cbiAgICBpZiAoIW91dGVyTm9kZSB8fCBvdXRlck5vZGUubmV4dCA9PT0gb3V0ZXJOb2RlLnByZXYpIHJldHVybiB0cmlhbmdsZXM7XG5cbiAgICB2YXIgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgeCwgeSwgaW52U2l6ZTtcblxuICAgIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTtcblxuICAgIC8vIGlmIHRoZSBzaGFwZSBpcyBub3QgdG9vIHNpbXBsZSwgd2UnbGwgdXNlIHotb3JkZXIgY3VydmUgaGFzaCBsYXRlcjsgY2FsY3VsYXRlIHBvbHlnb24gYmJveFxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7XG4gICAgICAgIG1pblggPSBtYXhYID0gZGF0YVswXTtcbiAgICAgICAgbWluWSA9IG1heFkgPSBkYXRhWzFdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaW07IGkgPCBvdXRlckxlbjsgaSArPSBkaW0pIHtcbiAgICAgICAgICAgIHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7XG4gICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1pblgsIG1pblkgYW5kIGludlNpemUgYXJlIGxhdGVyIHVzZWQgdG8gdHJhbnNmb3JtIGNvb3JkcyBpbnRvIGludGVnZXJzIGZvciB6LW9yZGVyIGNhbGN1bGF0aW9uXG4gICAgICAgIGludlNpemUgPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgICAgICBpbnZTaXplID0gaW52U2l6ZSAhPT0gMCA/IDMyNzY3IC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0gfCAwKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGVhci5pIC8gZGltIHwgMCk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChuZXh0LmkgLyBkaW0gfCAwKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0pO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcblxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxuICAgIHZhciBheCA9IGEueCwgYnggPSBiLngsIGN4ID0gYy54LCBheSA9IGEueSwgYnkgPSBiLnksIGN5ID0gYy55O1xuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgeDAgPSBheCA8IGJ4ID8gKGF4IDwgY3ggPyBheCA6IGN4KSA6IChieCA8IGN4ID8gYnggOiBjeCksXG4gICAgICAgIHkwID0gYXkgPCBieSA/IChheSA8IGN5ID8gYXkgOiBjeSkgOiAoYnkgPCBjeSA/IGJ5IDogY3kpLFxuICAgICAgICB4MSA9IGF4ID4gYnggPyAoYXggPiBjeCA/IGF4IDogY3gpIDogKGJ4ID4gY3ggPyBieCA6IGN4KSxcbiAgICAgICAgeTEgPSBheSA+IGJ5ID8gKGF5ID4gY3kgPyBheSA6IGN5KSA6IChieSA+IGN5ID8gYnkgOiBjeSk7XG5cbiAgICB2YXIgcCA9IGMubmV4dDtcbiAgICB3aGlsZSAocCAhPT0gYSkge1xuICAgICAgICBpZiAocC54ID49IHgwICYmIHAueCA8PSB4MSAmJiBwLnkgPj0geTAgJiYgcC55IDw9IHkxICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIHZhciBheCA9IGEueCwgYnggPSBiLngsIGN4ID0gYy54LCBheSA9IGEueSwgYnkgPSBiLnksIGN5ID0gYy55O1xuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgeDAgPSBheCA8IGJ4ID8gKGF4IDwgY3ggPyBheCA6IGN4KSA6IChieCA8IGN4ID8gYnggOiBjeCksXG4gICAgICAgIHkwID0gYXkgPCBieSA/IChheSA8IGN5ID8gYXkgOiBjeSkgOiAoYnkgPCBjeSA/IGJ5IDogY3kpLFxuICAgICAgICB4MSA9IGF4ID4gYnggPyAoYXggPiBjeCA/IGF4IDogY3gpIDogKGJ4ID4gY3ggPyBieCA6IGN4KSxcbiAgICAgICAgeTEgPSBheSA+IGJ5ID8gKGF5ID4gY3kgPyBheSA6IGN5KSA6IChieSA+IGN5ID8gYnkgOiBjeSk7XG5cbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xuICAgIHZhciBtaW5aID0gek9yZGVyKHgwLCB5MCwgbWluWCwgbWluWSwgaW52U2l6ZSksXG4gICAgICAgIG1heFogPSB6T3JkZXIoeDEsIHkxLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBwID0gZWFyLnByZXZaLFxuICAgICAgICBuID0gZWFyLm5leHRaO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAocC54ID49IHgwICYmIHAueCA8PSB4MSAmJiBwLnkgPj0geTAgJiYgcC55IDw9IHkxICYmIHAgIT09IGEgJiYgcCAhPT0gYyAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHAueCwgcC55KSAmJiBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuLnggPj0geDAgJiYgbi54IDw9IHgxICYmIG4ueSA+PSB5MCAmJiBuLnkgPD0geTEgJiYgbiAhPT0gYSAmJiBuICE9PSBjICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgbi54LCBuLnkpICYmIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBkZWNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWikge1xuICAgICAgICBpZiAocC54ID49IHgwICYmIHAueCA8PSB4MSAmJiBwLnkgPj0geTAgJiYgcC55IDw9IHkxICYmIHAgIT09IGEgJiYgcCAhPT0gYyAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHAueCwgcC55KSAmJiBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKG4ueCA+PSB4MCAmJiBuLnggPD0geDEgJiYgbi55ID49IHkwICYmIG4ueSA8PSB5MSAmJiBuICE9PSBhICYmIG4gIT09IGMgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBuLngsIG4ueSkgJiYgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltIHwgMCk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwLmkgLyBkaW0gfCAwKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSB8IDApO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhwKTtcbn1cblxuLy8gdHJ5IHNwbGl0dGluZyBwb2x5Z29uIGludG8gdHdvIGFuZCB0cmlhbmd1bGF0ZSB0aGVtIGluZGVwZW5kZW50bHlcbmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvXG4gICAgdmFyIGEgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBiID0gYS5uZXh0Lm5leHQ7XG4gICAgICAgIHdoaWxlIChiICE9PSBhLnByZXYpIHtcbiAgICAgICAgICAgIGlmIChhLmkgIT09IGIuaSAmJiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCB0aGUgcG9seWdvbiBpbiB0d28gYnkgdGhlIGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBzcGxpdFBvbHlnb24oYSwgYik7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgY29saW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgICAgICAgICAgICAgIGEgPSBmaWx0ZXJQb2ludHMoYSwgYS5uZXh0KTtcbiAgICAgICAgICAgICAgICBjID0gZmlsdGVyUG9pbnRzKGMsIGMubmV4dCk7XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZlxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChhLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMCk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGMsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiID0gYi5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGEgPSBhLm5leHQ7XG4gICAgfSB3aGlsZSAoYSAhPT0gc3RhcnQpO1xufVxuXG4vLyBsaW5rIGV2ZXJ5IGhvbGUgaW50byB0aGUgb3V0ZXIgbG9vcCwgcHJvZHVjaW5nIGEgc2luZ2xlLXJpbmcgcG9seWdvbiB3aXRob3V0IGhvbGVzXG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pIHtcbiAgICB2YXIgcXVldWUgPSBbXSxcbiAgICAgICAgaSwgbGVuLCBzdGFydCwgZW5kLCBsaXN0O1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7XG4gICAgICAgIGlmIChsaXN0ID09PSBsaXN0Lm5leHQpIGxpc3Quc3RlaW5lciA9IHRydWU7XG4gICAgICAgIHF1ZXVlLnB1c2goZ2V0TGVmdG1vc3QobGlzdCkpO1xuICAgIH1cblxuICAgIHF1ZXVlLnNvcnQoY29tcGFyZVgpO1xuXG4gICAgLy8gcHJvY2VzcyBob2xlcyBmcm9tIGxlZnQgdG8gcmlnaHRcbiAgICBmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZShxdWV1ZVtpXSwgb3V0ZXJOb2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XG4gICAgcmV0dXJuIGEueCAtIGIueDtcbn1cblxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBicmlkZ2UgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xuICAgIGlmICghYnJpZGdlKSB7XG4gICAgICAgIHJldHVybiBvdXRlck5vZGU7XG4gICAgfVxuXG4gICAgdmFyIGJyaWRnZVJldmVyc2UgPSBzcGxpdFBvbHlnb24oYnJpZGdlLCBob2xlKTtcblxuICAgIC8vIGZpbHRlciBjb2xsaW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgIGZpbHRlclBvaW50cyhicmlkZ2VSZXZlcnNlLCBicmlkZ2VSZXZlcnNlLm5leHQpO1xuICAgIHJldHVybiBmaWx0ZXJQb2ludHMoYnJpZGdlLCBicmlkZ2UubmV4dCk7XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gaHgpIHJldHVybiBtOyAvLyBob2xlIHRvdWNoZXMgb3V0ZXIgc2VnbWVudDsgcGljayBsZWZ0bW9zdCBlbmRwb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gb3V0ZXJOb2RlKTtcblxuICAgIGlmICghbSkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcblxuICAgIHZhciBzdG9wID0gbSxcbiAgICAgICAgbXggPSBtLngsXG4gICAgICAgIG15ID0gbS55LFxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcbiAgICAgICAgdGFuO1xuXG4gICAgcCA9IG07XG5cbiAgICBkbyB7XG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XG5cbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcblxuICAgICAgICAgICAgaWYgKGxvY2FsbHlJbnNpZGUocCwgaG9sZSkgJiZcbiAgICAgICAgICAgICAgICAodGFuIDwgdGFuTWluIHx8ICh0YW4gPT09IHRhbk1pbiAmJiAocC54ID4gbS54IHx8IChwLnggPT09IG0ueCAmJiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSkpKSkpIHtcbiAgICAgICAgICAgICAgICBtID0gcDtcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0b3ApO1xuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIHdoZXRoZXIgc2VjdG9yIGluIHZlcnRleCBtIGNvbnRhaW5zIHNlY3RvciBpbiB2ZXJ0ZXggcCBpbiB0aGUgc2FtZSBjb29yZGluYXRlc1xuZnVuY3Rpb24gc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkge1xuICAgIHJldHVybiBhcmVhKG0ucHJldiwgbSwgcC5wcmV2KSA8IDAgJiYgYXJlYShwLm5leHQsIG0sIG0ubmV4dCkgPCAwO1xufVxuXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnogPT09IDApIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XG4gICAgcC5wcmV2WiA9IG51bGw7XG5cbiAgICBzb3J0TGlua2VkKHApO1xufVxuXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcbiAgICAgICAgaW5TaXplID0gMTtcblxuICAgIGRvIHtcbiAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIGxpc3QgPSBudWxsO1xuICAgICAgICB0YWlsID0gbnVsbDtcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcblxuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XG4gICAgICAgICAgICBxID0gcDtcbiAgICAgICAgICAgIHBTaXplID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHBTaXplKys7XG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xuXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcblxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwID0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xuICAgICAgICBpblNpemUgKj0gMjtcblxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xuXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXG4gICAgeCA9ICh4IC0gbWluWCkgKiBpbnZTaXplIHwgMDtcbiAgICB5ID0gKHkgLSBtaW5ZKSAqIGludlNpemUgfCAwO1xuXG4gICAgeCA9ICh4IHwgKHggPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHggPSAoeCB8ICh4IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeCA9ICh4IHwgKHggPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHkgPSAoeSB8ICh5IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeSA9ICh5IHwgKHkgPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHkgPSAoeSB8ICh5IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICByZXR1cm4geCB8ICh5IDw8IDEpO1xufVxuXG4vLyBmaW5kIHRoZSBsZWZ0bW9zdCBub2RlIG9mIGEgcG9seWdvbiByaW5nXG5mdW5jdGlvbiBnZXRMZWZ0bW9zdChzdGFydCkge1xuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGxlZnRtb3N0ID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC54IDwgbGVmdG1vc3QueCB8fCAocC54ID09PSBsZWZ0bW9zdC54ICYmIHAueSA8IGxlZnRtb3N0LnkpKSBsZWZ0bW9zdCA9IHA7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGxlZnRtb3N0O1xufVxuXG4vLyBjaGVjayBpZiBhIHBvaW50IGxpZXMgd2l0aGluIGEgY29udmV4IHRyaWFuZ2xlXG5mdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcHgsIHB5KSB7XG4gICAgcmV0dXJuIChjeCAtIHB4KSAqIChheSAtIHB5KSA+PSAoYXggLSBweCkgKiAoY3kgLSBweSkgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpID49IChieCAtIHB4KSAqIChheSAtIHB5KSAmJlxuICAgICAgICAgICAoYnggLSBweCkgKiAoY3kgLSBweSkgPj0gKGN4IC0gcHgpICogKGJ5IC0gcHkpO1xufVxuXG4vLyBjaGVjayBpZiBhIGRpYWdvbmFsIGJldHdlZW4gdHdvIHBvbHlnb24gbm9kZXMgaXMgdmFsaWQgKGxpZXMgaW4gcG9seWdvbiBpbnRlcmlvcilcbmZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChhLCBiKSB7XG4gICAgcmV0dXJuIGEubmV4dC5pICE9PSBiLmkgJiYgYS5wcmV2LmkgIT09IGIuaSAmJiAhaW50ZXJzZWN0c1BvbHlnb24oYSwgYikgJiYgLy8gZG9uZXMndCBpbnRlcnNlY3Qgb3RoZXIgZWRnZXNcbiAgICAgICAgICAgKGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSAmJiBtaWRkbGVJbnNpZGUoYSwgYikgJiYgLy8gbG9jYWxseSB2aXNpYmxlXG4gICAgICAgICAgICAoYXJlYShhLnByZXYsIGEsIGIucHJldikgfHwgYXJlYShhLCBiLnByZXYsIGIpKSB8fCAvLyBkb2VzIG5vdCBjcmVhdGUgb3Bwb3NpdGUtZmFjaW5nIHNlY3RvcnNcbiAgICAgICAgICAgIGVxdWFscyhhLCBiKSAmJiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA+IDAgJiYgYXJlYShiLnByZXYsIGIsIGIubmV4dCkgPiAwKTsgLy8gc3BlY2lhbCB6ZXJvLWxlbmd0aCBjYXNlXG59XG5cbi8vIHNpZ25lZCBhcmVhIG9mIGEgdHJpYW5nbGVcbmZ1bmN0aW9uIGFyZWEocCwgcSwgcikge1xuICAgIHJldHVybiAocS55IC0gcC55KSAqIChyLnggLSBxLngpIC0gKHEueCAtIHAueCkgKiAoci55IC0gcS55KTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHBvaW50cyBhcmUgZXF1YWxcbmZ1bmN0aW9uIGVxdWFscyhwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55O1xufVxuXG4vLyBjaGVjayBpZiB0d28gc2VnbWVudHMgaW50ZXJzZWN0XG5mdW5jdGlvbiBpbnRlcnNlY3RzKHAxLCBxMSwgcDIsIHEyKSB7XG4gICAgdmFyIG8xID0gc2lnbihhcmVhKHAxLCBxMSwgcDIpKTtcbiAgICB2YXIgbzIgPSBzaWduKGFyZWEocDEsIHExLCBxMikpO1xuICAgIHZhciBvMyA9IHNpZ24oYXJlYShwMiwgcTIsIHAxKSk7XG4gICAgdmFyIG80ID0gc2lnbihhcmVhKHAyLCBxMiwgcTEpKTtcblxuICAgIGlmIChvMSAhPT0gbzIgJiYgbzMgIT09IG80KSByZXR1cm4gdHJ1ZTsgLy8gZ2VuZXJhbCBjYXNlXG5cbiAgICBpZiAobzEgPT09IDAgJiYgb25TZWdtZW50KHAxLCBwMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBwMiBhcmUgY29sbGluZWFyIGFuZCBwMiBsaWVzIG9uIHAxcTFcbiAgICBpZiAobzIgPT09IDAgJiYgb25TZWdtZW50KHAxLCBxMiwgcTEpKSByZXR1cm4gdHJ1ZTsgLy8gcDEsIHExIGFuZCBxMiBhcmUgY29sbGluZWFyIGFuZCBxMiBsaWVzIG9uIHAxcTFcbiAgICBpZiAobzMgPT09IDAgJiYgb25TZWdtZW50KHAyLCBwMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBwMSBhcmUgY29sbGluZWFyIGFuZCBwMSBsaWVzIG9uIHAycTJcbiAgICBpZiAobzQgPT09IDAgJiYgb25TZWdtZW50KHAyLCBxMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBxMSBhcmUgY29sbGluZWFyIGFuZCBxMSBsaWVzIG9uIHAycTJcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gZm9yIGNvbGxpbmVhciBwb2ludHMgcCwgcSwgciwgY2hlY2sgaWYgcG9pbnQgcSBsaWVzIG9uIHNlZ21lbnQgcHJcbmZ1bmN0aW9uIG9uU2VnbWVudChwLCBxLCByKSB7XG4gICAgcmV0dXJuIHEueCA8PSBNYXRoLm1heChwLngsIHIueCkgJiYgcS54ID49IE1hdGgubWluKHAueCwgci54KSAmJiBxLnkgPD0gTWF0aC5tYXgocC55LCByLnkpICYmIHEueSA+PSBNYXRoLm1pbihwLnksIHIueSk7XG59XG5cbmZ1bmN0aW9uIHNpZ24obnVtKSB7XG4gICAgcmV0dXJuIG51bSA+IDAgPyAxIDogbnVtIDwgMCA/IC0xIDogMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGludGVyc2VjdHMgYW55IHBvbHlnb24gc2VnbWVudHNcbmZ1bmN0aW9uIGludGVyc2VjdHNQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgcCA9IGE7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC5pICE9PSBhLmkgJiYgcC5uZXh0LmkgIT09IGEuaSAmJiBwLmkgIT09IGIuaSAmJiBwLm5leHQuaSAhPT0gYi5pICYmXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0cyhwLCBwLm5leHQsIGEsIGIpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGxvY2FsbHkgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBsb2NhbGx5SW5zaWRlKGEsIGIpIHtcbiAgICByZXR1cm4gYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPCAwID9cbiAgICAgICAgYXJlYShhLCBiLCBhLm5leHQpID49IDAgJiYgYXJlYShhLCBhLnByZXYsIGIpID49IDAgOlxuICAgICAgICBhcmVhKGEsIGIsIGEucHJldikgPCAwIHx8IGFyZWEoYSwgYS5uZXh0LCBiKSA8IDA7XG59XG5cbi8vIGNoZWNrIGlmIHRoZSBtaWRkbGUgcG9pbnQgb2YgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsIGIpIHtcbiAgICB2YXIgcCA9IGEsXG4gICAgICAgIGluc2lkZSA9IGZhbHNlLFxuICAgICAgICBweCA9IChhLnggKyBiLngpIC8gMixcbiAgICAgICAgcHkgPSAoYS55ICsgYi55KSAvIDI7XG4gICAgZG8ge1xuICAgICAgICBpZiAoKChwLnkgPiBweSkgIT09IChwLm5leHQueSA+IHB5KSkgJiYgcC5uZXh0LnkgIT09IHAueSAmJlxuICAgICAgICAgICAgICAgIChweCA8IChwLm5leHQueCAtIHAueCkgKiAocHkgLSBwLnkpIC8gKHAubmV4dC55IC0gcC55KSArIHAueCkpXG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGluc2lkZTtcbn1cblxuLy8gbGluayB0d28gcG9seWdvbiB2ZXJ0aWNlcyB3aXRoIGEgYnJpZGdlOyBpZiB0aGUgdmVydGljZXMgYmVsb25nIHRvIHRoZSBzYW1lIHJpbmcsIGl0IHNwbGl0cyBwb2x5Z29uIGludG8gdHdvO1xuLy8gaWYgb25lIGJlbG9uZ3MgdG8gdGhlIG91dGVyIHJpbmcgYW5kIGFub3RoZXIgdG8gYSBob2xlLCBpdCBtZXJnZXMgaXQgaW50byBhIHNpbmdsZSByaW5nXG5mdW5jdGlvbiBzcGxpdFBvbHlnb24oYSwgYikge1xuICAgIHZhciBhMiA9IG5ldyBOb2RlKGEuaSwgYS54LCBhLnkpLFxuICAgICAgICBiMiA9IG5ldyBOb2RlKGIuaSwgYi54LCBiLnkpLFxuICAgICAgICBhbiA9IGEubmV4dCxcbiAgICAgICAgYnAgPSBiLnByZXY7XG5cbiAgICBhLm5leHQgPSBiO1xuICAgIGIucHJldiA9IGE7XG5cbiAgICBhMi5uZXh0ID0gYW47XG4gICAgYW4ucHJldiA9IGEyO1xuXG4gICAgYjIubmV4dCA9IGEyO1xuICAgIGEyLnByZXYgPSBiMjtcblxuICAgIGJwLm5leHQgPSBiMjtcbiAgICBiMi5wcmV2ID0gYnA7XG5cbiAgICByZXR1cm4gYjI7XG59XG5cbi8vIGNyZWF0ZSBhIG5vZGUgYW5kIG9wdGlvbmFsbHkgbGluayBpdCB3aXRoIHByZXZpb3VzIG9uZSAoaW4gYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBpbnNlcnROb2RlKGksIHgsIHksIGxhc3QpIHtcbiAgICB2YXIgcCA9IG5ldyBOb2RlKGksIHgsIHkpO1xuXG4gICAgaWYgKCFsYXN0KSB7XG4gICAgICAgIHAucHJldiA9IHA7XG4gICAgICAgIHAubmV4dCA9IHA7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBwLm5leHQgPSBsYXN0Lm5leHQ7XG4gICAgICAgIHAucHJldiA9IGxhc3Q7XG4gICAgICAgIGxhc3QubmV4dC5wcmV2ID0gcDtcbiAgICAgICAgbGFzdC5uZXh0ID0gcDtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU5vZGUocCkge1xuICAgIHAubmV4dC5wcmV2ID0gcC5wcmV2O1xuICAgIHAucHJldi5uZXh0ID0gcC5uZXh0O1xuXG4gICAgaWYgKHAucHJldlopIHAucHJldloubmV4dFogPSBwLm5leHRaO1xuICAgIGlmIChwLm5leHRaKSBwLm5leHRaLnByZXZaID0gcC5wcmV2Wjtcbn1cblxuZnVuY3Rpb24gTm9kZShpLCB4LCB5KSB7XG4gICAgLy8gdmVydGV4IGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgdGhpcy5pID0gaTtcblxuICAgIC8vIHZlcnRleCBjb29yZGluYXRlc1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRleCBub2RlcyBpbiBhIHBvbHlnb24gcmluZ1xuICAgIHRoaXMucHJldiA9IG51bGw7XG4gICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgIC8vIHotb3JkZXIgY3VydmUgdmFsdWVcbiAgICB0aGlzLnogPSAwO1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgbm9kZXMgaW4gei1vcmRlclxuICAgIHRoaXMucHJldlogPSBudWxsO1xuICAgIHRoaXMubmV4dFogPSBudWxsO1xuXG4gICAgLy8gaW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhIHN0ZWluZXIgcG9pbnRcbiAgICB0aGlzLnN0ZWluZXIgPSBmYWxzZTtcbn1cblxuLy8gcmV0dXJuIGEgcGVyY2VudGFnZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHBvbHlnb24gYXJlYSBhbmQgaXRzIHRyaWFuZ3VsYXRpb24gYXJlYTtcbi8vIHVzZWQgdG8gdmVyaWZ5IGNvcnJlY3RuZXNzIG9mIHRyaWFuZ3VsYXRpb25cbmVhcmN1dC5kZXZpYXRpb24gPSBmdW5jdGlvbiAoZGF0YSwgaG9sZUluZGljZXMsIGRpbSwgdHJpYW5nbGVzKSB7XG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoO1xuICAgIHZhciBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcblxuICAgIHZhciBwb2x5Z29uQXJlYSA9IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSkpO1xuICAgIGlmIChoYXNIb2xlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBwb2x5Z29uQXJlYSAtPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRyaWFuZ2xlc0FyZWEgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgdmFyIGEgPSB0cmlhbmdsZXNbaV0gKiBkaW07XG4gICAgICAgIHZhciBiID0gdHJpYW5nbGVzW2kgKyAxXSAqIGRpbTtcbiAgICAgICAgdmFyIGMgPSB0cmlhbmdsZXNbaSArIDJdICogZGltO1xuICAgICAgICB0cmlhbmdsZXNBcmVhICs9IE1hdGguYWJzKFxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2NdKSAqIChkYXRhW2IgKyAxXSAtIGRhdGFbYSArIDFdKSAtXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbYl0pICogKGRhdGFbYyArIDFdIC0gZGF0YVthICsgMV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9seWdvbkFyZWEgPT09IDAgJiYgdHJpYW5nbGVzQXJlYSA9PT0gMCA/IDAgOlxuICAgICAgICBNYXRoLmFicygodHJpYW5nbGVzQXJlYSAtIHBvbHlnb25BcmVhKSAvIHBvbHlnb25BcmVhKTtcbn07XG5cbmZ1bmN0aW9uIHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSB7XG4gICAgdmFyIHN1bSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0LCBqID0gZW5kIC0gZGltOyBpIDwgZW5kOyBpICs9IGRpbSkge1xuICAgICAgICBzdW0gKz0gKGRhdGFbal0gLSBkYXRhW2ldKSAqIChkYXRhW2kgKyAxXSArIGRhdGFbaiArIDFdKTtcbiAgICAgICAgaiA9IGk7XG4gICAgfVxuICAgIHJldHVybiBzdW07XG59XG5cbi8vIHR1cm4gYSBwb2x5Z29uIGluIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgZm9ybSAoZS5nLiBhcyBpbiBHZW9KU09OKSBpbnRvIGEgZm9ybSBFYXJjdXQgYWNjZXB0c1xuZWFyY3V0LmZsYXR0ZW4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZhciBkaW0gPSBkYXRhWzBdWzBdLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0ge3ZlcnRpY2VzOiBbXSwgaG9sZXM6IFtdLCBkaW1lbnNpb25zOiBkaW19LFxuICAgICAgICBob2xlSW5kZXggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkaW07IGQrKykgcmVzdWx0LnZlcnRpY2VzLnB1c2goZGF0YVtpXVtqXVtkXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBob2xlSW5kZXggKz0gZGF0YVtpIC0gMV0ubGVuZ3RoO1xuICAgICAgICAgICAgcmVzdWx0LmhvbGVzLnB1c2goaG9sZUluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmdcbi8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDdcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXMsIHNlcCwgZXEsIG9wdGlvbnMpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIHZhciBvYmogPSB7fTtcblxuICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IC9cXCsvZztcbiAgcXMgPSBxcy5zcGxpdChzZXApO1xuXG4gIHZhciBtYXhLZXlzID0gMTAwMDtcbiAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzO1xuICB9XG5cbiAgdmFyIGxlbiA9IHFzLmxlbmd0aDtcbiAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50XG4gIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7XG4gICAgbGVuID0gbWF4S2V5cztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgeCA9IHFzW2ldLnJlcGxhY2UocmVnZXhwLCAnJTIwJyksXG4gICAgICAgIGlkeCA9IHguaW5kZXhPZihlcSksXG4gICAgICAgIGtzdHIsIHZzdHIsIGssIHY7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpO1xuICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrc3RyID0geDtcbiAgICAgIHZzdHIgPSAnJztcbiAgICB9XG5cbiAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpO1xuICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIG9ialtrXSA9IHY7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9ialtrXSkpIHtcbiAgICAgIG9ialtrXS5wdXNoKHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba10gPSBbb2JqW2tdLCB2XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gb2JqW2tdLm1hcChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuMy4yIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjMuMicsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHsgLy8gaW4gTm9kZS5qcyBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7IC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgeyAvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZSgncHVueWNvZGUnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMXG4gICAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy5cbiAgICAvLyBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgbm90IGFsbG93ZWQgZm9yIHZhcmlvdXMgcmVhc29ucy5cbiAgICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksXG5cbiAgICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gICAgYXV0b0VzY2FwZSA9IFsnXFwnJ10uY29uY2F0KHVud2lzZSksXG4gICAgLy8gQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gICAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoXG4gICAgLy8gdGhlbS5cbiAgICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sXG4gICAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gICAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnc3RyaW5nJztcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuICB9LFxuICBpc051bGw6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09IG51bGw7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyB1dGlscywgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgRmVkZXJhdGVkRXZlbnQgfSBmcm9tICdAcGl4aS9ldmVudHMnO1xuaW1wb3J0IHsgYWNjZXNzaWJsZVRhcmdldCB9IGZyb20gJy4vYWNjZXNzaWJsZVRhcmdldC5tanMnO1xuXG5EaXNwbGF5T2JqZWN0Lm1peGluKGFjY2Vzc2libGVUYXJnZXQpO1xuY29uc3QgS0VZX0NPREVfVEFCID0gOTtcbmNvbnN0IERJVl9UT1VDSF9TSVpFID0gMTAwO1xuY29uc3QgRElWX1RPVUNIX1BPU19YID0gMDtcbmNvbnN0IERJVl9UT1VDSF9QT1NfWSA9IDA7XG5jb25zdCBESVZfVE9VQ0hfWklOREVYID0gMjtcbmNvbnN0IERJVl9IT09LX1NJWkUgPSAxO1xuY29uc3QgRElWX0hPT0tfUE9TX1ggPSAtMWUzO1xuY29uc3QgRElWX0hPT0tfUE9TX1kgPSAtMWUzO1xuY29uc3QgRElWX0hPT0tfWklOREVYID0gMjtcbmNsYXNzIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG4gICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSBmYWxzZTtcbiAgICB0aGlzLnBvb2wgPSBbXTtcbiAgICB0aGlzLnJlbmRlcklkID0gMDtcbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgdGhpcy5hbmRyb2lkVXBkYXRlQ291bnQgPSAwO1xuICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeSA9IDUwMDtcbiAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICBpZiAodXRpbHMuaXNNb2JpbGUudGFibGV0IHx8IHV0aWxzLmlzTW9iaWxlLnBob25lKSB7XG4gICAgICB0aGlzLmNyZWF0ZVRvdWNoSG9vaygpO1xuICAgIH1cbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBkaXYuc3R5bGUudG9wID0gYCR7RElWX1RPVUNIX1BPU19YfXB4YDtcbiAgICBkaXYuc3R5bGUubGVmdCA9IGAke0RJVl9UT1VDSF9QT1NfWX1weGA7XG4gICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVgudG9TdHJpbmcoKTtcbiAgICB0aGlzLmRpdiA9IGRpdjtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gIH1cbiAgZ2V0IGlzQWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0FjdGl2ZTtcbiAgfVxuICBnZXQgaXNNb2JpbGVBY2Nlc3NpYmlsaXR5KCkge1xuICAgIHJldHVybiB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHk7XG4gIH1cbiAgY3JlYXRlVG91Y2hIb29rKCkge1xuICAgIGNvbnN0IGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGhvb2tEaXYuc3R5bGUud2lkdGggPSBgJHtESVZfSE9PS19TSVpFfXB4YDtcbiAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9IT09LX1NJWkV9cHhgO1xuICAgIGhvb2tEaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgaG9va0Rpdi5zdHlsZS50b3AgPSBgJHtESVZfSE9PS19QT1NfWH1weGA7XG4gICAgaG9va0Rpdi5zdHlsZS5sZWZ0ID0gYCR7RElWX0hPT0tfUE9TX1l9cHhgO1xuICAgIGhvb2tEaXYuc3R5bGUuekluZGV4ID0gRElWX0hPT0tfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgaG9va0Rpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNGRjAwMDBcIjtcbiAgICBob29rRGl2LnRpdGxlID0gXCJzZWxlY3QgdG8gZW5hYmxlIGFjY2Vzc2liaWxpdHkgZm9yIHRoaXMgY29udGVudFwiO1xuICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IHRydWU7XG4gICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgICB0aGlzLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhvb2tEaXYpO1xuICAgIHRoaXMuX2hvb2tEaXYgPSBob29rRGl2O1xuICB9XG4gIGRlc3Ryb3lUb3VjaEhvb2soKSB7XG4gICAgaWYgKCF0aGlzLl9ob29rRGl2KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5faG9va0Rpdik7XG4gICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gIH1cbiAgYWN0aXZhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2lzQWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2lzQWN0aXZlID0gdHJ1ZTtcbiAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgdGhpcy5yZW5kZXJlci5vbihcInBvc3RyZW5kZXJcIiwgdGhpcy51cGRhdGUsIHRoaXMpO1xuICAgIHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlPy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gIH1cbiAgZGVhY3RpdmF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZlIHx8IHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICB0aGlzLnJlbmRlcmVyLm9mZihcInBvc3RyZW5kZXJcIiwgdGhpcy51cGRhdGUpO1xuICAgIHRoaXMuZGl2LnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKHRoaXMuZGl2KTtcbiAgfVxuICB1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhkaXNwbGF5T2JqZWN0KSB7XG4gICAgaWYgKCFkaXNwbGF5T2JqZWN0LnZpc2libGUgfHwgIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUNoaWxkcmVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGUgJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlKSB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdCk7XG4gICAgICB9XG4gICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcklkID0gdGhpcy5yZW5kZXJJZDtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGNoaWxkcmVuW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGlmICh1dGlscy5pc01vYmlsZS5hbmRyb2lkLmRldmljZSAmJiBub3cgPCB0aGlzLmFuZHJvaWRVcGRhdGVDb3VudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmFuZHJvaWRVcGRhdGVDb3VudCA9IG5vdyArIHRoaXMuYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeTtcbiAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkKSB7XG4gICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKHRoaXMucmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkKTtcbiAgICB9XG4gICAgY29uc3QgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnJlbmRlcmVyLnZpZXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgeyB3aWR0aDogdmlld1dpZHRoLCBoZWlnaHQ6IHZpZXdIZWlnaHQsIHJlc29sdXRpb24gfSA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3Qgc3ggPSB3aWR0aCAvIHZpZXdXaWR0aCAqIHJlc29sdXRpb247XG4gICAgY29uc3Qgc3kgPSBoZWlnaHQgLyB2aWV3SGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICBsZXQgZGl2ID0gdGhpcy5kaXY7XG4gICAgZGl2LnN0eWxlLmxlZnQgPSBgJHt4fXB4YDtcbiAgICBkaXYuc3R5bGUudG9wID0gYCR7eX1weGA7XG4gICAgZGl2LnN0eWxlLndpZHRoID0gYCR7dmlld1dpZHRofXB4YDtcbiAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7dmlld0hlaWdodH1weGA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICBpZiAoY2hpbGQucmVuZGVySWQgIT09IHRoaXMucmVuZGVySWQpIHtcbiAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdXRpbHMucmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaSwgMSk7XG4gICAgICAgIHRoaXMuZGl2LnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZURpdiA9IG51bGw7XG4gICAgICAgIGktLTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpdiA9IGNoaWxkLl9hY2Nlc3NpYmxlRGl2O1xuICAgICAgICBsZXQgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XG4gICAgICAgIGNvbnN0IHd0ID0gY2hpbGQud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGlmIChjaGlsZC5oaXRBcmVhKSB7XG4gICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBgJHsod3QudHggKyBoaXRBcmVhLnggKiB3dC5hKSAqIHN4fXB4YDtcbiAgICAgICAgICBkaXYuc3R5bGUudG9wID0gYCR7KHd0LnR5ICsgaGl0QXJlYS55ICogd3QuZCkgKiBzeX1weGA7XG4gICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7aGl0QXJlYS53aWR0aCAqIHd0LmEgKiBzeH1weGA7XG4gICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke2hpdEFyZWEuaGVpZ2h0ICogd3QuZCAqIHN5fXB4YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoaXRBcmVhID0gY2hpbGQuZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgdGhpcy5jYXBIaXRBcmVhKGhpdEFyZWEpO1xuICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7aGl0QXJlYS54ICogc3h9cHhgO1xuICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBgJHtoaXRBcmVhLnkgKiBzeX1weGA7XG4gICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7aGl0QXJlYS53aWR0aCAqIHN4fXB4YDtcbiAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aGl0QXJlYS5oZWlnaHQgKiBzeX1weGA7XG4gICAgICAgICAgaWYgKGRpdi50aXRsZSAhPT0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlICYmIGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGl2LmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikgIT09IGNoaWxkLmFjY2Vzc2libGVIaW50ICYmIGNoaWxkLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBjaGlsZC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgIT09IGRpdi50aXRsZSB8fCBjaGlsZC50YWJJbmRleCAhPT0gZGl2LnRhYkluZGV4KSB7XG4gICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgIGRpdi50YWJJbmRleCA9IGNoaWxkLnRhYkluZGV4O1xuICAgICAgICAgIGlmICh0aGlzLmRlYnVnKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVEZWJ1Z0hUTUwoZGl2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlbmRlcklkKys7XG4gIH1cbiAgdXBkYXRlRGVidWdIVE1MKGRpdikge1xuICAgIGRpdi5pbm5lckhUTUwgPSBgdHlwZTogJHtkaXYudHlwZX08L2JyPiB0aXRsZSA6ICR7ZGl2LnRpdGxlfTwvYnI+IHRhYkluZGV4OiAke2Rpdi50YWJJbmRleH1gO1xuICB9XG4gIGNhcEhpdEFyZWEoaGl0QXJlYSkge1xuICAgIGlmIChoaXRBcmVhLnggPCAwKSB7XG4gICAgICBoaXRBcmVhLndpZHRoICs9IGhpdEFyZWEueDtcbiAgICAgIGhpdEFyZWEueCA9IDA7XG4gICAgfVxuICAgIGlmIChoaXRBcmVhLnkgPCAwKSB7XG4gICAgICBoaXRBcmVhLmhlaWdodCArPSBoaXRBcmVhLnk7XG4gICAgICBoaXRBcmVhLnkgPSAwO1xuICAgIH1cbiAgICBjb25zdCB7IHdpZHRoOiB2aWV3V2lkdGgsIGhlaWdodDogdmlld0hlaWdodCB9ID0gdGhpcy5yZW5kZXJlcjtcbiAgICBpZiAoaGl0QXJlYS54ICsgaGl0QXJlYS53aWR0aCA+IHZpZXdXaWR0aCkge1xuICAgICAgaGl0QXJlYS53aWR0aCA9IHZpZXdXaWR0aCAtIGhpdEFyZWEueDtcbiAgICB9XG4gICAgaWYgKGhpdEFyZWEueSArIGhpdEFyZWEuaGVpZ2h0ID4gdmlld0hlaWdodCkge1xuICAgICAgaGl0QXJlYS5oZWlnaHQgPSB2aWV3SGVpZ2h0IC0gaGl0QXJlYS55O1xuICAgIH1cbiAgfVxuICBhZGRDaGlsZChkaXNwbGF5T2JqZWN0KSB7XG4gICAgbGV0IGRpdiA9IHRoaXMucG9vbC5wb3AoKTtcbiAgICBpZiAoIWRpdikge1xuICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBgJHtESVZfVE9VQ0hfU0laRX1weGA7XG4gICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5kZWJ1ZyA/IFwicmdiYSgyNTUsMjU1LDI1NSwwLjUpXCIgOiBcInRyYW5zcGFyZW50XCI7XG4gICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gXCJub25lXCI7XG4gICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiY2hyb21lXCIpKSB7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJvZmZcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2Oi4qR2Vja29cXC8vKSkge1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKFwiYXJpYS1yZWxldmFudFwiLCBcImFkZGl0aW9uc1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXJlbGV2YW50XCIsIFwidGV4dFwiKTtcbiAgICAgIH1cbiAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgdGhpcy5fb25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgZGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVQb2ludGVyRXZlbnRzO1xuICAgIGRpdi50eXBlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVHlwZTtcbiAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpIHtcbiAgICAgIGRpdi50aXRsZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlO1xuICAgIH0gZWxzZSBpZiAoIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgfHwgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCA9PT0gbnVsbCkge1xuICAgICAgZGl2LnRpdGxlID0gYGRpc3BsYXlPYmplY3QgJHtkaXNwbGF5T2JqZWN0LnRhYkluZGV4fWA7XG4gICAgfVxuICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgIHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7XG4gICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdiA9IGRpdjtcbiAgICBkaXYuZGlzcGxheU9iamVjdCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgdGhpcy5jaGlsZHJlbi5wdXNoKGRpc3BsYXlPYmplY3QpO1xuICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYudGFiSW5kZXggPSBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICB9XG4gIF9kaXNwYXRjaEV2ZW50KGUsIHR5cGUpIHtcbiAgICBjb25zdCB7IGRpc3BsYXlPYmplY3Q6IHRhcmdldCB9ID0gZS50YXJnZXQ7XG4gICAgY29uc3QgYm91bmRyeSA9IHRoaXMucmVuZGVyZXIuZXZlbnRzLnJvb3RCb3VuZGFyeTtcbiAgICBjb25zdCBldmVudCA9IE9iamVjdC5hc3NpZ24obmV3IEZlZGVyYXRlZEV2ZW50KGJvdW5kcnkpLCB7IHRhcmdldCB9KTtcbiAgICBib3VuZHJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICB0eXBlLmZvckVhY2goKHR5cGUyKSA9PiBib3VuZHJ5LmRpc3BhdGNoRXZlbnQoZXZlbnQsIHR5cGUyKSk7XG4gIH1cbiAgX29uQ2xpY2soZSkge1xuICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoZSwgW1wiY2xpY2tcIiwgXCJwb2ludGVydGFwXCIsIFwidGFwXCJdKTtcbiAgfVxuICBfb25Gb2N1cyhlKSB7XG4gICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIikpIHtcbiAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLCBcImFzc2VydGl2ZVwiKTtcbiAgICB9XG4gICAgdGhpcy5fZGlzcGF0Y2hFdmVudChlLCBbXCJtb3VzZW92ZXJcIl0pO1xuICB9XG4gIF9vbkZvY3VzT3V0KGUpIHtcbiAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiKSkge1xuICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xuICAgIH1cbiAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KGUsIFtcIm1vdXNlb3V0XCJdKTtcbiAgfVxuICBfb25LZXlEb3duKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hY3RpdmF0ZSgpO1xuICB9XG4gIF9vbk1vdXNlTW92ZShlKSB7XG4gICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgdGhpcy5kaXYgPSBudWxsO1xuICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9vbktleURvd24pO1xuICAgIHRoaXMucG9vbCA9IG51bGw7XG4gICAgdGhpcy5jaGlsZHJlbiA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLmV4dGVuc2lvbiA9IHtcbiAgbmFtZTogXCJhY2Nlc3NpYmlsaXR5XCIsXG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLlJlbmRlcmVyUGx1Z2luLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUmVuZGVyZXJQbHVnaW5cbiAgXVxufTtcbmV4dGVuc2lvbnMuYWRkKEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcblxuZXhwb3J0IHsgQWNjZXNzaWJpbGl0eU1hbmFnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjY2Vzc2liaWxpdHlNYW5hZ2VyLm1qcy5tYXBcbiIsImNvbnN0IGFjY2Vzc2libGVUYXJnZXQgPSB7XG4gIGFjY2Vzc2libGU6IGZhbHNlLFxuICBhY2Nlc3NpYmxlVGl0bGU6IG51bGwsXG4gIGFjY2Vzc2libGVIaW50OiBudWxsLFxuICB0YWJJbmRleDogMCxcbiAgX2FjY2Vzc2libGVBY3RpdmU6IGZhbHNlLFxuICBfYWNjZXNzaWJsZURpdjogbnVsbCxcbiAgYWNjZXNzaWJsZVR5cGU6IFwiYnV0dG9uXCIsXG4gIGFjY2Vzc2libGVQb2ludGVyRXZlbnRzOiBcImF1dG9cIixcbiAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlLFxuICByZW5kZXJJZDogLTFcbn07XG5cbmV4cG9ydCB7IGFjY2Vzc2libGVUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjY2Vzc2libGVUYXJnZXQubWpzLm1hcFxuIiwiZXhwb3J0IHsgYWNjZXNzaWJsZVRhcmdldCB9IGZyb20gJy4vYWNjZXNzaWJsZVRhcmdldC5tanMnO1xuZXhwb3J0IHsgQWNjZXNzaWJpbGl0eU1hbmFnZXIgfSBmcm9tICcuL0FjY2Vzc2liaWxpdHlNYW5hZ2VyLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIsIGV4dGVuc2lvbnMsIEV4dGVuc2lvblR5cGUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG5jb25zdCBfQXBwbGljYXRpb24gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLnN0YWdlID0gbmV3IENvbnRhaW5lcigpO1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGZvcmNlQ2FudmFzOiBmYWxzZVxuICAgIH0sIG9wdGlvbnMpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucyk7XG4gICAgX0FwcGxpY2F0aW9uLl9wbHVnaW5zLmZvckVhY2goKHBsdWdpbikgPT4ge1xuICAgICAgcGx1Z2luLmluaXQuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG4gIH1cbiAgZ2V0IHZpZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudmlldztcbiAgfVxuICBnZXQgc2NyZWVuKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbiAgfVxuICBkZXN0cm95KHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucykge1xuICAgIGNvbnN0IHBsdWdpbnMgPSBfQXBwbGljYXRpb24uX3BsdWdpbnMuc2xpY2UoMCk7XG4gICAgcGx1Z2lucy5yZXZlcnNlKCk7XG4gICAgcGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pID0+IHtcbiAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfSk7XG4gICAgdGhpcy5zdGFnZS5kZXN0cm95KHN0YWdlT3B0aW9ucyk7XG4gICAgdGhpcy5zdGFnZSA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJlci5kZXN0cm95KHJlbW92ZVZpZXcpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59O1xubGV0IEFwcGxpY2F0aW9uID0gX0FwcGxpY2F0aW9uO1xuQXBwbGljYXRpb24uX3BsdWdpbnMgPSBbXTtcbmV4dGVuc2lvbnMuaGFuZGxlQnlMaXN0KEV4dGVuc2lvblR5cGUuQXBwbGljYXRpb24sIEFwcGxpY2F0aW9uLl9wbHVnaW5zKTtcblxuZXhwb3J0IHsgQXBwbGljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFwcGxpY2F0aW9uLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY2xhc3MgUmVzaXplUGx1Z2luIHtcbiAgc3RhdGljIGluaXQob3B0aW9ucykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlc2l6ZVRvXCIsIHtcbiAgICAgIHNldChkb20pIHtcbiAgICAgICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICB0aGlzLl9yZXNpemVUbyA9IGRvbTtcbiAgICAgICAgaWYgKGRvbSkge1xuICAgICAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXplVG87XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5xdWV1ZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fcmVzaXplVG8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5jYW5jZWxSZXNpemUoKTtcbiAgICAgIHRoaXMuX3Jlc2l6ZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMucmVzaXplKCkpO1xuICAgIH07XG4gICAgdGhpcy5jYW5jZWxSZXNpemUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fcmVzaXplSWQpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVzaXplSWQpO1xuICAgICAgICB0aGlzLl9yZXNpemVJZCA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fcmVzaXplVG8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5jYW5jZWxSZXNpemUoKTtcbiAgICAgIGxldCB3aWR0aDtcbiAgICAgIGxldCBoZWlnaHQ7XG4gICAgICBpZiAodGhpcy5fcmVzaXplVG8gPT09IGdsb2JhbFRoaXMud2luZG93KSB7XG4gICAgICAgIHdpZHRoID0gZ2xvYmFsVGhpcy5pbm5lcldpZHRoO1xuICAgICAgICBoZWlnaHQgPSBnbG9iYWxUaGlzLmlubmVySGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnRXaWR0aCwgY2xpZW50SGVpZ2h0IH0gPSB0aGlzLl9yZXNpemVUbztcbiAgICAgICAgd2lkdGggPSBjbGllbnRXaWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gY2xpZW50SGVpZ2h0O1xuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJlci5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgIHRoaXMuX3Jlc2l6ZVRvID0gbnVsbDtcbiAgICB0aGlzLnJlc2l6ZVRvID0gb3B0aW9ucy5yZXNpemVUbyB8fCBudWxsO1xuICB9XG4gIHN0YXRpYyBkZXN0cm95KCkge1xuICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICB0aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgIHRoaXMuY2FuY2VsUmVzaXplID0gbnVsbDtcbiAgICB0aGlzLnF1ZXVlUmVzaXplID0gbnVsbDtcbiAgICB0aGlzLnJlc2l6ZVRvID0gbnVsbDtcbiAgICB0aGlzLnJlc2l6ZSA9IG51bGw7XG4gIH1cbn1cblJlc2l6ZVBsdWdpbi5leHRlbnNpb24gPSBFeHRlbnNpb25UeXBlLkFwcGxpY2F0aW9uO1xuZXh0ZW5zaW9ucy5hZGQoUmVzaXplUGx1Z2luKTtcblxuZXhwb3J0IHsgUmVzaXplUGx1Z2luIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNpemVQbHVnaW4ubWpzLm1hcFxuIiwiZXhwb3J0IHsgQXBwbGljYXRpb24gfSBmcm9tICcuL0FwcGxpY2F0aW9uLm1qcyc7XG5leHBvcnQgeyBSZXNpemVQbHVnaW4gfSBmcm9tICcuL1Jlc2l6ZVBsdWdpbi5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBhc3NldEtleU1hcCA9IHtcbiAgbG9hZGVyOiBFeHRlbnNpb25UeXBlLkxvYWRQYXJzZXIsXG4gIHJlc29sdmVyOiBFeHRlbnNpb25UeXBlLlJlc29sdmVQYXJzZXIsXG4gIGNhY2hlOiBFeHRlbnNpb25UeXBlLkNhY2hlUGFyc2VyLFxuICBkZXRlY3Rpb246IEV4dGVuc2lvblR5cGUuRGV0ZWN0aW9uUGFyc2VyXG59O1xuZXh0ZW5zaW9ucy5oYW5kbGUoRXh0ZW5zaW9uVHlwZS5Bc3NldCwgKGV4dGVuc2lvbikgPT4ge1xuICBjb25zdCByZWYgPSBleHRlbnNpb24ucmVmO1xuICBPYmplY3QuZW50cmllcyhhc3NldEtleU1hcCkuZmlsdGVyKChba2V5XSkgPT4gISFyZWZba2V5XSkuZm9yRWFjaCgoW2tleSwgdHlwZV0pID0+IGV4dGVuc2lvbnMuYWRkKE9iamVjdC5hc3NpZ24ocmVmW2tleV0sIHsgZXh0ZW5zaW9uOiByZWZba2V5XS5leHRlbnNpb24gPz8gdHlwZSB9KSkpO1xufSwgKGV4dGVuc2lvbikgPT4ge1xuICBjb25zdCByZWYgPSBleHRlbnNpb24ucmVmO1xuICBPYmplY3Qua2V5cyhhc3NldEtleU1hcCkuZmlsdGVyKChrZXkpID0+ICEhcmVmW2tleV0pLmZvckVhY2goKGtleSkgPT4gZXh0ZW5zaW9ucy5yZW1vdmUocmVmW2tleV0pKTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNzZXRFeHRlbnNpb24ubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucywgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQmFja2dyb3VuZExvYWRlciB9IGZyb20gJy4vQmFja2dyb3VuZExvYWRlci5tanMnO1xuaW1wb3J0IHsgQ2FjaGUgfSBmcm9tICcuL2NhY2hlL0NhY2hlLm1qcyc7XG5pbXBvcnQgeyBMb2FkZXIgfSBmcm9tICcuL2xvYWRlci9Mb2FkZXIubWpzJztcbmltcG9ydCB7IFJlc29sdmVyIH0gZnJvbSAnLi9yZXNvbHZlci9SZXNvbHZlci5tanMnO1xuaW1wb3J0IHsgY29udmVydFRvTGlzdCB9IGZyb20gJy4vdXRpbHMvY29udmVydFRvTGlzdC5tanMnO1xuaW1wb3J0IHsgaXNTaW5nbGVJdGVtIH0gZnJvbSAnLi91dGlscy9pc1NpbmdsZUl0ZW0ubWpzJztcblxuY2xhc3MgQXNzZXRzQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9kZXRlY3Rpb25zID0gW107XG4gICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlc29sdmVyID0gbmV3IFJlc29sdmVyKCk7XG4gICAgdGhpcy5sb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gICAgdGhpcy5jYWNoZSA9IENhY2hlO1xuICAgIHRoaXMuX2JhY2tncm91bmRMb2FkZXIgPSBuZXcgQmFja2dyb3VuZExvYWRlcih0aGlzLmxvYWRlcik7XG4gICAgdGhpcy5fYmFja2dyb3VuZExvYWRlci5hY3RpdmUgPSB0cnVlO1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuICBhc3luYyBpbml0KG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICh0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgY29uc29sZS53YXJuKFwiW0Fzc2V0c11Bc3NldE1hbmFnZXIgYWxyZWFkeSBpbml0aWFsaXplZCwgZGlkIHlvdSBsb2FkIGJlZm9yZSBjYWxsaW5nIHRoaXMgQXNzZXQuaW5pdCgpP1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIGlmIChvcHRpb25zLmJhc2VQYXRoKSB7XG4gICAgICB0aGlzLnJlc29sdmVyLmJhc2VQYXRoID0gb3B0aW9ucy5iYXNlUGF0aDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMubWFuaWZlc3QpIHtcbiAgICAgIGxldCBtYW5pZmVzdCA9IG9wdGlvbnMubWFuaWZlc3Q7XG4gICAgICBpZiAodHlwZW9mIG1hbmlmZXN0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG1hbmlmZXN0ID0gYXdhaXQgdGhpcy5sb2FkKG1hbmlmZXN0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzb2x2ZXIuYWRkTWFuaWZlc3QobWFuaWZlc3QpO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHV0aW9uUHJlZiA9IG9wdGlvbnMudGV4dHVyZVByZWZlcmVuY2U/LnJlc29sdXRpb24gPz8gMTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdHlwZW9mIHJlc29sdXRpb25QcmVmID09PSBcIm51bWJlclwiID8gW3Jlc29sdXRpb25QcmVmXSA6IHJlc29sdXRpb25QcmVmO1xuICAgIGxldCBmb3JtYXRzID0gW107XG4gICAgaWYgKG9wdGlvbnMudGV4dHVyZVByZWZlcmVuY2U/LmZvcm1hdCkge1xuICAgICAgY29uc3QgZm9ybWF0UHJlZiA9IG9wdGlvbnMudGV4dHVyZVByZWZlcmVuY2U/LmZvcm1hdDtcbiAgICAgIGZvcm1hdHMgPSB0eXBlb2YgZm9ybWF0UHJlZiA9PT0gXCJzdHJpbmdcIiA/IFtmb3JtYXRQcmVmXSA6IGZvcm1hdFByZWY7XG4gICAgICBmb3IgKGNvbnN0IGRldGVjdGlvbiBvZiB0aGlzLl9kZXRlY3Rpb25zKSB7XG4gICAgICAgIGlmICghYXdhaXQgZGV0ZWN0aW9uLnRlc3QoKSkge1xuICAgICAgICAgIGZvcm1hdHMgPSBhd2FpdCBkZXRlY3Rpb24ucmVtb3ZlKGZvcm1hdHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3QgZGV0ZWN0aW9uIG9mIHRoaXMuX2RldGVjdGlvbnMpIHtcbiAgICAgICAgaWYgKGF3YWl0IGRldGVjdGlvbi50ZXN0KCkpIHtcbiAgICAgICAgICBmb3JtYXRzID0gYXdhaXQgZGV0ZWN0aW9uLmFkZChmb3JtYXRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlc29sdmVyLnByZWZlcih7XG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgZm9ybWF0OiBmb3JtYXRzLFxuICAgICAgICByZXNvbHV0aW9uXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgYWRkKGtleXNJbiwgYXNzZXRzSW4sIGRhdGEpIHtcbiAgICB0aGlzLnJlc29sdmVyLmFkZChrZXlzSW4sIGFzc2V0c0luLCBkYXRhKTtcbiAgfVxuICBhc3luYyBsb2FkKHVybHMsIG9uUHJvZ3Jlc3MpIHtcbiAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgY29uc3Qgc2luZ2xlQXNzZXQgPSBpc1NpbmdsZUl0ZW0odXJscyk7XG4gICAgY29uc3QgdXJsQXJyYXkgPSBjb252ZXJ0VG9MaXN0KHVybHMpLm1hcCgodXJsKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aGlzLnJlc29sdmVyLmFkZCh1cmwuc3JjLCB1cmwpO1xuICAgICAgICByZXR1cm4gdXJsLnNyYztcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cmw7XG4gICAgfSk7XG4gICAgY29uc3QgcmVzb2x2ZVJlc3VsdHMgPSB0aGlzLnJlc29sdmVyLnJlc29sdmUodXJsQXJyYXkpO1xuICAgIGNvbnN0IG91dCA9IGF3YWl0IHRoaXMuX21hcExvYWRUb1Jlc29sdmUocmVzb2x2ZVJlc3VsdHMsIG9uUHJvZ3Jlc3MpO1xuICAgIHJldHVybiBzaW5nbGVBc3NldCA/IG91dFt1cmxBcnJheVswXV0gOiBvdXQ7XG4gIH1cbiAgYWRkQnVuZGxlKGJ1bmRsZUlkLCBhc3NldHMpIHtcbiAgICB0aGlzLnJlc29sdmVyLmFkZEJ1bmRsZShidW5kbGVJZCwgYXNzZXRzKTtcbiAgfVxuICBhc3luYyBsb2FkQnVuZGxlKGJ1bmRsZUlkcywgb25Qcm9ncmVzcykge1xuICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBsZXQgc2luZ2xlQXNzZXQgPSBmYWxzZTtcbiAgICBpZiAodHlwZW9mIGJ1bmRsZUlkcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgc2luZ2xlQXNzZXQgPSB0cnVlO1xuICAgICAgYnVuZGxlSWRzID0gW2J1bmRsZUlkc107XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmVSZXN1bHRzID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlQnVuZGxlKGJ1bmRsZUlkcyk7XG4gICAgY29uc3Qgb3V0ID0ge307XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJlc29sdmVSZXN1bHRzKTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgY29uc3QgX29uUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgICBvblByb2dyZXNzPy4oKytjb3VudCAvIHRvdGFsKTtcbiAgICB9O1xuICAgIGNvbnN0IHByb21pc2VzID0ga2V5cy5tYXAoKGJ1bmRsZUlkKSA9PiB7XG4gICAgICBjb25zdCByZXNvbHZlUmVzdWx0ID0gcmVzb2x2ZVJlc3VsdHNbYnVuZGxlSWRdO1xuICAgICAgdG90YWwgKz0gT2JqZWN0LmtleXMocmVzb2x2ZVJlc3VsdCkubGVuZ3RoO1xuICAgICAgcmV0dXJuIHRoaXMuX21hcExvYWRUb1Jlc29sdmUocmVzb2x2ZVJlc3VsdCwgX29uUHJvZ3Jlc3MpLnRoZW4oKHJlc29sdmVSZXN1bHQyKSA9PiB7XG4gICAgICAgIG91dFtidW5kbGVJZF0gPSByZXNvbHZlUmVzdWx0MjtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICByZXR1cm4gc2luZ2xlQXNzZXQgPyBvdXRbYnVuZGxlSWRzWzBdXSA6IG91dDtcbiAgfVxuICBhc3luYyBiYWNrZ3JvdW5kTG9hZCh1cmxzKSB7XG4gICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdXJscyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdXJscyA9IFt1cmxzXTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZVJlc3VsdHMgPSB0aGlzLnJlc29sdmVyLnJlc29sdmUodXJscyk7XG4gICAgdGhpcy5fYmFja2dyb3VuZExvYWRlci5hZGQoT2JqZWN0LnZhbHVlcyhyZXNvbHZlUmVzdWx0cykpO1xuICB9XG4gIGFzeW5jIGJhY2tncm91bmRMb2FkQnVuZGxlKGJ1bmRsZUlkcykge1xuICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJ1bmRsZUlkcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgYnVuZGxlSWRzID0gW2J1bmRsZUlkc107XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmVSZXN1bHRzID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlQnVuZGxlKGJ1bmRsZUlkcyk7XG4gICAgT2JqZWN0LnZhbHVlcyhyZXNvbHZlUmVzdWx0cykuZm9yRWFjaCgocmVzb2x2ZVJlc3VsdCkgPT4ge1xuICAgICAgdGhpcy5fYmFja2dyb3VuZExvYWRlci5hZGQoT2JqZWN0LnZhbHVlcyhyZXNvbHZlUmVzdWx0KSk7XG4gICAgfSk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5yZXNvbHZlci5yZXNldCgpO1xuICAgIHRoaXMubG9hZGVyLnJlc2V0KCk7XG4gICAgdGhpcy5jYWNoZS5yZXNldCgpO1xuICAgIHRoaXMuX2luaXRpYWxpemVkID0gZmFsc2U7XG4gIH1cbiAgZ2V0KGtleXMpIHtcbiAgICBpZiAodHlwZW9mIGtleXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBDYWNoZS5nZXQoa2V5cyk7XG4gICAgfVxuICAgIGNvbnN0IGFzc2V0cyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXNzZXRzW2ldID0gQ2FjaGUuZ2V0KGtleXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYXNzZXRzO1xuICB9XG4gIGFzeW5jIF9tYXBMb2FkVG9SZXNvbHZlKHJlc29sdmVSZXN1bHRzLCBvblByb2dyZXNzKSB7XG4gICAgY29uc3QgcmVzb2x2ZUFycmF5ID0gT2JqZWN0LnZhbHVlcyhyZXNvbHZlUmVzdWx0cyk7XG4gICAgY29uc3QgcmVzb2x2ZUtleXMgPSBPYmplY3Qua2V5cyhyZXNvbHZlUmVzdWx0cyk7XG4gICAgdGhpcy5fYmFja2dyb3VuZExvYWRlci5hY3RpdmUgPSBmYWxzZTtcbiAgICBjb25zdCBsb2FkZWRBc3NldHMgPSBhd2FpdCB0aGlzLmxvYWRlci5sb2FkKHJlc29sdmVBcnJheSwgb25Qcm9ncmVzcyk7XG4gICAgdGhpcy5fYmFja2dyb3VuZExvYWRlci5hY3RpdmUgPSB0cnVlO1xuICAgIGNvbnN0IG91dCA9IHt9O1xuICAgIHJlc29sdmVBcnJheS5mb3JFYWNoKChyZXNvbHZlUmVzdWx0LCBpKSA9PiB7XG4gICAgICBjb25zdCBhc3NldCA9IGxvYWRlZEFzc2V0c1tyZXNvbHZlUmVzdWx0LnNyY107XG4gICAgICBjb25zdCBrZXlzID0gW3Jlc29sdmVSZXN1bHQuc3JjXTtcbiAgICAgIGlmIChyZXNvbHZlUmVzdWx0LmFsaWFzKSB7XG4gICAgICAgIGtleXMucHVzaCguLi5yZXNvbHZlUmVzdWx0LmFsaWFzKTtcbiAgICAgIH1cbiAgICAgIG91dFtyZXNvbHZlS2V5c1tpXV0gPSBhc3NldDtcbiAgICAgIENhY2hlLnNldChrZXlzLCBhc3NldCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICBhc3luYyB1bmxvYWQodXJscykge1xuICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBjb25zdCB1cmxBcnJheSA9IGNvbnZlcnRUb0xpc3QodXJscykubWFwKCh1cmwpID0+IHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIgPyB1cmwuc3JjIDogdXJsKTtcbiAgICBjb25zdCByZXNvbHZlUmVzdWx0cyA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZSh1cmxBcnJheSk7XG4gICAgYXdhaXQgdGhpcy5fdW5sb2FkRnJvbVJlc29sdmVkKHJlc29sdmVSZXN1bHRzKTtcbiAgfVxuICBhc3luYyB1bmxvYWRCdW5kbGUoYnVuZGxlSWRzKSB7XG4gICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGJ1bmRsZUlkcyA9IGNvbnZlcnRUb0xpc3QoYnVuZGxlSWRzKTtcbiAgICBjb25zdCByZXNvbHZlUmVzdWx0cyA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZUJ1bmRsZShidW5kbGVJZHMpO1xuICAgIGNvbnN0IHByb21pc2VzID0gT2JqZWN0LmtleXMocmVzb2x2ZVJlc3VsdHMpLm1hcCgoYnVuZGxlSWQpID0+IHRoaXMuX3VubG9hZEZyb21SZXNvbHZlZChyZXNvbHZlUmVzdWx0c1tidW5kbGVJZF0pKTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbiAgYXN5bmMgX3VubG9hZEZyb21SZXNvbHZlZChyZXNvbHZlUmVzdWx0KSB7XG4gICAgY29uc3QgcmVzb2x2ZUFycmF5ID0gT2JqZWN0LnZhbHVlcyhyZXNvbHZlUmVzdWx0KTtcbiAgICByZXNvbHZlQXJyYXkuZm9yRWFjaCgocmVzb2x2ZVJlc3VsdDIpID0+IHtcbiAgICAgIENhY2hlLnJlbW92ZShyZXNvbHZlUmVzdWx0Mi5zcmMpO1xuICAgIH0pO1xuICAgIGF3YWl0IHRoaXMubG9hZGVyLnVubG9hZChyZXNvbHZlQXJyYXkpO1xuICB9XG4gIGdldCBkZXRlY3Rpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9kZXRlY3Rpb25zO1xuICB9XG59XG5jb25zdCBBc3NldHMgPSBuZXcgQXNzZXRzQ2xhc3MoKTtcbmV4dGVuc2lvbnMuaGFuZGxlQnlMaXN0KEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlciwgQXNzZXRzLmxvYWRlci5wYXJzZXJzKS5oYW5kbGVCeUxpc3QoRXh0ZW5zaW9uVHlwZS5SZXNvbHZlUGFyc2VyLCBBc3NldHMucmVzb2x2ZXIucGFyc2VycykuaGFuZGxlQnlMaXN0KEV4dGVuc2lvblR5cGUuQ2FjaGVQYXJzZXIsIEFzc2V0cy5jYWNoZS5wYXJzZXJzKS5oYW5kbGVCeUxpc3QoRXh0ZW5zaW9uVHlwZS5EZXRlY3Rpb25QYXJzZXIsIEFzc2V0cy5kZXRlY3Rpb25zKTtcblxuZXhwb3J0IHsgQXNzZXRzLCBBc3NldHNDbGFzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNzZXRzLm1qcy5tYXBcbiIsImNsYXNzIEJhY2tncm91bmRMb2FkZXIge1xuICBjb25zdHJ1Y3Rvcihsb2FkZXIsIHZlcmJvc2UgPSBmYWxzZSkge1xuICAgIHRoaXMuX2xvYWRlciA9IGxvYWRlcjtcbiAgICB0aGlzLl9hc3NldExpc3QgPSBbXTtcbiAgICB0aGlzLl9pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9tYXhDb25jdXJyZW50ID0gMTtcbiAgICB0aGlzLnZlcmJvc2UgPSB2ZXJib3NlO1xuICB9XG4gIGFkZChhc3NldFVybHMpIHtcbiAgICBhc3NldFVybHMuZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgdGhpcy5fYXNzZXRMaXN0LnB1c2goYSk7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMudmVyYm9zZSlcbiAgICAgIGNvbnNvbGUubG9nKFwiW0JhY2tncm91bmRMb2FkZXJdIGFzc2V0czogXCIsIHRoaXMuX2Fzc2V0TGlzdCk7XG4gICAgaWYgKHRoaXMuX2lzQWN0aXZlICYmICF0aGlzLl9pc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX25leHQoKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgX25leHQoKSB7XG4gICAgaWYgKHRoaXMuX2Fzc2V0TGlzdC5sZW5ndGggJiYgdGhpcy5faXNBY3RpdmUpIHtcbiAgICAgIHRoaXMuX2lzTG9hZGluZyA9IHRydWU7XG4gICAgICBjb25zdCB0b0xvYWQgPSBbXTtcbiAgICAgIGNvbnN0IHRvTG9hZEFtb3VudCA9IE1hdGgubWluKHRoaXMuX2Fzc2V0TGlzdC5sZW5ndGgsIHRoaXMuX21heENvbmN1cnJlbnQpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b0xvYWRBbW91bnQ7IGkrKykge1xuICAgICAgICB0b0xvYWQucHVzaCh0aGlzLl9hc3NldExpc3QucG9wKCkpO1xuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy5fbG9hZGVyLmxvYWQodG9Mb2FkKTtcbiAgICAgIHRoaXMuX2lzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fbmV4dCgpO1xuICAgIH1cbiAgfVxuICBnZXQgYWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0FjdGl2ZTtcbiAgfVxuICBzZXQgYWN0aXZlKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2lzQWN0aXZlID09PSB2YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLl9pc0FjdGl2ZSA9IHZhbHVlO1xuICAgIGlmICh2YWx1ZSAmJiAhdGhpcy5faXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9uZXh0KCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEJhY2tncm91bmRMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhY2tncm91bmRMb2FkZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCAnLi4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IGNvbnZlcnRUb0xpc3QgfSBmcm9tICcuLi91dGlscy9jb252ZXJ0VG9MaXN0Lm1qcyc7XG5cbmNsYXNzIENhY2hlQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9wYXJzZXJzID0gW107XG4gICAgdGhpcy5fY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMuX2NhY2hlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLl9jYWNoZU1hcC5jbGVhcigpO1xuICAgIHRoaXMuX2NhY2hlLmNsZWFyKCk7XG4gIH1cbiAgaGFzKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZS5oYXMoa2V5KTtcbiAgfVxuICBnZXQoa2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fY2FjaGUuZ2V0KGtleSk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIGNvbnNvbGUud2FybihgW0Fzc2V0c10gQXNzZXQgaWQgJHtrZXl9IHdhcyBub3QgZm91bmQgaW4gdGhlIENhY2hlYCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCBrZXlzID0gY29udmVydFRvTGlzdChrZXkpO1xuICAgIGxldCBjYWNoZWFibGVBc3NldHM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnNlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2Vyc1tpXTtcbiAgICAgIGlmIChwYXJzZXIudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgY2FjaGVhYmxlQXNzZXRzID0gcGFyc2VyLmdldENhY2hlYWJsZUFzc2V0cyhrZXlzLCB2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWNhY2hlYWJsZUFzc2V0cykge1xuICAgICAgY2FjaGVhYmxlQXNzZXRzID0ge307XG4gICAgICBrZXlzLmZvckVhY2goKGtleTIpID0+IHtcbiAgICAgICAgY2FjaGVhYmxlQXNzZXRzW2tleTJdID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgY2FjaGVLZXlzID0gT2JqZWN0LmtleXMoY2FjaGVhYmxlQXNzZXRzKTtcbiAgICBjb25zdCBjYWNoZWRBc3NldHMgPSB7XG4gICAgICBjYWNoZUtleXMsXG4gICAgICBrZXlzXG4gICAgfTtcbiAgICBrZXlzLmZvckVhY2goKGtleTIpID0+IHtcbiAgICAgIHRoaXMuX2NhY2hlTWFwLnNldChrZXkyLCBjYWNoZWRBc3NldHMpO1xuICAgIH0pO1xuICAgIGNhY2hlS2V5cy5mb3JFYWNoKChrZXkyKSA9PiB7XG4gICAgICBpZiAodGhpcy5fY2FjaGUuaGFzKGtleTIpICYmIHRoaXMuX2NhY2hlLmdldChrZXkyKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiW0NhY2hlXSBhbHJlYWR5IGhhcyBrZXk6XCIsIGtleTIpO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FjaGUuc2V0KGtleTIsIGNhY2hlYWJsZUFzc2V0c1trZXkyXSk7XG4gICAgfSk7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgY29uc3QgdGV4dHVyZSA9IHZhbHVlO1xuICAgICAga2V5cy5mb3JFYWNoKChrZXkyKSA9PiB7XG4gICAgICAgIGlmICh0ZXh0dXJlLmJhc2VUZXh0dXJlICE9PSBUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBrZXkyKTtcbiAgICAgICAgfVxuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwga2V5Mik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmVtb3ZlKGtleSkge1xuICAgIHRoaXMuX2NhY2hlTWFwLmdldChrZXkpO1xuICAgIGlmICghdGhpcy5fY2FjaGVNYXAuaGFzKGtleSkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgW0Fzc2V0c10gQXNzZXQgaWQgJHtrZXl9IHdhcyBub3QgZm91bmQgaW4gdGhlIENhY2hlYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNhY2hlTWFwID0gdGhpcy5fY2FjaGVNYXAuZ2V0KGtleSk7XG4gICAgY29uc3QgY2FjaGVLZXlzID0gY2FjaGVNYXAuY2FjaGVLZXlzO1xuICAgIGNhY2hlS2V5cy5mb3JFYWNoKChrZXkyKSA9PiB7XG4gICAgICB0aGlzLl9jYWNoZS5kZWxldGUoa2V5Mik7XG4gICAgfSk7XG4gICAgY2FjaGVNYXAua2V5cy5mb3JFYWNoKChrZXkyKSA9PiB7XG4gICAgICB0aGlzLl9jYWNoZU1hcC5kZWxldGUoa2V5Mik7XG4gICAgfSk7XG4gIH1cbiAgZ2V0IHBhcnNlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlcnM7XG4gIH1cbn1cbmNvbnN0IENhY2hlID0gbmV3IENhY2hlQ2xhc3MoKTtcblxuZXhwb3J0IHsgQ2FjaGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhY2hlLm1qcy5tYXBcbiIsIlxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FjaGVQYXJzZXIubWpzLm1hcFxuIiwiZXhwb3J0IHsgQ2FjaGUgfSBmcm9tICcuL0NhY2hlLm1qcyc7XG5pbXBvcnQgJy4vcGFyc2Vycy9pbmRleC5tanMnO1xuaW1wb3J0ICcuL0NhY2hlUGFyc2VyLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBUZXh0dXJlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNvbnN0IGNhY2hlVGV4dHVyZUFycmF5ID0ge1xuICBleHRlbnNpb246IEV4dGVuc2lvblR5cGUuQ2FjaGVQYXJzZXIsXG4gIHRlc3Q6IChhc3NldCkgPT4gQXJyYXkuaXNBcnJheShhc3NldCkgJiYgYXNzZXQuZXZlcnkoKHQpID0+IHQgaW5zdGFuY2VvZiBUZXh0dXJlKSxcbiAgZ2V0Q2FjaGVhYmxlQXNzZXRzOiAoa2V5cywgYXNzZXQpID0+IHtcbiAgICBjb25zdCBvdXQgPSB7fTtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgYXNzZXQuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICBvdXRba2V5ICsgKGkgPT09IDAgPyBcIlwiIDogaSArIDEpXSA9IGl0ZW07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG59O1xuZXh0ZW5zaW9ucy5hZGQoY2FjaGVUZXh0dXJlQXJyYXkpO1xuXG5leHBvcnQgeyBjYWNoZVRleHR1cmVBcnJheSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGVUZXh0dXJlQXJyYXkubWpzLm1hcFxuIiwiZXhwb3J0IHsgY2FjaGVUZXh0dXJlQXJyYXkgfSBmcm9tICcuL2NhY2hlVGV4dHVyZUFycmF5Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgJy4vcGFyc2Vycy9pbmRleC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgc2V0dGluZ3MsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY29uc3QgZGV0ZWN0QXZpZiA9IHtcbiAgZXh0ZW5zaW9uOiB7XG4gICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5EZXRlY3Rpb25QYXJzZXIsXG4gICAgcHJpb3JpdHk6IDFcbiAgfSxcbiAgdGVzdDogYXN5bmMgKCkgPT4ge1xuICAgIGlmICghZ2xvYmFsVGhpcy5jcmVhdGVJbWFnZUJpdG1hcClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBhdmlmRGF0YSA9IFwiZGF0YTppbWFnZS9hdmlmO2Jhc2U2NCxBQUFBSUdaMGVYQmhkbWxtQUFBQUFHRjJhV1p0YVdZeGJXbGhaazFCTVVJQUFBRHliV1YwWVFBQUFBQUFBQUFvYUdSc2NnQUFBQUFBQUFBQWNHbGpkQUFBQUFBQUFBQUFBQUFBQUd4cFltRjJhV1lBQUFBQURuQnBkRzBBQUFBQUFBRUFBQUFlYVd4dll3QUFBQUJFQUFBQkFBRUFBQUFCQUFBQkdnQUFBQjBBQUFBb2FXbHVaZ0FBQUFBQUFRQUFBQnBwYm1abEFnQUFBQUFCQUFCaGRqQXhRMjlzYjNJQUFBQUFhbWx3Y25BQUFBQkxhWEJqYndBQUFCUnBjM0JsQUFBQUFBQUFBQUlBQUFBQ0FBQUFFSEJwZUdrQUFBQUFBd2dJQ0FBQUFBeGhkakZEZ1EwTUFBQUFBQk5qYjJ4eWJtTnNlQUFDQUFJQUFZQUFBQUFYYVhCdFlRQUFBQUFBQUFBQkFBRUVBUUtEQkFBQUFDVnRaR0YwRWdBS0NCZ0FOb2dRRUF3Z01nOGY4RC8vLzhXZmh3QjgrRXJLNDJBPVwiO1xuICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKGF2aWZEYXRhKS50aGVuKChyKSA9PiByLmJsb2IoKSk7XG4gICAgcmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKGJsb2IpLnRoZW4oKCkgPT4gdHJ1ZSwgKCkgPT4gZmFsc2UpO1xuICB9LFxuICBhZGQ6IGFzeW5jIChmb3JtYXRzKSA9PiBbLi4uZm9ybWF0cywgXCJhdmlmXCJdLFxuICByZW1vdmU6IGFzeW5jIChmb3JtYXRzKSA9PiBmb3JtYXRzLmZpbHRlcigoZikgPT4gZiAhPT0gXCJhdmlmXCIpXG59O1xuZXh0ZW5zaW9ucy5hZGQoZGV0ZWN0QXZpZik7XG5cbmV4cG9ydCB7IGRldGVjdEF2aWYgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRldGVjdEF2aWYubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBpbWFnZUZvcm1hdHMgPSBbXCJwbmdcIiwgXCJqcGdcIiwgXCJqcGVnXCJdO1xuY29uc3QgZGV0ZWN0RGVmYXVsdHMgPSB7XG4gIGV4dGVuc2lvbjoge1xuICAgIHR5cGU6IEV4dGVuc2lvblR5cGUuRGV0ZWN0aW9uUGFyc2VyLFxuICAgIHByaW9yaXR5OiAtMVxuICB9LFxuICB0ZXN0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUodHJ1ZSksXG4gIGFkZDogYXN5bmMgKGZvcm1hdHMpID0+IFsuLi5mb3JtYXRzLCAuLi5pbWFnZUZvcm1hdHNdLFxuICByZW1vdmU6IGFzeW5jIChmb3JtYXRzKSA9PiBmb3JtYXRzLmZpbHRlcigoZikgPT4gIWltYWdlRm9ybWF0cy5pbmNsdWRlcyhmKSlcbn07XG5leHRlbnNpb25zLmFkZChkZXRlY3REZWZhdWx0cyk7XG5cbmV4cG9ydCB7IGRldGVjdERlZmF1bHRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXRlY3REZWZhdWx0cy5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBzZXR0aW5ncywgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBkZXRlY3RXZWJwID0ge1xuICBleHRlbnNpb246IHtcbiAgICB0eXBlOiBFeHRlbnNpb25UeXBlLkRldGVjdGlvblBhcnNlcixcbiAgICBwcmlvcml0eTogMFxuICB9LFxuICB0ZXN0OiBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFnbG9iYWxUaGlzLmNyZWF0ZUltYWdlQml0bWFwKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHdlYnBEYXRhID0gXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaDRBQUFCWFJVSlFWbEE0VEJFQUFBQXZBQUFBQUFmUS8vNzN2LytCaU9oL0FBQT1cIjtcbiAgICBjb25zdCBibG9iID0gYXdhaXQgc2V0dGluZ3MuQURBUFRFUi5mZXRjaCh3ZWJwRGF0YSkudGhlbigocikgPT4gci5ibG9iKCkpO1xuICAgIHJldHVybiBjcmVhdGVJbWFnZUJpdG1hcChibG9iKS50aGVuKCgpID0+IHRydWUsICgpID0+IGZhbHNlKTtcbiAgfSxcbiAgYWRkOiBhc3luYyAoZm9ybWF0cykgPT4gWy4uLmZvcm1hdHMsIFwid2VicFwiXSxcbiAgcmVtb3ZlOiBhc3luYyAoZm9ybWF0cykgPT4gZm9ybWF0cy5maWx0ZXIoKGYpID0+IGYgIT09IFwid2VicFwiKVxufTtcbmV4dGVuc2lvbnMuYWRkKGRldGVjdFdlYnApO1xuXG5leHBvcnQgeyBkZXRlY3RXZWJwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXRlY3RXZWJwLm1qcy5tYXBcbiIsImV4cG9ydCB7IGRldGVjdEF2aWYgfSBmcm9tICcuL2RldGVjdEF2aWYubWpzJztcbmV4cG9ydCB7IGRldGVjdFdlYnAgfSBmcm9tICcuL2RldGVjdFdlYnAubWpzJztcbmV4cG9ydCB7IGRldGVjdERlZmF1bHRzIH0gZnJvbSAnLi9kZXRlY3REZWZhdWx0cy5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiZXhwb3J0IHsgQXNzZXRzLCBBc3NldHNDbGFzcyB9IGZyb20gJy4vQXNzZXRzLm1qcyc7XG5pbXBvcnQgJy4vQXNzZXRFeHRlbnNpb24ubWpzJztcbmltcG9ydCAnLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0ICcuL2NhY2hlL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4vbG9hZGVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4vcmVzb2x2ZXIvaW5kZXgubWpzJztcbmltcG9ydCAnLi9kZXRlY3Rpb25zL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBjaGVja0RhdGFVcmwgfSBmcm9tICcuL3V0aWxzL2NoZWNrRGF0YVVybC5tanMnO1xuZXhwb3J0IHsgY2hlY2tFeHRlbnNpb24gfSBmcm9tICcuL3V0aWxzL2NoZWNrRXh0ZW5zaW9uLm1qcyc7XG5leHBvcnQgeyBjb252ZXJ0VG9MaXN0IH0gZnJvbSAnLi91dGlscy9jb252ZXJ0VG9MaXN0Lm1qcyc7XG5leHBvcnQgeyBjcmVhdGVTdHJpbmdWYXJpYXRpb25zIH0gZnJvbSAnLi91dGlscy9jcmVhdGVTdHJpbmdWYXJpYXRpb25zLm1qcyc7XG5leHBvcnQgeyBpc1NpbmdsZUl0ZW0gfSBmcm9tICcuL3V0aWxzL2lzU2luZ2xlSXRlbS5tanMnO1xuZXhwb3J0IHsgQ2FjaGUgfSBmcm9tICcuL2NhY2hlL0NhY2hlLm1qcyc7XG5leHBvcnQgeyBjYWNoZVRleHR1cmVBcnJheSB9IGZyb20gJy4vY2FjaGUvcGFyc2Vycy9jYWNoZVRleHR1cmVBcnJheS5tanMnO1xuZXhwb3J0IHsgTG9hZGVyUGFyc2VyUHJpb3JpdHkgfSBmcm9tICcuL2xvYWRlci9wYXJzZXJzL0xvYWRlclBhcnNlci5tanMnO1xuZXhwb3J0IHsgbG9hZEpzb24gfSBmcm9tICcuL2xvYWRlci9wYXJzZXJzL2xvYWRKc29uLm1qcyc7XG5leHBvcnQgeyBsb2FkVHh0IH0gZnJvbSAnLi9sb2FkZXIvcGFyc2Vycy9sb2FkVHh0Lm1qcyc7XG5leHBvcnQgeyBnZXRGb250RmFtaWx5TmFtZSwgbG9hZFdlYkZvbnQgfSBmcm9tICcuL2xvYWRlci9wYXJzZXJzL2xvYWRXZWJGb250Lm1qcyc7XG5leHBvcnQgeyBsb2FkU1ZHIH0gZnJvbSAnLi9sb2FkZXIvcGFyc2Vycy90ZXh0dXJlcy9sb2FkU1ZHLm1qcyc7XG5leHBvcnQgeyBsb2FkSW1hZ2VCaXRtYXAsIGxvYWRUZXh0dXJlcyB9IGZyb20gJy4vbG9hZGVyL3BhcnNlcnMvdGV4dHVyZXMvbG9hZFRleHR1cmUubWpzJztcbmV4cG9ydCB7IGNyZWF0ZVRleHR1cmUgfSBmcm9tICcuL2xvYWRlci9wYXJzZXJzL3RleHR1cmVzL3V0aWxzL2NyZWF0ZVRleHR1cmUubWpzJztcbmV4cG9ydCB7IHJlc29sdmVUZXh0dXJlVXJsIH0gZnJvbSAnLi9yZXNvbHZlci9wYXJzZXJzL3Jlc29sdmVUZXh0dXJlVXJsLm1qcyc7XG5leHBvcnQgeyBkZXRlY3RBdmlmIH0gZnJvbSAnLi9kZXRlY3Rpb25zL3BhcnNlcnMvZGV0ZWN0QXZpZi5tanMnO1xuZXhwb3J0IHsgZGV0ZWN0V2VicCB9IGZyb20gJy4vZGV0ZWN0aW9ucy9wYXJzZXJzL2RldGVjdFdlYnAubWpzJztcbmV4cG9ydCB7IGRldGVjdERlZmF1bHRzIH0gZnJvbSAnLi9kZXRlY3Rpb25zL3BhcnNlcnMvZGV0ZWN0RGVmYXVsdHMubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IHV0aWxzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgJy4uL3V0aWxzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBpc1NpbmdsZUl0ZW0gfSBmcm9tICcuLi91dGlscy9pc1NpbmdsZUl0ZW0ubWpzJztcbmltcG9ydCB7IGNvbnZlcnRUb0xpc3QgfSBmcm9tICcuLi91dGlscy9jb252ZXJ0VG9MaXN0Lm1qcyc7XG5cbmNsYXNzIExvYWRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3BhcnNlcnMgPSBbXTtcbiAgICB0aGlzLnByb21pc2VDYWNoZSA9IHt9O1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucHJvbWlzZUNhY2hlID0ge307XG4gIH1cbiAgX2dldExvYWRQcm9taXNlQW5kUGFyc2VyKHVybCwgZGF0YSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIHByb21pc2U6IG51bGwsXG4gICAgICBwYXJzZXI6IG51bGxcbiAgICB9O1xuICAgIHJlc3VsdC5wcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBhc3NldCA9IG51bGw7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFyc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcnNbaV07XG4gICAgICAgIGlmIChwYXJzZXIubG9hZCAmJiBwYXJzZXIudGVzdD8uKHVybCwgZGF0YSwgdGhpcykpIHtcbiAgICAgICAgICBhc3NldCA9IGF3YWl0IHBhcnNlci5sb2FkKHVybCwgZGF0YSwgdGhpcyk7XG4gICAgICAgICAgcmVzdWx0LnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFyZXN1bHQucGFyc2VyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgW0Fzc2V0c10gJHt1cmx9IGNvdWxkIG5vdCBiZSBsb2FkZWQgYXMgd2UgZG9uJ3Qga25vdyBob3cgdG8gcGFyc2UgaXQsIGVuc3VyZSB0aGUgY29ycmVjdCBwYXJzZXIgaGFzIGJlaW5nIGFkZGVkYCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnNlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXJzW2ldO1xuICAgICAgICBpZiAocGFyc2VyLnBhcnNlKSB7XG4gICAgICAgICAgaWYgKHBhcnNlci5wYXJzZSAmJiBhd2FpdCBwYXJzZXIudGVzdFBhcnNlPy4oYXNzZXQsIGRhdGEsIHRoaXMpKSB7XG4gICAgICAgICAgICBhc3NldCA9IGF3YWl0IHBhcnNlci5wYXJzZShhc3NldCwgZGF0YSwgdGhpcykgfHwgYXNzZXQ7XG4gICAgICAgICAgICByZXN1bHQucGFyc2VyID0gcGFyc2VyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFzc2V0O1xuICAgIH0pKCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBhc3luYyBsb2FkKGFzc2V0c1RvTG9hZEluLCBvblByb2dyZXNzKSB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBjb25zdCBhc3NldHMgPSB7fTtcbiAgICBjb25zdCBzaW5nbGVBc3NldCA9IGlzU2luZ2xlSXRlbShhc3NldHNUb0xvYWRJbik7XG4gICAgY29uc3QgYXNzZXRzVG9Mb2FkID0gY29udmVydFRvTGlzdChhc3NldHNUb0xvYWRJbiwgKGl0ZW0pID0+ICh7XG4gICAgICBzcmM6IGl0ZW1cbiAgICB9KSk7XG4gICAgY29uc3QgdG90YWwgPSBhc3NldHNUb0xvYWQubGVuZ3RoO1xuICAgIGNvbnN0IHByb21pc2VzID0gYXNzZXRzVG9Mb2FkLm1hcChhc3luYyAoYXNzZXQpID0+IHtcbiAgICAgIGNvbnN0IHVybCA9IHV0aWxzLnBhdGgudG9BYnNvbHV0ZShhc3NldC5zcmMpO1xuICAgICAgaWYgKCFhc3NldHNbYXNzZXQuc3JjXSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghdGhpcy5wcm9taXNlQ2FjaGVbdXJsXSkge1xuICAgICAgICAgICAgdGhpcy5wcm9taXNlQ2FjaGVbdXJsXSA9IHRoaXMuX2dldExvYWRQcm9taXNlQW5kUGFyc2VyKHVybCwgYXNzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NldHNbYXNzZXQuc3JjXSA9IGF3YWl0IHRoaXMucHJvbWlzZUNhY2hlW3VybF0ucHJvbWlzZTtcbiAgICAgICAgICBpZiAob25Qcm9ncmVzcylcbiAgICAgICAgICAgIG9uUHJvZ3Jlc3MoKytjb3VudCAvIHRvdGFsKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb21pc2VDYWNoZVt1cmxdO1xuICAgICAgICAgIGRlbGV0ZSBhc3NldHNbYXNzZXQuc3JjXTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtMb2FkZXIubG9hZF0gRmFpbGVkIHRvIGxvYWQgJHt1cmx9LlxuJHtlfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIHJldHVybiBzaW5nbGVBc3NldCA/IGFzc2V0c1thc3NldHNUb0xvYWRbMF0uc3JjXSA6IGFzc2V0cztcbiAgfVxuICBhc3luYyB1bmxvYWQoYXNzZXRzVG9VbmxvYWRJbikge1xuICAgIGNvbnN0IGFzc2V0c1RvVW5sb2FkID0gY29udmVydFRvTGlzdChhc3NldHNUb1VubG9hZEluLCAoaXRlbSkgPT4gKHtcbiAgICAgIHNyYzogaXRlbVxuICAgIH0pKTtcbiAgICBjb25zdCBwcm9taXNlcyA9IGFzc2V0c1RvVW5sb2FkLm1hcChhc3luYyAoYXNzZXQpID0+IHtcbiAgICAgIGNvbnN0IHVybCA9IHV0aWxzLnBhdGgudG9BYnNvbHV0ZShhc3NldC5zcmMpO1xuICAgICAgY29uc3QgbG9hZFByb21pc2UgPSB0aGlzLnByb21pc2VDYWNoZVt1cmxdO1xuICAgICAgaWYgKGxvYWRQcm9taXNlKSB7XG4gICAgICAgIGNvbnN0IGxvYWRlZEFzc2V0ID0gYXdhaXQgbG9hZFByb21pc2UucHJvbWlzZTtcbiAgICAgICAgbG9hZFByb21pc2UucGFyc2VyPy51bmxvYWQ/Lihsb2FkZWRBc3NldCwgYXNzZXQsIHRoaXMpO1xuICAgICAgICBkZWxldGUgdGhpcy5wcm9taXNlQ2FjaGVbdXJsXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbiAgZ2V0IHBhcnNlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlcnM7XG4gIH1cbn1cblxuZXhwb3J0IHsgTG9hZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Mb2FkZXIubWpzLm1hcFxuIiwiaW1wb3J0ICcuL3R5cGVzLm1qcyc7XG5pbXBvcnQgJy4vcGFyc2Vycy9pbmRleC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwidmFyIExvYWRlclBhcnNlclByaW9yaXR5ID0gLyogQF9fUFVSRV9fICovICgoTG9hZGVyUGFyc2VyUHJpb3JpdHkyKSA9PiB7XG4gIExvYWRlclBhcnNlclByaW9yaXR5MltMb2FkZXJQYXJzZXJQcmlvcml0eTJbXCJMb3dcIl0gPSAwXSA9IFwiTG93XCI7XG4gIExvYWRlclBhcnNlclByaW9yaXR5MltMb2FkZXJQYXJzZXJQcmlvcml0eTJbXCJOb3JtYWxcIl0gPSAxXSA9IFwiTm9ybWFsXCI7XG4gIExvYWRlclBhcnNlclByaW9yaXR5MltMb2FkZXJQYXJzZXJQcmlvcml0eTJbXCJIaWdoXCJdID0gMl0gPSBcIkhpZ2hcIjtcbiAgcmV0dXJuIExvYWRlclBhcnNlclByaW9yaXR5Mjtcbn0pKExvYWRlclBhcnNlclByaW9yaXR5IHx8IHt9KTtcblxuZXhwb3J0IHsgTG9hZGVyUGFyc2VyUHJpb3JpdHkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvYWRlclBhcnNlci5tanMubWFwXG4iLCJsZXQgVVVJRCA9IDA7XG5sZXQgTUFYX1dPUktFUlM7XG5jb25zdCBXSElURV9QTkcgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBUUFBQUMxSEF3Q0FBQUFDMGxFUVZSNDJtUDgveDhBQXdNQ0FPK2lwMXNBQUFBQVNVVk9SSzVDWUlJPVwiO1xuY29uc3QgY2hlY2tJbWFnZUJpdG1hcENvZGUgPSB7XG4gIGlkOiBcImNoZWNrSW1hZ2VCaXRtYXBcIixcbiAgY29kZTogYFxuICAgIGFzeW5jIGZ1bmN0aW9uIGNoZWNrSW1hZ2VCaXRtYXAoKVxuICAgIHtcbiAgICAgICAgdHJ5XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXAgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnJHtXSElURV9QTkd9Jyk7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUJsb2IgPSAgYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VCaXRtYXAgPSBhd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChpbWFnZUJsb2IpO1xuXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VCaXRtYXAud2lkdGggPT09IDEgJiYgaW1hZ2VCaXRtYXAuaGVpZ2h0ID09PSAxO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hlY2tJbWFnZUJpdG1hcCgpLnRoZW4oKHJlc3VsdCkgPT4geyBzZWxmLnBvc3RNZXNzYWdlKHJlc3VsdCk7IH0pO1xuICAgIGBcbn07XG5jb25zdCB3b3JrZXJDb2RlID0ge1xuICBpZDogXCJsb2FkSW1hZ2VCaXRtYXBcIixcbiAgY29kZTogYFxuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZUJpdG1hcCh1cmwpXG4gICAge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxcYFtXb3JrZXJNYW5hZ2VyLmxvYWRJbWFnZUJpdG1hcF0gRmFpbGVkIHRvIGZldGNoIFxcJHt1cmx9OiBcXGBcbiAgICAgICAgICAgICAgICArIFxcYFxcJHtyZXNwb25zZS5zdGF0dXN9IFxcJHtyZXNwb25zZS5zdGF0dXNUZXh0fVxcYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbWFnZUJsb2IgPSAgYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICBjb25zdCBpbWFnZUJpdG1hcCA9IGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGltYWdlQmxvYik7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlQml0bWFwO1xuICAgIH1cbiAgICBzZWxmLm9ubWVzc2FnZSA9IGFzeW5jIChldmVudCkgPT5cbiAgICB7XG4gICAgICAgIHRyeVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUJpdG1hcCA9IGF3YWl0IGxvYWRJbWFnZUJpdG1hcChldmVudC5kYXRhLmRhdGFbMF0pO1xuXG4gICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBpbWFnZUJpdG1hcCxcbiAgICAgICAgICAgICAgICB1dWlkOiBldmVudC5kYXRhLnV1aWQsXG4gICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmRhdGEuaWQsXG4gICAgICAgICAgICB9LCBbaW1hZ2VCaXRtYXBdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaChlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBlcnJvcjogZSxcbiAgICAgICAgICAgICAgICB1dWlkOiBldmVudC5kYXRhLnV1aWQsXG4gICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmRhdGEuaWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07YFxufTtcbmxldCB3b3JrZXJVUkw7XG5jbGFzcyBXb3JrZXJNYW5hZ2VyQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMuX2NyZWF0ZWRXb3JrZXJzID0gMDtcbiAgICB0aGlzLndvcmtlclBvb2wgPSBbXTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgdGhpcy5yZXNvbHZlSGFzaCA9IHt9O1xuICB9XG4gIGlzSW1hZ2VCaXRtYXBTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHRoaXMuX2lzSW1hZ2VCaXRtYXBTdXBwb3J0ZWQgIT09IHZvaWQgMClcbiAgICAgIHJldHVybiB0aGlzLl9pc0ltYWdlQml0bWFwU3VwcG9ydGVkO1xuICAgIHRoaXMuX2lzSW1hZ2VCaXRtYXBTdXBwb3J0ZWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3Qgd29ya2VyVVJMMiA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2NoZWNrSW1hZ2VCaXRtYXBDb2RlLmNvZGVdLCB7IHR5cGU6IFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiIH0pKTtcbiAgICAgIGNvbnN0IHdvcmtlciA9IG5ldyBXb3JrZXIod29ya2VyVVJMMik7XG4gICAgICB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh3b3JrZXJVUkwyKTtcbiAgICAgICAgcmVzb2x2ZShldmVudC5kYXRhKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9pc0ltYWdlQml0bWFwU3VwcG9ydGVkO1xuICB9XG4gIGxvYWRJbWFnZUJpdG1hcChzcmMpIHtcbiAgICByZXR1cm4gdGhpcy5fcnVuKFwibG9hZEltYWdlQml0bWFwXCIsIFtzcmNdKTtcbiAgfVxuICBhc3luYyBfaW5pdFdvcmtlcnMoKSB7XG4gICAgaWYgKHRoaXMuX2luaXRpYWxpemVkKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuICBnZXRXb3JrZXIoKSB7XG4gICAgaWYgKE1BWF9XT1JLRVJTID09PSB2b2lkIDApIHtcbiAgICAgIE1BWF9XT1JLRVJTID0gbmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kgfHwgNDtcbiAgICB9XG4gICAgbGV0IHdvcmtlciA9IHRoaXMud29ya2VyUG9vbC5wb3AoKTtcbiAgICBpZiAoIXdvcmtlciAmJiB0aGlzLl9jcmVhdGVkV29ya2VycyA8IE1BWF9XT1JLRVJTKSB7XG4gICAgICBpZiAoIXdvcmtlclVSTCkge1xuICAgICAgICB3b3JrZXJVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFt3b3JrZXJDb2RlLmNvZGVdLCB7IHR5cGU6IFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiIH0pKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NyZWF0ZWRXb3JrZXJzKys7XG4gICAgICB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG4gICAgICB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuY29tcGxldGUoZXZlbnQuZGF0YSk7XG4gICAgICAgIHRoaXMucmV0dXJuV29ya2VyKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB3b3JrZXI7XG4gIH1cbiAgcmV0dXJuV29ya2VyKHdvcmtlcikge1xuICAgIHRoaXMud29ya2VyUG9vbC5wdXNoKHdvcmtlcik7XG4gIH1cbiAgY29tcGxldGUoZGF0YSkge1xuICAgIGlmIChkYXRhLmVycm9yICE9PSB2b2lkIDApIHtcbiAgICAgIHRoaXMucmVzb2x2ZUhhc2hbZGF0YS51dWlkXS5yZWplY3QoZGF0YS5lcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzb2x2ZUhhc2hbZGF0YS51dWlkXS5yZXNvbHZlKGRhdGEuZGF0YSk7XG4gICAgfVxuICAgIHRoaXMucmVzb2x2ZUhhc2hbZGF0YS51dWlkXSA9IG51bGw7XG4gIH1cbiAgYXN5bmMgX3J1bihpZCwgYXJncykge1xuICAgIGF3YWl0IHRoaXMuX2luaXRXb3JrZXJzKCk7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucXVldWUucHVzaCh7IGlkLCBhcmd1bWVudHM6IGFyZ3MsIHJlc29sdmUsIHJlamVjdCB9KTtcbiAgICB9KTtcbiAgICB0aGlzLm5leHQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuICBuZXh0KCkge1xuICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgd29ya2VyID0gdGhpcy5nZXRXb3JrZXIoKTtcbiAgICBpZiAoIXdvcmtlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0b0RvID0gdGhpcy5xdWV1ZS5wb3AoKTtcbiAgICBjb25zdCBpZCA9IHRvRG8uaWQ7XG4gICAgdGhpcy5yZXNvbHZlSGFzaFtVVUlEXSA9IHsgcmVzb2x2ZTogdG9Eby5yZXNvbHZlLCByZWplY3Q6IHRvRG8ucmVqZWN0IH07XG4gICAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgIGRhdGE6IHRvRG8uYXJndW1lbnRzLFxuICAgICAgdXVpZDogVVVJRCsrLFxuICAgICAgaWRcbiAgICB9KTtcbiAgfVxufVxuY29uc3QgV29ya2VyTWFuYWdlciA9IG5ldyBXb3JrZXJNYW5hZ2VyQ2xhc3MoKTtcblxuZXhwb3J0IHsgV29ya2VyTWFuYWdlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V29ya2VyTWFuYWdlci5tanMubWFwXG4iLCJleHBvcnQgeyBMb2FkZXJQYXJzZXJQcmlvcml0eSB9IGZyb20gJy4vTG9hZGVyUGFyc2VyLm1qcyc7XG5leHBvcnQgeyBsb2FkSnNvbiB9IGZyb20gJy4vbG9hZEpzb24ubWpzJztcbmV4cG9ydCB7IGxvYWRUeHQgfSBmcm9tICcuL2xvYWRUeHQubWpzJztcbmV4cG9ydCB7IGdldEZvbnRGYW1pbHlOYW1lLCBsb2FkV2ViRm9udCB9IGZyb20gJy4vbG9hZFdlYkZvbnQubWpzJztcbmltcG9ydCAnLi90ZXh0dXJlcy9pbmRleC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgdXRpbHMsIHNldHRpbmdzLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBMb2FkZXJQYXJzZXJQcmlvcml0eSB9IGZyb20gJy4vTG9hZGVyUGFyc2VyLm1qcyc7XG5cbmNvbnN0IGxvYWRKc29uID0ge1xuICBleHRlbnNpb246IHtcbiAgICB0eXBlOiBFeHRlbnNpb25UeXBlLkxvYWRQYXJzZXIsXG4gICAgcHJpb3JpdHk6IExvYWRlclBhcnNlclByaW9yaXR5Lkxvd1xuICB9LFxuICB0ZXN0KHVybCkge1xuICAgIHJldHVybiB1dGlscy5wYXRoLmV4dG5hbWUodXJsKS5pbmNsdWRlcyhcIi5qc29uXCIpO1xuICB9LFxuICBhc3luYyBsb2FkKHVybCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2V0dGluZ3MuQURBUFRFUi5mZXRjaCh1cmwpO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cbn07XG5leHRlbnNpb25zLmFkZChsb2FkSnNvbik7XG5cbmV4cG9ydCB7IGxvYWRKc29uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkSnNvbi5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCB1dGlscywgc2V0dGluZ3MsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IExvYWRlclBhcnNlclByaW9yaXR5IH0gZnJvbSAnLi9Mb2FkZXJQYXJzZXIubWpzJztcblxuY29uc3QgbG9hZFR4dCA9IHtcbiAgZXh0ZW5zaW9uOiB7XG4gICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIHByaW9yaXR5OiBMb2FkZXJQYXJzZXJQcmlvcml0eS5Mb3dcbiAgfSxcbiAgdGVzdCh1cmwpIHtcbiAgICByZXR1cm4gdXRpbHMucGF0aC5leHRuYW1lKHVybCkuaW5jbHVkZXMoXCIudHh0XCIpO1xuICB9LFxuICBhc3luYyBsb2FkKHVybCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2V0dGluZ3MuQURBUFRFUi5mZXRjaCh1cmwpO1xuICAgIGNvbnN0IHR4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICByZXR1cm4gdHh0O1xuICB9XG59O1xuZXh0ZW5zaW9ucy5hZGQobG9hZFR4dCk7XG5cbmV4cG9ydCB7IGxvYWRUeHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRUeHQubWpzLm1hcFxuIiwiaW1wb3J0IHsgdXRpbHMsIEV4dGVuc2lvblR5cGUsIHNldHRpbmdzLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBjaGVja0RhdGFVcmwgfSBmcm9tICcuLi8uLi91dGlscy9jaGVja0RhdGFVcmwubWpzJztcbmltcG9ydCB7IGNoZWNrRXh0ZW5zaW9uIH0gZnJvbSAnLi4vLi4vdXRpbHMvY2hlY2tFeHRlbnNpb24ubWpzJztcbmltcG9ydCB7IExvYWRlclBhcnNlclByaW9yaXR5IH0gZnJvbSAnLi9Mb2FkZXJQYXJzZXIubWpzJztcblxuY29uc3QgdmFsaWRXZWlnaHRzID0gW1xuICBcIm5vcm1hbFwiLFxuICBcImJvbGRcIixcbiAgXCIxMDBcIixcbiAgXCIyMDBcIixcbiAgXCIzMDBcIixcbiAgXCI0MDBcIixcbiAgXCI1MDBcIixcbiAgXCI2MDBcIixcbiAgXCI3MDBcIixcbiAgXCI4MDBcIixcbiAgXCI5MDBcIlxuXTtcbmNvbnN0IHZhbGlkRm9udEV4dGVuc2lvbnMgPSBbXCIudHRmXCIsIFwiLm90ZlwiLCBcIi53b2ZmXCIsIFwiLndvZmYyXCJdO1xuY29uc3QgdmFsaWRGb250TUlNRXMgPSBbXG4gIFwiZm9udC90dGZcIixcbiAgXCJmb250L290ZlwiLFxuICBcImZvbnQvd29mZlwiLFxuICBcImZvbnQvd29mZjJcIlxuXTtcbmZ1bmN0aW9uIGdldEZvbnRGYW1pbHlOYW1lKHVybCkge1xuICBjb25zdCBleHQgPSB1dGlscy5wYXRoLmV4dG5hbWUodXJsKTtcbiAgY29uc3QgbmFtZSA9IHV0aWxzLnBhdGguYmFzZW5hbWUodXJsLCBleHQpO1xuICBjb25zdCBuYW1lV2l0aFNwYWNlcyA9IG5hbWUucmVwbGFjZSgvKC18XykvZywgXCIgXCIpO1xuICBjb25zdCBuYW1lVGl0bGVDYXNlID0gbmFtZVdpdGhTcGFjZXMudG9Mb3dlckNhc2UoKS5zcGxpdChcIiBcIikubWFwKCh3b3JkKSA9PiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKSkuam9pbihcIiBcIik7XG4gIHJldHVybiBuYW1lVGl0bGVDYXNlO1xufVxuY29uc3QgbG9hZFdlYkZvbnQgPSB7XG4gIGV4dGVuc2lvbjoge1xuICAgIHR5cGU6IEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlcixcbiAgICBwcmlvcml0eTogTG9hZGVyUGFyc2VyUHJpb3JpdHkuTG93XG4gIH0sXG4gIHRlc3QodXJsKSB7XG4gICAgcmV0dXJuIGNoZWNrRGF0YVVybCh1cmwsIHZhbGlkRm9udE1JTUVzKSB8fCBjaGVja0V4dGVuc2lvbih1cmwsIHZhbGlkRm9udEV4dGVuc2lvbnMpO1xuICB9LFxuICBhc3luYyBsb2FkKHVybCwgb3B0aW9ucykge1xuICAgIGlmICghZ2xvYmFsVGhpcy5uYXZpZ2F0b3Iub25MaW5lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbbG9hZFdlYkZvbnRdIENhbm5vdCBsb2FkIGZvbnQgLSBuYXZpZ2F0b3IgaXMgb2ZmbGluZVwiKTtcbiAgICB9XG4gICAgY29uc3QgZm9udHMgPSBzZXR0aW5ncy5BREFQVEVSLmdldEZvbnRGYWNlU2V0KCk7XG4gICAgaWYgKGZvbnRzKSB7XG4gICAgICBjb25zdCBmb250RmFjZXMgPSBbXTtcbiAgICAgIGNvbnN0IG5hbWUgPSBvcHRpb25zLmRhdGE/LmZhbWlseSA/PyBnZXRGb250RmFtaWx5TmFtZSh1cmwpO1xuICAgICAgY29uc3Qgd2VpZ2h0cyA9IG9wdGlvbnMuZGF0YT8ud2VpZ2h0cz8uZmlsdGVyKCh3ZWlnaHQpID0+IHZhbGlkV2VpZ2h0cy5pbmNsdWRlcyh3ZWlnaHQpKSA/PyBbXCJub3JtYWxcIl07XG4gICAgICBjb25zdCBkYXRhID0gb3B0aW9ucy5kYXRhID8/IHt9O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHdlaWdodCA9IHdlaWdodHNbaV07XG4gICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UobmFtZSwgYHVybCgke2VuY29kZVVSSSh1cmwpfSlgLCB7XG4gICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICB3ZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IGZvbnQubG9hZCgpO1xuICAgICAgICBmb250cy5hZGQoZm9udCk7XG4gICAgICAgIGZvbnRGYWNlcy5wdXNoKGZvbnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZvbnRGYWNlcy5sZW5ndGggPT09IDEgPyBmb250RmFjZXNbMF0gOiBmb250RmFjZXM7XG4gICAgfVxuICAgIGNvbnNvbGUud2FybihcIltsb2FkV2ViRm9udF0gRm9udEZhY2UgQVBJIGlzIG5vdCBzdXBwb3J0ZWQuIFNraXBwaW5nIGxvYWRpbmcgZm9udFwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgdW5sb2FkKGZvbnQpIHtcbiAgICAoQXJyYXkuaXNBcnJheShmb250KSA/IGZvbnQgOiBbZm9udF0pLmZvckVhY2goKHQpID0+IHNldHRpbmdzLkFEQVBURVIuZ2V0Rm9udEZhY2VTZXQoKS5kZWxldGUodCkpO1xuICB9XG59O1xuZXh0ZW5zaW9ucy5hZGQobG9hZFdlYkZvbnQpO1xuXG5leHBvcnQgeyBnZXRGb250RmFtaWx5TmFtZSwgbG9hZFdlYkZvbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRXZWJGb250Lm1qcy5tYXBcbiIsImV4cG9ydCB7IGxvYWRTVkcgfSBmcm9tICcuL2xvYWRTVkcubWpzJztcbmV4cG9ydCB7IGxvYWRJbWFnZUJpdG1hcCwgbG9hZFRleHR1cmVzIH0gZnJvbSAnLi9sb2FkVGV4dHVyZS5tanMnO1xuaW1wb3J0ICcuL3V0aWxzL2luZGV4Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCB1dGlscywgU1ZHUmVzb3VyY2UsIEJhc2VUZXh0dXJlLCBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTG9hZGVyUGFyc2VyUHJpb3JpdHkgfSBmcm9tICcuLi9Mb2FkZXJQYXJzZXIubWpzJztcbmltcG9ydCB7IGxvYWRUZXh0dXJlcyB9IGZyb20gJy4vbG9hZFRleHR1cmUubWpzJztcbmltcG9ydCB7IGNyZWF0ZVRleHR1cmUgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZVRleHR1cmUubWpzJztcblxuY29uc3QgbG9hZFNWRyA9IHtcbiAgZXh0ZW5zaW9uOiB7XG4gICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIHByaW9yaXR5OiBMb2FkZXJQYXJzZXJQcmlvcml0eS5IaWdoXG4gIH0sXG4gIHRlc3QodXJsKSB7XG4gICAgcmV0dXJuIHV0aWxzLnBhdGguZXh0bmFtZSh1cmwpLmluY2x1ZGVzKFwiLnN2Z1wiKTtcbiAgfSxcbiAgYXN5bmMgdGVzdFBhcnNlKGRhdGEpIHtcbiAgICByZXR1cm4gU1ZHUmVzb3VyY2UudGVzdChkYXRhKTtcbiAgfSxcbiAgYXN5bmMgcGFyc2UoYXNzZXQsIGRhdGEsIGxvYWRlcikge1xuICAgIGNvbnN0IHNyYyA9IG5ldyBTVkdSZXNvdXJjZShhc3NldCwgZGF0YT8uZGF0YT8ucmVzb3VyY2VPcHRpb25zKTtcbiAgICBjb25zdCBiYXNlID0gbmV3IEJhc2VUZXh0dXJlKHNyYywge1xuICAgICAgcmVzb2x1dGlvbjogdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKGFzc2V0KSxcbiAgICAgIC4uLmRhdGE/LmRhdGFcbiAgICB9KTtcbiAgICBiYXNlLnJlc291cmNlLnNyYyA9IGFzc2V0O1xuICAgIGNvbnN0IHRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGJhc2UsIGxvYWRlciwgYXNzZXQpO1xuICAgIGlmICghZGF0YT8uZGF0YT8ucmVzb3VyY2VPcHRpb25zPy5hdXRvTG9hZCkge1xuICAgICAgYXdhaXQgc3JjLmxvYWQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHR1cmU7XG4gIH0sXG4gIGFzeW5jIGxvYWQodXJsLCBfb3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2V0dGluZ3MuQURBUFRFUi5mZXRjaCh1cmwpO1xuICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gIH0sXG4gIHVubG9hZDogbG9hZFRleHR1cmVzLnVubG9hZFxufTtcblxuZXhwb3J0IHsgbG9hZFNWRyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZFNWRy5tanMubWFwXG4iLCJpbXBvcnQgeyBzZXR0aW5ncywgRXh0ZW5zaW9uVHlwZSwgQmFzZVRleHR1cmUsIHV0aWxzLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBjaGVja0RhdGFVcmwgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jaGVja0RhdGFVcmwubWpzJztcbmltcG9ydCB7IGNoZWNrRXh0ZW5zaW9uIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY2hlY2tFeHRlbnNpb24ubWpzJztcbmltcG9ydCB7IExvYWRlclBhcnNlclByaW9yaXR5IH0gZnJvbSAnLi4vTG9hZGVyUGFyc2VyLm1qcyc7XG5pbXBvcnQgeyBXb3JrZXJNYW5hZ2VyIH0gZnJvbSAnLi4vV29ya2VyTWFuYWdlci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVGV4dHVyZSB9IGZyb20gJy4vdXRpbHMvY3JlYXRlVGV4dHVyZS5tanMnO1xuXG5jb25zdCB2YWxpZEltYWdlRXh0ZW5zaW9ucyA9IFtcIi5qcGVnXCIsIFwiLmpwZ1wiLCBcIi5wbmdcIiwgXCIud2VicFwiLCBcIi5hdmlmXCJdO1xuY29uc3QgdmFsaWRJbWFnZU1JTUVzID0gW1xuICBcImltYWdlL2pwZWdcIixcbiAgXCJpbWFnZS9wbmdcIixcbiAgXCJpbWFnZS93ZWJwXCIsXG4gIFwiaW1hZ2UvYXZpZlwiXG5dO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEltYWdlQml0bWFwKHVybCkge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNldHRpbmdzLkFEQVBURVIuZmV0Y2godXJsKTtcbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHRocm93IG5ldyBFcnJvcihgW2xvYWRJbWFnZUJpdG1hcF0gRmFpbGVkIHRvIGZldGNoICR7dXJsfTogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgfVxuICBjb25zdCBpbWFnZUJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gIGNvbnN0IGltYWdlQml0bWFwID0gYXdhaXQgY3JlYXRlSW1hZ2VCaXRtYXAoaW1hZ2VCbG9iKTtcbiAgcmV0dXJuIGltYWdlQml0bWFwO1xufVxuY29uc3QgbG9hZFRleHR1cmVzID0ge1xuICBleHRlbnNpb246IHtcbiAgICB0eXBlOiBFeHRlbnNpb25UeXBlLkxvYWRQYXJzZXIsXG4gICAgcHJpb3JpdHk6IExvYWRlclBhcnNlclByaW9yaXR5LkhpZ2hcbiAgfSxcbiAgY29uZmlnOiB7XG4gICAgcHJlZmVyV29ya2VyczogdHJ1ZVxuICB9LFxuICB0ZXN0KHVybCkge1xuICAgIHJldHVybiBjaGVja0RhdGFVcmwodXJsLCB2YWxpZEltYWdlTUlNRXMpIHx8IGNoZWNrRXh0ZW5zaW9uKHVybCwgdmFsaWRJbWFnZUV4dGVuc2lvbnMpO1xuICB9LFxuICBhc3luYyBsb2FkKHVybCwgYXNzZXQsIGxvYWRlcikge1xuICAgIGxldCBzcmMgPSBudWxsO1xuICAgIGlmIChnbG9iYWxUaGlzLmNyZWF0ZUltYWdlQml0bWFwKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcucHJlZmVyV29ya2VycyAmJiBhd2FpdCBXb3JrZXJNYW5hZ2VyLmlzSW1hZ2VCaXRtYXBTdXBwb3J0ZWQoKSkge1xuICAgICAgICBzcmMgPSBhd2FpdCBXb3JrZXJNYW5hZ2VyLmxvYWRJbWFnZUJpdG1hcCh1cmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3JjID0gYXdhaXQgbG9hZEltYWdlQml0bWFwKHVybCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNyYyA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHNyYyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBzcmMuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuICAgICAgICBzcmMuc3JjID0gdXJsO1xuICAgICAgICBpZiAoc3JjLmNvbXBsZXRlKSB7XG4gICAgICAgICAgcmVzb2x2ZShzcmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNyYy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHNyYyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGJhc2UgPSBuZXcgQmFzZVRleHR1cmUoc3JjLCB7XG4gICAgICByZXNvbHV0aW9uOiB1dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwodXJsKSxcbiAgICAgIC4uLmFzc2V0LmRhdGFcbiAgICB9KTtcbiAgICBiYXNlLnJlc291cmNlLnNyYyA9IHVybDtcbiAgICByZXR1cm4gY3JlYXRlVGV4dHVyZShiYXNlLCBsb2FkZXIsIHVybCk7XG4gIH0sXG4gIHVubG9hZCh0ZXh0dXJlKSB7XG4gICAgdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICB9XG59O1xuZXh0ZW5zaW9ucy5hZGQobG9hZFRleHR1cmVzKTtcblxuZXhwb3J0IHsgbG9hZEltYWdlQml0bWFwLCBsb2FkVGV4dHVyZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRUZXh0dXJlLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuZnVuY3Rpb24gY3JlYXRlVGV4dHVyZShiYXNlLCBsb2FkZXIsIHVybCkge1xuICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoYmFzZSk7XG4gIHRleHR1cmUuYmFzZVRleHR1cmUub24oXCJkaXNwb3NlXCIsICgpID0+IHtcbiAgICBkZWxldGUgbG9hZGVyLnByb21pc2VDYWNoZVt1cmxdO1xuICB9KTtcbiAgcmV0dXJuIHRleHR1cmU7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVRleHR1cmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZVRleHR1cmUubWpzLm1hcFxuIiwiZXhwb3J0IHsgY3JlYXRlVGV4dHVyZSB9IGZyb20gJy4vY3JlYXRlVGV4dHVyZS5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5tanMubWFwXG4iLCJpbXBvcnQgeyB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgY29udmVydFRvTGlzdCB9IGZyb20gJy4uL3V0aWxzL2NvbnZlcnRUb0xpc3QubWpzJztcbmltcG9ydCB7IGNyZWF0ZVN0cmluZ1ZhcmlhdGlvbnMgfSBmcm9tICcuLi91dGlscy9jcmVhdGVTdHJpbmdWYXJpYXRpb25zLm1qcyc7XG5pbXBvcnQgeyBpc1NpbmdsZUl0ZW0gfSBmcm9tICcuLi91dGlscy9pc1NpbmdsZUl0ZW0ubWpzJztcblxuY2xhc3MgUmVzb2x2ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9hc3NldE1hcCA9IHt9O1xuICAgIHRoaXMuX3ByZWZlcnJlZE9yZGVyID0gW107XG4gICAgdGhpcy5fcGFyc2VycyA9IFtdO1xuICAgIHRoaXMuX3Jlc29sdmVySGFzaCA9IHt9O1xuICAgIHRoaXMuX2J1bmRsZXMgPSB7fTtcbiAgfVxuICBwcmVmZXIoLi4ucHJlZmVyT3JkZXJzKSB7XG4gICAgcHJlZmVyT3JkZXJzLmZvckVhY2goKHByZWZlcikgPT4ge1xuICAgICAgdGhpcy5fcHJlZmVycmVkT3JkZXIucHVzaChwcmVmZXIpO1xuICAgICAgaWYgKCFwcmVmZXIucHJpb3JpdHkpIHtcbiAgICAgICAgcHJlZmVyLnByaW9yaXR5ID0gT2JqZWN0LmtleXMocHJlZmVyLnBhcmFtcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fcmVzb2x2ZXJIYXNoID0ge307XG4gIH1cbiAgc2V0IGJhc2VQYXRoKGJhc2VQYXRoKSB7XG4gICAgdGhpcy5fYmFzZVBhdGggPSBiYXNlUGF0aDtcbiAgfVxuICBnZXQgYmFzZVBhdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jhc2VQYXRoO1xuICB9XG4gIHNldCByb290UGF0aChyb290UGF0aCkge1xuICAgIHRoaXMuX3Jvb3RQYXRoID0gcm9vdFBhdGg7XG4gIH1cbiAgZ2V0IHJvb3RQYXRoKCkge1xuICAgIHJldHVybiB0aGlzLl9yb290UGF0aDtcbiAgfVxuICBnZXQgcGFyc2VycygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyc2VycztcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLl9wcmVmZXJyZWRPcmRlciA9IFtdO1xuICAgIHRoaXMuX3Jlc29sdmVySGFzaCA9IHt9O1xuICAgIHRoaXMuX2Fzc2V0TWFwID0ge307XG4gICAgdGhpcy5fcm9vdFBhdGggPSBudWxsO1xuICAgIHRoaXMuX2Jhc2VQYXRoID0gbnVsbDtcbiAgICB0aGlzLl9tYW5pZmVzdCA9IG51bGw7XG4gIH1cbiAgYWRkTWFuaWZlc3QobWFuaWZlc3QpIHtcbiAgICBpZiAodGhpcy5fbWFuaWZlc3QpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltSZXNvbHZlcl0gTWFuaWZlc3QgYWxyZWFkeSBleGlzdHMsIHRoaXMgd2lsbCBiZSBvdmVyd3JpdHRlblwiKTtcbiAgICB9XG4gICAgdGhpcy5fbWFuaWZlc3QgPSBtYW5pZmVzdDtcbiAgICBtYW5pZmVzdC5idW5kbGVzLmZvckVhY2goKGJ1bmRsZSkgPT4ge1xuICAgICAgdGhpcy5hZGRCdW5kbGUoYnVuZGxlLm5hbWUsIGJ1bmRsZS5hc3NldHMpO1xuICAgIH0pO1xuICB9XG4gIGFkZEJ1bmRsZShidW5kbGVJZCwgYXNzZXRzKSB7XG4gICAgY29uc3QgYXNzZXROYW1lcyA9IFtdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFzc2V0cykpIHtcbiAgICAgIGFzc2V0cy5mb3JFYWNoKChhc3NldCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFzc2V0Lm5hbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBhc3NldE5hbWVzLnB1c2goYXNzZXQubmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzZXROYW1lcy5wdXNoKC4uLmFzc2V0Lm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkKGFzc2V0Lm5hbWUsIGFzc2V0LnNyY3MpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5rZXlzKGFzc2V0cykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGFzc2V0TmFtZXMucHVzaChrZXkpO1xuICAgICAgICB0aGlzLmFkZChrZXksIGFzc2V0c1trZXldKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl9idW5kbGVzW2J1bmRsZUlkXSA9IGFzc2V0TmFtZXM7XG4gIH1cbiAgYWRkKGtleXNJbiwgYXNzZXRzSW4sIGRhdGEpIHtcbiAgICBjb25zdCBrZXlzID0gY29udmVydFRvTGlzdChrZXlzSW4pO1xuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAodGhpcy5fYXNzZXRNYXBba2V5XSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFtSZXNvbHZlcl0gYWxyZWFkeSBoYXMga2V5OiAke2tleX0gb3ZlcndyaXRpbmdgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXNzZXRzSW4pKSB7XG4gICAgICBpZiAodHlwZW9mIGFzc2V0c0luID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGFzc2V0c0luID0gY3JlYXRlU3RyaW5nVmFyaWF0aW9ucyhhc3NldHNJbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NldHNJbiA9IFthc3NldHNJbl07XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFzc2V0TWFwID0gYXNzZXRzSW4ubWFwKChhc3NldCkgPT4ge1xuICAgICAgbGV0IGZvcm1hdHRlZEFzc2V0ID0gYXNzZXQ7XG4gICAgICBpZiAodHlwZW9mIGFzc2V0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGxldCBwYXJzZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYXJzZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VyID0gdGhpcy5fcGFyc2Vyc1tpXTtcbiAgICAgICAgICBpZiAocGFyc2VyLnRlc3QoYXNzZXQpKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRBc3NldCA9IHBhcnNlci5wYXJzZShhc3NldCk7XG4gICAgICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyc2VkKSB7XG4gICAgICAgICAgZm9ybWF0dGVkQXNzZXQgPSB7XG4gICAgICAgICAgICBzcmM6IGFzc2V0XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFmb3JtYXR0ZWRBc3NldC5mb3JtYXQpIHtcbiAgICAgICAgZm9ybWF0dGVkQXNzZXQuZm9ybWF0ID0gZm9ybWF0dGVkQXNzZXQuc3JjLnNwbGl0KFwiLlwiKS5wb3AoKTtcbiAgICAgIH1cbiAgICAgIGlmICghZm9ybWF0dGVkQXNzZXQuYWxpYXMpIHtcbiAgICAgICAgZm9ybWF0dGVkQXNzZXQuYWxpYXMgPSBrZXlzO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2Jhc2VQYXRoIHx8IHRoaXMuX3Jvb3RQYXRoKSB7XG4gICAgICAgIGZvcm1hdHRlZEFzc2V0LnNyYyA9IHV0aWxzLnBhdGgudG9BYnNvbHV0ZShmb3JtYXR0ZWRBc3NldC5zcmMsIHRoaXMuX2Jhc2VQYXRoLCB0aGlzLl9yb290UGF0aCk7XG4gICAgICB9XG4gICAgICBmb3JtYXR0ZWRBc3NldC5kYXRhID0gZm9ybWF0dGVkQXNzZXQuZGF0YSA/PyBkYXRhO1xuICAgICAgcmV0dXJuIGZvcm1hdHRlZEFzc2V0O1xuICAgIH0pO1xuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICB0aGlzLl9hc3NldE1hcFtrZXldID0gYXNzZXRNYXA7XG4gICAgfSk7XG4gIH1cbiAgcmVzb2x2ZUJ1bmRsZShidW5kbGVJZHMpIHtcbiAgICBjb25zdCBzaW5nbGVBc3NldCA9IGlzU2luZ2xlSXRlbShidW5kbGVJZHMpO1xuICAgIGJ1bmRsZUlkcyA9IGNvbnZlcnRUb0xpc3QoYnVuZGxlSWRzKTtcbiAgICBjb25zdCBvdXQgPSB7fTtcbiAgICBidW5kbGVJZHMuZm9yRWFjaCgoYnVuZGxlSWQpID0+IHtcbiAgICAgIGNvbnN0IGFzc2V0TmFtZXMgPSB0aGlzLl9idW5kbGVzW2J1bmRsZUlkXTtcbiAgICAgIGlmIChhc3NldE5hbWVzKSB7XG4gICAgICAgIG91dFtidW5kbGVJZF0gPSB0aGlzLnJlc29sdmUoYXNzZXROYW1lcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHNpbmdsZUFzc2V0ID8gb3V0W2J1bmRsZUlkc1swXV0gOiBvdXQ7XG4gIH1cbiAgcmVzb2x2ZVVybChrZXkpIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc29sdmUoa2V5KTtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3Qgb3V0ID0ge307XG4gICAgICBmb3IgKGNvbnN0IGkgaW4gcmVzdWx0KSB7XG4gICAgICAgIG91dFtpXSA9IHJlc3VsdFtpXS5zcmM7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnNyYztcbiAgfVxuICByZXNvbHZlKGtleXMpIHtcbiAgICBjb25zdCBzaW5nbGVBc3NldCA9IGlzU2luZ2xlSXRlbShrZXlzKTtcbiAgICBrZXlzID0gY29udmVydFRvTGlzdChrZXlzKTtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9yZXNvbHZlckhhc2hba2V5XSkge1xuICAgICAgICBpZiAodGhpcy5fYXNzZXRNYXBba2V5XSkge1xuICAgICAgICAgIGxldCBhc3NldHMgPSB0aGlzLl9hc3NldE1hcFtrZXldO1xuICAgICAgICAgIGNvbnN0IHByZWZlcnJlZE9yZGVyID0gdGhpcy5fZ2V0UHJlZmVycmVkT3JkZXIoYXNzZXRzKTtcbiAgICAgICAgICBjb25zdCBiZXN0QXNzZXQgPSBhc3NldHNbMF07XG4gICAgICAgICAgcHJlZmVycmVkT3JkZXI/LnByaW9yaXR5LmZvckVhY2goKHByaW9yaXR5S2V5KSA9PiB7XG4gICAgICAgICAgICBwcmVmZXJyZWRPcmRlci5wYXJhbXNbcHJpb3JpdHlLZXldLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkQXNzZXRzID0gYXNzZXRzLmZpbHRlcigoYXNzZXQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXRbcHJpb3JpdHlLZXldKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXNzZXRbcHJpb3JpdHlLZXldID09PSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkQXNzZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGFzc2V0cyA9IGZpbHRlcmVkQXNzZXRzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLl9yZXNvbHZlckhhc2hba2V5XSA9IGFzc2V0c1swXSA/PyBiZXN0QXNzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IHNyYyA9IGtleTtcbiAgICAgICAgICBpZiAodGhpcy5fYmFzZVBhdGggfHwgdGhpcy5fcm9vdFBhdGgpIHtcbiAgICAgICAgICAgIHNyYyA9IHV0aWxzLnBhdGgudG9BYnNvbHV0ZShzcmMsIHRoaXMuX2Jhc2VQYXRoLCB0aGlzLl9yb290UGF0aCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3Jlc29sdmVySGFzaFtrZXldID0ge1xuICAgICAgICAgICAgc3JjXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0W2tleV0gPSB0aGlzLl9yZXNvbHZlckhhc2hba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2luZ2xlQXNzZXQgPyByZXN1bHRba2V5c1swXV0gOiByZXN1bHQ7XG4gIH1cbiAgX2dldFByZWZlcnJlZE9yZGVyKGFzc2V0cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBhc3NldCA9IGFzc2V0c1swXTtcbiAgICAgIGNvbnN0IHByZWZlcnJlZCA9IHRoaXMuX3ByZWZlcnJlZE9yZGVyLmZpbmQoKHByZWZlcmVuY2UpID0+IHByZWZlcmVuY2UucGFyYW1zLmZvcm1hdC5pbmNsdWRlcyhhc3NldC5mb3JtYXQpKTtcbiAgICAgIGlmIChwcmVmZXJyZWQpIHtcbiAgICAgICAgcmV0dXJuIHByZWZlcnJlZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3ByZWZlcnJlZE9yZGVyWzBdO1xuICB9XG59XG5cbmV4cG9ydCB7IFJlc29sdmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNvbHZlci5tanMubWFwXG4iLCJpbXBvcnQgJy4vdHlwZXMubWpzJztcbmltcG9ydCAnLi9wYXJzZXJzL2luZGV4Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJleHBvcnQgeyByZXNvbHZlVGV4dHVyZVVybCB9IGZyb20gJy4vcmVzb2x2ZVRleHR1cmVVcmwubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIHNldHRpbmdzLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgJy4uLy4uL2xvYWRlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgbG9hZFRleHR1cmVzIH0gZnJvbSAnLi4vLi4vbG9hZGVyL3BhcnNlcnMvdGV4dHVyZXMvbG9hZFRleHR1cmUubWpzJztcblxuY29uc3QgcmVzb2x2ZVRleHR1cmVVcmwgPSB7XG4gIGV4dGVuc2lvbjogRXh0ZW5zaW9uVHlwZS5SZXNvbHZlUGFyc2VyLFxuICB0ZXN0OiBsb2FkVGV4dHVyZXMudGVzdCxcbiAgcGFyc2U6ICh2YWx1ZSkgPT4gKHtcbiAgICByZXNvbHV0aW9uOiBwYXJzZUZsb2F0KHNldHRpbmdzLlJFVElOQV9QUkVGSVguZXhlYyh2YWx1ZSk/LlsxXSA/PyBcIjFcIiksXG4gICAgZm9ybWF0OiB2YWx1ZS5zcGxpdChcIi5cIikucG9wKCksXG4gICAgc3JjOiB2YWx1ZVxuICB9KVxufTtcbmV4dGVuc2lvbnMuYWRkKHJlc29sdmVUZXh0dXJlVXJsKTtcblxuZXhwb3J0IHsgcmVzb2x2ZVRleHR1cmVVcmwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVUZXh0dXJlVXJsLm1qcy5tYXBcbiIsIlxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMubWpzLm1hcFxuIiwiZnVuY3Rpb24gY2hlY2tEYXRhVXJsKHVybCwgbWltZXMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkobWltZXMpKSB7XG4gICAgZm9yIChjb25zdCBtaW1lIG9mIG1pbWVzKSB7XG4gICAgICBpZiAodXJsLnN0YXJ0c1dpdGgoYGRhdGE6JHttaW1lfWApKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB1cmwuc3RhcnRzV2l0aChgZGF0YToke21pbWVzfWApO1xufVxuXG5leHBvcnQgeyBjaGVja0RhdGFVcmwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrRGF0YVVybC5tanMubWFwXG4iLCJpbXBvcnQgeyB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5mdW5jdGlvbiBjaGVja0V4dGVuc2lvbih1cmwsIGV4dGVuc2lvbikge1xuICBjb25zdCB0ZW1wVVJMID0gdXJsLnNwbGl0KFwiP1wiKVswXTtcbiAgY29uc3QgZXh0ID0gdXRpbHMucGF0aC5leHRuYW1lKHRlbXBVUkwpLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChBcnJheS5pc0FycmF5KGV4dGVuc2lvbikpIHtcbiAgICByZXR1cm4gZXh0ZW5zaW9uLmluY2x1ZGVzKGV4dC50b0xvd2VyQ2FzZSgpKTtcbiAgfVxuICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCkgPT09IGV4dGVuc2lvbjtcbn1cblxuZXhwb3J0IHsgY2hlY2tFeHRlbnNpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrRXh0ZW5zaW9uLm1qcy5tYXBcbiIsImNvbnN0IGNvbnZlcnRUb0xpc3QgPSAoaW5wdXQsIHRyYW5zZm9ybSkgPT4ge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgaW5wdXQgPSBbaW5wdXRdO1xuICB9XG4gIGlmICghdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG4gIHJldHVybiBpbnB1dC5tYXAoKGl0ZW0pID0+IHtcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm0oaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IGNvbnZlcnRUb0xpc3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnZlcnRUb0xpc3QubWpzLm1hcFxuIiwiZnVuY3Rpb24gcHJvY2Vzc1goYmFzZSwgaWRzLCBkZXB0aCwgcmVzdWx0LCB0YWdzKSB7XG4gIGNvbnN0IGlkID0gaWRzW2RlcHRoXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gaWRbaV07XG4gICAgaWYgKGRlcHRoIDwgaWRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHByb2Nlc3NYKGJhc2UucmVwbGFjZShyZXN1bHRbZGVwdGhdLCB2YWx1ZSksIGlkcywgZGVwdGggKyAxLCByZXN1bHQsIHRhZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWdzLnB1c2goYmFzZS5yZXBsYWNlKHJlc3VsdFtkZXB0aF0sIHZhbHVlKSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVTdHJpbmdWYXJpYXRpb25zKHN0cmluZykge1xuICBjb25zdCByZWdleCA9IC9cXHsoLio/KVxcfS9nO1xuICBjb25zdCByZXN1bHQgPSBzdHJpbmcubWF0Y2gocmVnZXgpO1xuICBjb25zdCB0YWdzID0gW107XG4gIGlmIChyZXN1bHQpIHtcbiAgICBjb25zdCBpZHMgPSBbXTtcbiAgICByZXN1bHQuZm9yRWFjaCgodmFycykgPT4ge1xuICAgICAgY29uc3Qgc3BsaXQgPSB2YXJzLnN1YnN0cmluZygxLCB2YXJzLmxlbmd0aCAtIDEpLnNwbGl0KFwiLFwiKTtcbiAgICAgIGlkcy5wdXNoKHNwbGl0KTtcbiAgICB9KTtcbiAgICBwcm9jZXNzWChzdHJpbmcsIGlkcywgMCwgcmVzdWx0LCB0YWdzKTtcbiAgfSBlbHNlIHtcbiAgICB0YWdzLnB1c2goc3RyaW5nKTtcbiAgfVxuICByZXR1cm4gdGFncztcbn1cblxuZXhwb3J0IHsgY3JlYXRlU3RyaW5nVmFyaWF0aW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlU3RyaW5nVmFyaWF0aW9ucy5tanMubWFwXG4iLCJleHBvcnQgeyBjaGVja0RhdGFVcmwgfSBmcm9tICcuL2NoZWNrRGF0YVVybC5tanMnO1xuZXhwb3J0IHsgY2hlY2tFeHRlbnNpb24gfSBmcm9tICcuL2NoZWNrRXh0ZW5zaW9uLm1qcyc7XG5leHBvcnQgeyBjb252ZXJ0VG9MaXN0IH0gZnJvbSAnLi9jb252ZXJ0VG9MaXN0Lm1qcyc7XG5leHBvcnQgeyBjcmVhdGVTdHJpbmdWYXJpYXRpb25zIH0gZnJvbSAnLi9jcmVhdGVTdHJpbmdWYXJpYXRpb25zLm1qcyc7XG5leHBvcnQgeyBpc1NpbmdsZUl0ZW0gfSBmcm9tICcuL2lzU2luZ2xlSXRlbS5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiY29uc3QgaXNTaW5nbGVJdGVtID0gKGl0ZW0pID0+ICFBcnJheS5pc0FycmF5KGl0ZW0pO1xuXG5leHBvcnQgeyBpc1NpbmdsZUl0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2luZ2xlSXRlbS5tanMubWFwXG4iLCJ2YXIgSU5URVJOQUxfRk9STUFUUyA9IC8qIEBfX1BVUkVfXyAqLyAoKElOVEVSTkFMX0ZPUk1BVFMyKSA9PiB7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVFwiXSA9IDMzNzc2XSA9IFwiQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUXCJdID0gMzM3NzddID0gXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUXCJdID0gMzM3NzhdID0gXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUXCJdID0gMzM3NzldID0gXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUXCJdID0gMzU5MTddID0gXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDNfRVhUXCJdID0gMzU5MThdID0gXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUXCJdID0gMzU5MTldID0gXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUXCJdID0gMzU5MTZdID0gXCJDT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVFwiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUjExX0VBQ1wiXSA9IDM3NDg4XSA9IFwiQ09NUFJFU1NFRF9SMTFfRUFDXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQ1wiXSA9IDM3NDg5XSA9IFwiQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQ1wiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkcxMV9FQUNcIl0gPSAzNzQ5MF0gPSBcIkNPTVBSRVNTRURfUkcxMV9FQUNcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1NJR05FRF9SRzExX0VBQ1wiXSA9IDM3NDkxXSA9IFwiQ09NUFJFU1NFRF9TSUdORURfUkcxMV9FQUNcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQjhfRVRDMlwiXSA9IDM3NDkyXSA9IFwiQ09NUFJFU1NFRF9SR0I4X0VUQzJcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDXCJdID0gMzc0OTZdID0gXCJDT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9TUkdCOF9FVEMyXCJdID0gMzc0OTNdID0gXCJDT01QUkVTU0VEX1NSR0I4X0VUQzJcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQ1wiXSA9IDM3NDk3XSA9IFwiQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUNcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyXCJdID0gMzc0OTRdID0gXCJDT01QUkVTU0VEX1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9TUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzJcIl0gPSAzNzQ5NV0gPSBcIkNPTVBSRVNTRURfU1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNR1wiXSA9IDM1ODQwXSA9IFwiQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNR1wiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HXCJdID0gMzU4NDJdID0gXCJDT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNR1wiO1xuICBJTlRFUk5BTF9GT1JNQVRTMltJTlRFUk5BTF9GT1JNQVRTMltcIkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUdcIl0gPSAzNTg0MV0gPSBcIkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUdcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQkFfUFZSVENfMkJQUFYxX0lNR1wiXSA9IDM1ODQzXSA9IFwiQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzJCUFBWMV9JTUdcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMXCJdID0gMzYxOTZdID0gXCJDT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0JfQVRDX1dFQkdMXCJdID0gMzU5ODZdID0gXCJDT01QUkVTU0VEX1JHQl9BVENfV0VCR0xcIjtcbiAgSU5URVJOQUxfRk9STUFUUzJbSU5URVJOQUxfRk9STUFUUzJbXCJDT01QUkVTU0VEX1JHQkFfQVRDX0VYUExJQ0lUX0FMUEhBX1dFQkdMXCJdID0gMzU5ODZdID0gXCJDT01QUkVTU0VEX1JHQkFfQVRDX0VYUExJQ0lUX0FMUEhBX1dFQkdMXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0JBX0FUQ19JTlRFUlBPTEFURURfQUxQSEFfV0VCR0xcIl0gPSAzNDc5OF0gPSBcIkNPTVBSRVNTRURfUkdCQV9BVENfSU5URVJQT0xBVEVEX0FMUEhBX1dFQkdMXCI7XG4gIElOVEVSTkFMX0ZPUk1BVFMyW0lOVEVSTkFMX0ZPUk1BVFMyW1wiQ09NUFJFU1NFRF9SR0JBX0FTVENfNHg0X0tIUlwiXSA9IDM3ODA4XSA9IFwiQ09NUFJFU1NFRF9SR0JBX0FTVENfNHg0X0tIUlwiO1xuICByZXR1cm4gSU5URVJOQUxfRk9STUFUUzI7XG59KShJTlRFUk5BTF9GT1JNQVRTIHx8IHt9KTtcbmNvbnN0IElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUwgPSB7XG4gIFszMzc3NiAvKiBDT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUICovXTogMC41LFxuICBbMzM3NzcgLyogQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQgKi9dOiAwLjUsXG4gIFszMzc3OCAvKiBDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVCAqL106IDEsXG4gIFszMzc3OSAvKiBDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCAqL106IDEsXG4gIFszNTkxNiAvKiBDT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVCAqL106IDAuNSxcbiAgWzM1OTE3IC8qIENPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUICovXTogMC41LFxuICBbMzU5MTggLyogQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUM19FWFQgKi9dOiAxLFxuICBbMzU5MTkgLyogQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQgKi9dOiAxLFxuICBbMzc0ODggLyogQ09NUFJFU1NFRF9SMTFfRUFDICovXTogMC41LFxuICBbMzc0ODkgLyogQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQyAqL106IDAuNSxcbiAgWzM3NDkwIC8qIENPTVBSRVNTRURfUkcxMV9FQUMgKi9dOiAxLFxuICBbMzc0OTEgLyogQ09NUFJFU1NFRF9TSUdORURfUkcxMV9FQUMgKi9dOiAxLFxuICBbMzc0OTIgLyogQ09NUFJFU1NFRF9SR0I4X0VUQzIgKi9dOiAwLjUsXG4gIFszNzQ5NiAvKiBDT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDICovXTogMSxcbiAgWzM3NDkzIC8qIENPTVBSRVNTRURfU1JHQjhfRVRDMiAqL106IDAuNSxcbiAgWzM3NDk3IC8qIENPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDICovXTogMSxcbiAgWzM3NDk0IC8qIENPTVBSRVNTRURfUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzIgKi9dOiAwLjUsXG4gIFszNzQ5NSAvKiBDT01QUkVTU0VEX1NSR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMiAqL106IDAuNSxcbiAgWzM1ODQwIC8qIENPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUcgKi9dOiAwLjUsXG4gIFszNTg0MiAvKiBDT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNRyAqL106IDAuNSxcbiAgWzM1ODQxIC8qIENPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUcgKi9dOiAwLjI1LFxuICBbMzU4NDMgLyogQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzJCUFBWMV9JTUcgKi9dOiAwLjI1LFxuICBbMzYxOTYgLyogQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTCAqL106IDAuNSxcbiAgWzM1OTg2IC8qIENPTVBSRVNTRURfUkdCX0FUQ19XRUJHTCAqL106IDAuNSxcbiAgWzM1OTg2IC8qIENPTVBSRVNTRURfUkdCQV9BVENfRVhQTElDSVRfQUxQSEFfV0VCR0wgKi9dOiAxLFxuICBbMzQ3OTggLyogQ09NUFJFU1NFRF9SR0JBX0FUQ19JTlRFUlBPTEFURURfQUxQSEFfV0VCR0wgKi9dOiAxLFxuICBbMzc4MDggLyogQ09NUFJFU1NFRF9SR0JBX0FTVENfNHg0X0tIUiAqL106IDFcbn07XG5cbmV4cG9ydCB7IElOVEVSTkFMX0ZPUk1BVFMsIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0Lm1qcy5tYXBcbiIsImV4cG9ydCB7IElOVEVSTkFMX0ZPUk1BVFMsIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUwgfSBmcm9tICcuL2NvbnN0Lm1qcyc7XG5pbXBvcnQgJy4vcmVzb3VyY2VzL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4vbG9hZGVycy9pbmRleC5tanMnO1xuaW1wb3J0ICcuL3BhcnNlcnMvaW5kZXgubWpzJztcbmV4cG9ydCB7IEJsb2JSZXNvdXJjZSB9IGZyb20gJy4vcmVzb3VyY2VzL0Jsb2JSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSB9IGZyb20gJy4vcmVzb3VyY2VzL0NvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IGRldGVjdENvbXByZXNzZWRUZXh0dXJlcyB9IGZyb20gJy4vbG9hZGVycy9kZXRlY3RDb21wcmVzc2VkVGV4dHVyZXMubWpzJztcbmV4cG9ydCB7IGxvYWRERFMgfSBmcm9tICcuL2xvYWRlcnMvbG9hZEREUy5tanMnO1xuZXhwb3J0IHsgbG9hZEtUWCB9IGZyb20gJy4vbG9hZGVycy9sb2FkS1RYLm1qcyc7XG5leHBvcnQgeyByZXNvbHZlQ29tcHJlc3NlZFRleHR1cmVVcmwgfSBmcm9tICcuL2xvYWRlcnMvcmVzb2x2ZUNvbXByZXNzZWRUZXh0dXJlVXJsLm1qcyc7XG5leHBvcnQgeyBwYXJzZUREUyB9IGZyb20gJy4vcGFyc2Vycy9wYXJzZUREUy5tanMnO1xuZXhwb3J0IHsgRk9STUFUU19UT19DT01QT05FTlRTLCBUWVBFU19UT19CWVRFU19QRVJfQ09NUE9ORU5ULCBUWVBFU19UT19CWVRFU19QRVJfUElYRUwsIHBhcnNlS1RYIH0gZnJvbSAnLi9wYXJzZXJzL3BhcnNlS1RYLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXByZXNzZWRUZXh0dXJlRXh0ZW5zaW9ucy5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBzZXR0aW5ncywgZXh0ZW5zaW9ucyBhcyBleHRlbnNpb25zJDEgfSBmcm9tICdAcGl4aS9jb3JlJztcblxubGV0IHN0b3JlZEdsO1xubGV0IGV4dGVuc2lvbnM7XG5mdW5jdGlvbiBnZXRDb21wcmVzc2VkVGV4dHVyZUV4dGVuc2lvbnMoKSB7XG4gIGV4dGVuc2lvbnMgPSB7XG4gICAgczN0Yzogc3RvcmVkR2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIiksXG4gICAgczN0Y19zUkdCOiBzdG9yZWRHbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiXCIpLFxuICAgIGV0Yzogc3RvcmVkR2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0Y1wiKSxcbiAgICBldGMxOiBzdG9yZWRHbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMVwiKSxcbiAgICBwdnJ0Yzogc3RvcmVkR2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpIHx8IHN0b3JlZEdsLmdldEV4dGVuc2lvbihcIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIiksXG4gICAgYXRjOiBzdG9yZWRHbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXRjXCIpLFxuICAgIGFzdGM6IHN0b3JlZEdsLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjXCIpXG4gIH07XG59XG5jb25zdCBkZXRlY3RDb21wcmVzc2VkVGV4dHVyZXMgPSB7XG4gIGV4dGVuc2lvbjoge1xuICAgIHR5cGU6IEV4dGVuc2lvblR5cGUuRGV0ZWN0aW9uUGFyc2VyLFxuICAgIHByaW9yaXR5OiAyXG4gIH0sXG4gIHRlc3Q6IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgIGNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcbiAgICBpZiAoIWdsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJXZWJHTCBub3QgYXZhaWxhYmxlIGZvciBjb21wcmVzc2VkIHRleHR1cmVzLlwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RvcmVkR2wgPSBnbDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgYWRkOiBhc3luYyAoZm9ybWF0cykgPT4ge1xuICAgIGlmICghZXh0ZW5zaW9ucylcbiAgICAgIGdldENvbXByZXNzZWRUZXh0dXJlRXh0ZW5zaW9ucygpO1xuICAgIGNvbnN0IHRleHR1cmVGb3JtYXRzID0gW107XG4gICAgZm9yIChjb25zdCBleHRlbnNpb25OYW1lIGluIGV4dGVuc2lvbnMpIHtcbiAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV07XG4gICAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRleHR1cmVGb3JtYXRzLnB1c2goZXh0ZW5zaW9uTmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBbLi4udGV4dHVyZUZvcm1hdHMsIC4uLmZvcm1hdHNdO1xuICB9LFxuICByZW1vdmU6IGFzeW5jIChmb3JtYXRzKSA9PiB7XG4gICAgaWYgKCFleHRlbnNpb25zKVxuICAgICAgZ2V0Q29tcHJlc3NlZFRleHR1cmVFeHRlbnNpb25zKCk7XG4gICAgcmV0dXJuIGZvcm1hdHMuZmlsdGVyKChmKSA9PiAhKGYgaW4gZXh0ZW5zaW9ucykpO1xuICB9XG59O1xuZXh0ZW5zaW9ucyQxLmFkZChkZXRlY3RDb21wcmVzc2VkVGV4dHVyZXMpO1xuXG5leHBvcnQgeyBkZXRlY3RDb21wcmVzc2VkVGV4dHVyZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRldGVjdENvbXByZXNzZWRUZXh0dXJlcy5tanMubWFwXG4iLCJleHBvcnQgeyBkZXRlY3RDb21wcmVzc2VkVGV4dHVyZXMgfSBmcm9tICcuL2RldGVjdENvbXByZXNzZWRUZXh0dXJlcy5tanMnO1xuZXhwb3J0IHsgbG9hZEREUyB9IGZyb20gJy4vbG9hZEREUy5tanMnO1xuZXhwb3J0IHsgbG9hZEtUWCB9IGZyb20gJy4vbG9hZEtUWC5tanMnO1xuaW1wb3J0ICcuL2NvbXByZXNzZWRUZXh0dXJlRXh0ZW5zaW9ucy5tanMnO1xuZXhwb3J0IHsgcmVzb2x2ZUNvbXByZXNzZWRUZXh0dXJlVXJsIH0gZnJvbSAnLi9yZXNvbHZlQ29tcHJlc3NlZFRleHR1cmVVcmwubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIHNldHRpbmdzLCBCYXNlVGV4dHVyZSwgTUlQTUFQX01PREVTLCBBTFBIQV9NT0RFUywgdXRpbHMsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IExvYWRlclBhcnNlclByaW9yaXR5LCBjaGVja0V4dGVuc2lvbiwgY3JlYXRlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2Fzc2V0cyc7XG5pbXBvcnQgJy4uL3BhcnNlcnMvaW5kZXgubWpzJztcbmltcG9ydCB7IHBhcnNlRERTIH0gZnJvbSAnLi4vcGFyc2Vycy9wYXJzZUREUy5tanMnO1xuXG5jb25zdCBsb2FkRERTID0ge1xuICBleHRlbnNpb246IHtcbiAgICB0eXBlOiBFeHRlbnNpb25UeXBlLkxvYWRQYXJzZXIsXG4gICAgcHJpb3JpdHk6IExvYWRlclBhcnNlclByaW9yaXR5LkhpZ2hcbiAgfSxcbiAgdGVzdCh1cmwpIHtcbiAgICByZXR1cm4gY2hlY2tFeHRlbnNpb24odXJsLCBcIi5kZHNcIik7XG4gIH0sXG4gIGFzeW5jIGxvYWQodXJsLCBhc3NldCwgbG9hZGVyKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCk7XG4gICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgIGNvbnN0IHJlc291cmNlcyA9IHBhcnNlRERTKGFycmF5QnVmZmVyKTtcbiAgICBjb25zdCB0ZXh0dXJlcyA9IHJlc291cmNlcy5tYXAoKHJlc291cmNlKSA9PiB7XG4gICAgICBjb25zdCBiYXNlID0gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCB7XG4gICAgICAgIG1pcG1hcDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgYWxwaGFNb2RlOiBBTFBIQV9NT0RFUy5OT19QUkVNVUxUSVBMSUVEX0FMUEhBLFxuICAgICAgICByZXNvbHV0aW9uOiB1dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwodXJsKSxcbiAgICAgICAgLi4uYXNzZXQuZGF0YVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY3JlYXRlVGV4dHVyZShiYXNlLCBsb2FkZXIsIHVybCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRleHR1cmVzLmxlbmd0aCA9PT0gMSA/IHRleHR1cmVzWzBdIDogdGV4dHVyZXM7XG4gIH0sXG4gIHVubG9hZCh0ZXh0dXJlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGV4dHVyZSkpIHtcbiAgICAgIHRleHR1cmUuZm9yRWFjaCgodCkgPT4gdC5kZXN0cm95KHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIH1cbiAgfVxufTtcbmV4dGVuc2lvbnMuYWRkKGxvYWRERFMpO1xuXG5leHBvcnQgeyBsb2FkRERTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkRERTLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIHNldHRpbmdzLCBNSVBNQVBfTU9ERVMsIEFMUEhBX01PREVTLCB1dGlscywgQmFzZVRleHR1cmUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IExvYWRlclBhcnNlclByaW9yaXR5LCBjaGVja0V4dGVuc2lvbiwgY3JlYXRlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2Fzc2V0cyc7XG5pbXBvcnQgJy4uL3BhcnNlcnMvaW5kZXgubWpzJztcbmltcG9ydCB7IHBhcnNlS1RYIH0gZnJvbSAnLi4vcGFyc2Vycy9wYXJzZUtUWC5tanMnO1xuXG5jb25zdCBsb2FkS1RYID0ge1xuICBleHRlbnNpb246IHtcbiAgICB0eXBlOiBFeHRlbnNpb25UeXBlLkxvYWRQYXJzZXIsXG4gICAgcHJpb3JpdHk6IExvYWRlclBhcnNlclByaW9yaXR5LkhpZ2hcbiAgfSxcbiAgdGVzdCh1cmwpIHtcbiAgICByZXR1cm4gY2hlY2tFeHRlbnNpb24odXJsLCBcIi5rdHhcIik7XG4gIH0sXG4gIGFzeW5jIGxvYWQodXJsLCBhc3NldCwgbG9hZGVyKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCk7XG4gICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgIGNvbnN0IHsgY29tcHJlc3NlZCwgdW5jb21wcmVzc2VkLCBrdkRhdGEgfSA9IHBhcnNlS1RYKHVybCwgYXJyYXlCdWZmZXIpO1xuICAgIGNvbnN0IHJlc291cmNlcyA9IGNvbXByZXNzZWQgPz8gdW5jb21wcmVzc2VkO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5PX1BSRU1VTFRJUExJRURfQUxQSEEsXG4gICAgICByZXNvbHV0aW9uOiB1dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwodXJsKSxcbiAgICAgIC4uLmFzc2V0LmRhdGFcbiAgICB9O1xuICAgIGNvbnN0IHRleHR1cmVzID0gcmVzb3VyY2VzLm1hcCgocmVzb3VyY2UpID0+IHtcbiAgICAgIGlmIChyZXNvdXJjZXMgPT09IHVuY29tcHJlc3NlZCkge1xuICAgICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHtcbiAgICAgICAgICB0eXBlOiByZXNvdXJjZS50eXBlLFxuICAgICAgICAgIGZvcm1hdDogcmVzb3VyY2UuZm9ybWF0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgYmFzZSA9IG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICBiYXNlLmt0eEtleVZhbHVlRGF0YSA9IGt2RGF0YTtcbiAgICAgIHJldHVybiBjcmVhdGVUZXh0dXJlKGJhc2UsIGxvYWRlciwgdXJsKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGV4dHVyZXMubGVuZ3RoID09PSAxID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlcztcbiAgfSxcbiAgdW5sb2FkKHRleHR1cmUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0dXJlKSkge1xuICAgICAgdGV4dHVyZS5mb3JFYWNoKCh0KSA9PiB0LmRlc3Ryb3kodHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICB9XG59O1xuZXh0ZW5zaW9ucy5hZGQobG9hZEtUWCk7XG5cbmV4cG9ydCB7IGxvYWRLVFggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRLVFgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgc2V0dGluZ3MsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY29uc3QgcmVzb2x2ZUNvbXByZXNzZWRUZXh0dXJlVXJsID0ge1xuICBleHRlbnNpb246IEV4dGVuc2lvblR5cGUuUmVzb2x2ZVBhcnNlcixcbiAgdGVzdDogKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgdGVtcCA9IHZhbHVlLnNwbGl0KFwiP1wiKVswXTtcbiAgICBjb25zdCBleHRlbnNpb24gPSB0ZW1wLnNwbGl0KFwiLlwiKS5wb3AoKTtcbiAgICByZXR1cm4gW1wiYmFzaXNcIiwgXCJrdHhcIiwgXCJkZHNcIl0uaW5jbHVkZXMoZXh0ZW5zaW9uKTtcbiAgfSxcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHRlbXAgPSB2YWx1ZS5zcGxpdChcIj9cIilbMF07XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gdGVtcC5zcGxpdChcIi5cIikucG9wKCk7XG4gICAgaWYgKGV4dGVuc2lvbiA9PT0gXCJrdHhcIikge1xuICAgICAgY29uc3QgZXh0ZW5zaW9uczIgPSBbXG4gICAgICAgIFwiLnMzdGMua3R4XCIsXG4gICAgICAgIFwiLnMzdGNfc1JHQi5rdHhcIixcbiAgICAgICAgXCIuZXRjLmt0eFwiLFxuICAgICAgICBcIi5ldGMxLmt0eFwiLFxuICAgICAgICBcIi5wdnJ0Lmt0eFwiLFxuICAgICAgICBcIi5hdGMua3R4XCIsXG4gICAgICAgIFwiLmFzdGMua3R4XCJcbiAgICAgIF07XG4gICAgICBpZiAoZXh0ZW5zaW9uczIuc29tZSgoZXh0KSA9PiB2YWx1ZS5lbmRzV2l0aChleHQpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc29sdXRpb246IHBhcnNlRmxvYXQoc2V0dGluZ3MuUkVUSU5BX1BSRUZJWC5leGVjKHZhbHVlKT8uWzFdID8/IFwiMVwiKSxcbiAgICAgICAgICBmb3JtYXQ6IGV4dGVuc2lvbnMyLmZpbmQoKGV4dCkgPT4gdmFsdWUuZW5kc1dpdGgoZXh0KSksXG4gICAgICAgICAgc3JjOiB2YWx1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcmVzb2x1dGlvbjogcGFyc2VGbG9hdChzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModmFsdWUpPy5bMV0gPz8gXCIxXCIpLFxuICAgICAgZm9ybWF0OiB2YWx1ZS5zcGxpdChcIi5cIikucG9wKCksXG4gICAgICBzcmM6IHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbmV4dGVuc2lvbnMuYWRkKHJlc29sdmVDb21wcmVzc2VkVGV4dHVyZVVybCk7XG5cbmV4cG9ydCB7IHJlc29sdmVDb21wcmVzc2VkVGV4dHVyZVVybCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZUNvbXByZXNzZWRUZXh0dXJlVXJsLm1qcy5tYXBcbiIsImV4cG9ydCB7IHBhcnNlRERTIH0gZnJvbSAnLi9wYXJzZUREUy5tanMnO1xuZXhwb3J0IHsgRk9STUFUU19UT19DT01QT05FTlRTLCBUWVBFU19UT19CWVRFU19QRVJfQ09NUE9ORU5ULCBUWVBFU19UT19CWVRFU19QRVJfUElYRUwsIHBhcnNlS1RYIH0gZnJvbSAnLi9wYXJzZUtUWC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0ICcuLi9yZXNvdXJjZXMvaW5kZXgubWpzJztcbmltcG9ydCB7IElOVEVSTkFMX0ZPUk1BVFMsIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUwgfSBmcm9tICcuLi9jb25zdC5tanMnO1xuaW1wb3J0IHsgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSB9IGZyb20gJy4uL3Jlc291cmNlcy9Db21wcmVzc2VkVGV4dHVyZVJlc291cmNlLm1qcyc7XG5cbmNvbnN0IEREU19NQUdJQ19TSVpFID0gNDtcbmNvbnN0IEREU19IRUFERVJfU0laRSA9IDEyNDtcbmNvbnN0IEREU19IRUFERVJfUEZfU0laRSA9IDMyO1xuY29uc3QgRERTX0hFQURFUl9EWDEwX1NJWkUgPSAyMDtcbmNvbnN0IEREU19NQUdJQyA9IDU0MjMyNzg3NjtcbmNvbnN0IEREU19GSUVMRFMgPSB7XG4gIFNJWkU6IDEsXG4gIEZMQUdTOiAyLFxuICBIRUlHSFQ6IDMsXG4gIFdJRFRIOiA0LFxuICBNSVBNQVBfQ09VTlQ6IDcsXG4gIFBJWEVMX0ZPUk1BVDogMTlcbn07XG5jb25zdCBERFNfUEZfRklFTERTID0ge1xuICBTSVpFOiAwLFxuICBGTEFHUzogMSxcbiAgRk9VUkNDOiAyLFxuICBSR0JfQklUQ09VTlQ6IDMsXG4gIFJfQklUX01BU0s6IDQsXG4gIEdfQklUX01BU0s6IDUsXG4gIEJfQklUX01BU0s6IDYsXG4gIEFfQklUX01BU0s6IDdcbn07XG5jb25zdCBERFNfRFgxMF9GSUVMRFMgPSB7XG4gIERYR0lfRk9STUFUOiAwLFxuICBSRVNPVVJDRV9ESU1FTlNJT046IDEsXG4gIE1JU0NfRkxBRzogMixcbiAgQVJSQVlfU0laRTogMyxcbiAgTUlTQ19GTEFHUzI6IDRcbn07XG52YXIgRFhHSV9GT1JNQVQgPSAvKiBAX19QVVJFX18gKi8gKChEWEdJX0ZPUk1BVDIpID0+IHtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1VOS05PV05cIl0gPSAwXSA9IFwiRFhHSV9GT1JNQVRfVU5LTk9XTlwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1RZUEVMRVNTXCJdID0gMV0gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX0ZMT0FUXCJdID0gMl0gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9GTE9BVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1VJTlRcIl0gPSAzXSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1VJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9TSU5UXCJdID0gNF0gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVFlQRUxFU1NcIl0gPSA1XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX1RZUEVMRVNTXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfRkxPQVRcIl0gPSA2XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX0ZMT0FUXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVUlOVFwiXSA9IDddID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX1NJTlRcIl0gPSA4XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX1NJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9UWVBFTEVTU1wiXSA9IDldID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9GTE9BVFwiXSA9IDEwXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X0ZMT0FUXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfVU5PUk1cIl0gPSAxMV0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1VJTlRcIl0gPSAxMl0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9VSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfU05PUk1cIl0gPSAxM10gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9TTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1NJTlRcIl0gPSAxNF0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMzJHMzJfVFlQRUxFU1NcIl0gPSAxNV0gPSBcIkRYR0lfRk9STUFUX1IzMkczMl9UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyX0ZMT0FUXCJdID0gMTZdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJfRkxPQVRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IzMkczMl9VSU5UXCJdID0gMTddID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyRzMyX1NJTlRcIl0gPSAxOF0gPSBcIkRYR0lfRk9STUFUX1IzMkczMl9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMzJHOFgyNF9UWVBFTEVTU1wiXSA9IDE5XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzhYMjRfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0QzMl9GTE9BVF9TOFgyNF9VSU5UXCJdID0gMjBdID0gXCJEWEdJX0ZPUk1BVF9EMzJfRkxPQVRfUzhYMjRfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyX0ZMT0FUX1g4WDI0X1RZUEVMRVNTXCJdID0gMjFdID0gXCJEWEdJX0ZPUk1BVF9SMzJfRkxPQVRfWDhYMjRfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1gzMl9UWVBFTEVTU19HOFgyNF9VSU5UXCJdID0gMjJdID0gXCJEWEdJX0ZPUk1BVF9YMzJfVFlQRUxFU1NfRzhYMjRfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVFlQRUxFU1NcIl0gPSAyM10gPSBcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1RZUEVMRVNTXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTBHMTBCMTBBMl9VTk9STVwiXSA9IDI0XSA9IFwiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVU5PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1VJTlRcIl0gPSAyNV0gPSBcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1VJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxMUcxMUIxMF9GTE9BVFwiXSA9IDI2XSA9IFwiRFhHSV9GT1JNQVRfUjExRzExQjEwX0ZMT0FUXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9UWVBFTEVTU1wiXSA9IDI3XSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1VOT1JNXCJdID0gMjhdID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk1fU1JHQlwiXSA9IDI5XSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk1fU1JHQlwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfVUlOVFwiXSA9IDMwXSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfU05PUk1cIl0gPSAzMV0gPSBcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1NOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9TSU5UXCJdID0gMzJdID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfVFlQRUxFU1NcIl0gPSAzM10gPSBcIkRYR0lfRk9STUFUX1IxNkcxNl9UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2RzE2X0ZMT0FUXCJdID0gMzRdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfRkxPQVRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxNkcxNl9VTk9STVwiXSA9IDM1XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfVUlOVFwiXSA9IDM2XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1VJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxNkcxNl9TTk9STVwiXSA9IDM3XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1NOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfU0lOVFwiXSA9IDM4XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1NJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IzMl9UWVBFTEVTU1wiXSA9IDM5XSA9IFwiRFhHSV9GT1JNQVRfUjMyX1RZUEVMRVNTXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9EMzJfRkxPQVRcIl0gPSA0MF0gPSBcIkRYR0lfRk9STUFUX0QzMl9GTE9BVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyX0ZMT0FUXCJdID0gNDFdID0gXCJEWEdJX0ZPUk1BVF9SMzJfRkxPQVRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IzMl9VSU5UXCJdID0gNDJdID0gXCJEWEdJX0ZPUk1BVF9SMzJfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjMyX1NJTlRcIl0gPSA0M10gPSBcIkRYR0lfRk9STUFUX1IzMl9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMjRHOF9UWVBFTEVTU1wiXSA9IDQ0XSA9IFwiRFhHSV9GT1JNQVRfUjI0RzhfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0QyNF9VTk9STV9TOF9VSU5UXCJdID0gNDVdID0gXCJEWEdJX0ZPUk1BVF9EMjRfVU5PUk1fUzhfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjI0X1VOT1JNX1g4X1RZUEVMRVNTXCJdID0gNDZdID0gXCJEWEdJX0ZPUk1BVF9SMjRfVU5PUk1fWDhfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1gyNF9UWVBFTEVTU19HOF9VSU5UXCJdID0gNDddID0gXCJEWEdJX0ZPUk1BVF9YMjRfVFlQRUxFU1NfRzhfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOF9UWVBFTEVTU1wiXSA9IDQ4XSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOF9VTk9STVwiXSA9IDQ5XSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhHOF9VSU5UXCJdID0gNTBdID0gXCJEWEdJX0ZPUk1BVF9SOEc4X1VJTlRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1I4RzhfU05PUk1cIl0gPSA1MV0gPSBcIkRYR0lfRk9STUFUX1I4RzhfU05PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1I4RzhfU0lOVFwiXSA9IDUyXSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZfVFlQRUxFU1NcIl0gPSA1M10gPSBcIkRYR0lfRk9STUFUX1IxNl9UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2X0ZMT0FUXCJdID0gNTRdID0gXCJEWEdJX0ZPUk1BVF9SMTZfRkxPQVRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0QxNl9VTk9STVwiXSA9IDU1XSA9IFwiRFhHSV9GT1JNQVRfRDE2X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZfVU5PUk1cIl0gPSA1Nl0gPSBcIkRYR0lfRk9STUFUX1IxNl9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2X1VJTlRcIl0gPSA1N10gPSBcIkRYR0lfRk9STUFUX1IxNl9VSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SMTZfU05PUk1cIl0gPSA1OF0gPSBcIkRYR0lfRk9STUFUX1IxNl9TTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjE2X1NJTlRcIl0gPSA1OV0gPSBcIkRYR0lfRk9STUFUX1IxNl9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SOF9UWVBFTEVTU1wiXSA9IDYwXSA9IFwiRFhHSV9GT1JNQVRfUjhfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1I4X1VOT1JNXCJdID0gNjFdID0gXCJEWEdJX0ZPUk1BVF9SOF9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhfVUlOVFwiXSA9IDYyXSA9IFwiRFhHSV9GT1JNQVRfUjhfVUlOVFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjhfU05PUk1cIl0gPSA2M10gPSBcIkRYR0lfRk9STUFUX1I4X1NOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9SOF9TSU5UXCJdID0gNjRdID0gXCJEWEdJX0ZPUk1BVF9SOF9TSU5UXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9BOF9VTk9STVwiXSA9IDY1XSA9IFwiRFhHSV9GT1JNQVRfQThfVU5PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxX1VOT1JNXCJdID0gNjZdID0gXCJEWEdJX0ZPUk1BVF9SMV9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUjlHOUI5RTVfU0hBUkVERVhQXCJdID0gNjddID0gXCJEWEdJX0ZPUk1BVF9SOUc5QjlFNV9TSEFSRURFWFBcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1I4RzhfQjhHOF9VTk9STVwiXSA9IDY4XSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9COEc4X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9HOFI4X0c4QjhfVU5PUk1cIl0gPSA2OV0gPSBcIkRYR0lfRk9STUFUX0c4UjhfRzhCOF9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkMxX1RZUEVMRVNTXCJdID0gNzBdID0gXCJEWEdJX0ZPUk1BVF9CQzFfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDMV9VTk9STVwiXSA9IDcxXSA9IFwiRFhHSV9GT1JNQVRfQkMxX1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzFfVU5PUk1fU1JHQlwiXSA9IDcyXSA9IFwiRFhHSV9GT1JNQVRfQkMxX1VOT1JNX1NSR0JcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDMl9UWVBFTEVTU1wiXSA9IDczXSA9IFwiRFhHSV9GT1JNQVRfQkMyX1RZUEVMRVNTXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzJfVU5PUk1cIl0gPSA3NF0gPSBcIkRYR0lfRk9STUFUX0JDMl9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkMyX1VOT1JNX1NSR0JcIl0gPSA3NV0gPSBcIkRYR0lfRk9STUFUX0JDMl9VTk9STV9TUkdCXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzNfVFlQRUxFU1NcIl0gPSA3Nl0gPSBcIkRYR0lfRk9STUFUX0JDM19UWVBFTEVTU1wiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkMzX1VOT1JNXCJdID0gNzddID0gXCJEWEdJX0ZPUk1BVF9CQzNfVU5PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCXCJdID0gNzhdID0gXCJEWEdJX0ZPUk1BVF9CQzNfVU5PUk1fU1JHQlwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkM0X1RZUEVMRVNTXCJdID0gNzldID0gXCJEWEdJX0ZPUk1BVF9CQzRfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDNF9VTk9STVwiXSA9IDgwXSA9IFwiRFhHSV9GT1JNQVRfQkM0X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzRfU05PUk1cIl0gPSA4MV0gPSBcIkRYR0lfRk9STUFUX0JDNF9TTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkM1X1RZUEVMRVNTXCJdID0gODJdID0gXCJEWEdJX0ZPUk1BVF9CQzVfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDNV9VTk9STVwiXSA9IDgzXSA9IFwiRFhHSV9GT1JNQVRfQkM1X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzVfU05PUk1cIl0gPSA4NF0gPSBcIkRYR0lfRk9STUFUX0JDNV9TTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQjVHNlI1X1VOT1JNXCJdID0gODVdID0gXCJEWEdJX0ZPUk1BVF9CNUc2UjVfVU5PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0I1RzVSNUExX1VOT1JNXCJdID0gODZdID0gXCJEWEdJX0ZPUk1BVF9CNUc1UjVBMV9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQjhHOFI4QThfVU5PUk1cIl0gPSA4N10gPSBcIkRYR0lfRk9STUFUX0I4RzhSOEE4X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9COEc4UjhYOF9VTk9STVwiXSA9IDg4XSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4WDhfVU5PUk1cIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1IxMEcxMEIxMF9YUl9CSUFTX0EyX1VOT1JNXCJdID0gODldID0gXCJEWEdJX0ZPUk1BVF9SMTBHMTBCMTBfWFJfQklBU19BMl9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQjhHOFI4QThfVFlQRUxFU1NcIl0gPSA5MF0gPSBcIkRYR0lfRk9STUFUX0I4RzhSOEE4X1RZUEVMRVNTXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9COEc4UjhBOF9VTk9STV9TUkdCXCJdID0gOTFdID0gXCJEWEdJX0ZPUk1BVF9COEc4UjhBOF9VTk9STV9TUkdCXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9COEc4UjhYOF9UWVBFTEVTU1wiXSA9IDkyXSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4WDhfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0I4RzhSOFg4X1VOT1JNX1NSR0JcIl0gPSA5M10gPSBcIkRYR0lfRk9STUFUX0I4RzhSOFg4X1VOT1JNX1NSR0JcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDNkhfVFlQRUxFU1NcIl0gPSA5NF0gPSBcIkRYR0lfRk9STUFUX0JDNkhfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDNkhfVUYxNlwiXSA9IDk1XSA9IFwiRFhHSV9GT1JNQVRfQkM2SF9VRjE2XCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzZIX1NGMTZcIl0gPSA5Nl0gPSBcIkRYR0lfRk9STUFUX0JDNkhfU0YxNlwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQkM3X1RZUEVMRVNTXCJdID0gOTddID0gXCJEWEdJX0ZPUk1BVF9CQzdfVFlQRUxFU1NcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0JDN19VTk9STVwiXSA9IDk4XSA9IFwiRFhHSV9GT1JNQVRfQkM3X1VOT1JNXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9CQzdfVU5PUk1fU1JHQlwiXSA9IDk5XSA9IFwiRFhHSV9GT1JNQVRfQkM3X1VOT1JNX1NSR0JcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0FZVVZcIl0gPSAxMDBdID0gXCJEWEdJX0ZPUk1BVF9BWVVWXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9ZNDEwXCJdID0gMTAxXSA9IFwiRFhHSV9GT1JNQVRfWTQxMFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfWTQxNlwiXSA9IDEwMl0gPSBcIkRYR0lfRk9STUFUX1k0MTZcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX05WMTJcIl0gPSAxMDNdID0gXCJEWEdJX0ZPUk1BVF9OVjEyXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9QMDEwXCJdID0gMTA0XSA9IFwiRFhHSV9GT1JNQVRfUDAxMFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUDAxNlwiXSA9IDEwNV0gPSBcIkRYR0lfRk9STUFUX1AwMTZcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUXzQyMF9PUEFRVUVcIl0gPSAxMDZdID0gXCJEWEdJX0ZPUk1BVF80MjBfT1BBUVVFXCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9ZVVkyXCJdID0gMTA3XSA9IFwiRFhHSV9GT1JNQVRfWVVZMlwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfWTIxMFwiXSA9IDEwOF0gPSBcIkRYR0lfRk9STUFUX1kyMTBcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1kyMTZcIl0gPSAxMDldID0gXCJEWEdJX0ZPUk1BVF9ZMjE2XCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9OVjExXCJdID0gMTEwXSA9IFwiRFhHSV9GT1JNQVRfTlYxMVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQUk0NFwiXSA9IDExMV0gPSBcIkRYR0lfRk9STUFUX0FJNDRcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX0lBNDRcIl0gPSAxMTJdID0gXCJEWEdJX0ZPUk1BVF9JQTQ0XCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9QOFwiXSA9IDExM10gPSBcIkRYR0lfRk9STUFUX1A4XCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9BOFA4XCJdID0gMTE0XSA9IFwiRFhHSV9GT1JNQVRfQThQOFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfQjRHNFI0QTRfVU5PUk1cIl0gPSAxMTVdID0gXCJEWEdJX0ZPUk1BVF9CNEc0UjRBNF9VTk9STVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfUDIwOFwiXSA9IDExNl0gPSBcIkRYR0lfRk9STUFUX1AyMDhcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1YyMDhcIl0gPSAxMTddID0gXCJEWEdJX0ZPUk1BVF9WMjA4XCI7XG4gIERYR0lfRk9STUFUMltEWEdJX0ZPUk1BVDJbXCJEWEdJX0ZPUk1BVF9WNDA4XCJdID0gMTE4XSA9IFwiRFhHSV9GT1JNQVRfVjQwOFwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfU0FNUExFUl9GRUVEQkFDS19NSU5fTUlQX09QQVFVRVwiXSA9IDExOV0gPSBcIkRYR0lfRk9STUFUX1NBTVBMRVJfRkVFREJBQ0tfTUlOX01JUF9PUEFRVUVcIjtcbiAgRFhHSV9GT1JNQVQyW0RYR0lfRk9STUFUMltcIkRYR0lfRk9STUFUX1NBTVBMRVJfRkVFREJBQ0tfTUlQX1JFR0lPTl9VU0VEX09QQVFVRVwiXSA9IDEyMF0gPSBcIkRYR0lfRk9STUFUX1NBTVBMRVJfRkVFREJBQ0tfTUlQX1JFR0lPTl9VU0VEX09QQVFVRVwiO1xuICBEWEdJX0ZPUk1BVDJbRFhHSV9GT1JNQVQyW1wiRFhHSV9GT1JNQVRfRk9SQ0VfVUlOVFwiXSA9IDEyMV0gPSBcIkRYR0lfRk9STUFUX0ZPUkNFX1VJTlRcIjtcbiAgcmV0dXJuIERYR0lfRk9STUFUMjtcbn0pKERYR0lfRk9STUFUIHx8IHt9KTtcbnZhciBEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT04gPSAvKiBAX19QVVJFX18gKi8gKChEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT04yKSA9PiB7XG4gIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTjJbRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OMltcIkREU19ESU1FTlNJT05fVEVYVFVSRTFEXCJdID0gMl0gPSBcIkREU19ESU1FTlNJT05fVEVYVFVSRTFEXCI7XG4gIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTjJbRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OMltcIkREU19ESU1FTlNJT05fVEVYVFVSRTJEXCJdID0gM10gPSBcIkREU19ESU1FTlNJT05fVEVYVFVSRTJEXCI7XG4gIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTjJbRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OMltcIkREU19ESU1FTlNJT05fVEVYVFVSRTNEXCJdID0gNl0gPSBcIkREU19ESU1FTlNJT05fVEVYVFVSRTNEXCI7XG4gIHJldHVybiBEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT04yO1xufSkoRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OIHx8IHt9KTtcbmNvbnN0IFBGX0ZMQUdTID0gMTtcbmNvbnN0IEREUEZfQUxQSEEgPSAyO1xuY29uc3QgRERQRl9GT1VSQ0MgPSA0O1xuY29uc3QgRERQRl9SR0IgPSA2NDtcbmNvbnN0IEREUEZfWVVWID0gNTEyO1xuY29uc3QgRERQRl9MVU1JTkFOQ0UgPSAxMzEwNzI7XG5jb25zdCBGT1VSQ0NfRFhUMSA9IDgyNzYxMTIwNDtcbmNvbnN0IEZPVVJDQ19EWFQzID0gODYxMTY1NjM2O1xuY29uc3QgRk9VUkNDX0RYVDUgPSA4OTQ3MjAwNjg7XG5jb25zdCBGT1VSQ0NfRFgxMCA9IDgwODU0MDIyODtcbmNvbnN0IEREU19SRVNPVVJDRV9NSVNDX1RFWFRVUkVDVUJFID0gNDtcbmNvbnN0IEZPVVJDQ19UT19GT1JNQVQgPSB7XG4gIFtGT1VSQ0NfRFhUMV06IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQsXG4gIFtGT1VSQ0NfRFhUM106IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQsXG4gIFtGT1VSQ0NfRFhUNV06IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFRcbn07XG5jb25zdCBEWEdJX1RPX0ZPUk1BVCA9IHtcbiAgWzcwIC8qIERYR0lfRk9STUFUX0JDMV9UWVBFTEVTUyAqL106IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQsXG4gIFs3MSAvKiBEWEdJX0ZPUk1BVF9CQzFfVU5PUk0gKi9dOiBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhULFxuICBbNzMgLyogRFhHSV9GT1JNQVRfQkMyX1RZUEVMRVNTICovXTogSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVCxcbiAgWzc0IC8qIERYR0lfRk9STUFUX0JDMl9VTk9STSAqL106IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQsXG4gIFs3NiAvKiBEWEdJX0ZPUk1BVF9CQzNfVFlQRUxFU1MgKi9dOiBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhULFxuICBbNzcgLyogRFhHSV9GT1JNQVRfQkMzX1VOT1JNICovXTogSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAgWzcyIC8qIERYR0lfRk9STUFUX0JDMV9VTk9STV9TUkdCICovXTogSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVCxcbiAgWzc1IC8qIERYR0lfRk9STUFUX0JDMl9VTk9STV9TUkdCICovXTogSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVCxcbiAgWzc4IC8qIERYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCICovXTogSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVFxufTtcbmZ1bmN0aW9uIHBhcnNlRERTKGFycmF5QnVmZmVyKSB7XG4gIGNvbnN0IGRhdGEgPSBuZXcgVWludDMyQXJyYXkoYXJyYXlCdWZmZXIpO1xuICBjb25zdCBtYWdpY1dvcmQgPSBkYXRhWzBdO1xuICBpZiAobWFnaWNXb3JkICE9PSBERFNfTUFHSUMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEREUyBmaWxlIG1hZ2ljIHdvcmRcIik7XG4gIH1cbiAgY29uc3QgaGVhZGVyID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLCAwLCBERFNfSEVBREVSX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gIGNvbnN0IGhlaWdodCA9IGhlYWRlcltERFNfRklFTERTLkhFSUdIVF07XG4gIGNvbnN0IHdpZHRoID0gaGVhZGVyW0REU19GSUVMRFMuV0lEVEhdO1xuICBjb25zdCBtaXBtYXBDb3VudCA9IGhlYWRlcltERFNfRklFTERTLk1JUE1BUF9DT1VOVF07XG4gIGNvbnN0IHBpeGVsRm9ybWF0ID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLCBERFNfRklFTERTLlBJWEVMX0ZPUk1BVCAqIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULCBERFNfSEVBREVSX1BGX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gIGNvbnN0IGZvcm1hdEZsYWdzID0gcGl4ZWxGb3JtYXRbUEZfRkxBR1NdO1xuICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX0ZPVVJDQykge1xuICAgIGNvbnN0IGZvdXJDQyA9IHBpeGVsRm9ybWF0W0REU19QRl9GSUVMRFMuRk9VUkNDXTtcbiAgICBpZiAoZm91ckNDICE9PSBGT1VSQ0NfRFgxMCkge1xuICAgICAgY29uc3QgaW50ZXJuYWxGb3JtYXQyID0gRk9VUkNDX1RPX0ZPUk1BVFtmb3VyQ0NdO1xuICAgICAgY29uc3QgZGF0YU9mZnNldDIgPSBERFNfTUFHSUNfU0laRSArIEREU19IRUFERVJfU0laRTtcbiAgICAgIGNvbnN0IHRleERhdGEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldDIpO1xuICAgICAgY29uc3QgcmVzb3VyY2UgPSBuZXcgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSh0ZXhEYXRhLCB7XG4gICAgICAgIGZvcm1hdDogaW50ZXJuYWxGb3JtYXQyLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBsZXZlbHM6IG1pcG1hcENvdW50XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBbcmVzb3VyY2VdO1xuICAgIH1cbiAgICBjb25zdCBkeDEwT2Zmc2V0ID0gRERTX01BR0lDX1NJWkUgKyBERFNfSEVBREVSX1NJWkU7XG4gICAgY29uc3QgZHgxMEhlYWRlciA9IG5ldyBVaW50MzJBcnJheShkYXRhLmJ1ZmZlciwgZHgxME9mZnNldCwgRERTX0hFQURFUl9EWDEwX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgY29uc3QgZHhnaUZvcm1hdCA9IGR4MTBIZWFkZXJbRERTX0RYMTBfRklFTERTLkRYR0lfRk9STUFUXTtcbiAgICBjb25zdCByZXNvdXJjZURpbWVuc2lvbiA9IGR4MTBIZWFkZXJbRERTX0RYMTBfRklFTERTLlJFU09VUkNFX0RJTUVOU0lPTl07XG4gICAgY29uc3QgbWlzY0ZsYWcgPSBkeDEwSGVhZGVyW0REU19EWDEwX0ZJRUxEUy5NSVNDX0ZMQUddO1xuICAgIGNvbnN0IGFycmF5U2l6ZSA9IGR4MTBIZWFkZXJbRERTX0RYMTBfRklFTERTLkFSUkFZX1NJWkVdO1xuICAgIGNvbnN0IGludGVybmFsRm9ybWF0ID0gRFhHSV9UT19GT1JNQVRbZHhnaUZvcm1hdF07XG4gICAgaWYgKGludGVybmFsRm9ybWF0ID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRERTUGFyc2VyIGNhbm5vdCBwYXJzZSB0ZXh0dXJlIGRhdGEgd2l0aCBEWEdJIGZvcm1hdCAke2R4Z2lGb3JtYXR9YCk7XG4gICAgfVxuICAgIGlmIChtaXNjRmxhZyA9PT0gRERTX1JFU09VUkNFX01JU0NfVEVYVFVSRUNVQkUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkREU1BhcnNlciBkb2VzIG5vdCBzdXBwb3J0IGN1YmVtYXAgdGV4dHVyZXNcIik7XG4gICAgfVxuICAgIGlmIChyZXNvdXJjZURpbWVuc2lvbiA9PT0gNiAvKiBERFNfRElNRU5TSU9OX1RFWFRVUkUzRCAqLykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRERTUGFyc2VyIGRvZXMgbm90IHN1cHBvcnRlZCAzRCB0ZXh0dXJlIGRhdGFcIik7XG4gICAgfVxuICAgIGNvbnN0IGltYWdlQnVmZmVycyA9IG5ldyBBcnJheSgpO1xuICAgIGNvbnN0IGRhdGFPZmZzZXQgPSBERFNfTUFHSUNfU0laRSArIEREU19IRUFERVJfU0laRSArIEREU19IRUFERVJfRFgxMF9TSVpFO1xuICAgIGlmIChhcnJheVNpemUgPT09IDEpIHtcbiAgICAgIGltYWdlQnVmZmVycy5wdXNoKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBpeGVsU2l6ZSA9IElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbaW50ZXJuYWxGb3JtYXRdO1xuICAgICAgbGV0IGltYWdlU2l6ZSA9IDA7XG4gICAgICBsZXQgbGV2ZWxXaWR0aCA9IHdpZHRoO1xuICAgICAgbGV0IGxldmVsSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaXBtYXBDb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFsaWduZWRMZXZlbFdpZHRoID0gTWF0aC5tYXgoMSwgbGV2ZWxXaWR0aCArIDMgJiB+Myk7XG4gICAgICAgIGNvbnN0IGFsaWduZWRMZXZlbEhlaWdodCA9IE1hdGgubWF4KDEsIGxldmVsSGVpZ2h0ICsgMyAmIH4zKTtcbiAgICAgICAgY29uc3QgbGV2ZWxTaXplID0gYWxpZ25lZExldmVsV2lkdGggKiBhbGlnbmVkTGV2ZWxIZWlnaHQgKiBwaXhlbFNpemU7XG4gICAgICAgIGltYWdlU2l6ZSArPSBsZXZlbFNpemU7XG4gICAgICAgIGxldmVsV2lkdGggPSBsZXZlbFdpZHRoID4+PiAxO1xuICAgICAgICBsZXZlbEhlaWdodCA9IGxldmVsSGVpZ2h0ID4+PiAxO1xuICAgICAgfVxuICAgICAgbGV0IGltYWdlT2Zmc2V0ID0gZGF0YU9mZnNldDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlTaXplOyBpKyspIHtcbiAgICAgICAgaW1hZ2VCdWZmZXJzLnB1c2gobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGltYWdlT2Zmc2V0LCBpbWFnZVNpemUpKTtcbiAgICAgICAgaW1hZ2VPZmZzZXQgKz0gaW1hZ2VTaXplO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW1hZ2VCdWZmZXJzLm1hcCgoYnVmZmVyKSA9PiBuZXcgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZShidWZmZXIsIHtcbiAgICAgIGZvcm1hdDogaW50ZXJuYWxGb3JtYXQsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGxldmVsczogbWlwbWFwQ291bnRcbiAgICB9KSk7XG4gIH1cbiAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9SR0IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJERFNQYXJzZXIgZG9lcyBub3Qgc3VwcG9ydCB1bmNvbXByZXNzZWQgdGV4dHVyZSBkYXRhLlwiKTtcbiAgfVxuICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX1lVVikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkREU1BhcnNlciBkb2VzIG5vdCBzdXBwb3J0ZWQgWVVWIHVuY29tcHJlc3NlZCB0ZXh0dXJlIGRhdGEuXCIpO1xuICB9XG4gIGlmIChmb3JtYXRGbGFncyAmIEREUEZfTFVNSU5BTkNFKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRERTUGFyc2VyIGRvZXMgbm90IHN1cHBvcnQgc2luZ2xlLWNoYW5uZWwgKGx1bW5pbmFuY2UpIHRleHR1cmUgZGF0YSFcIik7XG4gIH1cbiAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9BTFBIQSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkREU1BhcnNlciBkb2VzIG5vdCBzdXBwb3J0IHNpbmdsZS1jaGFubmVsIChhbHBoYSkgdGV4dHVyZSBkYXRhIVwiKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJERFNQYXJzZXIgZmFpbGVkIHRvIGxvYWQgYSB0ZXh0dXJlIGZpbGUgZHVlIHRvIGFuIHVua25vd24gcmVhc29uIVwiKTtcbn1cblxuZXhwb3J0IHsgcGFyc2VERFMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlRERTLm1qcy5tYXBcbiIsImltcG9ydCB7IFRZUEVTLCBGT1JNQVRTLCBCdWZmZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgSU5URVJOQUxfRk9STUFUX1RPX0JZVEVTX1BFUl9QSVhFTCB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5pbXBvcnQgJy4uL3Jlc291cmNlcy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSB9IGZyb20gJy4uL3Jlc291cmNlcy9Db21wcmVzc2VkVGV4dHVyZVJlc291cmNlLm1qcyc7XG5cbmNvbnN0IEZJTEVfSURFTlRJRklFUiA9IFsxNzEsIDc1LCA4NCwgODgsIDMyLCA0OSwgNDksIDE4NywgMTMsIDEwLCAyNiwgMTBdO1xuY29uc3QgRU5ESUFOTkVTUyA9IDY3MzA1OTg1O1xuY29uc3QgS1RYX0ZJRUxEUyA9IHtcbiAgRklMRV9JREVOVElGSUVSOiAwLFxuICBFTkRJQU5ORVNTOiAxMixcbiAgR0xfVFlQRTogMTYsXG4gIEdMX1RZUEVfU0laRTogMjAsXG4gIEdMX0ZPUk1BVDogMjQsXG4gIEdMX0lOVEVSTkFMX0ZPUk1BVDogMjgsXG4gIEdMX0JBU0VfSU5URVJOQUxfRk9STUFUOiAzMixcbiAgUElYRUxfV0lEVEg6IDM2LFxuICBQSVhFTF9IRUlHSFQ6IDQwLFxuICBQSVhFTF9ERVBUSDogNDQsXG4gIE5VTUJFUl9PRl9BUlJBWV9FTEVNRU5UUzogNDgsXG4gIE5VTUJFUl9PRl9GQUNFUzogNTIsXG4gIE5VTUJFUl9PRl9NSVBNQVBfTEVWRUxTOiA1NixcbiAgQllURVNfT0ZfS0VZX1ZBTFVFX0RBVEE6IDYwXG59O1xuY29uc3QgRklMRV9IRUFERVJfU0laRSA9IDY0O1xuY29uc3QgVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCA9IHtcbiAgW1RZUEVTLlVOU0lHTkVEX0JZVEVdOiAxLFxuICBbVFlQRVMuVU5TSUdORURfU0hPUlRdOiAyLFxuICBbVFlQRVMuSU5UXTogNCxcbiAgW1RZUEVTLlVOU0lHTkVEX0lOVF06IDQsXG4gIFtUWVBFUy5GTE9BVF06IDQsXG4gIFtUWVBFUy5IQUxGX0ZMT0FUXTogOFxufTtcbmNvbnN0IEZPUk1BVFNfVE9fQ09NUE9ORU5UUyA9IHtcbiAgW0ZPUk1BVFMuUkdCQV06IDQsXG4gIFtGT1JNQVRTLlJHQl06IDMsXG4gIFtGT1JNQVRTLlJHXTogMixcbiAgW0ZPUk1BVFMuUkVEXTogMSxcbiAgW0ZPUk1BVFMuTFVNSU5BTkNFXTogMSxcbiAgW0ZPUk1BVFMuTFVNSU5BTkNFX0FMUEhBXTogMixcbiAgW0ZPUk1BVFMuQUxQSEFdOiAxXG59O1xuY29uc3QgVFlQRVNfVE9fQllURVNfUEVSX1BJWEVMID0ge1xuICBbVFlQRVMuVU5TSUdORURfU0hPUlRfNF80XzRfNF06IDIsXG4gIFtUWVBFUy5VTlNJR05FRF9TSE9SVF81XzVfNV8xXTogMixcbiAgW1RZUEVTLlVOU0lHTkVEX1NIT1JUXzVfNl81XTogMlxufTtcbmZ1bmN0aW9uIHBhcnNlS1RYKHVybCwgYXJyYXlCdWZmZXIsIGxvYWRLZXlWYWx1ZURhdGEgPSBmYWxzZSkge1xuICBjb25zdCBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gIGlmICghdmFsaWRhdGUodXJsLCBkYXRhVmlldykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBsaXR0bGVFbmRpYW4gPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5FTkRJQU5ORVNTLCB0cnVlKSA9PT0gRU5ESUFOTkVTUztcbiAgY29uc3QgZ2xUeXBlID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuR0xfVFlQRSwgbGl0dGxlRW5kaWFuKTtcbiAgY29uc3QgZ2xGb3JtYXQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5HTF9GT1JNQVQsIGxpdHRsZUVuZGlhbik7XG4gIGNvbnN0IGdsSW50ZXJuYWxGb3JtYXQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5HTF9JTlRFUk5BTF9GT1JNQVQsIGxpdHRsZUVuZGlhbik7XG4gIGNvbnN0IHBpeGVsV2lkdGggPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5QSVhFTF9XSURUSCwgbGl0dGxlRW5kaWFuKTtcbiAgY29uc3QgcGl4ZWxIZWlnaHQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5QSVhFTF9IRUlHSFQsIGxpdHRsZUVuZGlhbikgfHwgMTtcbiAgY29uc3QgcGl4ZWxEZXB0aCA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLlBJWEVMX0RFUFRILCBsaXR0bGVFbmRpYW4pIHx8IDE7XG4gIGNvbnN0IG51bWJlck9mQXJyYXlFbGVtZW50cyA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLk5VTUJFUl9PRl9BUlJBWV9FTEVNRU5UUywgbGl0dGxlRW5kaWFuKSB8fCAxO1xuICBjb25zdCBudW1iZXJPZkZhY2VzID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuTlVNQkVSX09GX0ZBQ0VTLCBsaXR0bGVFbmRpYW4pO1xuICBjb25zdCBudW1iZXJPZk1pcG1hcExldmVscyA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLk5VTUJFUl9PRl9NSVBNQVBfTEVWRUxTLCBsaXR0bGVFbmRpYW4pO1xuICBjb25zdCBieXRlc09mS2V5VmFsdWVEYXRhID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuQllURVNfT0ZfS0VZX1ZBTFVFX0RBVEEsIGxpdHRsZUVuZGlhbik7XG4gIGlmIChwaXhlbEhlaWdodCA9PT0gMCB8fCBwaXhlbERlcHRoICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSAyRCB0ZXh0dXJlcyBhcmUgc3VwcG9ydGVkXCIpO1xuICB9XG4gIGlmIChudW1iZXJPZkZhY2VzICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ3ViZVRleHR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IEtUWExvYWRlciB5ZXQhXCIpO1xuICB9XG4gIGlmIChudW1iZXJPZkFycmF5RWxlbWVudHMgIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJXZWJHTCBkb2VzIG5vdCBzdXBwb3J0IGFycmF5IHRleHR1cmVzXCIpO1xuICB9XG4gIGNvbnN0IGJsb2NrV2lkdGggPSA0O1xuICBjb25zdCBibG9ja0hlaWdodCA9IDQ7XG4gIGNvbnN0IGFsaWduZWRXaWR0aCA9IHBpeGVsV2lkdGggKyAzICYgfjM7XG4gIGNvbnN0IGFsaWduZWRIZWlnaHQgPSBwaXhlbEhlaWdodCArIDMgJiB+MztcbiAgY29uc3QgaW1hZ2VCdWZmZXJzID0gbmV3IEFycmF5KG51bWJlck9mQXJyYXlFbGVtZW50cyk7XG4gIGxldCBpbWFnZVBpeGVscyA9IHBpeGVsV2lkdGggKiBwaXhlbEhlaWdodDtcbiAgaWYgKGdsVHlwZSA9PT0gMCkge1xuICAgIGltYWdlUGl4ZWxzID0gYWxpZ25lZFdpZHRoICogYWxpZ25lZEhlaWdodDtcbiAgfVxuICBsZXQgaW1hZ2VQaXhlbEJ5dGVTaXplO1xuICBpZiAoZ2xUeXBlICE9PSAwKSB7XG4gICAgaWYgKFRZUEVTX1RPX0JZVEVTX1BFUl9DT01QT05FTlRbZ2xUeXBlXSkge1xuICAgICAgaW1hZ2VQaXhlbEJ5dGVTaXplID0gVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVFtnbFR5cGVdICogRk9STUFUU19UT19DT01QT05FTlRTW2dsRm9ybWF0XTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW1hZ2VQaXhlbEJ5dGVTaXplID0gVFlQRVNfVE9fQllURVNfUEVSX1BJWEVMW2dsVHlwZV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGltYWdlUGl4ZWxCeXRlU2l6ZSA9IElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbZ2xJbnRlcm5hbEZvcm1hdF07XG4gIH1cbiAgaWYgKGltYWdlUGl4ZWxCeXRlU2l6ZSA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHJlc29sdmUgdGhlIHBpeGVsIGZvcm1hdCBzdG9yZWQgaW4gdGhlICoua3R4IGZpbGUhXCIpO1xuICB9XG4gIGNvbnN0IGt2RGF0YSA9IGxvYWRLZXlWYWx1ZURhdGEgPyBwYXJzZUt2RGF0YShkYXRhVmlldywgYnl0ZXNPZktleVZhbHVlRGF0YSwgbGl0dGxlRW5kaWFuKSA6IG51bGw7XG4gIGNvbnN0IGltYWdlQnl0ZVNpemUgPSBpbWFnZVBpeGVscyAqIGltYWdlUGl4ZWxCeXRlU2l6ZTtcbiAgbGV0IG1pcEJ5dGVTaXplID0gaW1hZ2VCeXRlU2l6ZTtcbiAgbGV0IG1pcFdpZHRoID0gcGl4ZWxXaWR0aDtcbiAgbGV0IG1pcEhlaWdodCA9IHBpeGVsSGVpZ2h0O1xuICBsZXQgYWxpZ25lZE1pcFdpZHRoID0gYWxpZ25lZFdpZHRoO1xuICBsZXQgYWxpZ25lZE1pcEhlaWdodCA9IGFsaWduZWRIZWlnaHQ7XG4gIGxldCBpbWFnZU9mZnNldCA9IEZJTEVfSEVBREVSX1NJWkUgKyBieXRlc09mS2V5VmFsdWVEYXRhO1xuICBmb3IgKGxldCBtaXBtYXBMZXZlbCA9IDA7IG1pcG1hcExldmVsIDwgbnVtYmVyT2ZNaXBtYXBMZXZlbHM7IG1pcG1hcExldmVsKyspIHtcbiAgICBjb25zdCBpbWFnZVNpemUgPSBkYXRhVmlldy5nZXRVaW50MzIoaW1hZ2VPZmZzZXQsIGxpdHRsZUVuZGlhbik7XG4gICAgbGV0IGVsZW1lbnRPZmZzZXQgPSBpbWFnZU9mZnNldCArIDQ7XG4gICAgZm9yIChsZXQgYXJyYXlFbGVtZW50ID0gMDsgYXJyYXlFbGVtZW50IDwgbnVtYmVyT2ZBcnJheUVsZW1lbnRzOyBhcnJheUVsZW1lbnQrKykge1xuICAgICAgbGV0IG1pcHMgPSBpbWFnZUJ1ZmZlcnNbYXJyYXlFbGVtZW50XTtcbiAgICAgIGlmICghbWlwcykge1xuICAgICAgICBtaXBzID0gaW1hZ2VCdWZmZXJzW2FycmF5RWxlbWVudF0gPSBuZXcgQXJyYXkobnVtYmVyT2ZNaXBtYXBMZXZlbHMpO1xuICAgICAgfVxuICAgICAgbWlwc1ttaXBtYXBMZXZlbF0gPSB7XG4gICAgICAgIGxldmVsSUQ6IG1pcG1hcExldmVsLFxuICAgICAgICBsZXZlbFdpZHRoOiBudW1iZXJPZk1pcG1hcExldmVscyA+IDEgfHwgZ2xUeXBlICE9PSAwID8gbWlwV2lkdGggOiBhbGlnbmVkTWlwV2lkdGgsXG4gICAgICAgIGxldmVsSGVpZ2h0OiBudW1iZXJPZk1pcG1hcExldmVscyA+IDEgfHwgZ2xUeXBlICE9PSAwID8gbWlwSGVpZ2h0IDogYWxpZ25lZE1pcEhlaWdodCxcbiAgICAgICAgbGV2ZWxCdWZmZXI6IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBlbGVtZW50T2Zmc2V0LCBtaXBCeXRlU2l6ZSlcbiAgICAgIH07XG4gICAgICBlbGVtZW50T2Zmc2V0ICs9IG1pcEJ5dGVTaXplO1xuICAgIH1cbiAgICBpbWFnZU9mZnNldCArPSBpbWFnZVNpemUgKyA0O1xuICAgIGltYWdlT2Zmc2V0ID0gaW1hZ2VPZmZzZXQgJSA0ICE9PSAwID8gaW1hZ2VPZmZzZXQgKyA0IC0gaW1hZ2VPZmZzZXQgJSA0IDogaW1hZ2VPZmZzZXQ7XG4gICAgbWlwV2lkdGggPSBtaXBXaWR0aCA+PiAxIHx8IDE7XG4gICAgbWlwSGVpZ2h0ID0gbWlwSGVpZ2h0ID4+IDEgfHwgMTtcbiAgICBhbGlnbmVkTWlwV2lkdGggPSBtaXBXaWR0aCArIGJsb2NrV2lkdGggLSAxICYgfihibG9ja1dpZHRoIC0gMSk7XG4gICAgYWxpZ25lZE1pcEhlaWdodCA9IG1pcEhlaWdodCArIGJsb2NrSGVpZ2h0IC0gMSAmIH4oYmxvY2tIZWlnaHQgLSAxKTtcbiAgICBtaXBCeXRlU2l6ZSA9IGFsaWduZWRNaXBXaWR0aCAqIGFsaWduZWRNaXBIZWlnaHQgKiBpbWFnZVBpeGVsQnl0ZVNpemU7XG4gIH1cbiAgaWYgKGdsVHlwZSAhPT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICB1bmNvbXByZXNzZWQ6IGltYWdlQnVmZmVycy5tYXAoKGxldmVsQnVmZmVycykgPT4ge1xuICAgICAgICBsZXQgYnVmZmVyID0gbGV2ZWxCdWZmZXJzWzBdLmxldmVsQnVmZmVyO1xuICAgICAgICBsZXQgY29udmVydFRvSW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChnbFR5cGUgPT09IFRZUEVTLkZMT0FUKSB7XG4gICAgICAgICAgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnVmZmVyLCBsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnl0ZU9mZnNldCwgbGV2ZWxCdWZmZXJzWzBdLmxldmVsQnVmZmVyLmJ5dGVMZW5ndGggLyA0KTtcbiAgICAgICAgfSBlbHNlIGlmIChnbFR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0lOVCkge1xuICAgICAgICAgIGNvbnZlcnRUb0ludCA9IHRydWU7XG4gICAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQzMkFycmF5KGxldmVsQnVmZmVyc1swXS5sZXZlbEJ1ZmZlci5idWZmZXIsIGxldmVsQnVmZmVyc1swXS5sZXZlbEJ1ZmZlci5ieXRlT2Zmc2V0LCBsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnl0ZUxlbmd0aCAvIDQpO1xuICAgICAgICB9IGVsc2UgaWYgKGdsVHlwZSA9PT0gVFlQRVMuSU5UKSB7XG4gICAgICAgICAgY29udmVydFRvSW50ID0gdHJ1ZTtcbiAgICAgICAgICBidWZmZXIgPSBuZXcgSW50MzJBcnJheShsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnVmZmVyLCBsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnl0ZU9mZnNldCwgbGV2ZWxCdWZmZXJzWzBdLmxldmVsQnVmZmVyLmJ5dGVMZW5ndGggLyA0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc291cmNlOiBuZXcgQnVmZmVyUmVzb3VyY2UoYnVmZmVyLCB7XG4gICAgICAgICAgICB3aWR0aDogbGV2ZWxCdWZmZXJzWzBdLmxldmVsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGxldmVsQnVmZmVyc1swXS5sZXZlbEhlaWdodFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHR5cGU6IGdsVHlwZSxcbiAgICAgICAgICBmb3JtYXQ6IGNvbnZlcnRUb0ludCA/IGNvbnZlcnRGb3JtYXRUb0ludGVnZXIoZ2xGb3JtYXQpIDogZ2xGb3JtYXRcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAga3ZEYXRhXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGNvbXByZXNzZWQ6IGltYWdlQnVmZmVycy5tYXAoKGxldmVsQnVmZmVycykgPT4gbmV3IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UobnVsbCwge1xuICAgICAgZm9ybWF0OiBnbEludGVybmFsRm9ybWF0LFxuICAgICAgd2lkdGg6IHBpeGVsV2lkdGgsXG4gICAgICBoZWlnaHQ6IHBpeGVsSGVpZ2h0LFxuICAgICAgbGV2ZWxzOiBudW1iZXJPZk1pcG1hcExldmVscyxcbiAgICAgIGxldmVsQnVmZmVyc1xuICAgIH0pKSxcbiAgICBrdkRhdGFcbiAgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlKHVybCwgZGF0YVZpZXcpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBGSUxFX0lERU5USUZJRVIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDgoaSkgIT09IEZJTEVfSURFTlRJRklFUltpXSkge1xuICAgICAgY29uc29sZS5lcnJvcihgJHt1cmx9IGlzIG5vdCBhIHZhbGlkICoua3R4IGZpbGUhYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gY29udmVydEZvcm1hdFRvSW50ZWdlcihmb3JtYXQpIHtcbiAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICBjYXNlIEZPUk1BVFMuUkdCQTpcbiAgICAgIHJldHVybiBGT1JNQVRTLlJHQkFfSU5URUdFUjtcbiAgICBjYXNlIEZPUk1BVFMuUkdCOlxuICAgICAgcmV0dXJuIEZPUk1BVFMuUkdCX0lOVEVHRVI7XG4gICAgY2FzZSBGT1JNQVRTLlJHOlxuICAgICAgcmV0dXJuIEZPUk1BVFMuUkdfSU5URUdFUjtcbiAgICBjYXNlIEZPUk1BVFMuUkVEOlxuICAgICAgcmV0dXJuIEZPUk1BVFMuUkVEX0lOVEVHRVI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmb3JtYXQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlS3ZEYXRhKGRhdGFWaWV3LCBieXRlc09mS2V5VmFsdWVEYXRhLCBsaXR0bGVFbmRpYW4pIHtcbiAgY29uc3Qga3ZEYXRhID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGJ5dGVzSW50b0tleVZhbHVlRGF0YSA9IDA7XG4gIHdoaWxlIChieXRlc0ludG9LZXlWYWx1ZURhdGEgPCBieXRlc09mS2V5VmFsdWVEYXRhKSB7XG4gICAgY29uc3Qga2V5QW5kVmFsdWVCeXRlU2l6ZSA9IGRhdGFWaWV3LmdldFVpbnQzMihGSUxFX0hFQURFUl9TSVpFICsgYnl0ZXNJbnRvS2V5VmFsdWVEYXRhLCBsaXR0bGVFbmRpYW4pO1xuICAgIGNvbnN0IGtleUFuZFZhbHVlQnl0ZU9mZnNldCA9IEZJTEVfSEVBREVSX1NJWkUgKyBieXRlc0ludG9LZXlWYWx1ZURhdGEgKyA0O1xuICAgIGNvbnN0IHZhbHVlUGFkZGluZyA9IDMgLSAoa2V5QW5kVmFsdWVCeXRlU2l6ZSArIDMpICUgNDtcbiAgICBpZiAoa2V5QW5kVmFsdWVCeXRlU2l6ZSA9PT0gMCB8fCBrZXlBbmRWYWx1ZUJ5dGVTaXplID4gYnl0ZXNPZktleVZhbHVlRGF0YSAtIGJ5dGVzSW50b0tleVZhbHVlRGF0YSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIktUWExvYWRlcjoga2V5QW5kVmFsdWVCeXRlU2l6ZSBvdXQgb2YgYm91bmRzXCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGxldCBrZXlOdWxCeXRlID0gMDtcbiAgICBmb3IgKDsga2V5TnVsQnl0ZSA8IGtleUFuZFZhbHVlQnl0ZVNpemU7IGtleU51bEJ5dGUrKykge1xuICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQ4KGtleUFuZFZhbHVlQnl0ZU9mZnNldCArIGtleU51bEJ5dGUpID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5TnVsQnl0ZSA9PT0gLTEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJLVFhMb2FkZXI6IEZhaWxlZCB0byBmaW5kIG51bGwgYnl0ZSB0ZXJtaW5hdGluZyBrdkRhdGEga2V5XCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShuZXcgVWludDhBcnJheShkYXRhVmlldy5idWZmZXIsIGtleUFuZFZhbHVlQnl0ZU9mZnNldCwga2V5TnVsQnl0ZSkpO1xuICAgIGNvbnN0IHZhbHVlID0gbmV3IERhdGFWaWV3KGRhdGFWaWV3LmJ1ZmZlciwga2V5QW5kVmFsdWVCeXRlT2Zmc2V0ICsga2V5TnVsQnl0ZSArIDEsIGtleUFuZFZhbHVlQnl0ZVNpemUgLSBrZXlOdWxCeXRlIC0gMSk7XG4gICAga3ZEYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICBieXRlc0ludG9LZXlWYWx1ZURhdGEgKz0gNCArIGtleUFuZFZhbHVlQnl0ZVNpemUgKyB2YWx1ZVBhZGRpbmc7XG4gIH1cbiAgcmV0dXJuIGt2RGF0YTtcbn1cblxuZXhwb3J0IHsgRk9STUFUU19UT19DT01QT05FTlRTLCBUWVBFU19UT19CWVRFU19QRVJfQ09NUE9ORU5ULCBUWVBFU19UT19CWVRFU19QRVJfUElYRUwsIHBhcnNlS1RYIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZUtUWC5tanMubWFwXG4iLCJpbXBvcnQgeyBCdWZmZXJSZXNvdXJjZSwgVmlld2FibGVCdWZmZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY2xhc3MgQmxvYlJlc291cmNlIGV4dGVuZHMgQnVmZmVyUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMgPSB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEsIGF1dG9Mb2FkOiB0cnVlIH0pIHtcbiAgICBsZXQgb3JpZ2luO1xuICAgIGxldCBkYXRhO1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBvcmlnaW4gPSBzb3VyY2U7XG4gICAgICBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3JpZ2luID0gbnVsbDtcbiAgICAgIGRhdGEgPSBzb3VyY2U7XG4gICAgfVxuICAgIHN1cGVyKGRhdGEsIG9wdGlvbnMpO1xuICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xuICAgIHRoaXMuYnVmZmVyID0gZGF0YSA/IG5ldyBWaWV3YWJsZUJ1ZmZlcihkYXRhKSA6IG51bGw7XG4gICAgaWYgKHRoaXMub3JpZ2luICYmIG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG4gICAgaWYgKGRhdGE/Lmxlbmd0aCkge1xuICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgdGhpcy5vbkJsb2JMb2FkZWQodGhpcy5idWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuICB9XG4gIG9uQmxvYkxvYWRlZChfZGF0YSkge1xuICB9XG4gIGFzeW5jIGxvYWQoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLm9yaWdpbik7XG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKTtcbiAgICB0aGlzLmRhdGEgPSBuZXcgVWludDMyQXJyYXkoYXJyYXlCdWZmZXIpO1xuICAgIHRoaXMuYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKGFycmF5QnVmZmVyKTtcbiAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgdGhpcy5vbkJsb2JMb2FkZWQoYXJyYXlCdWZmZXIpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmxvYlJlc291cmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CbG9iUmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgQmxvYlJlc291cmNlIH0gZnJvbSAnLi9CbG9iUmVzb3VyY2UubWpzJztcbmltcG9ydCB7IElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUwgfSBmcm9tICcuLi9jb25zdC5tanMnO1xuXG5jbGFzcyBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlIGV4dGVuZHMgQmxvYlJlc291cmNlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gICAgc3VwZXIoc291cmNlLCBvcHRpb25zKTtcbiAgICB0aGlzLmZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuICAgIHRoaXMubGV2ZWxzID0gb3B0aW9ucy5sZXZlbHMgfHwgMTtcbiAgICB0aGlzLl93aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgdGhpcy5faGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgdGhpcy5fZXh0ZW5zaW9uID0gQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5fZm9ybWF0VG9FeHRlbnNpb24odGhpcy5mb3JtYXQpO1xuICAgIGlmIChvcHRpb25zLmxldmVsQnVmZmVycyB8fCB0aGlzLmJ1ZmZlcikge1xuICAgICAgdGhpcy5fbGV2ZWxCdWZmZXJzID0gb3B0aW9ucy5sZXZlbEJ1ZmZlcnMgfHwgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5fY3JlYXRlTGV2ZWxCdWZmZXJzKHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBzb3VyY2UgOiB0aGlzLmJ1ZmZlci51aW50OFZpZXcsIHRoaXMuZm9ybWF0LCB0aGlzLmxldmVscywgNCwgNCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cbiAgfVxuICB1cGxvYWQocmVuZGVyZXIsIF90ZXh0dXJlLCBfZ2xUZXh0dXJlKSB7XG4gICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcbiAgICBjb25zdCBleHRlbnNpb24gPSByZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnNbdGhpcy5fZXh0ZW5zaW9uXTtcbiAgICBpZiAoIWV4dGVuc2lvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3RoaXMuX2V4dGVuc2lvbn0gdGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gdGhlIGN1cnJlbnQgbWFjaGluZWApO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX2xldmVsQnVmZmVycykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRoaXMubGV2ZWxzOyBpIDwgajsgaSsrKSB7XG4gICAgICBjb25zdCB7IGxldmVsSUQsIGxldmVsV2lkdGgsIGxldmVsSGVpZ2h0LCBsZXZlbEJ1ZmZlciB9ID0gdGhpcy5fbGV2ZWxCdWZmZXJzW2ldO1xuICAgICAgZ2wuY29tcHJlc3NlZFRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgbGV2ZWxJRCwgdGhpcy5mb3JtYXQsIGxldmVsV2lkdGgsIGxldmVsSGVpZ2h0LCAwLCBsZXZlbEJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIG9uQmxvYkxvYWRlZCgpIHtcbiAgICB0aGlzLl9sZXZlbEJ1ZmZlcnMgPSBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLl9jcmVhdGVMZXZlbEJ1ZmZlcnModGhpcy5idWZmZXIudWludDhWaWV3LCB0aGlzLmZvcm1hdCwgdGhpcy5sZXZlbHMsIDQsIDQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgfVxuICBzdGF0aWMgX2Zvcm1hdFRvRXh0ZW5zaW9uKGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPj0gMzM3NzYgJiYgZm9ybWF0IDw9IDMzNzc5KSB7XG4gICAgICByZXR1cm4gXCJzM3RjXCI7XG4gICAgfSBlbHNlIGlmIChmb3JtYXQgPj0gMzc0ODggJiYgZm9ybWF0IDw9IDM3NDk3KSB7XG4gICAgICByZXR1cm4gXCJldGNcIjtcbiAgICB9IGVsc2UgaWYgKGZvcm1hdCA+PSAzNTg0MCAmJiBmb3JtYXQgPD0gMzU4NDMpIHtcbiAgICAgIHJldHVybiBcInB2cnRjXCI7XG4gICAgfSBlbHNlIGlmIChmb3JtYXQgPj0gMzYxOTYpIHtcbiAgICAgIHJldHVybiBcImV0YzFcIjtcbiAgICB9IGVsc2UgaWYgKGZvcm1hdCA+PSAzNTk4NiAmJiBmb3JtYXQgPD0gMzQ3OTgpIHtcbiAgICAgIHJldHVybiBcImF0Y1wiO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIChjb21wcmVzc2VkKSB0ZXh0dXJlIGZvcm1hdCBnaXZlbiFcIik7XG4gIH1cbiAgc3RhdGljIF9jcmVhdGVMZXZlbEJ1ZmZlcnMoYnVmZmVyLCBmb3JtYXQsIGxldmVscywgYmxvY2tXaWR0aCwgYmxvY2tIZWlnaHQsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0KSB7XG4gICAgY29uc3QgYnVmZmVycyA9IG5ldyBBcnJheShsZXZlbHMpO1xuICAgIGxldCBvZmZzZXQgPSBidWZmZXIuYnl0ZU9mZnNldDtcbiAgICBsZXQgbGV2ZWxXaWR0aCA9IGltYWdlV2lkdGg7XG4gICAgbGV0IGxldmVsSGVpZ2h0ID0gaW1hZ2VIZWlnaHQ7XG4gICAgbGV0IGFsaWduZWRMZXZlbFdpZHRoID0gbGV2ZWxXaWR0aCArIGJsb2NrV2lkdGggLSAxICYgfihibG9ja1dpZHRoIC0gMSk7XG4gICAgbGV0IGFsaWduZWRMZXZlbEhlaWdodCA9IGxldmVsSGVpZ2h0ICsgYmxvY2tIZWlnaHQgLSAxICYgfihibG9ja0hlaWdodCAtIDEpO1xuICAgIGxldCBsZXZlbFNpemUgPSBhbGlnbmVkTGV2ZWxXaWR0aCAqIGFsaWduZWRMZXZlbEhlaWdodCAqIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbZm9ybWF0XTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxldmVsczsgaSsrKSB7XG4gICAgICBidWZmZXJzW2ldID0ge1xuICAgICAgICBsZXZlbElEOiBpLFxuICAgICAgICBsZXZlbFdpZHRoOiBsZXZlbHMgPiAxID8gbGV2ZWxXaWR0aCA6IGFsaWduZWRMZXZlbFdpZHRoLFxuICAgICAgICBsZXZlbEhlaWdodDogbGV2ZWxzID4gMSA/IGxldmVsSGVpZ2h0IDogYWxpZ25lZExldmVsSGVpZ2h0LFxuICAgICAgICBsZXZlbEJ1ZmZlcjogbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLmJ1ZmZlciwgb2Zmc2V0LCBsZXZlbFNpemUpXG4gICAgICB9O1xuICAgICAgb2Zmc2V0ICs9IGxldmVsU2l6ZTtcbiAgICAgIGxldmVsV2lkdGggPSBsZXZlbFdpZHRoID4+IDEgfHwgMTtcbiAgICAgIGxldmVsSGVpZ2h0ID0gbGV2ZWxIZWlnaHQgPj4gMSB8fCAxO1xuICAgICAgYWxpZ25lZExldmVsV2lkdGggPSBsZXZlbFdpZHRoICsgYmxvY2tXaWR0aCAtIDEgJiB+KGJsb2NrV2lkdGggLSAxKTtcbiAgICAgIGFsaWduZWRMZXZlbEhlaWdodCA9IGxldmVsSGVpZ2h0ICsgYmxvY2tIZWlnaHQgLSAxICYgfihibG9ja0hlaWdodCAtIDEpO1xuICAgICAgbGV2ZWxTaXplID0gYWxpZ25lZExldmVsV2lkdGggKiBhbGlnbmVkTGV2ZWxIZWlnaHQgKiBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMW2Zvcm1hdF07XG4gICAgfVxuICAgIHJldHVybiBidWZmZXJzO1xuICB9XG59XG5cbmV4cG9ydCB7IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UubWpzLm1hcFxuIiwiZXhwb3J0IHsgQmxvYlJlc291cmNlIH0gZnJvbSAnLi9CbG9iUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UgfSBmcm9tICcuL0NvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsInZhciBFTlYgPSAvKiBAX19QVVJFX18gKi8gKChFTlYyKSA9PiB7XG4gIEVOVjJbRU5WMltcIldFQkdMX0xFR0FDWVwiXSA9IDBdID0gXCJXRUJHTF9MRUdBQ1lcIjtcbiAgRU5WMltFTlYyW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgRU5WMltFTlYyW1wiV0VCR0wyXCJdID0gMl0gPSBcIldFQkdMMlwiO1xuICByZXR1cm4gRU5WMjtcbn0pKEVOViB8fCB7fSk7XG52YXIgUkVOREVSRVJfVFlQRSA9IC8qIEBfX1BVUkVfXyAqLyAoKFJFTkRFUkVSX1RZUEUyKSA9PiB7XG4gIFJFTkRFUkVSX1RZUEUyW1JFTkRFUkVSX1RZUEUyW1wiVU5LTk9XTlwiXSA9IDBdID0gXCJVTktOT1dOXCI7XG4gIFJFTkRFUkVSX1RZUEUyW1JFTkRFUkVSX1RZUEUyW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgUkVOREVSRVJfVFlQRTJbUkVOREVSRVJfVFlQRTJbXCJDQU5WQVNcIl0gPSAyXSA9IFwiQ0FOVkFTXCI7XG4gIHJldHVybiBSRU5ERVJFUl9UWVBFMjtcbn0pKFJFTkRFUkVSX1RZUEUgfHwge30pO1xudmFyIEJVRkZFUl9CSVRTID0gLyogQF9fUFVSRV9fICovICgoQlVGRkVSX0JJVFMyKSA9PiB7XG4gIEJVRkZFUl9CSVRTMltCVUZGRVJfQklUUzJbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgQlVGRkVSX0JJVFMyW0JVRkZFUl9CSVRTMltcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgQlVGRkVSX0JJVFMyW0JVRkZFUl9CSVRTMltcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xuICByZXR1cm4gQlVGRkVSX0JJVFMyO1xufSkoQlVGRkVSX0JJVFMgfHwge30pO1xudmFyIEJMRU5EX01PREVTID0gLyogQF9fUFVSRV9fICovICgoQkxFTkRfTU9ERVMyKSA9PiB7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgQkxFTkRfTU9ERVMyW0JMRU5EX01PREVTMltcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICBCTEVORF9NT0RFUzJbQkxFTkRfTU9ERVMyW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gIEJMRU5EX01PREVTMltCTEVORF9NT0RFUzJbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xuICByZXR1cm4gQkxFTkRfTU9ERVMyO1xufSkoQkxFTkRfTU9ERVMgfHwge30pO1xudmFyIERSQVdfTU9ERVMgPSAvKiBAX19QVVJFX18gKi8gKChEUkFXX01PREVTMikgPT4ge1xuICBEUkFXX01PREVTMltEUkFXX01PREVTMltcIlBPSU5UU1wiXSA9IDBdID0gXCJQT0lOVFNcIjtcbiAgRFJBV19NT0RFUzJbRFJBV19NT0RFUzJbXCJMSU5FU1wiXSA9IDFdID0gXCJMSU5FU1wiO1xuICBEUkFXX01PREVTMltEUkFXX01PREVTMltcIkxJTkVfTE9PUFwiXSA9IDJdID0gXCJMSU5FX0xPT1BcIjtcbiAgRFJBV19NT0RFUzJbRFJBV19NT0RFUzJbXCJMSU5FX1NUUklQXCJdID0gM10gPSBcIkxJTkVfU1RSSVBcIjtcbiAgRFJBV19NT0RFUzJbRFJBV19NT0RFUzJbXCJUUklBTkdMRVNcIl0gPSA0XSA9IFwiVFJJQU5HTEVTXCI7XG4gIERSQVdfTU9ERVMyW0RSQVdfTU9ERVMyW1wiVFJJQU5HTEVfU1RSSVBcIl0gPSA1XSA9IFwiVFJJQU5HTEVfU1RSSVBcIjtcbiAgRFJBV19NT0RFUzJbRFJBV19NT0RFUzJbXCJUUklBTkdMRV9GQU5cIl0gPSA2XSA9IFwiVFJJQU5HTEVfRkFOXCI7XG4gIHJldHVybiBEUkFXX01PREVTMjtcbn0pKERSQVdfTU9ERVMgfHwge30pO1xudmFyIEZPUk1BVFMgPSAvKiBAX19QVVJFX18gKi8gKChGT1JNQVRTMikgPT4ge1xuICBGT1JNQVRTMltGT1JNQVRTMltcIlJHQkFcIl0gPSA2NDA4XSA9IFwiUkdCQVwiO1xuICBGT1JNQVRTMltGT1JNQVRTMltcIlJHQlwiXSA9IDY0MDddID0gXCJSR0JcIjtcbiAgRk9STUFUUzJbRk9STUFUUzJbXCJSR1wiXSA9IDMzMzE5XSA9IFwiUkdcIjtcbiAgRk9STUFUUzJbRk9STUFUUzJbXCJSRURcIl0gPSA2NDAzXSA9IFwiUkVEXCI7XG4gIEZPUk1BVFMyW0ZPUk1BVFMyW1wiUkdCQV9JTlRFR0VSXCJdID0gMzYyNDldID0gXCJSR0JBX0lOVEVHRVJcIjtcbiAgRk9STUFUUzJbRk9STUFUUzJbXCJSR0JfSU5URUdFUlwiXSA9IDM2MjQ4XSA9IFwiUkdCX0lOVEVHRVJcIjtcbiAgRk9STUFUUzJbRk9STUFUUzJbXCJSR19JTlRFR0VSXCJdID0gMzMzMjBdID0gXCJSR19JTlRFR0VSXCI7XG4gIEZPUk1BVFMyW0ZPUk1BVFMyW1wiUkVEX0lOVEVHRVJcIl0gPSAzNjI0NF0gPSBcIlJFRF9JTlRFR0VSXCI7XG4gIEZPUk1BVFMyW0ZPUk1BVFMyW1wiQUxQSEFcIl0gPSA2NDA2XSA9IFwiQUxQSEFcIjtcbiAgRk9STUFUUzJbRk9STUFUUzJbXCJMVU1JTkFOQ0VcIl0gPSA2NDA5XSA9IFwiTFVNSU5BTkNFXCI7XG4gIEZPUk1BVFMyW0ZPUk1BVFMyW1wiTFVNSU5BTkNFX0FMUEhBXCJdID0gNjQxMF0gPSBcIkxVTUlOQU5DRV9BTFBIQVwiO1xuICBGT1JNQVRTMltGT1JNQVRTMltcIkRFUFRIX0NPTVBPTkVOVFwiXSA9IDY0MDJdID0gXCJERVBUSF9DT01QT05FTlRcIjtcbiAgRk9STUFUUzJbRk9STUFUUzJbXCJERVBUSF9TVEVOQ0lMXCJdID0gMzQwNDFdID0gXCJERVBUSF9TVEVOQ0lMXCI7XG4gIHJldHVybiBGT1JNQVRTMjtcbn0pKEZPUk1BVFMgfHwge30pO1xudmFyIFRBUkdFVFMgPSAvKiBAX19QVVJFX18gKi8gKChUQVJHRVRTMikgPT4ge1xuICBUQVJHRVRTMltUQVJHRVRTMltcIlRFWFRVUkVfMkRcIl0gPSAzNTUzXSA9IFwiVEVYVFVSRV8yRFwiO1xuICBUQVJHRVRTMltUQVJHRVRTMltcIlRFWFRVUkVfQ1VCRV9NQVBcIl0gPSAzNDA2N10gPSBcIlRFWFRVUkVfQ1VCRV9NQVBcIjtcbiAgVEFSR0VUUzJbVEFSR0VUUzJbXCJURVhUVVJFXzJEX0FSUkFZXCJdID0gMzU4NjZdID0gXCJURVhUVVJFXzJEX0FSUkFZXCI7XG4gIFRBUkdFVFMyW1RBUkdFVFMyW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCJdID0gMzQwNjldID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIjtcbiAgVEFSR0VUUzJbVEFSR0VUUzJbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIl0gPSAzNDA3MF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiO1xuICBUQVJHRVRTMltUQVJHRVRTMltcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiXSA9IDM0MDcxXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCI7XG4gIFRBUkdFVFMyW1RBUkdFVFMyW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCJdID0gMzQwNzJdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIjtcbiAgVEFSR0VUUzJbVEFSR0VUUzJbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIl0gPSAzNDA3M10gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiO1xuICBUQVJHRVRTMltUQVJHRVRTMltcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiXSA9IDM0MDc0XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCI7XG4gIHJldHVybiBUQVJHRVRTMjtcbn0pKFRBUkdFVFMgfHwge30pO1xudmFyIFRZUEVTID0gLyogQF9fUFVSRV9fICovICgoVFlQRVMyKSA9PiB7XG4gIFRZUEVTMltUWVBFUzJbXCJVTlNJR05FRF9CWVRFXCJdID0gNTEyMV0gPSBcIlVOU0lHTkVEX0JZVEVcIjtcbiAgVFlQRVMyW1RZUEVTMltcIlVOU0lHTkVEX1NIT1JUXCJdID0gNTEyM10gPSBcIlVOU0lHTkVEX1NIT1JUXCI7XG4gIFRZUEVTMltUWVBFUzJbXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiXSA9IDMzNjM1XSA9IFwiVU5TSUdORURfU0hPUlRfNV82XzVcIjtcbiAgVFlQRVMyW1RZUEVTMltcIlVOU0lHTkVEX1NIT1JUXzRfNF80XzRcIl0gPSAzMjgxOV0gPSBcIlVOU0lHTkVEX1NIT1JUXzRfNF80XzRcIjtcbiAgVFlQRVMyW1RZUEVTMltcIlVOU0lHTkVEX1NIT1JUXzVfNV81XzFcIl0gPSAzMjgyMF0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNV81XzFcIjtcbiAgVFlQRVMyW1RZUEVTMltcIlVOU0lHTkVEX0lOVFwiXSA9IDUxMjVdID0gXCJVTlNJR05FRF9JTlRcIjtcbiAgVFlQRVMyW1RZUEVTMltcIlVOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVZcIl0gPSAzNTg5OV0gPSBcIlVOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVZcIjtcbiAgVFlQRVMyW1RZUEVTMltcIlVOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFVlwiXSA9IDMzNjQwXSA9IFwiVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWXCI7XG4gIFRZUEVTMltUWVBFUzJbXCJVTlNJR05FRF9JTlRfMjRfOFwiXSA9IDM0MDQyXSA9IFwiVU5TSUdORURfSU5UXzI0XzhcIjtcbiAgVFlQRVMyW1RZUEVTMltcIlVOU0lHTkVEX0lOVF81XzlfOV85X1JFVlwiXSA9IDM1OTAyXSA9IFwiVU5TSUdORURfSU5UXzVfOV85XzlfUkVWXCI7XG4gIFRZUEVTMltUWVBFUzJbXCJCWVRFXCJdID0gNTEyMF0gPSBcIkJZVEVcIjtcbiAgVFlQRVMyW1RZUEVTMltcIlNIT1JUXCJdID0gNTEyMl0gPSBcIlNIT1JUXCI7XG4gIFRZUEVTMltUWVBFUzJbXCJJTlRcIl0gPSA1MTI0XSA9IFwiSU5UXCI7XG4gIFRZUEVTMltUWVBFUzJbXCJGTE9BVFwiXSA9IDUxMjZdID0gXCJGTE9BVFwiO1xuICBUWVBFUzJbVFlQRVMyW1wiRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWXCJdID0gMzYyNjldID0gXCJGTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVZcIjtcbiAgVFlQRVMyW1RZUEVTMltcIkhBTEZfRkxPQVRcIl0gPSAzNjE5M10gPSBcIkhBTEZfRkxPQVRcIjtcbiAgcmV0dXJuIFRZUEVTMjtcbn0pKFRZUEVTIHx8IHt9KTtcbnZhciBTQU1QTEVSX1RZUEVTID0gLyogQF9fUFVSRV9fICovICgoU0FNUExFUl9UWVBFUzIpID0+IHtcbiAgU0FNUExFUl9UWVBFUzJbU0FNUExFUl9UWVBFUzJbXCJGTE9BVFwiXSA9IDBdID0gXCJGTE9BVFwiO1xuICBTQU1QTEVSX1RZUEVTMltTQU1QTEVSX1RZUEVTMltcIklOVFwiXSA9IDFdID0gXCJJTlRcIjtcbiAgU0FNUExFUl9UWVBFUzJbU0FNUExFUl9UWVBFUzJbXCJVSU5UXCJdID0gMl0gPSBcIlVJTlRcIjtcbiAgcmV0dXJuIFNBTVBMRVJfVFlQRVMyO1xufSkoU0FNUExFUl9UWVBFUyB8fCB7fSk7XG52YXIgU0NBTEVfTU9ERVMgPSAvKiBAX19QVVJFX18gKi8gKChTQ0FMRV9NT0RFUzIpID0+IHtcbiAgU0NBTEVfTU9ERVMyW1NDQUxFX01PREVTMltcIk5FQVJFU1RcIl0gPSAwXSA9IFwiTkVBUkVTVFwiO1xuICBTQ0FMRV9NT0RFUzJbU0NBTEVfTU9ERVMyW1wiTElORUFSXCJdID0gMV0gPSBcIkxJTkVBUlwiO1xuICByZXR1cm4gU0NBTEVfTU9ERVMyO1xufSkoU0NBTEVfTU9ERVMgfHwge30pO1xudmFyIFdSQVBfTU9ERVMgPSAvKiBAX19QVVJFX18gKi8gKChXUkFQX01PREVTMikgPT4ge1xuICBXUkFQX01PREVTMltXUkFQX01PREVTMltcIkNMQU1QXCJdID0gMzMwNzFdID0gXCJDTEFNUFwiO1xuICBXUkFQX01PREVTMltXUkFQX01PREVTMltcIlJFUEVBVFwiXSA9IDEwNDk3XSA9IFwiUkVQRUFUXCI7XG4gIFdSQVBfTU9ERVMyW1dSQVBfTU9ERVMyW1wiTUlSUk9SRURfUkVQRUFUXCJdID0gMzM2NDhdID0gXCJNSVJST1JFRF9SRVBFQVRcIjtcbiAgcmV0dXJuIFdSQVBfTU9ERVMyO1xufSkoV1JBUF9NT0RFUyB8fCB7fSk7XG52YXIgTUlQTUFQX01PREVTID0gLyogQF9fUFVSRV9fICovICgoTUlQTUFQX01PREVTMikgPT4ge1xuICBNSVBNQVBfTU9ERVMyW01JUE1BUF9NT0RFUzJbXCJPRkZcIl0gPSAwXSA9IFwiT0ZGXCI7XG4gIE1JUE1BUF9NT0RFUzJbTUlQTUFQX01PREVTMltcIlBPVzJcIl0gPSAxXSA9IFwiUE9XMlwiO1xuICBNSVBNQVBfTU9ERVMyW01JUE1BUF9NT0RFUzJbXCJPTlwiXSA9IDJdID0gXCJPTlwiO1xuICBNSVBNQVBfTU9ERVMyW01JUE1BUF9NT0RFUzJbXCJPTl9NQU5VQUxcIl0gPSAzXSA9IFwiT05fTUFOVUFMXCI7XG4gIHJldHVybiBNSVBNQVBfTU9ERVMyO1xufSkoTUlQTUFQX01PREVTIHx8IHt9KTtcbnZhciBBTFBIQV9NT0RFUyA9IC8qIEBfX1BVUkVfXyAqLyAoKEFMUEhBX01PREVTMikgPT4ge1xuICBBTFBIQV9NT0RFUzJbQUxQSEFfTU9ERVMyW1wiTlBNXCJdID0gMF0gPSBcIk5QTVwiO1xuICBBTFBIQV9NT0RFUzJbQUxQSEFfTU9ERVMyW1wiVU5QQUNLXCJdID0gMV0gPSBcIlVOUEFDS1wiO1xuICBBTFBIQV9NT0RFUzJbQUxQSEFfTU9ERVMyW1wiUE1BXCJdID0gMl0gPSBcIlBNQVwiO1xuICBBTFBIQV9NT0RFUzJbQUxQSEFfTU9ERVMyW1wiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiXSA9IDBdID0gXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCI7XG4gIEFMUEhBX01PREVTMltBTFBIQV9NT0RFUzJbXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIl0gPSAxXSA9IFwiUFJFTVVMVElQTFlfT05fVVBMT0FEXCI7XG4gIEFMUEhBX01PREVTMltBTFBIQV9NT0RFUzJbXCJQUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgcmV0dXJuIEFMUEhBX01PREVTMjtcbn0pKEFMUEhBX01PREVTIHx8IHt9KTtcbnZhciBDTEVBUl9NT0RFUyA9IC8qIEBfX1BVUkVfXyAqLyAoKENMRUFSX01PREVTMikgPT4ge1xuICBDTEVBUl9NT0RFUzJbQ0xFQVJfTU9ERVMyW1wiTk9cIl0gPSAwXSA9IFwiTk9cIjtcbiAgQ0xFQVJfTU9ERVMyW0NMRUFSX01PREVTMltcIllFU1wiXSA9IDFdID0gXCJZRVNcIjtcbiAgQ0xFQVJfTU9ERVMyW0NMRUFSX01PREVTMltcIkFVVE9cIl0gPSAyXSA9IFwiQVVUT1wiO1xuICBDTEVBUl9NT0RFUzJbQ0xFQVJfTU9ERVMyW1wiQkxFTkRcIl0gPSAwXSA9IFwiQkxFTkRcIjtcbiAgQ0xFQVJfTU9ERVMyW0NMRUFSX01PREVTMltcIkNMRUFSXCJdID0gMV0gPSBcIkNMRUFSXCI7XG4gIENMRUFSX01PREVTMltDTEVBUl9NT0RFUzJbXCJCTElUXCJdID0gMl0gPSBcIkJMSVRcIjtcbiAgcmV0dXJuIENMRUFSX01PREVTMjtcbn0pKENMRUFSX01PREVTIHx8IHt9KTtcbnZhciBHQ19NT0RFUyA9IC8qIEBfX1BVUkVfXyAqLyAoKEdDX01PREVTMikgPT4ge1xuICBHQ19NT0RFUzJbR0NfTU9ERVMyW1wiQVVUT1wiXSA9IDBdID0gXCJBVVRPXCI7XG4gIEdDX01PREVTMltHQ19NT0RFUzJbXCJNQU5VQUxcIl0gPSAxXSA9IFwiTUFOVUFMXCI7XG4gIHJldHVybiBHQ19NT0RFUzI7XG59KShHQ19NT0RFUyB8fCB7fSk7XG52YXIgUFJFQ0lTSU9OID0gLyogQF9fUFVSRV9fICovICgoUFJFQ0lTSU9OMikgPT4ge1xuICBQUkVDSVNJT04yW1wiTE9XXCJdID0gXCJsb3dwXCI7XG4gIFBSRUNJU0lPTjJbXCJNRURJVU1cIl0gPSBcIm1lZGl1bXBcIjtcbiAgUFJFQ0lTSU9OMltcIkhJR0hcIl0gPSBcImhpZ2hwXCI7XG4gIHJldHVybiBQUkVDSVNJT04yO1xufSkoUFJFQ0lTSU9OIHx8IHt9KTtcbnZhciBNQVNLX1RZUEVTID0gLyogQF9fUFVSRV9fICovICgoTUFTS19UWVBFUzIpID0+IHtcbiAgTUFTS19UWVBFUzJbTUFTS19UWVBFUzJbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgTUFTS19UWVBFUzJbTUFTS19UWVBFUzJbXCJTQ0lTU09SXCJdID0gMV0gPSBcIlNDSVNTT1JcIjtcbiAgTUFTS19UWVBFUzJbTUFTS19UWVBFUzJbXCJTVEVOQ0lMXCJdID0gMl0gPSBcIlNURU5DSUxcIjtcbiAgTUFTS19UWVBFUzJbTUFTS19UWVBFUzJbXCJTUFJJVEVcIl0gPSAzXSA9IFwiU1BSSVRFXCI7XG4gIE1BU0tfVFlQRVMyW01BU0tfVFlQRVMyW1wiQ09MT1JcIl0gPSA0XSA9IFwiQ09MT1JcIjtcbiAgcmV0dXJuIE1BU0tfVFlQRVMyO1xufSkoTUFTS19UWVBFUyB8fCB7fSk7XG52YXIgQ09MT1JfTUFTS19CSVRTID0gLyogQF9fUFVSRV9fICovICgoQ09MT1JfTUFTS19CSVRTMikgPT4ge1xuICBDT0xPUl9NQVNLX0JJVFMyW0NPTE9SX01BU0tfQklUUzJbXCJSRURcIl0gPSAxXSA9IFwiUkVEXCI7XG4gIENPTE9SX01BU0tfQklUUzJbQ09MT1JfTUFTS19CSVRTMltcIkdSRUVOXCJdID0gMl0gPSBcIkdSRUVOXCI7XG4gIENPTE9SX01BU0tfQklUUzJbQ09MT1JfTUFTS19CSVRTMltcIkJMVUVcIl0gPSA0XSA9IFwiQkxVRVwiO1xuICBDT0xPUl9NQVNLX0JJVFMyW0NPTE9SX01BU0tfQklUUzJbXCJBTFBIQVwiXSA9IDhdID0gXCJBTFBIQVwiO1xuICByZXR1cm4gQ09MT1JfTUFTS19CSVRTMjtcbn0pKENPTE9SX01BU0tfQklUUyB8fCB7fSk7XG52YXIgTVNBQV9RVUFMSVRZID0gLyogQF9fUFVSRV9fICovICgoTVNBQV9RVUFMSVRZMikgPT4ge1xuICBNU0FBX1FVQUxJVFkyW01TQUFfUVVBTElUWTJbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgTVNBQV9RVUFMSVRZMltNU0FBX1FVQUxJVFkyW1wiTE9XXCJdID0gMl0gPSBcIkxPV1wiO1xuICBNU0FBX1FVQUxJVFkyW01TQUFfUVVBTElUWTJbXCJNRURJVU1cIl0gPSA0XSA9IFwiTUVESVVNXCI7XG4gIE1TQUFfUVVBTElUWTJbTVNBQV9RVUFMSVRZMltcIkhJR0hcIl0gPSA4XSA9IFwiSElHSFwiO1xuICByZXR1cm4gTVNBQV9RVUFMSVRZMjtcbn0pKE1TQUFfUVVBTElUWSB8fCB7fSk7XG52YXIgQlVGRkVSX1RZUEUgPSAvKiBAX19QVVJFX18gKi8gKChCVUZGRVJfVFlQRTIpID0+IHtcbiAgQlVGRkVSX1RZUEUyW0JVRkZFUl9UWVBFMltcIkVMRU1FTlRfQVJSQVlfQlVGRkVSXCJdID0gMzQ5NjNdID0gXCJFTEVNRU5UX0FSUkFZX0JVRkZFUlwiO1xuICBCVUZGRVJfVFlQRTJbQlVGRkVSX1RZUEUyW1wiQVJSQVlfQlVGRkVSXCJdID0gMzQ5NjJdID0gXCJBUlJBWV9CVUZGRVJcIjtcbiAgQlVGRkVSX1RZUEUyW0JVRkZFUl9UWVBFMltcIlVOSUZPUk1fQlVGRkVSXCJdID0gMzUzNDVdID0gXCJVTklGT1JNX0JVRkZFUlwiO1xuICByZXR1cm4gQlVGRkVSX1RZUEUyO1xufSkoQlVGRkVSX1RZUEUgfHwge30pO1xuXG5leHBvcnQgeyBBTFBIQV9NT0RFUywgQkxFTkRfTU9ERVMsIEJVRkZFUl9CSVRTLCBCVUZGRVJfVFlQRSwgQ0xFQVJfTU9ERVMsIENPTE9SX01BU0tfQklUUywgRFJBV19NT0RFUywgRU5WLCBGT1JNQVRTLCBHQ19NT0RFUywgTUFTS19UWVBFUywgTUlQTUFQX01PREVTLCBNU0FBX1FVQUxJVFksIFBSRUNJU0lPTiwgUkVOREVSRVJfVFlQRSwgU0FNUExFUl9UWVBFUywgU0NBTEVfTU9ERVMsIFRBUkdFVFMsIFRZUEVTLCBXUkFQX01PREVTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlSZW5kZXJlci5tanMubWFwXG4iLCJpbXBvcnQgeyBkZXByZWNhdGlvbiwgaXNXZWJHTFN1cHBvcnRlZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4vc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFN5c3RlbU1hbmFnZXIgfSBmcm9tICcuL3N5c3RlbS9TeXN0ZW1NYW5hZ2VyLm1qcyc7XG5cbmNvbnN0IF9SZW5kZXJlciA9IGNsYXNzIGV4dGVuZHMgU3lzdGVtTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBzZXR0aW5ncy5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG4gICAgdGhpcy5nbCA9IG51bGw7XG4gICAgdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgcHJvamVjdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpXG4gICAgfSwgdHJ1ZSk7XG4gICAgY29uc3Qgc3lzdGVtQ29uZmlnID0ge1xuICAgICAgcnVubmVyczogW1xuICAgICAgICBcImluaXRcIixcbiAgICAgICAgXCJkZXN0cm95XCIsXG4gICAgICAgIFwiY29udGV4dENoYW5nZVwiLFxuICAgICAgICBcInJlc29sdXRpb25DaGFuZ2VcIixcbiAgICAgICAgXCJyZXNldFwiLFxuICAgICAgICBcInVwZGF0ZVwiLFxuICAgICAgICBcInBvc3RyZW5kZXJcIixcbiAgICAgICAgXCJwcmVyZW5kZXJcIixcbiAgICAgICAgXCJyZXNpemVcIlxuICAgICAgXSxcbiAgICAgIHN5c3RlbXM6IF9SZW5kZXJlci5fX3N5c3RlbXMsXG4gICAgICBwcmlvcml0eTogW1xuICAgICAgICBcIl92aWV3XCIsXG4gICAgICAgIFwidGV4dHVyZUdlbmVyYXRvclwiLFxuICAgICAgICBcImJhY2tncm91bmRcIixcbiAgICAgICAgXCJfcGx1Z2luXCIsXG4gICAgICAgIFwic3RhcnR1cFwiLFxuICAgICAgICBcImNvbnRleHRcIixcbiAgICAgICAgXCJzdGF0ZVwiLFxuICAgICAgICBcInRleHR1cmVcIixcbiAgICAgICAgXCJidWZmZXJcIixcbiAgICAgICAgXCJnZW9tZXRyeVwiLFxuICAgICAgICBcImZyYW1lYnVmZmVyXCIsXG4gICAgICAgIFwidHJhbnNmb3JtRmVlZGJhY2tcIixcbiAgICAgICAgXCJtYXNrXCIsXG4gICAgICAgIFwic2Npc3NvclwiLFxuICAgICAgICBcInN0ZW5jaWxcIixcbiAgICAgICAgXCJwcm9qZWN0aW9uXCIsXG4gICAgICAgIFwidGV4dHVyZUdDXCIsXG4gICAgICAgIFwiZmlsdGVyXCIsXG4gICAgICAgIFwicmVuZGVyVGV4dHVyZVwiLFxuICAgICAgICBcImJhdGNoXCIsXG4gICAgICAgIFwib2JqZWN0UmVuZGVyZXJcIixcbiAgICAgICAgXCJfbXVsdGlzYW1wbGVcIlxuICAgICAgXVxuICAgIH07XG4gICAgdGhpcy5zZXR1cChzeXN0ZW1Db25maWcpO1xuICAgIGlmIChcInVzZUNvbnRleHRBbHBoYVwiIGluIG9wdGlvbnMpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJvcHRpb25zLnVzZUNvbnRleHRBbHBoYSBpcyBkZXByZWNhdGVkLCB1c2Ugb3B0aW9ucy5wcmVtdWx0aXBsaWVkQWxwaGEgYW5kIG9wdGlvbnMuYmFja2dyb3VuZEFscGhhIGluc3RlYWRcIik7XG4gICAgICBvcHRpb25zLnByZW11bHRpcGxpZWRBbHBoYSA9IG9wdGlvbnMudXNlQ29udGV4dEFscGhhICYmIG9wdGlvbnMudXNlQ29udGV4dEFscGhhICE9PSBcIm5vdE11bHRpcGxpZWRcIjtcbiAgICAgIG9wdGlvbnMuYmFja2dyb3VuZEFscGhhID0gb3B0aW9ucy51c2VDb250ZXh0QWxwaGEgPT09IGZhbHNlID8gMSA6IG9wdGlvbnMuYmFja2dyb3VuZEFscGhhO1xuICAgIH1cbiAgICBjb25zdCBzdGFydHVwT3B0aW9ucyA9IHtcbiAgICAgIGhlbGxvOiBvcHRpb25zLmhlbGxvLFxuICAgICAgX3BsdWdpbjogX1JlbmRlcmVyLl9fcGx1Z2lucyxcbiAgICAgIGJhY2tncm91bmQ6IHtcbiAgICAgICAgYWxwaGE6IG9wdGlvbnMuYmFja2dyb3VuZEFscGhhLFxuICAgICAgICBjb2xvcjogb3B0aW9ucy5iYWNrZ3JvdW5kID8/IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICBjbGVhckJlZm9yZVJlbmRlcjogb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlclxuICAgICAgfSxcbiAgICAgIF92aWV3OiB7XG4gICAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHQsXG4gICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgICBhdXRvRGVuc2l0eTogb3B0aW9ucy5hdXRvRGVuc2l0eSxcbiAgICAgICAgcmVzb2x1dGlvbjogb3B0aW9ucy5yZXNvbHV0aW9uLFxuICAgICAgICB2aWV3OiBvcHRpb25zLnZpZXdcbiAgICAgIH0sXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIGFudGlhbGlhczogb3B0aW9ucy5hbnRpYWxpYXMsXG4gICAgICAgIGNvbnRleHQ6IG9wdGlvbnMuY29udGV4dCxcbiAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBvcHRpb25zLnBvd2VyUHJlZmVyZW5jZSxcbiAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBvcHRpb25zLnByZW11bHRpcGxpZWRBbHBoYSxcbiAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlclxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zdGFydHVwLnJ1bihzdGFydHVwT3B0aW9ucyk7XG4gIH1cbiAgc3RhdGljIHRlc3Qob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zPy5mb3JjZUNhbnZhcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaXNXZWJHTFN1cHBvcnRlZCgpO1xuICB9XG4gIHJlbmRlcihkaXNwbGF5T2JqZWN0LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vYmplY3RSZW5kZXJlci5yZW5kZXIoZGlzcGxheU9iamVjdCwgb3B0aW9ucyk7XG4gIH1cbiAgcmVzaXplKGRlc2lyZWRTY3JlZW5XaWR0aCwgZGVzaXJlZFNjcmVlbkhlaWdodCkge1xuICAgIHRoaXMuX3ZpZXcucmVzaXplVmlldyhkZXNpcmVkU2NyZWVuV2lkdGgsIGRlc2lyZWRTY3JlZW5IZWlnaHQpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucnVubmVycy5yZXNldC5lbWl0KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlLmJpbmQoKTtcbiAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgfVxuICBkZXN0cm95KHJlbW92ZVZpZXcgPSBmYWxzZSkge1xuICAgIHRoaXMucnVubmVycy5kZXN0cm95Lml0ZW1zLnJldmVyc2UoKTtcbiAgICB0aGlzLmVtaXRXaXRoQ3VzdG9tT3B0aW9ucyh0aGlzLnJ1bm5lcnMuZGVzdHJveSwge1xuICAgICAgX3ZpZXc6IHJlbW92ZVZpZXdcbiAgICB9KTtcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gIH1cbiAgZ2V0IHBsdWdpbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BsdWdpbi5wbHVnaW5zO1xuICB9XG4gIGdldCBtdWx0aXNhbXBsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbXVsdGlzYW1wbGUubXVsdGlzYW1wbGU7XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl92aWV3LmVsZW1lbnQud2lkdGg7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmlldy5lbGVtZW50LmhlaWdodDtcbiAgfVxuICBnZXQgcmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fdmlldy5yZXNvbHV0aW9uO1xuICB9XG4gIHNldCByZXNvbHV0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5fdmlldy5yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgdGhpcy5ydW5uZXJzLnJlc29sdXRpb25DaGFuZ2UuZW1pdCh2YWx1ZSk7XG4gIH1cbiAgZ2V0IGF1dG9EZW5zaXR5KCkge1xuICAgIHJldHVybiB0aGlzLl92aWV3LmF1dG9EZW5zaXR5O1xuICB9XG4gIGdldCB2aWV3KCkge1xuICAgIHJldHVybiB0aGlzLl92aWV3LmVsZW1lbnQ7XG4gIH1cbiAgZ2V0IHNjcmVlbigpIHtcbiAgICByZXR1cm4gdGhpcy5fdmlldy5zY3JlZW47XG4gIH1cbiAgZ2V0IGxhc3RPYmplY3RSZW5kZXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3RSZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gIH1cbiAgZ2V0IHJlbmRlcmluZ1RvU2NyZWVuKCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdFJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuO1xuICB9XG4gIGdldCByZW5kZXJlckxvZ0lkKCkge1xuICAgIHJldHVybiBgV2ViR0wgJHt0aGlzLmNvbnRleHQud2ViR0xWZXJzaW9ufWA7XG4gIH1cbiAgZ2V0IGNsZWFyQmVmb3JlUmVuZGVyKCkge1xuICAgIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJyZW5kZXJlci5jbGVhckJlZm9yZVJlbmRlciBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmJhY2tncm91bmQuY2xlYXJCZWZvcmVSZW5kZXIgaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZC5jbGVhckJlZm9yZVJlbmRlcjtcbiAgfVxuICBnZXQgdXNlQ29udGV4dEFscGhhKCkge1xuICAgIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJyZW5kZXJlci51c2VDb250ZXh0QWxwaGEgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5jb250ZXh0LnByZW11bHRpcGxpZWRBbHBoYSBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0LnVzZUNvbnRleHRBbHBoYTtcbiAgfVxuICBnZXQgcHJlc2VydmVEcmF3aW5nQnVmZmVyKCkge1xuICAgIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJyZW5kZXJlci5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgaGFzIGJlZW4gZGVwcmVjYXRlZCwgd2UgY2Fubm90IHRydWx5IGtub3cgdGhpcyB1bmxlc3MgcGl4aSBjcmVhdGVkIHRoZSBjb250ZXh0XCIpO1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuICB9XG4gIGdldCBiYWNrZ3JvdW5kQ29sb3IoKSB7XG4gICAgZGVwcmVjYXRpb24oXCI3LjAuMFwiLCBcInJlbmRlcmVyLmJhY2tncm91bmRDb2xvciBoYXMgYmVlbiBkZXByZWNhdGVkLCB1c2UgcmVuZGVyZXIuYmFja2dyb3VuZC5jb2xvciBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kLmNvbG9yO1xuICB9XG4gIHNldCBiYWNrZ3JvdW5kQ29sb3IodmFsdWUpIHtcbiAgICBkZXByZWNhdGlvbihcIjcuMC4wXCIsIFwicmVuZGVyZXIuYmFja2dyb3VuZENvbG9yIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHVzZSByZW5kZXJlci5iYWNrZ3JvdW5kLmNvbG9yIGluc3RlYWQuXCIpO1xuICAgIHRoaXMuYmFja2dyb3VuZC5jb2xvciA9IHZhbHVlO1xuICB9XG4gIGdldCBiYWNrZ3JvdW5kQWxwaGEoKSB7XG4gICAgZGVwcmVjYXRpb24oXCI3LjAuMFwiLCBcInJlbmRlcmVyLmJhY2tncm91bmRBbHBoYSBoYXMgYmVlbiBkZXByZWNhdGVkLCB1c2UgcmVuZGVyZXIuYmFja2dyb3VuZC5hbHBoYSBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kLmNvbG9yO1xuICB9XG4gIHNldCBiYWNrZ3JvdW5kQWxwaGEodmFsdWUpIHtcbiAgICBkZXByZWNhdGlvbihcIjcuMC4wXCIsIFwicmVuZGVyZXIuYmFja2dyb3VuZEFscGhhIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHVzZSByZW5kZXJlci5iYWNrZ3JvdW5kLmFscGhhIGluc3RlYWQuXCIpO1xuICAgIHRoaXMuYmFja2dyb3VuZC5hbHBoYSA9IHZhbHVlO1xuICB9XG4gIGdldCBwb3dlclByZWZlcmVuY2UoKSB7XG4gICAgZGVwcmVjYXRpb24oXCI3LjAuMFwiLCBcInJlbmRlcmVyLnBvd2VyUHJlZmVyZW5jZSBoYXMgYmVlbiBkZXByZWNhdGVkLCB3ZSBjYW4gb25seSBrbm93IHRoaXMgaWYgcGl4aSBjcmVhdGVzIHRoZSBjb250ZXh0XCIpO1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQucG93ZXJQcmVmZXJlbmNlO1xuICB9XG4gIGdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZUdlbmVyYXRvci5nZW5lcmF0ZVRleHR1cmUoZGlzcGxheU9iamVjdCwgb3B0aW9ucyk7XG4gIH1cbn07XG5sZXQgUmVuZGVyZXIgPSBfUmVuZGVyZXI7XG5SZW5kZXJlci5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXIsXG4gIHByaW9yaXR5OiAxXG59O1xuUmVuZGVyZXIuX19wbHVnaW5zID0ge307XG5SZW5kZXJlci5fX3N5c3RlbXMgPSB7fTtcbmV4dGVuc2lvbnMuaGFuZGxlQnlNYXAoRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclBsdWdpbiwgUmVuZGVyZXIuX19wbHVnaW5zKTtcbmV4dGVuc2lvbnMuaGFuZGxlQnlNYXAoRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSwgUmVuZGVyZXIuX19zeXN0ZW1zKTtcbmV4dGVuc2lvbnMuYWRkKFJlbmRlcmVyKTtcblxuZXhwb3J0IHsgUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlcmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMsIEV4dGVuc2lvblR5cGUgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuY29uc3QgcmVuZGVyZXJzID0gW107XG5leHRlbnNpb25zLmhhbmRsZUJ5TGlzdChFeHRlbnNpb25UeXBlLlJlbmRlcmVyLCByZW5kZXJlcnMpO1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgZm9yIChjb25zdCBSZW5kZXJlclR5cGUgb2YgcmVuZGVyZXJzKSB7XG4gICAgaWYgKFJlbmRlcmVyVHlwZS50ZXN0KG9wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gbmV3IFJlbmRlcmVyVHlwZShvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGF1dG8tZGV0ZWN0IGEgc3VpdGFibGUgcmVuZGVyZXIuXCIpO1xufVxuXG5leHBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dG9EZXRlY3RSZW5kZXJlci5tanMubWFwXG4iLCJpbXBvcnQgeyBzdHJpbmcyaGV4LCBoZXgyc3RyaW5nLCBoZXgycmdiIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuXG5jbGFzcyBCYWNrZ3JvdW5kU3lzdGVtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IHRydWU7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMDtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gWzAsIDAsIDAsIDFdO1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IFwiIzAwMDAwMFwiO1xuICAgIHRoaXMuY29sb3IgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gIH1cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IG9wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI7XG4gICAgaWYgKG9wdGlvbnMuY29sb3IpIHtcbiAgICAgIHRoaXMuY29sb3IgPSB0eXBlb2Ygb3B0aW9ucy5jb2xvciA9PT0gXCJzdHJpbmdcIiA/IHN0cmluZzJoZXgob3B0aW9ucy5jb2xvcikgOiBvcHRpb25zLmNvbG9yO1xuICAgIH1cbiAgICB0aGlzLmFscGhhID0gb3B0aW9ucy5hbHBoYTtcbiAgfVxuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgfVxuICBzZXQgY29sb3IodmFsdWUpIHtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBoZXgyc3RyaW5nKHZhbHVlKTtcbiAgICBoZXgycmdiKHZhbHVlLCB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhKTtcbiAgfVxuICBnZXQgYWxwaGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmFbM107XG4gIH1cbiAgc2V0IGFscGhhKHZhbHVlKSB7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYVszXSA9IHZhbHVlO1xuICB9XG4gIGdldCBjb2xvclJnYmEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmE7XG4gIH1cbiAgZ2V0IGNvbG9yU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmc7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgfVxufVxuQmFja2dyb3VuZFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUmVuZGVyZXJTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJiYWNrZ3JvdW5kXCJcbn07XG5leHRlbnNpb25zLmFkZChCYWNrZ3JvdW5kU3lzdGVtKTtcblxuZXhwb3J0IHsgQmFja2dyb3VuZFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFja2dyb3VuZFN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBEUkFXX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuY2xhc3MgQmF0Y2hEcmF3Q2FsbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudGV4QXJyYXkgPSBudWxsO1xuICAgIHRoaXMuYmxlbmQgPSAwO1xuICAgIHRoaXMudHlwZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBCYXRjaERyYXdDYWxsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaERyYXdDYWxsLm1qcy5tYXBcbiIsImltcG9ydCB7IFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi4vZ2VvbWV0cnkvR2VvbWV0cnkubWpzJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJy4uL2dlb21ldHJ5L0J1ZmZlci5tanMnO1xuXG5jbGFzcyBCYXRjaEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3Rvcihfc3RhdGljID0gZmFsc2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2J1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgZmFsc2UpO1xuICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihudWxsLCBfc3RhdGljLCB0cnVlKTtcbiAgICB0aGlzLmFkZEF0dHJpYnV0ZShcImFWZXJ0ZXhQb3NpdGlvblwiLCB0aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVCkuYWRkQXR0cmlidXRlKFwiYVRleHR1cmVDb29yZFwiLCB0aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVCkuYWRkQXR0cmlidXRlKFwiYUNvbG9yXCIsIHRoaXMuX2J1ZmZlciwgNCwgdHJ1ZSwgVFlQRVMuVU5TSUdORURfQllURSkuYWRkQXR0cmlidXRlKFwiYVRleHR1cmVJZFwiLCB0aGlzLl9idWZmZXIsIDEsIHRydWUsIFRZUEVTLkZMT0FUKS5hZGRJbmRleCh0aGlzLl9pbmRleEJ1ZmZlcik7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hHZW9tZXRyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBCYXRjaERyYXdDYWxsIH0gZnJvbSAnLi9CYXRjaERyYXdDYWxsLm1qcyc7XG5pbXBvcnQgeyBCYXRjaFRleHR1cmVBcnJheSB9IGZyb20gJy4vQmF0Y2hUZXh0dXJlQXJyYXkubWpzJztcbmltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUubWpzJztcbmltcG9ydCB7IE9iamVjdFJlbmRlcmVyIH0gZnJvbSAnLi9PYmplY3RSZW5kZXJlci5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9zdGF0ZS9TdGF0ZS5tanMnO1xuaW1wb3J0IHsgVmlld2FibGVCdWZmZXIgfSBmcm9tICcuLi9nZW9tZXRyeS9WaWV3YWJsZUJ1ZmZlci5tanMnO1xuaW1wb3J0IHsgQmF0Y2hTaGFkZXJHZW5lcmF0b3IgfSBmcm9tICcuL0JhdGNoU2hhZGVyR2VuZXJhdG9yLm1qcyc7XG5pbXBvcnQgeyBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIH0gZnJvbSAnLi4vc2hhZGVyL3V0aWxzL2NoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIubWpzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIG5leHRQb3cyLCBsb2cyLCBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQmF0Y2hHZW9tZXRyeSB9IGZyb20gJy4vQmF0Y2hHZW9tZXRyeS5tanMnO1xuaW1wb3J0IGRlZmF1bHRWZXJ0ZXggZnJvbSAnLi90ZXh0dXJlLm1qcyc7XG5pbXBvcnQgZGVmYXVsdEZyYWdtZW50IGZyb20gJy4vdGV4dHVyZTIubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuY29uc3QgX0JhdGNoUmVuZGVyZXIgPSBjbGFzcyBleHRlbmRzIE9iamVjdFJlbmRlcmVyIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICBzdXBlcihyZW5kZXJlcik7XG4gICAgdGhpcy5zZXRTaGFkZXJHZW5lcmF0b3IoKTtcbiAgICB0aGlzLmdlb21ldHJ5Q2xhc3MgPSBCYXRjaEdlb21ldHJ5O1xuICAgIHRoaXMudmVydGV4U2l6ZSA9IDY7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgdGhpcy5zaXplID0gc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUgKiA0O1xuICAgIHRoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzID0gW107XG4gICAgdGhpcy5fYnVmZmVyZWRUZXh0dXJlcyA9IFtdO1xuICAgIHRoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XG4gICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPSAyO1xuICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICAgIHRoaXMuX2FCdWZmZXJzID0ge307XG4gICAgdGhpcy5faUJ1ZmZlcnMgPSB7fTtcbiAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgdGhpcy5yZW5kZXJlci5vbihcInByZXJlbmRlclwiLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcbiAgICByZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuYWRkKHRoaXMpO1xuICAgIHRoaXMuX2RjSW5kZXggPSAwO1xuICAgIHRoaXMuX2FJbmRleCA9IDA7XG4gICAgdGhpcy5faUluZGV4ID0gMDtcbiAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLl90ZW1wQm91bmRUZXh0dXJlcyA9IFtdO1xuICB9XG4gIHN0YXRpYyBnZXQgZGVmYXVsdFZlcnRleFNyYygpIHtcbiAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgfVxuICBzdGF0aWMgZ2V0IGRlZmF1bHRGcmFnbWVudFRlbXBsYXRlKCkge1xuICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG4gIH1cbiAgc2V0U2hhZGVyR2VuZXJhdG9yKHtcbiAgICB2ZXJ0ZXggPSBfQmF0Y2hSZW5kZXJlci5kZWZhdWx0VmVydGV4U3JjLFxuICAgIGZyYWdtZW50ID0gX0JhdGNoUmVuZGVyZXIuZGVmYXVsdEZyYWdtZW50VGVtcGxhdGVcbiAgfSA9IHt9KSB7XG4gICAgdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBuZXcgQmF0Y2hTaGFkZXJHZW5lcmF0b3IodmVydGV4LCBmcmFnbWVudCk7XG4gIH1cbiAgY29udGV4dENoYW5nZSgpIHtcbiAgICBjb25zdCBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpIHtcbiAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBNYXRoLm1pbihnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLCBzZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTKTtcbiAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcih0aGlzLk1BWF9URVhUVVJFUywgZ2wpO1xuICAgIH1cbiAgICB0aGlzLl9zaGFkZXIgPSB0aGlzLnNoYWRlckdlbmVyYXRvci5nZW5lcmF0ZVNoYWRlcih0aGlzLk1BWF9URVhUVVJFUyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspIHtcbiAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0gPSBuZXcgdGhpcy5nZW9tZXRyeUNsYXNzKCk7XG4gICAgfVxuICAgIHRoaXMuaW5pdEZsdXNoQnVmZmVycygpO1xuICB9XG4gIGluaXRGbHVzaEJ1ZmZlcnMoKSB7XG4gICAgY29uc3Qge1xuICAgICAgX2RyYXdDYWxsUG9vbCxcbiAgICAgIF90ZXh0dXJlQXJyYXlQb29sXG4gICAgfSA9IF9CYXRjaFJlbmRlcmVyO1xuICAgIGNvbnN0IE1BWF9TUFJJVEVTID0gdGhpcy5zaXplIC8gNDtcbiAgICBjb25zdCBNQVhfVEEgPSBNYXRoLmZsb29yKE1BWF9TUFJJVEVTIC8gdGhpcy5NQVhfVEVYVFVSRVMpICsgMTtcbiAgICB3aGlsZSAoX2RyYXdDYWxsUG9vbC5sZW5ndGggPCBNQVhfU1BSSVRFUykge1xuICAgICAgX2RyYXdDYWxsUG9vbC5wdXNoKG5ldyBCYXRjaERyYXdDYWxsKCkpO1xuICAgIH1cbiAgICB3aGlsZSAoX3RleHR1cmVBcnJheVBvb2wubGVuZ3RoIDwgTUFYX1RBKSB7XG4gICAgICBfdGV4dHVyZUFycmF5UG9vbC5wdXNoKG5ldyBCYXRjaFRleHR1cmVBcnJheSgpKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLk1BWF9URVhUVVJFUzsgaSsrKSB7XG4gICAgICB0aGlzLl90ZW1wQm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgfVxuICB9XG4gIG9uUHJlcmVuZGVyKCkge1xuICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICB9XG4gIHJlbmRlcihlbGVtZW50KSB7XG4gICAgaWYgKCFlbGVtZW50Ll90ZXh0dXJlLnZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCArIGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyID4gdGhpcy5zaXplKSB7XG4gICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICAgIHRoaXMuX3ZlcnRleENvdW50ICs9IGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyO1xuICAgIHRoaXMuX2luZGV4Q291bnQgKz0gZWxlbWVudC5pbmRpY2VzLmxlbmd0aDtcbiAgICB0aGlzLl9idWZmZXJlZFRleHR1cmVzW3RoaXMuX2J1ZmZlclNpemVdID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICB9XG4gIGJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMoKSB7XG4gICAgY29uc3Qge1xuICAgICAgX2J1ZmZlcmVkVGV4dHVyZXM6IHRleHR1cmVzLFxuICAgICAgTUFYX1RFWFRVUkVTXG4gICAgfSA9IHRoaXM7XG4gICAgY29uc3QgdGV4dHVyZUFycmF5cyA9IF9CYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sO1xuICAgIGNvbnN0IGJhdGNoID0gdGhpcy5yZW5kZXJlci5iYXRjaDtcbiAgICBjb25zdCBib3VuZFRleHR1cmVzID0gdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXM7XG4gICAgY29uc3QgdG91Y2ggPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICBsZXQgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuICAgIGxldCBjb3VudFRleEFycmF5cyA9IDA7XG4gICAgbGV0IHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1swXTtcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIGJhdGNoLmNvcHlCb3VuZFRleHR1cmVzKGJvdW5kVGV4dHVyZXMsIE1BWF9URVhUVVJFUyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJTaXplOyArK2kpIHtcbiAgICAgIGNvbnN0IHRleCA9IHRleHR1cmVzW2ldO1xuICAgICAgdGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgaWYgKHRleC5fYmF0Y2hFbmFibGVkID09PSBUSUNLKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRleEFycmF5LmNvdW50ID49IE1BWF9URVhUVVJFUykge1xuICAgICAgICBiYXRjaC5ib3VuZEFycmF5KHRleEFycmF5LCBib3VuZFRleHR1cmVzLCBUSUNLLCBNQVhfVEVYVFVSRVMpO1xuICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgaSk7XG4gICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgdGV4QXJyYXkgPSB0ZXh0dXJlQXJyYXlzWysrY291bnRUZXhBcnJheXNdO1xuICAgICAgICArK1RJQ0s7XG4gICAgICB9XG4gICAgICB0ZXguX2JhdGNoRW5hYmxlZCA9IFRJQ0s7XG4gICAgICB0ZXgudG91Y2hlZCA9IHRvdWNoO1xuICAgICAgdGV4QXJyYXkuZWxlbWVudHNbdGV4QXJyYXkuY291bnQrK10gPSB0ZXg7XG4gICAgfVxuICAgIGlmICh0ZXhBcnJheS5jb3VudCA+IDApIHtcbiAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICArK2NvdW50VGV4QXJyYXlzO1xuICAgICAgKytUSUNLO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgIH1cbiAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICB9XG4gIGJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgZmluaXNoKSB7XG4gICAgY29uc3Qge1xuICAgICAgX2J1ZmZlcmVkRWxlbWVudHM6IGVsZW1lbnRzLFxuICAgICAgX2F0dHJpYnV0ZUJ1ZmZlcixcbiAgICAgIF9pbmRleEJ1ZmZlcixcbiAgICAgIHZlcnRleFNpemVcbiAgICB9ID0gdGhpcztcbiAgICBjb25zdCBkcmF3Q2FsbHMgPSBfQmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgIGxldCBkY0luZGV4ID0gdGhpcy5fZGNJbmRleDtcbiAgICBsZXQgYUluZGV4ID0gdGhpcy5fYUluZGV4O1xuICAgIGxldCBpSW5kZXggPSB0aGlzLl9pSW5kZXg7XG4gICAgbGV0IGRyYXdDYWxsID0gZHJhd0NhbGxzW2RjSW5kZXhdO1xuICAgIGRyYXdDYWxsLnN0YXJ0ID0gdGhpcy5faUluZGV4O1xuICAgIGRyYXdDYWxsLnRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZmluaXNoOyArK2kpIHtcbiAgICAgIGNvbnN0IHNwcml0ZSA9IGVsZW1lbnRzW2ldO1xuICAgICAgY29uc3QgdGV4ID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgY29uc3Qgc3ByaXRlQmxlbmRNb2RlID0gcHJlbXVsdGlwbHlCbGVuZE1vZGVbdGV4LmFscGhhTW9kZSA/IDEgOiAwXVtzcHJpdGUuYmxlbmRNb2RlXTtcbiAgICAgIGVsZW1lbnRzW2ldID0gbnVsbDtcbiAgICAgIGlmIChzdGFydCA8IGkgJiYgZHJhd0NhbGwuYmxlbmQgIT09IHNwcml0ZUJsZW5kTW9kZSkge1xuICAgICAgICBkcmF3Q2FsbC5zaXplID0gaUluZGV4IC0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgZHJhd0NhbGwgPSBkcmF3Q2FsbHNbKytkY0luZGV4XTtcbiAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgZHJhd0NhbGwuc3RhcnQgPSBpSW5kZXg7XG4gICAgICB9XG4gICAgICB0aGlzLnBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5KHNwcml0ZSwgX2F0dHJpYnV0ZUJ1ZmZlciwgX2luZGV4QnVmZmVyLCBhSW5kZXgsIGlJbmRleCk7XG4gICAgICBhSW5kZXggKz0gc3ByaXRlLnZlcnRleERhdGEubGVuZ3RoIC8gMiAqIHZlcnRleFNpemU7XG4gICAgICBpSW5kZXggKz0gc3ByaXRlLmluZGljZXMubGVuZ3RoO1xuICAgICAgZHJhd0NhbGwuYmxlbmQgPSBzcHJpdGVCbGVuZE1vZGU7XG4gICAgfVxuICAgIGlmIChzdGFydCA8IGZpbmlzaCkge1xuICAgICAgZHJhd0NhbGwuc2l6ZSA9IGlJbmRleCAtIGRyYXdDYWxsLnN0YXJ0O1xuICAgICAgKytkY0luZGV4O1xuICAgIH1cbiAgICB0aGlzLl9kY0luZGV4ID0gZGNJbmRleDtcbiAgICB0aGlzLl9hSW5kZXggPSBhSW5kZXg7XG4gICAgdGhpcy5faUluZGV4ID0gaUluZGV4O1xuICB9XG4gIGJpbmRBbmRDbGVhclRleEFycmF5KHRleEFycmF5KSB7XG4gICAgY29uc3QgdGV4dHVyZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRleEFycmF5LmNvdW50OyBqKyspIHtcbiAgICAgIHRleHR1cmVTeXN0ZW0uYmluZCh0ZXhBcnJheS5lbGVtZW50c1tqXSwgdGV4QXJyYXkuaWRzW2pdKTtcbiAgICAgIHRleEFycmF5LmVsZW1lbnRzW2pdID0gbnVsbDtcbiAgICB9XG4gICAgdGV4QXJyYXkuY291bnQgPSAwO1xuICB9XG4gIHVwZGF0ZUdlb21ldHJ5KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIF9wYWNrZWRHZW9tZXRyaWVzOiBwYWNrZWRHZW9tZXRyaWVzLFxuICAgICAgX2F0dHJpYnV0ZUJ1ZmZlcjogYXR0cmlidXRlQnVmZmVyLFxuICAgICAgX2luZGV4QnVmZmVyOiBpbmRleEJ1ZmZlclxuICAgIH0gPSB0aGlzO1xuICAgIGlmICghc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikge1xuICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPD0gdGhpcy5fZmx1c2hJZCkge1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplKys7XG4gICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0gPSBuZXcgdGhpcy5nZW9tZXRyeUNsYXNzKCk7XG4gICAgICB9XG4gICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlcik7XG4gICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgIHRoaXMuX2ZsdXNoSWQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5fYnVmZmVyLnVwZGF0ZShhdHRyaWJ1dGVCdWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9pbmRleEJ1ZmZlci51cGRhdGUoaW5kZXhCdWZmZXIpO1xuICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgfVxuICB9XG4gIGRyYXdCYXRjaGVzKCkge1xuICAgIGNvbnN0IGRjQ291bnQgPSB0aGlzLl9kY0luZGV4O1xuICAgIGNvbnN0IHsgZ2wsIHN0YXRlOiBzdGF0ZVN5c3RlbSB9ID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBkcmF3Q2FsbHMgPSBfQmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgIGxldCBjdXJUZXhBcnJheSA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkY0NvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IHsgdGV4QXJyYXksIHR5cGUsIHNpemUsIHN0YXJ0LCBibGVuZCB9ID0gZHJhd0NhbGxzW2ldO1xuICAgICAgaWYgKGN1clRleEFycmF5ICE9PSB0ZXhBcnJheSkge1xuICAgICAgICBjdXJUZXhBcnJheSA9IHRleEFycmF5O1xuICAgICAgICB0aGlzLmJpbmRBbmRDbGVhclRleEFycmF5KHRleEFycmF5KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gYmxlbmQ7XG4gICAgICBzdGF0ZVN5c3RlbS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSwgZ2wuVU5TSUdORURfU0hPUlQsIHN0YXJ0ICogMik7XG4gICAgfVxuICB9XG4gIGZsdXNoKCkge1xuICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSB0aGlzLmdldEF0dHJpYnV0ZUJ1ZmZlcih0aGlzLl92ZXJ0ZXhDb3VudCk7XG4gICAgdGhpcy5faW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4QnVmZmVyKHRoaXMuX2luZGV4Q291bnQpO1xuICAgIHRoaXMuX2FJbmRleCA9IDA7XG4gICAgdGhpcy5faUluZGV4ID0gMDtcbiAgICB0aGlzLl9kY0luZGV4ID0gMDtcbiAgICB0aGlzLmJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMoKTtcbiAgICB0aGlzLnVwZGF0ZUdlb21ldHJ5KCk7XG4gICAgdGhpcy5kcmF3QmF0Y2hlcygpO1xuICAgIHRoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgIHRoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcbiAgfVxuICBzdGFydCgpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuZW5zdXJlU2FtcGxlclR5cGUodGhpcy5NQVhfVEVYVFVSRVMpO1xuICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5fc2hhZGVyKTtcbiAgICBpZiAoc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikge1xuICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIHRoaXMuZmx1c2goKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZTsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSkge1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yZW5kZXJlci5vZmYoXCJwcmVyZW5kZXJcIiwgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG4gICAgdGhpcy5fYUJ1ZmZlcnMgPSBudWxsO1xuICAgIHRoaXMuX2lCdWZmZXJzID0gbnVsbDtcbiAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gbnVsbDtcbiAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICBpZiAodGhpcy5fc2hhZGVyKSB7XG4gICAgICB0aGlzLl9zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgdGhpcy5fc2hhZGVyID0gbnVsbDtcbiAgICB9XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG4gIGdldEF0dHJpYnV0ZUJ1ZmZlcihzaXplKSB7XG4gICAgY29uc3Qgcm91bmRlZFAyID0gbmV4dFBvdzIoTWF0aC5jZWlsKHNpemUgLyA4KSk7XG4gICAgY29uc3Qgcm91bmRlZFNpemVJbmRleCA9IGxvZzIocm91bmRlZFAyKTtcbiAgICBjb25zdCByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDg7XG4gICAgaWYgKHRoaXMuX2FCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICB9XG4gICAgbGV0IGJ1ZmZlciA9IHRoaXMuX2FCdWZmZXJzW3JvdW5kZWRTaXplXTtcbiAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdID0gYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHJvdW5kZWRTaXplICogdGhpcy52ZXJ0ZXhTaXplICogNCk7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG4gIH1cbiAgZ2V0SW5kZXhCdWZmZXIoc2l6ZSkge1xuICAgIGNvbnN0IHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gMTIpKTtcbiAgICBjb25zdCByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgIGNvbnN0IHJvdW5kZWRTaXplID0gcm91bmRlZFAyICogMTI7XG4gICAgaWYgKHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICB9XG4gICAgbGV0IGJ1ZmZlciA9IHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdO1xuICAgIGlmICghYnVmZmVyKSB7XG4gICAgICB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XSA9IGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShyb3VuZGVkU2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG4gIH1cbiAgcGFja0ludGVybGVhdmVkR2VvbWV0cnkoZWxlbWVudCwgYXR0cmlidXRlQnVmZmVyLCBpbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpIHtcbiAgICBjb25zdCB7XG4gICAgICB1aW50MzJWaWV3LFxuICAgICAgZmxvYXQzMlZpZXdcbiAgICB9ID0gYXR0cmlidXRlQnVmZmVyO1xuICAgIGNvbnN0IHBhY2tlZFZlcnRpY2VzID0gYUluZGV4IC8gdGhpcy52ZXJ0ZXhTaXplO1xuICAgIGNvbnN0IHV2cyA9IGVsZW1lbnQudXZzO1xuICAgIGNvbnN0IGluZGljaWVzID0gZWxlbWVudC5pbmRpY2VzO1xuICAgIGNvbnN0IHZlcnRleERhdGEgPSBlbGVtZW50LnZlcnRleERhdGE7XG4gICAgY29uc3QgdGV4dHVyZUlkID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcbiAgICBjb25zdCBhbHBoYSA9IE1hdGgubWluKGVsZW1lbnQud29ybGRBbHBoYSwgMSk7XG4gICAgY29uc3QgYXJnYiA9IGFscGhhIDwgMSAmJiBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlLmFscGhhTW9kZSA/IHByZW11bHRpcGx5VGludChlbGVtZW50Ll90aW50UkdCLCBhbHBoYSkgOiBlbGVtZW50Ll90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHZlcnRleERhdGFbaV07XG4gICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2kgKyAxXTtcbiAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHV2c1tpXTtcbiAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHV2c1tpICsgMV07XG4gICAgICB1aW50MzJWaWV3W2FJbmRleCsrXSA9IGFyZ2I7XG4gICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB0ZXh0dXJlSWQ7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kaWNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGluZGV4QnVmZmVyW2lJbmRleCsrXSA9IHBhY2tlZFZlcnRpY2VzICsgaW5kaWNpZXNbaV07XG4gICAgfVxuICB9XG59O1xubGV0IEJhdGNoUmVuZGVyZXIgPSBfQmF0Y2hSZW5kZXJlcjtcbkJhdGNoUmVuZGVyZXIuZXh0ZW5zaW9uID0ge1xuICBuYW1lOiBcImJhdGNoXCIsXG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJQbHVnaW5cbn07XG5CYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2wgPSBbXTtcbkJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2wgPSBbXTtcbmV4dGVuc2lvbnMuYWRkKEJhdGNoUmVuZGVyZXIpO1xuXG5leHBvcnQgeyBCYXRjaFJlbmRlcmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaFJlbmRlcmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4uL3NoYWRlci9TaGFkZXIubWpzJztcbmltcG9ydCB7IFByb2dyYW0gfSBmcm9tICcuLi9zaGFkZXIvUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmNsYXNzIEJhdGNoU2hhZGVyR2VuZXJhdG9yIHtcbiAgY29uc3RydWN0b3IodmVydGV4U3JjLCBmcmFnVGVtcGxhdGUpIHtcbiAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYztcbiAgICB0aGlzLmZyYWdUZW1wbGF0ZSA9IGZyYWdUZW1wbGF0ZTtcbiAgICB0aGlzLnByb2dyYW1DYWNoZSA9IHt9O1xuICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGUgPSB7fTtcbiAgICBpZiAoIWZyYWdUZW1wbGF0ZS5pbmNsdWRlcyhcIiVjb3VudCVcIikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWNvdW50JVwiLicpO1xuICAgIH1cbiAgICBpZiAoIWZyYWdUZW1wbGF0ZS5pbmNsdWRlcyhcIiVmb3Jsb29wJVwiKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlZm9ybG9vcCVcIi4nKTtcbiAgICB9XG4gIH1cbiAgZ2VuZXJhdGVTaGFkZXIobWF4VGV4dHVyZXMpIHtcbiAgICBpZiAoIXRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSkge1xuICAgICAgY29uc3Qgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkobWF4VGV4dHVyZXMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSA9IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSk7XG4gICAgICBsZXQgZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdUZW1wbGF0ZTtcbiAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgYCR7bWF4VGV4dHVyZXN9YCk7XG4gICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgdGhpcy5nZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykpO1xuICAgICAgdGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdID0gbmV3IFByb2dyYW0odGhpcy52ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICB9XG4gICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgZGVmYXVsdDogdGhpcy5kZWZhdWx0R3JvdXBDYWNoZVttYXhUZXh0dXJlc11cbiAgICB9O1xuICAgIHJldHVybiBuZXcgU2hhZGVyKHRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSwgdW5pZm9ybXMpO1xuICB9XG4gIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSB7XG4gICAgbGV0IHNyYyA9IFwiXCI7XG4gICAgc3JjICs9IFwiXFxuXCI7XG4gICAgc3JjICs9IFwiXFxuXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgc3JjICs9IFwiXFxuZWxzZSBcIjtcbiAgICAgIH1cbiAgICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKSB7XG4gICAgICAgIHNyYyArPSBgaWYodlRleHR1cmVJZCA8ICR7aX0uNSlgO1xuICAgICAgfVxuICAgICAgc3JjICs9IFwiXFxue1wiO1xuICAgICAgc3JjICs9IGBcblx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzWyR7aX1dLCB2VGV4dHVyZUNvb3JkKTtgO1xuICAgICAgc3JjICs9IFwiXFxufVwiO1xuICAgIH1cbiAgICBzcmMgKz0gXCJcXG5cIjtcbiAgICBzcmMgKz0gXCJcXG5cIjtcbiAgICByZXR1cm4gc3JjO1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoU2hhZGVyR2VuZXJhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaFNoYWRlckdlbmVyYXRvci5tanMubWFwXG4iLCJpbXBvcnQgeyBPYmplY3RSZW5kZXJlciB9IGZyb20gJy4vT2JqZWN0UmVuZGVyZXIubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuY2xhc3MgQmF0Y2hTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpO1xuICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gdGhpcy5lbXB0eVJlbmRlcmVyO1xuICB9XG4gIHNldE9iamVjdFJlbmRlcmVyKG9iamVjdFJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBvYmplY3RSZW5kZXJlcjtcbiAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICB9XG4gIGZsdXNoKCkge1xuICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gIH1cbiAgY29weUJvdW5kVGV4dHVyZXMoYXJyLCBtYXhUZXh0dXJlcykge1xuICAgIGNvbnN0IHsgYm91bmRUZXh0dXJlcyB9ID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgIGZvciAobGV0IGkgPSBtYXhUZXh0dXJlcyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBhcnJbaV0gPSBib3VuZFRleHR1cmVzW2ldIHx8IG51bGw7XG4gICAgICBpZiAoYXJyW2ldKSB7XG4gICAgICAgIGFycltpXS5fYmF0Y2hMb2NhdGlvbiA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIGJhdGNoSWQsIG1heFRleHR1cmVzKSB7XG4gICAgY29uc3QgeyBlbGVtZW50cywgaWRzLCBjb3VudCB9ID0gdGV4QXJyYXk7XG4gICAgbGV0IGogPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgY29uc3QgdGV4ID0gZWxlbWVudHNbaV07XG4gICAgICBjb25zdCBsb2MgPSB0ZXguX2JhdGNoTG9jYXRpb247XG4gICAgICBpZiAobG9jID49IDAgJiYgbG9jIDwgbWF4VGV4dHVyZXMgJiYgYm91bmRUZXh0dXJlc1tsb2NdID09PSB0ZXgpIHtcbiAgICAgICAgaWRzW2ldID0gbG9jO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChqIDwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgY29uc3QgYm91bmQgPSBib3VuZFRleHR1cmVzW2pdO1xuICAgICAgICBpZiAoYm91bmQgJiYgYm91bmQuX2JhdGNoRW5hYmxlZCA9PT0gYmF0Y2hJZCAmJiBib3VuZC5fYmF0Y2hMb2NhdGlvbiA9PT0gaikge1xuICAgICAgICAgIGorKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZHNbaV0gPSBqO1xuICAgICAgICB0ZXguX2JhdGNoTG9jYXRpb24gPSBqO1xuICAgICAgICBib3VuZFRleHR1cmVzW2pdID0gdGV4O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuQmF0Y2hTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcImJhdGNoXCJcbn07XG5leHRlbnNpb25zLmFkZChCYXRjaFN5c3RlbSk7XG5cbmV4cG9ydCB7IEJhdGNoU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaFN5c3RlbS5tanMubWFwXG4iLCJjbGFzcyBCYXRjaFRleHR1cmVBcnJheSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZWxlbWVudHMgPSBbXTtcbiAgICB0aGlzLmlkcyA9IFtdO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICB9XG4gIGNsZWFyKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb3VudDsgaSsrKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzW2ldID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hUZXh0dXJlQXJyYXkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoVGV4dHVyZUFycmF5Lm1qcy5tYXBcbiIsImNsYXNzIE9iamVjdFJlbmRlcmVyIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgZmx1c2goKSB7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfVxuICBzdGFydCgpIHtcbiAgfVxuICBzdG9wKCkge1xuICAgIHRoaXMuZmx1c2goKTtcbiAgfVxuICByZW5kZXIoX29iamVjdCkge1xuICB9XG59XG5cbmV4cG9ydCB7IE9iamVjdFJlbmRlcmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RSZW5kZXJlci5tanMubWFwXG4iLCJ2YXIgZGVmYXVsdFZlcnRleCA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5hdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHRpbnQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHRpbnQ7XFxufVxcblwiO1xuXG5leHBvcnQgeyBkZWZhdWx0VmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHR1cmUubWpzLm1hcFxuIiwidmFyIGRlZmF1bHRGcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgJWZvcmxvb3AlXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yICogdkNvbG9yO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZGVmYXVsdEZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHR1cmUyLm1qcy5tYXBcbiIsImltcG9ydCB7IEVOViB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgJy4uL3NldHRpbmdzLm1qcyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxubGV0IENPTlRFWFRfVUlEX0NPVU5URVIgPSAwO1xuY2xhc3MgQ29udGV4dFN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMTtcbiAgICB0aGlzLmV4dGVuc2lvbnMgPSB7fTtcbiAgICB0aGlzLnN1cHBvcnRzID0ge1xuICAgICAgdWludDMySW5kaWNlczogZmFsc2VcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlQ29udGV4dExvc3QgPSB0aGlzLmhhbmRsZUNvbnRleHRMb3N0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKHRoaXMpO1xuICB9XG4gIGdldCBpc0xvc3QoKSB7XG4gICAgcmV0dXJuICF0aGlzLmdsIHx8IHRoaXMuZ2wuaXNDb250ZXh0TG9zdCgpO1xuICB9XG4gIGNvbnRleHRDaGFuZ2UoZ2wpIHtcbiAgICB0aGlzLmdsID0gZ2w7XG4gICAgdGhpcy5yZW5kZXJlci5nbCA9IGdsO1xuICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRF9DT1VOVEVSKys7XG4gIH1cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgdGhpcy5pbml0RnJvbUNvbnRleHQob3B0aW9ucy5jb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYWxwaGEgPSB0aGlzLnJlbmRlcmVyLmJhY2tncm91bmQuYWxwaGEgPCAxO1xuICAgICAgY29uc3QgcHJlbXVsdGlwbGllZEFscGhhID0gb3B0aW9ucy5wcmVtdWx0aXBsaWVkQWxwaGE7XG4gICAgICB0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuICAgICAgdGhpcy51c2VDb250ZXh0QWxwaGEgPSBvcHRpb25zLnVzZUNvbnRleHRBbHBoYTtcbiAgICAgIHRoaXMucG93ZXJQcmVmZXJlbmNlID0gb3B0aW9ucy5wb3dlclByZWZlcmVuY2U7XG4gICAgICB0aGlzLmluaXRGcm9tT3B0aW9ucyh7XG4gICAgICAgIGFscGhhLFxuICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGEsXG4gICAgICAgIGFudGlhbGlhczogb3B0aW9ucy5hbnRpYWxpYXMsXG4gICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgIHBvd2VyUHJlZmVyZW5jZTogb3B0aW9ucy5wb3dlclByZWZlcmVuY2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpbml0RnJvbUNvbnRleHQoZ2wpIHtcbiAgICB0aGlzLmdsID0gZ2w7XG4gICAgdGhpcy52YWxpZGF0ZUNvbnRleHQoZ2wpO1xuICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEID0gQ09OVEVYVF9VSURfQ09VTlRFUisrO1xuICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmVtaXQoZ2wpO1xuICAgIGNvbnN0IHZpZXcgPSB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgaWYgKHZpZXcuYWRkRXZlbnRMaXN0ZW5lciAhPT0gdm9pZCAwKSB7XG4gICAgICB2aWV3LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRsb3N0XCIsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgIHZpZXcuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG4gICAgfVxuICB9XG4gIGluaXRGcm9tT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLmNyZWF0ZUNvbnRleHQodGhpcy5yZW5kZXJlci52aWV3LCBvcHRpb25zKTtcbiAgICB0aGlzLmluaXRGcm9tQ29udGV4dChnbCk7XG4gIH1cbiAgY3JlYXRlQ29udGV4dChjYW52YXMsIG9wdGlvbnMpIHtcbiAgICBsZXQgZ2w7XG4gICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMikge1xuICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsMlwiLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGdsKSB7XG4gICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMTtcbiAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiLCBvcHRpb25zKSB8fCBjYW52YXMuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLCBvcHRpb25zKTtcbiAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wuIFRyeSB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmdsID0gZ2w7XG4gICAgdGhpcy5nZXRFeHRlbnNpb25zKCk7XG4gICAgcmV0dXJuIHRoaXMuZ2w7XG4gIH1cbiAgZ2V0RXh0ZW5zaW9ucygpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIGNvbnN0IGNvbW1vbiA9IHtcbiAgICAgIGxvc2VDb250ZXh0OiBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIiksXG4gICAgICBhbmlzb3Ryb3BpY0ZpbHRlcmluZzogZ2wuZ2V0RXh0ZW5zaW9uKFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpLFxuICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXJcIiksXG4gICAgICBzM3RjOiBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiKSxcbiAgICAgIHMzdGNfc1JHQjogZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYlwiKSxcbiAgICAgIGV0YzogZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0Y1wiKSxcbiAgICAgIGV0YzE6IGdsLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxXCIpLFxuICAgICAgcHZydGM6IGdsLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0Y1wiKSB8fCBnbC5nZXRFeHRlbnNpb24oXCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpLFxuICAgICAgYXRjOiBnbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXRjXCIpLFxuICAgICAgYXN0YzogZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGNcIilcbiAgICB9O1xuICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMSkge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIGNvbW1vbiwge1xuICAgICAgICBkcmF3QnVmZmVyczogZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZHJhd19idWZmZXJzXCIpLFxuICAgICAgICBkZXB0aFRleHR1cmU6IGdsLmdldEV4dGVuc2lvbihcIldFQkdMX2RlcHRoX3RleHR1cmVcIiksXG4gICAgICAgIHZlcnRleEFycmF5T2JqZWN0OiBnbC5nZXRFeHRlbnNpb24oXCJPRVNfdmVydGV4X2FycmF5X29iamVjdFwiKSB8fCBnbC5nZXRFeHRlbnNpb24oXCJNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcIikgfHwgZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIpLFxuICAgICAgICB1aW50MzJFbGVtZW50SW5kZXg6IGdsLmdldEV4dGVuc2lvbihcIk9FU19lbGVtZW50X2luZGV4X3VpbnRcIiksXG4gICAgICAgIGZsb2F0VGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfZmxvYXRcIiksXG4gICAgICAgIGZsb2F0VGV4dHVyZUxpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyXCIpLFxuICAgICAgICB0ZXh0dXJlSGFsZkZsb2F0OiBnbC5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XCIpLFxuICAgICAgICB0ZXh0dXJlSGFsZkZsb2F0TGluZWFyOiBnbC5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhclwiKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMikge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIGNvbW1vbiwge1xuICAgICAgICBjb2xvckJ1ZmZlckZsb2F0OiBnbC5nZXRFeHRlbnNpb24oXCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0XCIpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlQ29udGV4dExvc3QoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZ2wuaXNDb250ZXh0TG9zdCgpICYmIHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dCkge1xuICAgICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgIH1cbiAgICB9LCAwKTtcbiAgfVxuICBoYW5kbGVDb250ZXh0UmVzdG9yZWQoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuZW1pdCh0aGlzLmdsKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGNvbnN0IHZpZXcgPSB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgaWYgKHZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lciAhPT0gdm9pZCAwKSB7XG4gICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRsb3N0XCIsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QpO1xuICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIiwgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQpO1xuICAgIH1cbiAgICB0aGlzLmdsLnVzZVByb2dyYW0obnVsbCk7XG4gICAgaWYgKHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dCkge1xuICAgICAgdGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgfVxuICB9XG4gIHBvc3RyZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyZXIub2JqZWN0UmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgIHRoaXMuZ2wuZmx1c2goKTtcbiAgICB9XG4gIH1cbiAgdmFsaWRhdGVDb250ZXh0KGdsKSB7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7XG4gICAgY29uc3QgaXNXZWJHbDIgPSBcIldlYkdMMlJlbmRlcmluZ0NvbnRleHRcIiBpbiBnbG9iYWxUaGlzICYmIGdsIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5XZWJHTDJSZW5kZXJpbmdDb250ZXh0O1xuICAgIGlmIChpc1dlYkdsMikge1xuICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAyO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlcyAmJiAhYXR0cmlidXRlcy5zdGVuY2lsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJQcm92aWRlZCBXZWJHTCBjb250ZXh0IGRvZXMgbm90IGhhdmUgYSBzdGVuY2lsIGJ1ZmZlciwgbWFza3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5XCIpO1xuICAgIH1cbiAgICBjb25zdCBoYXN1aW50MzIgPSBpc1dlYkdsMiB8fCAhIWdsLmdldEV4dGVuc2lvbihcIk9FU19lbGVtZW50X2luZGV4X3VpbnRcIik7XG4gICAgdGhpcy5zdXBwb3J0cy51aW50MzJJbmRpY2VzID0gaGFzdWludDMyO1xuICAgIGlmICghaGFzdWludDMyKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJQcm92aWRlZCBXZWJHTCBjb250ZXh0IGRvZXMgbm90IHN1cHBvcnQgMzIgaW5kZXggYnVmZmVyLCBjb21wbGV4IGdyYXBoaWNzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseVwiKTtcbiAgICB9XG4gIH1cbn1cbkNvbnRleHRTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcImNvbnRleHRcIlxufTtcbmV4dGVuc2lvbnMuYWRkKENvbnRleHRTeXN0ZW0pO1xuXG5leHBvcnQgeyBDb250ZXh0U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250ZXh0U3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUHJvZ3JhbSB9IGZyb20gJy4uL3NoYWRlci9Qcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBTaGFkZXIgfSBmcm9tICcuLi9zaGFkZXIvU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgZGVmYXVsdEZyYWdtZW50IGZyb20gJy4vZGVmYXVsdEZpbHRlci5tanMnO1xuaW1wb3J0IGRlZmF1bHRWZXJ0ZXggZnJvbSAnLi9kZWZhdWx0RmlsdGVyMi5tanMnO1xuXG5jbGFzcyBGaWx0ZXIgZXh0ZW5kcyBTaGFkZXIge1xuICBjb25zdHJ1Y3Rvcih2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgIGNvbnN0IHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjIHx8IEZpbHRlci5kZWZhdWx0VmVydGV4U3JjLCBmcmFnbWVudFNyYyB8fCBGaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjKTtcbiAgICBzdXBlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG4gICAgdGhpcy5wYWRkaW5nID0gMDtcbiAgICB0aGlzLnJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjtcbiAgICB0aGlzLm11bHRpc2FtcGxlID0gc2V0dGluZ3MuRklMVEVSX01VTFRJU0FNUExFO1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5hdXRvRml0ID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXRlID0gbmV3IFN0YXRlKCk7XG4gIH1cbiAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlLCBfY3VycmVudFN0YXRlKSB7XG4gICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICB9XG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICB9XG4gIGdldCByZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXNvbHV0aW9uO1xuICB9XG4gIHNldCByZXNvbHV0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5fcmVzb2x1dGlvbiA9IHZhbHVlO1xuICB9XG4gIHN0YXRpYyBnZXQgZGVmYXVsdFZlcnRleFNyYygpIHtcbiAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgfVxuICBzdGF0aWMgZ2V0IGRlZmF1bHRGcmFnbWVudFNyYygpIHtcbiAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50O1xuICB9XG59XG5cbmV4cG9ydCB7IEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyLm1qcy5tYXBcbiIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuY2xhc3MgRmlsdGVyU3RhdGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLmxlZ2FjeSA9IGZhbHNlO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIHRoaXMuYmluZGluZ1NvdXJjZUZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIHRoaXMuYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuICB9XG4gIGNsZWFyKCkge1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyVGV4dHVyZSA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgRmlsdGVyU3RhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlclN0YXRlLm1qcy5tYXBcbiIsImltcG9ydCB7IFJlbmRlclRleHR1cmVQb29sIH0gZnJvbSAnLi4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgUXVhZCB9IGZyb20gJy4uL3V0aWxzL1F1YWQubWpzJztcbmltcG9ydCB7IFF1YWRVdiB9IGZyb20gJy4uL3V0aWxzL1F1YWRVdi5tanMnO1xuaW1wb3J0IHsgUG9pbnQsIE1hdHJpeCwgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi9zaGFkZXIvVW5pZm9ybUdyb3VwLm1qcyc7XG5pbXBvcnQgeyBDTEVBUl9NT0RFUywgRFJBV19NT0RFUywgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEZpbHRlclN0YXRlIH0gZnJvbSAnLi9GaWx0ZXJTdGF0ZS5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuXG5jb25zdCB0ZW1wUG9pbnRzID0gW25ldyBQb2ludCgpLCBuZXcgUG9pbnQoKSwgbmV3IFBvaW50KCksIG5ldyBQb2ludCgpXTtcbmNvbnN0IHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5jbGFzcyBGaWx0ZXJTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjayA9IFt7fV07XG4gICAgdGhpcy50ZXh0dXJlUG9vbCA9IG5ldyBSZW5kZXJUZXh0dXJlUG9vbCgpO1xuICAgIHRoaXMuc3RhdGVQb29sID0gW107XG4gICAgdGhpcy5xdWFkID0gbmV3IFF1YWQoKTtcbiAgICB0aGlzLnF1YWRVdiA9IG5ldyBRdWFkVXYoKTtcbiAgICB0aGlzLnRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIHRoaXMuYWN0aXZlU3RhdGUgPSB7fTtcbiAgICB0aGlzLmdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICBvdXRwdXRGcmFtZTogbmV3IFJlY3RhbmdsZSgpLFxuICAgICAgaW5wdXRTaXplOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgaW5wdXRQaXhlbDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgIGlucHV0Q2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgZmlsdGVyQXJlYTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgIGZpbHRlckNsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpXG4gICAgfSwgdHJ1ZSk7XG4gICAgdGhpcy5mb3JjZUNsZWFyID0gZmFsc2U7XG4gICAgdGhpcy51c2VNYXhQYWRkaW5nID0gZmFsc2U7XG4gIH1cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUodGhpcy5yZW5kZXJlci52aWV3KTtcbiAgfVxuICBwdXNoKHRhcmdldCwgZmlsdGVycykge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBmaWx0ZXJTdGFjayA9IHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrO1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZVBvb2wucG9wKCkgfHwgbmV3IEZpbHRlclN0YXRlKCk7XG4gICAgY29uc3QgcmVuZGVyVGV4dHVyZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZTtcbiAgICBsZXQgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICBsZXQgbXVsdGlzYW1wbGUgPSBmaWx0ZXJzWzBdLm11bHRpc2FtcGxlO1xuICAgIGxldCBwYWRkaW5nID0gZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgIGxldCBhdXRvRml0ID0gZmlsdGVyc1swXS5hdXRvRml0O1xuICAgIGxldCBsZWdhY3kgPSBmaWx0ZXJzWzBdLmxlZ2FjeSA/PyB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZmlsdGVyID0gZmlsdGVyc1tpXTtcbiAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBmaWx0ZXIucmVzb2x1dGlvbik7XG4gICAgICBtdWx0aXNhbXBsZSA9IE1hdGgubWluKG11bHRpc2FtcGxlLCBmaWx0ZXIubXVsdGlzYW1wbGUpO1xuICAgICAgcGFkZGluZyA9IHRoaXMudXNlTWF4UGFkZGluZyA/IE1hdGgubWF4KHBhZGRpbmcsIGZpbHRlci5wYWRkaW5nKSA6IHBhZGRpbmcgKyBmaWx0ZXIucGFkZGluZztcbiAgICAgIGF1dG9GaXQgPSBhdXRvRml0ICYmIGZpbHRlci5hdXRvRml0O1xuICAgICAgbGVnYWN5ID0gbGVnYWN5IHx8IChmaWx0ZXIubGVnYWN5ID8/IHRydWUpO1xuICAgIH1cbiAgICBpZiAoZmlsdGVyU3RhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFja1swXS5yZW5kZXJUZXh0dXJlID0gcmVuZGVyVGV4dHVyZVN5c3RlbS5jdXJyZW50O1xuICAgIH1cbiAgICBmaWx0ZXJTdGFjay5wdXNoKHN0YXRlKTtcbiAgICBzdGF0ZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICBzdGF0ZS5tdWx0aXNhbXBsZSA9IG11bHRpc2FtcGxlO1xuICAgIHN0YXRlLmxlZ2FjeSA9IGxlZ2FjeTtcbiAgICBzdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgc3RhdGUuc291cmNlRnJhbWUuY29weUZyb20odGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKSk7XG4gICAgc3RhdGUuc291cmNlRnJhbWUucGFkKHBhZGRpbmcpO1xuICAgIGNvbnN0IHNvdXJjZUZyYW1lUHJvamVjdGVkID0gdGhpcy50ZW1wUmVjdC5jb3B5RnJvbShyZW5kZXJUZXh0dXJlU3lzdGVtLnNvdXJjZUZyYW1lKTtcbiAgICBpZiAocmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0pIHtcbiAgICAgIHRoaXMudHJhbnNmb3JtQUFCQih0ZW1wTWF0cml4LmNvcHlGcm9tKHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtKS5pbnZlcnQoKSwgc291cmNlRnJhbWVQcm9qZWN0ZWQpO1xuICAgIH1cbiAgICBpZiAoYXV0b0ZpdCkge1xuICAgICAgc3RhdGUuc291cmNlRnJhbWUuZml0KHNvdXJjZUZyYW1lUHJvamVjdGVkKTtcbiAgICAgIGlmIChzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCA8PSAwIHx8IHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCA8PSAwKSB7XG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoID0gMDtcbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0ID0gMDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFzdGF0ZS5zb3VyY2VGcmFtZS5pbnRlcnNlY3RzKHNvdXJjZUZyYW1lUHJvamVjdGVkKSkge1xuICAgICAgc3RhdGUuc291cmNlRnJhbWUud2lkdGggPSAwO1xuICAgICAgc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0ID0gMDtcbiAgICB9XG4gICAgdGhpcy5yb3VuZEZyYW1lKHN0YXRlLnNvdXJjZUZyYW1lLCByZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQgPyByZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQucmVzb2x1dGlvbiA6IHJlbmRlcmVyLnJlc29sdXRpb24sIHJlbmRlclRleHR1cmVTeXN0ZW0uc291cmNlRnJhbWUsIHJlbmRlclRleHR1cmVTeXN0ZW0uZGVzdGluYXRpb25GcmFtZSwgcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0pO1xuICAgIHN0YXRlLnJlbmRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24sIG11bHRpc2FtcGxlKTtcbiAgICBzdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcbiAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUucmVuZGVyVGV4dHVyZS53aWR0aDtcbiAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHN0YXRlLnJlbmRlclRleHR1cmUuaGVpZ2h0O1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnRlbXBSZWN0O1xuICAgIGRlc3RpbmF0aW9uRnJhbWUueCA9IDA7XG4gICAgZGVzdGluYXRpb25GcmFtZS55ID0gMDtcbiAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUuc291cmNlRnJhbWUud2lkdGg7XG4gICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQ7XG4gICAgc3RhdGUucmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgIHN0YXRlLmJpbmRpbmdTb3VyY2VGcmFtZS5jb3B5RnJvbShyZW5kZXJUZXh0dXJlU3lzdGVtLnNvdXJjZUZyYW1lKTtcbiAgICBzdGF0ZS5iaW5kaW5nRGVzdGluYXRpb25GcmFtZS5jb3B5RnJvbShyZW5kZXJUZXh0dXJlU3lzdGVtLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgIHN0YXRlLnRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuICAgIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gbnVsbDtcbiAgICByZW5kZXJUZXh0dXJlU3lzdGVtLmJpbmQoc3RhdGUucmVuZGVyVGV4dHVyZSwgc3RhdGUuc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpO1xuICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKDAsIDAsIDAsIDApO1xuICB9XG4gIHBvcCgpIHtcbiAgICBjb25zdCBmaWx0ZXJTdGFjayA9IHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrO1xuICAgIGNvbnN0IHN0YXRlID0gZmlsdGVyU3RhY2sucG9wKCk7XG4gICAgY29uc3QgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG4gICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHN0YXRlO1xuICAgIGNvbnN0IGdsb2JhbFVuaWZvcm1zID0gdGhpcy5nbG9iYWxVbmlmb3Jtcy51bmlmb3JtcztcbiAgICBnbG9iYWxVbmlmb3Jtcy5vdXRwdXRGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgIGdsb2JhbFVuaWZvcm1zLnJlc29sdXRpb24gPSBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IGlucHV0U2l6ZSA9IGdsb2JhbFVuaWZvcm1zLmlucHV0U2l6ZTtcbiAgICBjb25zdCBpbnB1dFBpeGVsID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRQaXhlbDtcbiAgICBjb25zdCBpbnB1dENsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcbiAgICBpbnB1dFNpemVbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgIGlucHV0U2l6ZVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgIGlucHV0U2l6ZVsyXSA9IDEgLyBpbnB1dFNpemVbMF07XG4gICAgaW5wdXRTaXplWzNdID0gMSAvIGlucHV0U2l6ZVsxXTtcbiAgICBpbnB1dFBpeGVsWzBdID0gTWF0aC5yb3VuZChpbnB1dFNpemVbMF0gKiBzdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICBpbnB1dFBpeGVsWzFdID0gTWF0aC5yb3VuZChpbnB1dFNpemVbMV0gKiBzdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICBpbnB1dFBpeGVsWzJdID0gMSAvIGlucHV0UGl4ZWxbMF07XG4gICAgaW5wdXRQaXhlbFszXSA9IDEgLyBpbnB1dFBpeGVsWzFdO1xuICAgIGlucHV0Q2xhbXBbMF0gPSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgIGlucHV0Q2xhbXBbMV0gPSAwLjUgKiBpbnB1dFBpeGVsWzNdO1xuICAgIGlucHV0Q2xhbXBbMl0gPSBzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCAqIGlucHV0U2l6ZVsyXSAtIDAuNSAqIGlucHV0UGl4ZWxbMl07XG4gICAgaW5wdXRDbGFtcFszXSA9IHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCAqIGlucHV0U2l6ZVszXSAtIDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgaWYgKHN0YXRlLmxlZ2FjeSkge1xuICAgICAgY29uc3QgZmlsdGVyQXJlYSA9IGdsb2JhbFVuaWZvcm1zLmZpbHRlckFyZWE7XG4gICAgICBmaWx0ZXJBcmVhWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgIGZpbHRlckFyZWFbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgIGZpbHRlckFyZWFbMl0gPSBzdGF0ZS5zb3VyY2VGcmFtZS54O1xuICAgICAgZmlsdGVyQXJlYVszXSA9IHN0YXRlLnNvdXJjZUZyYW1lLnk7XG4gICAgICBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgfVxuICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgY29uc3QgbGFzdFN0YXRlID0gZmlsdGVyU3RhY2tbZmlsdGVyU3RhY2subGVuZ3RoIC0gMV07XG4gICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5ibGl0KCk7XG4gICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIHN0YXRlLnJlbmRlclRleHR1cmUsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBDTEVBUl9NT0RFUy5CTEVORCwgc3RhdGUpO1xuICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHN0YXRlLnJlbmRlclRleHR1cmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZmxpcCA9IHN0YXRlLnJlbmRlclRleHR1cmU7XG4gICAgICBsZXQgZmxvcCA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoZmxpcC53aWR0aCwgZmxpcC5oZWlnaHQsIHN0YXRlLnJlc29sdXRpb24pO1xuICAgICAgZmxvcC5maWx0ZXJGcmFtZSA9IGZsaXAuZmlsdGVyRnJhbWU7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPT09IDEgJiYgc3RhdGUubXVsdGlzYW1wbGUgPiAxKSB7XG4gICAgICAgICAgZmxvcCA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoZmxpcC53aWR0aCwgZmxpcC5oZWlnaHQsIHN0YXRlLnJlc29sdXRpb24pO1xuICAgICAgICAgIGZsb3AuZmlsdGVyRnJhbWUgPSBmbGlwLmZpbHRlckZyYW1lO1xuICAgICAgICB9XG4gICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmxvcCwgQ0xFQVJfTU9ERVMuQ0xFQVIsIHN0YXRlKTtcbiAgICAgICAgY29uc3QgdCA9IGZsaXA7XG4gICAgICAgIGZsaXAgPSBmbG9wO1xuICAgICAgICBmbG9wID0gdDtcbiAgICAgIH1cbiAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgbGFzdFN0YXRlLnJlbmRlclRleHR1cmUsIENMRUFSX01PREVTLkJMRU5ELCBzdGF0ZSk7XG4gICAgICBpZiAoaSA+IDEgJiYgc3RhdGUubXVsdGlzYW1wbGUgPiAxKSB7XG4gICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShzdGF0ZS5yZW5kZXJUZXh0dXJlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShmbGlwKTtcbiAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShmbG9wKTtcbiAgICB9XG4gICAgc3RhdGUuY2xlYXIoKTtcbiAgICB0aGlzLnN0YXRlUG9vbC5wdXNoKHN0YXRlKTtcbiAgfVxuICBiaW5kQW5kQ2xlYXIoZmlsdGVyVGV4dHVyZSwgY2xlYXJNb2RlID0gQ0xFQVJfTU9ERVMuQ0xFQVIpIHtcbiAgICBjb25zdCB7XG4gICAgICByZW5kZXJUZXh0dXJlOiByZW5kZXJUZXh0dXJlU3lzdGVtLFxuICAgICAgc3RhdGU6IHN0YXRlU3lzdGVtXG4gICAgfSA9IHRoaXMucmVuZGVyZXI7XG4gICAgaWYgKGZpbHRlclRleHR1cmUgPT09IHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrW3RoaXMuZGVmYXVsdEZpbHRlclN0YWNrLmxlbmd0aCAtIDFdLnJlbmRlclRleHR1cmUpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0aGlzLmFjdGl2ZVN0YXRlLnRyYW5zZm9ybTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJUZXh0dXJlPy5maWx0ZXJGcmFtZSkge1xuICAgICAgY29uc3QgZGVzdGluYXRpb25GcmFtZSA9IHRoaXMudGVtcFJlY3Q7XG4gICAgICBkZXN0aW5hdGlvbkZyYW1lLnggPSAwO1xuICAgICAgZGVzdGluYXRpb25GcmFtZS55ID0gMDtcbiAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lLndpZHRoO1xuICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lLmhlaWdodDtcbiAgICAgIHJlbmRlclRleHR1cmVTeXN0ZW0uYmluZChmaWx0ZXJUZXh0dXJlLCBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKTtcbiAgICB9IGVsc2UgaWYgKGZpbHRlclRleHR1cmUgIT09IHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrW3RoaXMuZGVmYXVsdEZpbHRlclN0YWNrLmxlbmd0aCAtIDFdLnJlbmRlclRleHR1cmUpIHtcbiAgICAgIHJlbmRlclRleHR1cmVTeXN0ZW0uYmluZChmaWx0ZXJUZXh0dXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoZmlsdGVyVGV4dHVyZSwgdGhpcy5hY3RpdmVTdGF0ZS5iaW5kaW5nU291cmNlRnJhbWUsIHRoaXMuYWN0aXZlU3RhdGUuYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUpO1xuICAgIH1cbiAgICBjb25zdCBhdXRvQ2xlYXIgPSBzdGF0ZVN5c3RlbS5zdGF0ZUlkICYgMSB8fCB0aGlzLmZvcmNlQ2xlYXI7XG4gICAgaWYgKGNsZWFyTW9kZSA9PT0gQ0xFQVJfTU9ERVMuQ0xFQVIgfHwgY2xlYXJNb2RlID09PSBDTEVBUl9NT0RFUy5CTElUICYmIGF1dG9DbGVhcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5jbGVhcigwLCAwLCAwLCAwKTtcbiAgICB9XG4gIH1cbiAgYXBwbHlGaWx0ZXIoZmlsdGVyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgcmVuZGVyZXIuc3RhdGUuc2V0KGZpbHRlci5zdGF0ZSk7XG4gICAgdGhpcy5iaW5kQW5kQ2xlYXIob3V0cHV0LCBjbGVhck1vZGUpO1xuICAgIGZpbHRlci51bmlmb3Jtcy51U2FtcGxlciA9IGlucHV0O1xuICAgIGZpbHRlci51bmlmb3Jtcy5maWx0ZXJHbG9iYWxzID0gdGhpcy5nbG9iYWxVbmlmb3JtcztcbiAgICByZW5kZXJlci5zaGFkZXIuYmluZChmaWx0ZXIpO1xuICAgIGZpbHRlci5sZWdhY3kgPSAhIWZpbHRlci5wcm9ncmFtLmF0dHJpYnV0ZURhdGEuYVRleHR1cmVDb29yZDtcbiAgICBpZiAoZmlsdGVyLmxlZ2FjeSkge1xuICAgICAgdGhpcy5xdWFkVXYubWFwKGlucHV0Ll9mcmFtZSwgaW5wdXQuZmlsdGVyRnJhbWUpO1xuICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWRVdik7XG4gICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVTKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWQpO1xuICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFX1NUUklQKTtcbiAgICB9XG4gIH1cbiAgY2FsY3VsYXRlU3ByaXRlTWF0cml4KG91dHB1dE1hdHJpeCwgc3ByaXRlKSB7XG4gICAgY29uc3QgeyBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSB9ID0gdGhpcy5hY3RpdmVTdGF0ZTtcbiAgICBjb25zdCB7IG9yaWcgfSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICBjb25zdCBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIDAsIDAsIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0LCBzb3VyY2VGcmFtZS54LCBzb3VyY2VGcmFtZS55KTtcbiAgICBjb25zdCB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LlRFTVBfTUFUUklYKTtcbiAgICB3b3JsZFRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICBtYXBwZWRNYXRyaXgucHJlcGVuZCh3b3JsZFRyYW5zZm9ybSk7XG4gICAgbWFwcGVkTWF0cml4LnNjYWxlKDEgLyBvcmlnLndpZHRoLCAxIC8gb3JpZy5oZWlnaHQpO1xuICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc3ByaXRlLmFuY2hvci54LCBzcHJpdGUuYW5jaG9yLnkpO1xuICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKGZhbHNlKTtcbiAgfVxuICBnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uID0gMSwgbXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORSkge1xuICAgIHJldHVybiB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24sIG11bHRpc2FtcGxlKTtcbiAgfVxuICBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0LCByZXNvbHV0aW9uLCBtdWx0aXNhbXBsZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IHN3YXAgPSBpbnB1dDtcbiAgICAgIGlucHV0ID0gcmVzb2x1dGlvbjtcbiAgICAgIHJlc29sdXRpb24gPSBzd2FwO1xuICAgIH1cbiAgICBpbnB1dCA9IGlucHV0IHx8IHRoaXMuYWN0aXZlU3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICBjb25zdCBmaWx0ZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24sIG11bHRpc2FtcGxlIHx8IE1TQUFfUVVBTElUWS5OT05FKTtcbiAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG4gICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG4gIH1cbiAgcmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlKSB7XG4gICAgdGhpcy50ZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICB9XG4gIGVtcHR5UG9vbCgpIHtcbiAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKHRydWUpO1xuICB9XG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUodGhpcy5yZW5kZXJlci52aWV3KTtcbiAgfVxuICB0cmFuc2Zvcm1BQUJCKG1hdHJpeCwgcmVjdCkge1xuICAgIGNvbnN0IGx0ID0gdGVtcFBvaW50c1swXTtcbiAgICBjb25zdCBsYiA9IHRlbXBQb2ludHNbMV07XG4gICAgY29uc3QgcnQgPSB0ZW1wUG9pbnRzWzJdO1xuICAgIGNvbnN0IHJiID0gdGVtcFBvaW50c1szXTtcbiAgICBsdC5zZXQocmVjdC5sZWZ0LCByZWN0LnRvcCk7XG4gICAgbGIuc2V0KHJlY3QubGVmdCwgcmVjdC5ib3R0b20pO1xuICAgIHJ0LnNldChyZWN0LnJpZ2h0LCByZWN0LnRvcCk7XG4gICAgcmIuc2V0KHJlY3QucmlnaHQsIHJlY3QuYm90dG9tKTtcbiAgICBtYXRyaXguYXBwbHkobHQsIGx0KTtcbiAgICBtYXRyaXguYXBwbHkobGIsIGxiKTtcbiAgICBtYXRyaXguYXBwbHkocnQsIHJ0KTtcbiAgICBtYXRyaXguYXBwbHkocmIsIHJiKTtcbiAgICBjb25zdCB4MCA9IE1hdGgubWluKGx0LngsIGxiLngsIHJ0LngsIHJiLngpO1xuICAgIGNvbnN0IHkwID0gTWF0aC5taW4obHQueSwgbGIueSwgcnQueSwgcmIueSk7XG4gICAgY29uc3QgeDEgPSBNYXRoLm1heChsdC54LCBsYi54LCBydC54LCByYi54KTtcbiAgICBjb25zdCB5MSA9IE1hdGgubWF4KGx0LnksIGxiLnksIHJ0LnksIHJiLnkpO1xuICAgIHJlY3QueCA9IHgwO1xuICAgIHJlY3QueSA9IHkwO1xuICAgIHJlY3Qud2lkdGggPSB4MSAtIHgwO1xuICAgIHJlY3QuaGVpZ2h0ID0geTEgLSB5MDtcbiAgfVxuICByb3VuZEZyYW1lKGZyYW1lLCByZXNvbHV0aW9uLCBiaW5kaW5nU291cmNlRnJhbWUsIGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLCB0cmFuc2Zvcm0pIHtcbiAgICBpZiAoZnJhbWUud2lkdGggPD0gMCB8fCBmcmFtZS5oZWlnaHQgPD0gMCB8fCBiaW5kaW5nU291cmNlRnJhbWUud2lkdGggPD0gMCB8fCBiaW5kaW5nU291cmNlRnJhbWUuaGVpZ2h0IDw9IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgY29uc3QgeyBhLCBiLCBjLCBkIH0gPSB0cmFuc2Zvcm07XG4gICAgICBpZiAoKE1hdGguYWJzKGIpID4gMWUtNCB8fCBNYXRoLmFicyhjKSA+IDFlLTQpICYmIChNYXRoLmFicyhhKSA+IDFlLTQgfHwgTWF0aC5hYnMoZCkgPiAxZS00KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRyYW5zZm9ybSA9IHRyYW5zZm9ybSA/IHRlbXBNYXRyaXguY29weUZyb20odHJhbnNmb3JtKSA6IHRlbXBNYXRyaXguaWRlbnRpdHkoKTtcbiAgICB0cmFuc2Zvcm0udHJhbnNsYXRlKC1iaW5kaW5nU291cmNlRnJhbWUueCwgLWJpbmRpbmdTb3VyY2VGcmFtZS55KS5zY2FsZShiaW5kaW5nRGVzdGluYXRpb25GcmFtZS53aWR0aCAvIGJpbmRpbmdTb3VyY2VGcmFtZS53aWR0aCwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gYmluZGluZ1NvdXJjZUZyYW1lLmhlaWdodCkudHJhbnNsYXRlKGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLngsIGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLnkpO1xuICAgIHRoaXMudHJhbnNmb3JtQUFCQih0cmFuc2Zvcm0sIGZyYW1lKTtcbiAgICBmcmFtZS5jZWlsKHJlc29sdXRpb24pO1xuICAgIHRoaXMudHJhbnNmb3JtQUFCQih0cmFuc2Zvcm0uaW52ZXJ0KCksIGZyYW1lKTtcbiAgfVxufVxuRmlsdGVyU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJmaWx0ZXJcIlxufTtcbmV4dGVuc2lvbnMuYWRkKEZpbHRlclN5c3RlbSk7XG5cbmV4cG9ydCB7IEZpbHRlclN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyU3lzdGVtLm1qcy5tYXBcbiIsIlxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SUZpbHRlclRhcmdldC5tanMubWFwXG4iLCJ2YXIgZGVmYXVsdEZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGRlZmF1bHRGcmFnbWVudCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0RmlsdGVyLm1qcy5tYXBcbiIsInZhciBkZWZhdWx0VmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGRlZmF1bHRWZXJ0ZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdEZpbHRlcjIubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi4vRmlsdGVyLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9zcHJpdGVNYXNrRmlsdGVyMi5tanMnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vc3ByaXRlTWFza0ZpbHRlcjMubWpzJztcbmltcG9ydCB7IFRleHR1cmVNYXRyaXggfSBmcm9tICcuLi8uLi90ZXh0dXJlcy9UZXh0dXJlTWF0cml4Lm1qcyc7XG5cbmNsYXNzIFNwcml0ZU1hc2tGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICBjb25zdHJ1Y3Rvcih2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgIGxldCBzcHJpdGUgPSBudWxsO1xuICAgIGlmICh0eXBlb2YgdmVydGV4U3JjICE9PSBcInN0cmluZ1wiICYmIGZyYWdtZW50U3JjID09PSB2b2lkIDAgJiYgdW5pZm9ybXMgPT09IHZvaWQgMCkge1xuICAgICAgc3ByaXRlID0gdmVydGV4U3JjO1xuICAgICAgdmVydGV4U3JjID0gdm9pZCAwO1xuICAgICAgZnJhZ21lbnRTcmMgPSB2b2lkIDA7XG4gICAgICB1bmlmb3JtcyA9IHZvaWQgMDtcbiAgICB9XG4gICAgc3VwZXIodmVydGV4U3JjIHx8IHZlcnRleCwgZnJhZ21lbnRTcmMgfHwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcbiAgICB0aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgdGhpcy5tYXNrTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICB9XG4gIGdldCBtYXNrU3ByaXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXNrU3ByaXRlO1xuICB9XG4gIHNldCBtYXNrU3ByaXRlKHZhbHVlKSB7XG4gICAgdGhpcy5fbWFza1Nwcml0ZSA9IHZhbHVlO1xuICAgIGlmICh0aGlzLl9tYXNrU3ByaXRlKSB7XG4gICAgICB0aGlzLl9tYXNrU3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgY29uc3QgbWFza1Nwcml0ZSA9IHRoaXMuX21hc2tTcHJpdGU7XG4gICAgY29uc3QgdGV4ID0gbWFza1Nwcml0ZS5fdGV4dHVyZTtcbiAgICBpZiAoIXRleC52YWxpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRleC51dk1hdHJpeCkge1xuICAgICAgdGV4LnV2TWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgodGV4LCAwKTtcbiAgICB9XG4gICAgdGV4LnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgIHRoaXMudW5pZm9ybXMubnBtQWxwaGEgPSB0ZXguYmFzZVRleHR1cmUuYWxwaGFNb2RlID8gMCA6IDE7XG4gICAgdGhpcy51bmlmb3Jtcy5tYXNrID0gdGV4O1xuICAgIHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIG1hc2tTcHJpdGUpLnByZXBlbmQodGV4LnV2TWF0cml4Lm1hcENvb3JkKTtcbiAgICB0aGlzLnVuaWZvcm1zLmFscGhhID0gbWFza1Nwcml0ZS53b3JsZEFscGhhO1xuICAgIHRoaXMudW5pZm9ybXMubWFza0NsYW1wID0gdGV4LnV2TWF0cml4LnVDbGFtcEZyYW1lO1xuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBTcHJpdGVNYXNrRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVNYXNrRmlsdGVyLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBvdGhlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdk1hc2tDb29yZCA9ICggb3RoZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgdmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZU1hc2tGaWx0ZXIyLm1qcy5tYXBcbiIsInZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFzaztcXG51bmlmb3JtIGZsb2F0IGFscGhhO1xcbnVuaWZvcm0gZmxvYXQgbnBtQWxwaGE7XFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgbWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChtYXNrLCB2TWFza0Nvb3JkKTtcXG4gICAgZmxvYXQgYWxwaGFNdWwgPSAxLjAgLSBucG1BbHBoYSAqICgxLjAgLSBtYXNreS5hKTtcXG5cXG4gICAgb3JpZ2luYWwgKj0gKGFscGhhTXVsICogbWFza3kuciAqIGFscGhhICogY2xpcCk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IG9yaWdpbmFsO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlTWFza0ZpbHRlcjMubWpzLm1hcFxuIiwidmFyICRkZWZhdWx0VmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59XCI7XG5cbmV4cG9ydCB7ICRkZWZhdWx0VmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQubWpzLm1hcFxuIiwidmFyICRkZWZhdWx0RmlsdGVyVmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7ICRkZWZhdWx0RmlsdGVyVmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRGaWx0ZXIubWpzLm1hcFxuIiwiaW1wb3J0ICRkZWZhdWx0VmVydGV4IGZyb20gJy4vZGVmYXVsdC5tanMnO1xuaW1wb3J0ICRkZWZhdWx0RmlsdGVyVmVydGV4IGZyb20gJy4vZGVmYXVsdEZpbHRlci5tanMnO1xuXG5jb25zdCBkZWZhdWx0VmVydGV4ID0gJGRlZmF1bHRWZXJ0ZXg7XG5jb25zdCBkZWZhdWx0RmlsdGVyVmVydGV4ID0gJGRlZmF1bHRGaWx0ZXJWZXJ0ZXg7XG5cbmV4cG9ydCB7IGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGRlZmF1bHRWZXJ0ZXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5pbXBvcnQgeyBCYXNlVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBEZXB0aFJlc291cmNlIH0gZnJvbSAnLi4vdGV4dHVyZXMvcmVzb3VyY2VzL0RlcHRoUmVzb3VyY2UubWpzJztcbmltcG9ydCB7IE1TQUFfUVVBTElUWSwgU0NBTEVfTU9ERVMsIE1JUE1BUF9NT0RFUywgRk9STUFUUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5jbGFzcyBGcmFtZWJ1ZmZlciB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLndpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCB8fCAxMDApO1xuICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQgfHwgMTAwKTtcbiAgICB0aGlzLnN0ZW5jaWwgPSBmYWxzZTtcbiAgICB0aGlzLmRlcHRoID0gZmFsc2U7XG4gICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICB0aGlzLmRpcnR5U2l6ZSA9IDA7XG4gICAgdGhpcy5kZXB0aFRleHR1cmUgPSBudWxsO1xuICAgIHRoaXMuY29sb3JUZXh0dXJlcyA9IFtdO1xuICAgIHRoaXMuZ2xGcmFtZWJ1ZmZlcnMgPSB7fTtcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKFwiZGlzcG9zZUZyYW1lYnVmZmVyXCIpO1xuICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgfVxuICBnZXQgY29sb3JUZXh0dXJlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZXNbMF07XG4gIH1cbiAgYWRkQ29sb3JUZXh0dXJlKGluZGV4ID0gMCwgdGV4dHVyZSkge1xuICAgIHRoaXMuY29sb3JUZXh0dXJlc1tpbmRleF0gPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShudWxsLCB7XG4gICAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgbWlwbWFwOiBNSVBNQVBfTU9ERVMuT0ZGLFxuICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0XG4gICAgfSk7XG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGFkZERlcHRoVGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgdGhpcy5kZXB0aFRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShuZXcgRGVwdGhSZXNvdXJjZShudWxsLCB7IHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0IH0pLCB7XG4gICAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgbWlwbWFwOiBNSVBNQVBfTU9ERVMuT0ZGLFxuICAgICAgZm9ybWF0OiBGT1JNQVRTLkRFUFRIX0NPTVBPTkVOVCxcbiAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX1NIT1JUXG4gICAgfSk7XG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGVuYWJsZURlcHRoKCkge1xuICAgIHRoaXMuZGVwdGggPSB0cnVlO1xuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBlbmFibGVTdGVuY2lsKCkge1xuICAgIHRoaXMuc3RlbmNpbCA9IHRydWU7XG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG4gICAgaWYgKHdpZHRoID09PSB0aGlzLndpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5oZWlnaHQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuZGlydHlTaXplKys7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmNvbG9yVGV4dHVyZXNbaV07XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gdGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgdGV4dHVyZS5zZXRTaXplKHdpZHRoIC8gcmVzb2x1dGlvbiwgaGVpZ2h0IC8gcmVzb2x1dGlvbik7XG4gICAgfVxuICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSkge1xuICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuZGVwdGhUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICB0aGlzLmRlcHRoVGV4dHVyZS5zZXRTaXplKHdpZHRoIC8gcmVzb2x1dGlvbiwgaGVpZ2h0IC8gcmVzb2x1dGlvbik7XG4gICAgfVxuICB9XG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICB9XG4gIGRlc3Ryb3lEZXB0aFRleHR1cmUoKSB7XG4gICAgaWYgKHRoaXMuZGVwdGhUZXh0dXJlKSB7XG4gICAgICB0aGlzLmRlcHRoVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgICArK3RoaXMuZGlydHlJZDtcbiAgICAgICsrdGhpcy5kaXJ0eUZvcm1hdDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgRnJhbWVidWZmZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZyYW1lYnVmZmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRU5WLCBCVUZGRVJfQklUUywgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCAnLi4vc2V0dGluZ3MubWpzJztcbmltcG9ydCB7IEZyYW1lYnVmZmVyIH0gZnJvbSAnLi9GcmFtZWJ1ZmZlci5tanMnO1xuaW1wb3J0IHsgR0xGcmFtZWJ1ZmZlciB9IGZyb20gJy4vR0xGcmFtZWJ1ZmZlci5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNvbnN0IHRlbXBSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5jbGFzcyBGcmFtZWJ1ZmZlclN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuICAgIHRoaXMudW5rbm93bkZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKDEwLCAxMCk7XG4gICAgdGhpcy5tc2FhU2FtcGxlcyA9IG51bGw7XG4gIH1cbiAgY29udGV4dENoYW5nZSgpIHtcbiAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIHRoaXMuaGFzTVJUID0gdHJ1ZTtcbiAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMSkge1xuICAgICAgbGV0IG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnM7XG4gICAgICBsZXQgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZGVwdGhUZXh0dXJlO1xuICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpIHtcbiAgICAgICAgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24gPSBudWxsO1xuICAgICAgICBuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24gPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uKSB7XG4gICAgICAgIGdsLmRyYXdCdWZmZXJzID0gKGFjdGl2ZVRleHR1cmVzKSA9PiBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbi5kcmF3QnVmZmVyc1dFQkdMKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFzTVJUID0gZmFsc2U7XG4gICAgICAgIGdsLmRyYXdCdWZmZXJzID0gKCkgPT4ge1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKCFuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24pIHtcbiAgICAgICAgdGhpcy53cml0ZURlcHRoVGV4dHVyZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1zYWFTYW1wbGVzID0gZ2wuZ2V0SW50ZXJuYWxmb3JtYXRQYXJhbWV0ZXIoZ2wuUkVOREVSQlVGRkVSLCBnbC5SR0JBOCwgZ2wuU0FNUExFUyk7XG4gICAgfVxuICB9XG4gIGJpbmQoZnJhbWVidWZmZXIsIGZyYW1lLCBtaXBMZXZlbCA9IDApIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIGlmIChmcmFtZWJ1ZmZlcikge1xuICAgICAgY29uc3QgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0RnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gZnJhbWVidWZmZXIpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gZnJhbWVidWZmZXI7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChmYm8ubWlwTGV2ZWwgIT09IG1pcExldmVsKSB7XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpcnR5SWQrKztcbiAgICAgICAgZnJhbWVidWZmZXIuZGlydHlGb3JtYXQrKztcbiAgICAgICAgZmJvLm1pcExldmVsID0gbWlwTGV2ZWw7XG4gICAgICB9XG4gICAgICBpZiAoZmJvLmRpcnR5SWQgIT09IGZyYW1lYnVmZmVyLmRpcnR5SWQpIHtcbiAgICAgICAgZmJvLmRpcnR5SWQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUlkO1xuICAgICAgICBpZiAoZmJvLmRpcnR5Rm9ybWF0ICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdCkge1xuICAgICAgICAgIGZiby5kaXJ0eUZvcm1hdCA9IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0O1xuICAgICAgICAgIGZiby5kaXJ0eVNpemUgPSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemU7XG4gICAgICAgICAgdGhpcy51cGRhdGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlciwgbWlwTGV2ZWwpO1xuICAgICAgICB9IGVsc2UgaWYgKGZiby5kaXJ0eVNpemUgIT09IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZSkge1xuICAgICAgICAgIGZiby5kaXJ0eVNpemUgPSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemU7XG4gICAgICAgICAgdGhpcy5yZXNpemVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0ZXggPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKHRleC5wYXJlbnRUZXh0dXJlQXJyYXkgfHwgdGV4KTtcbiAgICAgIH1cbiAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpO1xuICAgICAgfVxuICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgIGNvbnN0IG1pcFdpZHRoID0gZnJhbWUud2lkdGggPj4gbWlwTGV2ZWw7XG4gICAgICAgIGNvbnN0IG1pcEhlaWdodCA9IGZyYW1lLmhlaWdodCA+PiBtaXBMZXZlbDtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBtaXBXaWR0aCAvIGZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLnggKiBzY2FsZSwgZnJhbWUueSAqIHNjYWxlLCBtaXBXaWR0aCwgbWlwSGVpZ2h0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1pcFdpZHRoID0gZnJhbWVidWZmZXIud2lkdGggPj4gbWlwTGV2ZWw7XG4gICAgICAgIGNvbnN0IG1pcEhlaWdodCA9IGZyYW1lYnVmZmVyLmhlaWdodCA+PiBtaXBMZXZlbDtcbiAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCBtaXBXaWR0aCwgbWlwSGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgfVxuICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIHRoaXMucmVuZGVyZXIud2lkdGgsIHRoaXMucmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc2V0Vmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgIGNvbnN0IHYgPSB0aGlzLnZpZXdwb3J0O1xuICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuICAgIHkgPSBNYXRoLnJvdW5kKHkpO1xuICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCk7XG4gICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuICAgIGlmICh2LndpZHRoICE9PSB3aWR0aCB8fCB2LmhlaWdodCAhPT0gaGVpZ2h0IHx8IHYueCAhPT0geCB8fCB2LnkgIT09IHkpIHtcbiAgICAgIHYueCA9IHg7XG4gICAgICB2LnkgPSB5O1xuICAgICAgdi53aWR0aCA9IHdpZHRoO1xuICAgICAgdi5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmdsLnZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgfVxuICBnZXQgc2l6ZSgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5jdXJyZW50LndpZHRoLCBoZWlnaHQ6IHRoaXMuY3VycmVudC5oZWlnaHQgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMucmVuZGVyZXIud2lkdGgsIGhlaWdodDogdGhpcy5yZW5kZXJlci5oZWlnaHQgfTtcbiAgfVxuICBjbGVhcihyLCBnLCBiLCBhLCBtYXNrID0gQlVGRkVSX0JJVFMuQ09MT1IgfCBCVUZGRVJfQklUUy5ERVBUSCkge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgZ2wuY2xlYXJDb2xvcihyLCBnLCBiLCBhKTtcbiAgICBnbC5jbGVhcihtYXNrKTtcbiAgfVxuICBpbml0RnJhbWVidWZmZXIoZnJhbWVidWZmZXIpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIGNvbnN0IGZibyA9IG5ldyBHTEZyYW1lYnVmZmVyKGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCkpO1xuICAgIGZiby5tdWx0aXNhbXBsZSA9IHRoaXMuZGV0ZWN0U2FtcGxlcyhmcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSk7XG4gICAgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gPSBmYm87XG4gICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnB1c2goZnJhbWVidWZmZXIpO1xuICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgIHJldHVybiBmYm87XG4gIH1cbiAgcmVzaXplRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIGNvbnN0IGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIGlmIChmYm8uc3RlbmNpbCkge1xuICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgIGlmIChmYm8ubXNhYUJ1ZmZlcikge1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXVsdGlzYW1wbGUsIGdsLkRFUFRIMjRfU1RFTkNJTDgsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcbiAgICBsZXQgY291bnQgPSBjb2xvclRleHR1cmVzLmxlbmd0aDtcbiAgICBpZiAoIWdsLmRyYXdCdWZmZXJzKSB7XG4gICAgICBjb3VudCA9IE1hdGgubWluKGNvdW50LCAxKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCB0ZXh0dXJlID0gY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgIGNvbnN0IHBhcmVudFRleHR1cmUgPSB0ZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSB8fCB0ZXh0dXJlO1xuICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQocGFyZW50VGV4dHVyZSwgMCk7XG4gICAgICBpZiAoaSA9PT0gMCAmJiBmYm8ubXNhYUJ1ZmZlcikge1xuICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXVsdGlzYW1wbGUsIHBhcmVudFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0uaW50ZXJuYWxGb3JtYXQsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlICYmIHRoaXMud3JpdGVEZXB0aFRleHR1cmUpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSwgMCk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyLCBtaXBMZXZlbCkge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgY29uc3QgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgY29uc3QgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG4gICAgbGV0IGNvdW50ID0gY29sb3JUZXh0dXJlcy5sZW5ndGg7XG4gICAgaWYgKCFnbC5kcmF3QnVmZmVycykge1xuICAgICAgY291bnQgPSBNYXRoLm1pbihjb3VudCwgMSk7XG4gICAgfVxuICAgIGlmIChmYm8ubXVsdGlzYW1wbGUgPiAxICYmIHRoaXMuY2FuTXVsdGlzYW1wbGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcikpIHtcbiAgICAgIGZiby5tc2FhQnVmZmVyID0gZmJvLm1zYWFCdWZmZXIgfHwgZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgfSBlbHNlIGlmIChmYm8ubXNhYUJ1ZmZlcikge1xuICAgICAgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKGZiby5tc2FhQnVmZmVyKTtcbiAgICAgIGZiby5tc2FhQnVmZmVyID0gbnVsbDtcbiAgICAgIGlmIChmYm8uYmxpdEZyYW1lYnVmZmVyKSB7XG4gICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIuZGlzcG9zZSgpO1xuICAgICAgICBmYm8uYmxpdEZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWN0aXZlVGV4dHVyZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSBjb2xvclRleHR1cmVzW2ldO1xuICAgICAgY29uc3QgcGFyZW50VGV4dHVyZSA9IHRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5IHx8IHRleHR1cmU7XG4gICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChwYXJlbnRUZXh0dXJlLCAwKTtcbiAgICAgIGlmIChpID09PSAwICYmIGZiby5tc2FhQnVmZmVyKSB7XG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXNhYUJ1ZmZlcik7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsIGZiby5tdWx0aXNhbXBsZSwgcGFyZW50VGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS5pbnRlcm5hbEZvcm1hdCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXNhYUJ1ZmZlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpLCB0ZXh0dXJlLnRhcmdldCwgcGFyZW50VGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLCBtaXBMZXZlbCk7XG4gICAgICAgIGFjdGl2ZVRleHR1cmVzLnB1c2goZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFjdGl2ZVRleHR1cmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGdsLmRyYXdCdWZmZXJzKGFjdGl2ZVRleHR1cmVzKTtcbiAgICB9XG4gICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkge1xuICAgICAgY29uc3Qgd3JpdGVEZXB0aFRleHR1cmUgPSB0aGlzLndyaXRlRGVwdGhUZXh0dXJlO1xuICAgICAgaWYgKHdyaXRlRGVwdGhUZXh0dXJlKSB7XG4gICAgICAgIGNvbnN0IGRlcHRoVGV4dHVyZSA9IGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZGVwdGhUZXh0dXJlLCAwKTtcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX0FUVEFDSE1FTlQsIGdsLlRFWFRVUkVfMkQsIGRlcHRoVGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLCBtaXBMZXZlbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICgoZnJhbWVidWZmZXIuc3RlbmNpbCB8fCBmcmFtZWJ1ZmZlci5kZXB0aCkgJiYgIShmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUgJiYgdGhpcy53cml0ZURlcHRoVGV4dHVyZSkpIHtcbiAgICAgIGZiby5zdGVuY2lsID0gZmJvLnN0ZW5jaWwgfHwgZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgaWYgKGZiby5tc2FhQnVmZmVyKSB7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsIGZiby5tdWx0aXNhbXBsZSwgZ2wuREVQVEgyNF9TVEVOQ0lMOCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICB9XG4gICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICB9IGVsc2UgaWYgKGZiby5zdGVuY2lsKSB7XG4gICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLnN0ZW5jaWwpO1xuICAgICAgZmJvLnN0ZW5jaWwgPSBudWxsO1xuICAgIH1cbiAgfVxuICBjYW5NdWx0aXNhbXBsZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDEgJiYgZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcy5sZW5ndGggPD0gMSAmJiAhZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlO1xuICB9XG4gIGRldGVjdFNhbXBsZXMoc2FtcGxlcykge1xuICAgIGNvbnN0IHsgbXNhYVNhbXBsZXMgfSA9IHRoaXM7XG4gICAgbGV0IHJlcyA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgIGlmIChzYW1wbGVzIDw9IDEgfHwgbXNhYVNhbXBsZXMgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXNhYVNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChtc2FhU2FtcGxlc1tpXSA8PSBzYW1wbGVzKSB7XG4gICAgICAgIHJlcyA9IG1zYWFTYW1wbGVzW2ldO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlcyA9PT0gMSkge1xuICAgICAgcmVzID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgYmxpdChmcmFtZWJ1ZmZlciwgc291cmNlUGl4ZWxzLCBkZXN0UGl4ZWxzKSB7XG4gICAgY29uc3QgeyBjdXJyZW50LCByZW5kZXJlciwgZ2wsIENPTlRFWFRfVUlEIH0gPSB0aGlzO1xuICAgIGlmIChyZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiAhPT0gMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmJvID0gY3VycmVudC5nbEZyYW1lYnVmZmVyc1tDT05URVhUX1VJRF07XG4gICAgaWYgKCFmYm8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgaWYgKCFmYm8ubXNhYUJ1ZmZlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb2xvclRleHR1cmUgPSBjdXJyZW50LmNvbG9yVGV4dHVyZXNbMF07XG4gICAgICBpZiAoIWNvbG9yVGV4dHVyZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZiby5ibGl0RnJhbWVidWZmZXIpIHtcbiAgICAgICAgZmJvLmJsaXRGcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcihjdXJyZW50LndpZHRoLCBjdXJyZW50LmhlaWdodCk7XG4gICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIuYWRkQ29sb3JUZXh0dXJlKDAsIGNvbG9yVGV4dHVyZSk7XG4gICAgICB9XG4gICAgICBmcmFtZWJ1ZmZlciA9IGZiby5ibGl0RnJhbWVidWZmZXI7XG4gICAgICBpZiAoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1swXSAhPT0gY29sb3JUZXh0dXJlKSB7XG4gICAgICAgIGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbMF0gPSBjb2xvclRleHR1cmU7XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpcnR5SWQrKztcbiAgICAgICAgZnJhbWVidWZmZXIuZGlydHlGb3JtYXQrKztcbiAgICAgIH1cbiAgICAgIGlmIChmcmFtZWJ1ZmZlci53aWR0aCAhPT0gY3VycmVudC53aWR0aCB8fCBmcmFtZWJ1ZmZlci5oZWlnaHQgIT09IGN1cnJlbnQuaGVpZ2h0KSB7XG4gICAgICAgIGZyYW1lYnVmZmVyLndpZHRoID0gY3VycmVudC53aWR0aDtcbiAgICAgICAgZnJhbWVidWZmZXIuaGVpZ2h0ID0gY3VycmVudC5oZWlnaHQ7XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpcnR5SWQrKztcbiAgICAgICAgZnJhbWVidWZmZXIuZGlydHlTaXplKys7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghc291cmNlUGl4ZWxzKSB7XG4gICAgICBzb3VyY2VQaXhlbHMgPSB0ZW1wUmVjdGFuZ2xlO1xuICAgICAgc291cmNlUGl4ZWxzLndpZHRoID0gY3VycmVudC53aWR0aDtcbiAgICAgIHNvdXJjZVBpeGVscy5oZWlnaHQgPSBjdXJyZW50LmhlaWdodDtcbiAgICB9XG4gICAgaWYgKCFkZXN0UGl4ZWxzKSB7XG4gICAgICBkZXN0UGl4ZWxzID0gc291cmNlUGl4ZWxzO1xuICAgIH1cbiAgICBjb25zdCBzYW1lU2l6ZSA9IHNvdXJjZVBpeGVscy53aWR0aCA9PT0gZGVzdFBpeGVscy53aWR0aCAmJiBzb3VyY2VQaXhlbHMuaGVpZ2h0ID09PSBkZXN0UGl4ZWxzLmhlaWdodDtcbiAgICB0aGlzLmJpbmQoZnJhbWVidWZmZXIpO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5SRUFEX0ZSQU1FQlVGRkVSLCBmYm8uZnJhbWVidWZmZXIpO1xuICAgIGdsLmJsaXRGcmFtZWJ1ZmZlcihzb3VyY2VQaXhlbHMubGVmdCwgc291cmNlUGl4ZWxzLnRvcCwgc291cmNlUGl4ZWxzLnJpZ2h0LCBzb3VyY2VQaXhlbHMuYm90dG9tLCBkZXN0UGl4ZWxzLmxlZnQsIGRlc3RQaXhlbHMudG9wLCBkZXN0UGl4ZWxzLnJpZ2h0LCBkZXN0UGl4ZWxzLmJvdHRvbSwgZ2wuQ09MT1JfQlVGRkVSX0JJVCwgc2FtZVNpemUgPyBnbC5ORUFSRVNUIDogZ2wuTElORUFSKTtcbiAgfVxuICBkaXNwb3NlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIsIGNvbnRleHRMb3N0KSB7XG4gICAgY29uc3QgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgIGlmICghZmJvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRlbGV0ZSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5pbmRleE9mKGZyYW1lYnVmZmVyKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICBpZiAoZmJvLm1zYWFCdWZmZXIpIHtcbiAgICAgICAgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKGZiby5tc2FhQnVmZmVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChmYm8uc3RlbmNpbCkge1xuICAgICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLnN0ZW5jaWwpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmJvLmJsaXRGcmFtZWJ1ZmZlcikge1xuICAgICAgZmJvLmJsaXRGcmFtZWJ1ZmZlci5kaXNwb3NlKCk7XG4gICAgfVxuICB9XG4gIGRpc3Bvc2VBbGwoY29udGV4dExvc3QpIHtcbiAgICBjb25zdCBsaXN0ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzO1xuICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5kaXNwb3NlRnJhbWVidWZmZXIobGlzdFtpXSwgY29udGV4dExvc3QpO1xuICAgIH1cbiAgfVxuICBmb3JjZVN0ZW5jaWwoKSB7XG4gICAgY29uc3QgZnJhbWVidWZmZXIgPSB0aGlzLmN1cnJlbnQ7XG4gICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICBpZiAoIWZibyB8fCBmYm8uc3RlbmNpbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmcmFtZWJ1ZmZlci5zdGVuY2lsID0gdHJ1ZTtcbiAgICBjb25zdCB3ID0gZnJhbWVidWZmZXIud2lkdGg7XG4gICAgY29uc3QgaCA9IGZyYW1lYnVmZmVyLmhlaWdodDtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgY29uc3Qgc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBzdGVuY2lsKTtcbiAgICBpZiAoZmJvLm1zYWFCdWZmZXIpIHtcbiAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsIGZiby5tdWx0aXNhbXBsZSwgZ2wuREVQVEgyNF9TVEVOQ0lMOCwgdywgaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCB3LCBoKTtcbiAgICB9XG4gICAgZmJvLnN0ZW5jaWwgPSBzdGVuY2lsO1xuICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgc3RlbmNpbCk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy51bmtub3duRnJhbWVidWZmZXI7XG4gICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5GcmFtZWJ1ZmZlclN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwiZnJhbWVidWZmZXJcIlxufTtcbmV4dGVuc2lvbnMuYWRkKEZyYW1lYnVmZmVyU3lzdGVtKTtcblxuZXhwb3J0IHsgRnJhbWVidWZmZXJTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZyYW1lYnVmZmVyU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IE1TQUFfUVVBTElUWSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmNsYXNzIEdMRnJhbWVidWZmZXIge1xuICBjb25zdHJ1Y3RvcihmcmFtZWJ1ZmZlcikge1xuICAgIHRoaXMuZnJhbWVidWZmZXIgPSBmcmFtZWJ1ZmZlcjtcbiAgICB0aGlzLnN0ZW5jaWwgPSBudWxsO1xuICAgIHRoaXMuZGlydHlJZCA9IC0xO1xuICAgIHRoaXMuZGlydHlGb3JtYXQgPSAtMTtcbiAgICB0aGlzLmRpcnR5U2l6ZSA9IC0xO1xuICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICB0aGlzLm1zYWFCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuYmxpdEZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLm1pcExldmVsID0gMDtcbiAgfVxufVxuXG5leHBvcnQgeyBHTEZyYW1lYnVmZmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HTEZyYW1lYnVmZmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IE1TQUFfUVVBTElUWSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5cbmNsYXNzIE11bHRpc2FtcGxlU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgY29udGV4dENoYW5nZShnbCkge1xuICAgIGxldCBzYW1wbGVzO1xuICAgIGlmICh0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAxKSB7XG4gICAgICBjb25zdCBmcmFtZWJ1ZmZlciA9IGdsLmdldFBhcmFtZXRlcihnbC5GUkFNRUJVRkZFUl9CSU5ESU5HKTtcbiAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICBzYW1wbGVzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLlNBTVBMRVMpO1xuICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZyYW1lYnVmZmVyID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLkRSQVdfRlJBTUVCVUZGRVJfQklORElORyk7XG4gICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRFJBV19GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICBzYW1wbGVzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLlNBTVBMRVMpO1xuICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkRSQVdfRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcbiAgICB9XG4gICAgaWYgKHNhbXBsZXMgPj0gTVNBQV9RVUFMSVRZLkhJR0gpIHtcbiAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuSElHSDtcbiAgICB9IGVsc2UgaWYgKHNhbXBsZXMgPj0gTVNBQV9RVUFMSVRZLk1FRElVTSkge1xuICAgICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5NRURJVU07XG4gICAgfSBlbHNlIGlmIChzYW1wbGVzID49IE1TQUFfUVVBTElUWS5MT1cpIHtcbiAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTE9XO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm11bHRpc2FtcGxlID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gIH1cbn1cbk11bHRpc2FtcGxlU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJfbXVsdGlzYW1wbGVcIlxufTtcbmV4dGVuc2lvbnMuYWRkKE11bHRpc2FtcGxlU3lzdGVtKTtcblxuZXhwb3J0IHsgTXVsdGlzYW1wbGVTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU11bHRpc2FtcGxlU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuY2xhc3MgQXR0cmlidXRlIHtcbiAgY29uc3RydWN0b3IoYnVmZmVyLCBzaXplID0gMCwgbm9ybWFsaXplZCA9IGZhbHNlLCB0eXBlID0gVFlQRVMuRkxPQVQsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKSB7XG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLm5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgfVxuICBzdGF0aWMgZnJvbShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSkge1xuICAgIHJldHVybiBuZXcgQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBBdHRyaWJ1dGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF0dHJpYnV0ZS5tanMubWFwXG4iLCJpbXBvcnQgeyBCVUZGRVJfVFlQRSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuXG5sZXQgVUlEID0gMDtcbmNsYXNzIEJ1ZmZlciB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIF9zdGF0aWMgPSB0cnVlLCBpbmRleCA9IGZhbHNlKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YSB8fCBuZXcgRmxvYXQzMkFycmF5KDEpO1xuICAgIHRoaXMuX2dsQnVmZmVycyA9IHt9O1xuICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgdGhpcy5zdGF0aWMgPSBfc3RhdGljO1xuICAgIHRoaXMuaWQgPSBVSUQrKztcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKFwiZGlzcG9zZUJ1ZmZlclwiKTtcbiAgfVxuICB1cGRhdGUoZGF0YSkge1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEpO1xuICAgIH1cbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHRoaXMuZGF0YTtcbiAgICB0aGlzLl91cGRhdGVJRCsrO1xuICB9XG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgfVxuICBzZXQgaW5kZXgodmFsdWUpIHtcbiAgICB0aGlzLnR5cGUgPSB2YWx1ZSA/IEJVRkZFUl9UWVBFLkVMRU1FTlRfQVJSQVlfQlVGRkVSIDogQlVGRkVSX1RZUEUuQVJSQVlfQlVGRkVSO1xuICB9XG4gIGdldCBpbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSBCVUZGRVJfVFlQRS5FTEVNRU5UX0FSUkFZX0JVRkZFUjtcbiAgfVxuICBzdGF0aWMgZnJvbShkYXRhKSB7XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQnVmZmVyKGRhdGEpO1xuICB9XG59XG5cbmV4cG9ydCB7IEJ1ZmZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnVmZmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IEdMQnVmZmVyIH0gZnJvbSAnLi9HTEJ1ZmZlci5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuXG5jbGFzcyBCdWZmZXJTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLm1hbmFnZWRCdWZmZXJzID0ge307XG4gICAgdGhpcy5ib3VuZEJ1ZmZlckJhc2VzID0ge307XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfVxuICBjb250ZXh0Q2hhbmdlKCkge1xuICAgIHRoaXMuZGlzcG9zZUFsbCh0cnVlKTtcbiAgICB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgfVxuICBiaW5kKGJ1ZmZlcikge1xuICAgIGNvbnN0IHsgZ2wsIENPTlRFWFRfVUlEIH0gPSB0aGlzO1xuICAgIGNvbnN0IGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdIHx8IHRoaXMuY3JlYXRlR0xCdWZmZXIoYnVmZmVyKTtcbiAgICBnbC5iaW5kQnVmZmVyKGJ1ZmZlci50eXBlLCBnbEJ1ZmZlci5idWZmZXIpO1xuICB9XG4gIHVuYmluZCh0eXBlKSB7XG4gICAgY29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICBnbC5iaW5kQnVmZmVyKHR5cGUsIG51bGwpO1xuICB9XG4gIGJpbmRCdWZmZXJCYXNlKGJ1ZmZlciwgaW5kZXgpIHtcbiAgICBjb25zdCB7IGdsLCBDT05URVhUX1VJRCB9ID0gdGhpcztcbiAgICBpZiAodGhpcy5ib3VuZEJ1ZmZlckJhc2VzW2luZGV4XSAhPT0gYnVmZmVyKSB7XG4gICAgICBjb25zdCBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSB8fCB0aGlzLmNyZWF0ZUdMQnVmZmVyKGJ1ZmZlcik7XG4gICAgICB0aGlzLmJvdW5kQnVmZmVyQmFzZXNbaW5kZXhdID0gYnVmZmVyO1xuICAgICAgZ2wuYmluZEJ1ZmZlckJhc2UoZ2wuVU5JRk9STV9CVUZGRVIsIGluZGV4LCBnbEJ1ZmZlci5idWZmZXIpO1xuICAgIH1cbiAgfVxuICBiaW5kQnVmZmVyUmFuZ2UoYnVmZmVyLCBpbmRleCwgb2Zmc2V0KSB7XG4gICAgY29uc3QgeyBnbCwgQ09OVEVYVF9VSUQgfSA9IHRoaXM7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgY29uc3QgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0gfHwgdGhpcy5jcmVhdGVHTEJ1ZmZlcihidWZmZXIpO1xuICAgIGdsLmJpbmRCdWZmZXJSYW5nZShnbC5VTklGT1JNX0JVRkZFUiwgaW5kZXggfHwgMCwgZ2xCdWZmZXIuYnVmZmVyLCBvZmZzZXQgKiAyNTYsIDI1Nik7XG4gIH1cbiAgdXBkYXRlKGJ1ZmZlcikge1xuICAgIGNvbnN0IHsgZ2wsIENPTlRFWFRfVUlEIH0gPSB0aGlzO1xuICAgIGNvbnN0IGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdIHx8IHRoaXMuY3JlYXRlR0xCdWZmZXIoYnVmZmVyKTtcbiAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCA9PT0gZ2xCdWZmZXIudXBkYXRlSUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZ2xCdWZmZXIudXBkYXRlSUQgPSBidWZmZXIuX3VwZGF0ZUlEO1xuICAgIGdsLmJpbmRCdWZmZXIoYnVmZmVyLnR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgaWYgKGdsQnVmZmVyLmJ5dGVMZW5ndGggPj0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aCkge1xuICAgICAgZ2wuYnVmZmVyU3ViRGF0YShidWZmZXIudHlwZSwgMCwgYnVmZmVyLmRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkcmF3VHlwZSA9IGJ1ZmZlci5zdGF0aWMgPyBnbC5TVEFUSUNfRFJBVyA6IGdsLkRZTkFNSUNfRFJBVztcbiAgICAgIGdsQnVmZmVyLmJ5dGVMZW5ndGggPSBidWZmZXIuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgZ2wuYnVmZmVyRGF0YShidWZmZXIudHlwZSwgYnVmZmVyLmRhdGEsIGRyYXdUeXBlKTtcbiAgICB9XG4gIH1cbiAgZGlzcG9zZShidWZmZXIsIGNvbnRleHRMb3N0KSB7XG4gICAgaWYgKCF0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXTtcbiAgICBjb25zdCBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG4gICAgaWYgKCFnbEJ1ZmZlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICBnbC5kZWxldGVCdWZmZXIoZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICB9XG4gICAgZGVsZXRlIGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICB9XG4gIGRpc3Bvc2VBbGwoY29udGV4dExvc3QpIHtcbiAgICBjb25zdCBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRCdWZmZXJzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5kaXNwb3NlKHRoaXMubWFuYWdlZEJ1ZmZlcnNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgIH1cbiAgfVxuICBjcmVhdGVHTEJ1ZmZlcihidWZmZXIpIHtcbiAgICBjb25zdCB7IENPTlRFWFRfVUlELCBnbCB9ID0gdGhpcztcbiAgICBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0gPSBuZXcgR0xCdWZmZXIoZ2wuY3JlYXRlQnVmZmVyKCkpO1xuICAgIHRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXSA9IGJ1ZmZlcjtcbiAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgcmV0dXJuIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXTtcbiAgfVxufVxuQnVmZmVyU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJidWZmZXJcIlxufTtcbmV4dGVuc2lvbnMuYWRkKEJ1ZmZlclN5c3RlbSk7XG5cbmV4cG9ydCB7IEJ1ZmZlclN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnVmZmVyU3lzdGVtLm1qcy5tYXBcbiIsImNsYXNzIEdMQnVmZmVyIHtcbiAgY29uc3RydWN0b3IoYnVmZmVyKSB7XG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXIgfHwgbnVsbDtcbiAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgdGhpcy5ieXRlTGVuZ3RoID0gLTE7XG4gICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gIH1cbn1cblxuZXhwb3J0IHsgR0xCdWZmZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdMQnVmZmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IEF0dHJpYnV0ZSB9IGZyb20gJy4vQXR0cmlidXRlLm1qcyc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICcuL0J1ZmZlci5tanMnO1xuaW1wb3J0IHsgaW50ZXJsZWF2ZVR5cGVkQXJyYXlzIH0gZnJvbSAnLi91dGlscy9pbnRlcmxlYXZlVHlwZWRBcnJheXMubWpzJztcbmltcG9ydCB7IGdldEJ1ZmZlclR5cGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IHsgQlVGRkVSX1RZUEUgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5jb25zdCBieXRlU2l6ZU1hcCA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xubGV0IFVJRCA9IDA7XG5jb25zdCBtYXAgPSB7XG4gIEZsb2F0MzJBcnJheSxcbiAgVWludDMyQXJyYXksXG4gIEludDMyQXJyYXksXG4gIFVpbnQ4QXJyYXksXG4gIFVpbnQxNkFycmF5XG59O1xuY2xhc3MgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcihidWZmZXJzID0gW10sIGF0dHJpYnV0ZXMgPSB7fSkge1xuICAgIHRoaXMuYnVmZmVycyA9IGJ1ZmZlcnM7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICB0aGlzLmdsVmVydGV4QXJyYXlPYmplY3RzID0ge307XG4gICAgdGhpcy5pZCA9IFVJRCsrO1xuICAgIHRoaXMuaW5zdGFuY2VkID0gZmFsc2U7XG4gICAgdGhpcy5pbnN0YW5jZUNvdW50ID0gMTtcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKFwiZGlzcG9zZUdlb21ldHJ5XCIpO1xuICAgIHRoaXMucmVmQ291bnQgPSAwO1xuICB9XG4gIGFkZEF0dHJpYnV0ZShpZCwgYnVmZmVyLCBzaXplID0gMCwgbm9ybWFsaXplZCA9IGZhbHNlLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSA9IGZhbHNlKSB7XG4gICAgaWYgKCFidWZmZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHBhc3MgYSBidWZmZXIgd2hlbiBjcmVhdGluZyBhbiBhdHRyaWJ1dGVcIik7XG4gICAgfVxuICAgIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBidWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG4gICAgICB9XG4gICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgfVxuICAgIGNvbnN0IGlkcyA9IGlkLnNwbGl0KFwifFwiKTtcbiAgICBpZiAoaWRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKGlkc1tpXSwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBsZXQgYnVmZmVySW5kZXggPSB0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpO1xuICAgIGlmIChidWZmZXJJbmRleCA9PT0gLTEpIHtcbiAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5sZW5ndGggLSAxO1xuICAgIH1cbiAgICB0aGlzLmF0dHJpYnV0ZXNbaWRdID0gbmV3IEF0dHJpYnV0ZShidWZmZXJJbmRleCwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpO1xuICAgIHRoaXMuaW5zdGFuY2VkID0gdGhpcy5pbnN0YW5jZWQgfHwgaW5zdGFuY2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZ2V0QXR0cmlidXRlKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1tpZF07XG4gIH1cbiAgZ2V0QnVmZmVyKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmdldEF0dHJpYnV0ZShpZCkuYnVmZmVyXTtcbiAgfVxuICBhZGRJbmRleChidWZmZXIpIHtcbiAgICBpZiAoIShidWZmZXIgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG4gICAgICB9XG4gICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgfVxuICAgIGJ1ZmZlci50eXBlID0gQlVGRkVSX1RZUEUuRUxFTUVOVF9BUlJBWV9CVUZGRVI7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICBpZiAoIXRoaXMuYnVmZmVycy5pbmNsdWRlcyhidWZmZXIpKSB7XG4gICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBnZXRJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcjtcbiAgfVxuICBpbnRlcmxlYXZlKCkge1xuICAgIGlmICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAxIHx8IHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDIgJiYgdGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIGNvbnN0IGFycmF5cyA9IFtdO1xuICAgIGNvbnN0IHNpemVzID0gW107XG4gICAgY29uc3QgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgQnVmZmVyKCk7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpIGluIHRoaXMuYXR0cmlidXRlcykge1xuICAgICAgY29uc3QgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgYXJyYXlzLnB1c2goYnVmZmVyLmRhdGEpO1xuICAgICAgc2l6ZXMucHVzaChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSAvIDQpO1xuICAgICAgYXR0cmlidXRlLmJ1ZmZlciA9IDA7XG4gICAgfVxuICAgIGludGVybGVhdmVkQnVmZmVyLmRhdGEgPSBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcyk7XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuYnVmZmVyc1tpXSAhPT0gdGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmJ1ZmZlcnMgPSBbaW50ZXJsZWF2ZWRCdWZmZXJdO1xuICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICB0aGlzLmJ1ZmZlcnMucHVzaCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZ2V0U2l6ZSgpIHtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICByZXR1cm4gYnVmZmVyLmRhdGEubGVuZ3RoIC8gKGF0dHJpYnV0ZS5zdHJpZGUgLyA0IHx8IGF0dHJpYnV0ZS5zaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICB0aGlzLmJ1ZmZlcnMgPSBudWxsO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgZ2VvbWV0cnkuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIodGhpcy5idWZmZXJzW2ldLmRhdGEuc2xpY2UoMCkpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICBjb25zdCBhdHRyaWIgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldID0gbmV3IEF0dHJpYnV0ZShhdHRyaWIuYnVmZmVyLCBhdHRyaWIuc2l6ZSwgYXR0cmliLm5vcm1hbGl6ZWQsIGF0dHJpYi50eXBlLCBhdHRyaWIuc3RyaWRlLCBhdHRyaWIuc3RhcnQsIGF0dHJpYi5pbnN0YW5jZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbdGhpcy5idWZmZXJzLmluZGV4T2YodGhpcy5pbmRleEJ1ZmZlcildO1xuICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIudHlwZSA9IEJVRkZFUl9UWVBFLkVMRU1FTlRfQVJSQVlfQlVGRkVSO1xuICAgIH1cbiAgICByZXR1cm4gZ2VvbWV0cnk7XG4gIH1cbiAgc3RhdGljIG1lcmdlKGdlb21ldHJpZXMpIHtcbiAgICBjb25zdCBnZW9tZXRyeU91dCA9IG5ldyBHZW9tZXRyeSgpO1xuICAgIGNvbnN0IGFycmF5cyA9IFtdO1xuICAgIGNvbnN0IHNpemVzID0gW107XG4gICAgY29uc3Qgb2Zmc2V0cyA9IFtdO1xuICAgIGxldCBnZW9tZXRyeTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGorKykge1xuICAgICAgICBzaXplc1tqXSA9IHNpemVzW2pdIHx8IDA7XG4gICAgICAgIHNpemVzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgIG9mZnNldHNbal0gPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFycmF5c1tpXSA9IG5ldyBtYXBbZ2V0QnVmZmVyVHlwZShnZW9tZXRyeS5idWZmZXJzW2ldLmRhdGEpXShzaXplc1tpXSk7XG4gICAgICBnZW9tZXRyeU91dC5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcihhcnJheXNbaV0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGorKykge1xuICAgICAgICBhcnJheXNbal0uc2V0KGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YSwgb2Zmc2V0c1tqXSk7XG4gICAgICAgIG9mZnNldHNbal0gKz0gZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VvbWV0cnlPdXQuYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5T3V0LmJ1ZmZlcnNbZ2VvbWV0cnkuYnVmZmVycy5pbmRleE9mKGdlb21ldHJ5LmluZGV4QnVmZmVyKV07XG4gICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci50eXBlID0gQlVGRkVSX1RZUEUuRUxFTUVOVF9BUlJBWV9CVUZGRVI7XG4gICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgIGxldCBzdHJpZGUgPSAwO1xuICAgICAgbGV0IG9mZnNldDIgPSAwO1xuICAgICAgbGV0IGJ1ZmZlckluZGV4VG9Db3VudCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGdlb21ldHJ5LmJ1ZmZlcnNbaV0gIT09IGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgYnVmZmVySW5kZXhUb0NvdW50ID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBpIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgaWYgKChhdHRyaWJ1dGUuYnVmZmVyIHwgMCkgPT09IGJ1ZmZlckluZGV4VG9Db3VudCkge1xuICAgICAgICAgIHN0cmlkZSArPSBhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSAvIDQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpbmRleEJ1ZmZlckRhdGEgPSBnZW9tZXRyaWVzW2ldLmluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5kZXhCdWZmZXJEYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuZGF0YVtqICsgb2Zmc2V0Ml0gKz0gb2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCArPSBnZW9tZXRyaWVzW2ldLmJ1ZmZlcnNbYnVmZmVySW5kZXhUb0NvdW50XS5kYXRhLmxlbmd0aCAvIHN0cmlkZTtcbiAgICAgICAgb2Zmc2V0MiArPSBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ2VvbWV0cnlPdXQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdlb21ldHJ5Lm1qcy5tYXBcbiIsImltcG9ydCB7IEVOViwgQlVGRkVSX1RZUEUgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0ICcuLi9zZXR0aW5ncy5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNvbnN0IGJ5dGVTaXplTWFwID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG5jbGFzcyBHZW9tZXRyeVN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgIHRoaXMuaGFzVmFvID0gdHJ1ZTtcbiAgICB0aGlzLmhhc0luc3RhbmNlID0gdHJ1ZTtcbiAgICB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCA9IGZhbHNlO1xuICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXMgPSB7fTtcbiAgfVxuICBjb250ZXh0Q2hhbmdlKCkge1xuICAgIHRoaXMuZGlzcG9zZUFsbCh0cnVlKTtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgaWYgKGNvbnRleHQud2ViR0xWZXJzaW9uICE9PSAyKSB7XG4gICAgICBsZXQgbmF0aXZlVmFvRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMudmVydGV4QXJyYXlPYmplY3Q7XG4gICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICBuYXRpdmVWYW9FeHRlbnNpb24gPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKG5hdGl2ZVZhb0V4dGVuc2lvbikge1xuICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9ICgpID0+IG5hdGl2ZVZhb0V4dGVuc2lvbi5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkgPSAodmFvKSA9PiBuYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKHZhbyk7XG4gICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gKHZhbykgPT4gbmF0aXZlVmFvRXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHZhbyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhhc1ZhbyA9IGZhbHNlO1xuICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9ICgpID0+IG51bGw7XG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9ICgpID0+IG51bGw7XG4gICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gKCkgPT4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbnRleHQud2ViR0xWZXJzaW9uICE9PSAyKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZUV4dCA9IGdsLmdldEV4dGVuc2lvbihcIkFOR0xFX2luc3RhbmNlZF9hcnJheXNcIik7XG4gICAgICBpZiAoaW5zdGFuY2VFeHQpIHtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvciA9IChhLCBiKSA9PiBpbnN0YW5jZUV4dC52ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUoYSwgYik7XG4gICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCA9IChhLCBiLCBjLCBkLCBlKSA9PiBpbnN0YW5jZUV4dC5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkLCBlKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCA9IChhLCBiLCBjLCBkKSA9PiBpbnN0YW5jZUV4dC5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhhc0luc3RhbmNlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDIgfHwgISFjb250ZXh0LmV4dGVuc2lvbnMudWludDMyRWxlbWVudEluZGV4O1xuICB9XG4gIGJpbmQoZ2VvbWV0cnksIHNoYWRlcikge1xuICAgIHNoYWRlciA9IHNoYWRlciB8fCB0aGlzLnJlbmRlcmVyLnNoYWRlci5zaGFkZXI7XG4gICAgY29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICBsZXQgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIGxldCBpbmNSZWZDb3VudCA9IGZhbHNlO1xuICAgIGlmICghdmFvcykge1xuICAgICAgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF0gPSBnZW9tZXRyeTtcbiAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF0gPSB2YW9zID0ge307XG4gICAgICBpbmNSZWZDb3VudCA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHZhbyA9IHZhb3Nbc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBzaGFkZXIsIGluY1JlZkNvdW50KTtcbiAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgIGlmICh0aGlzLl9hY3RpdmVWYW8gIT09IHZhbykge1xuICAgICAgdGhpcy5fYWN0aXZlVmFvID0gdmFvO1xuICAgICAgaWYgKHRoaXMuaGFzVmFvKSB7XG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnVuYmluZCgpO1xuICB9XG4gIHVwZGF0ZUJ1ZmZlcnMoKSB7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLl9hY3RpdmVHZW9tZXRyeTtcbiAgICBjb25zdCBidWZmZXJTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLmJ1ZmZlcjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbaV07XG4gICAgICBidWZmZXJTeXN0ZW0udXBkYXRlKGJ1ZmZlcik7XG4gICAgfVxuICB9XG4gIGNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgIGNvbnN0IGdlb21ldHJ5QXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgY29uc3Qgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcbiAgICBmb3IgKGNvbnN0IGogaW4gc2hhZGVyQXR0cmlidXRlcykge1xuICAgICAgaWYgKCFnZW9tZXRyeUF0dHJpYnV0ZXNbal0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzaGFkZXIgYW5kIGdlb21ldHJ5IGluY29tcGF0aWJsZSwgZ2VvbWV0cnkgbWlzc2luZyB0aGUgXCIke2p9XCIgYXR0cmlidXRlYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldFNpZ25hdHVyZShnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgIGNvbnN0IGF0dHJpYnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgIGNvbnN0IHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgY29uc3Qgc3RyaW5ncyA9IFtcImdcIiwgZ2VvbWV0cnkuaWRdO1xuICAgIGZvciAoY29uc3QgaSBpbiBhdHRyaWJzKSB7XG4gICAgICBpZiAoc2hhZGVyQXR0cmlidXRlc1tpXSkge1xuICAgICAgICBzdHJpbmdzLnB1c2goaSwgc2hhZGVyQXR0cmlidXRlc1tpXS5sb2NhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmdzLmpvaW4oXCItXCIpO1xuICB9XG4gIGluaXRHZW9tZXRyeVZhbyhnZW9tZXRyeSwgc2hhZGVyLCBpbmNSZWZDb3VudCA9IHRydWUpIHtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgY29uc3QgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgIGNvbnN0IGJ1ZmZlclN5c3RlbSA9IHRoaXMucmVuZGVyZXIuYnVmZmVyO1xuICAgIGNvbnN0IHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICBpZiAoIXByb2dyYW0uZ2xQcm9ncmFtc1tDT05URVhUX1VJRF0pIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmdlbmVyYXRlUHJvZ3JhbShzaGFkZXIpO1xuICAgIH1cbiAgICB0aGlzLmNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gdGhpcy5nZXRTaWduYXR1cmUoZ2VvbWV0cnksIHByb2dyYW0pO1xuICAgIGNvbnN0IHZhb09iamVjdEhhc2ggPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICBsZXQgdmFvID0gdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdO1xuICAgIGlmICh2YW8pIHtcbiAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG4gICAgICByZXR1cm4gdmFvO1xuICAgIH1cbiAgICBjb25zdCBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICBjb25zdCB0ZW1wU3RyaWRlID0ge307XG4gICAgY29uc3QgdGVtcFN0YXJ0ID0ge307XG4gICAgZm9yIChjb25zdCBqIGluIGJ1ZmZlcnMpIHtcbiAgICAgIHRlbXBTdHJpZGVbal0gPSAwO1xuICAgICAgdGVtcFN0YXJ0W2pdID0gMDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgIGlmICghYXR0cmlidXRlc1tqXS5zaXplICYmIHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSkge1xuICAgICAgICBhdHRyaWJ1dGVzW2pdLnNpemUgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0uc2l6ZTtcbiAgICAgIH0gZWxzZSBpZiAoIWF0dHJpYnV0ZXNbal0uc2l6ZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFBJWEkgR2VvbWV0cnkgYXR0cmlidXRlICcke2p9JyBzaXplIGNhbm5vdCBiZSBkZXRlcm1pbmVkIChsaWtlbHkgdGhlIGJvdW5kIHNoYWRlciBkb2VzIG5vdCBoYXZlIHRoZSBhdHRyaWJ1dGUpYCk7XG4gICAgICB9XG4gICAgICB0ZW1wU3RyaWRlW2F0dHJpYnV0ZXNbal0uYnVmZmVyXSArPSBhdHRyaWJ1dGVzW2pdLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGVzW2pdLnR5cGVdO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcykge1xuICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgIGNvbnN0IGF0dHJpYlNpemUgPSBhdHRyaWJ1dGUuc2l6ZTtcbiAgICAgIGlmIChhdHRyaWJ1dGUuc3RyaWRlID09PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl0gPT09IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV0pIHtcbiAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGF0dHJpYnV0ZS5zdGFydCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGF0dHJpYnV0ZS5zdGFydCA9IHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgdGVtcFN0YXJ0W2F0dHJpYnV0ZS5idWZmZXJdICs9IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV07XG4gICAgICB9XG4gICAgfVxuICAgIHZhbyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG4gICAgZ2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBidWZmZXIgPSBidWZmZXJzW2ldO1xuICAgICAgYnVmZmVyU3lzdGVtLmJpbmQoYnVmZmVyKTtcbiAgICAgIGlmIChpbmNSZWZDb3VudCkge1xuICAgICAgICBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0ucmVmQ291bnQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hY3RpdmF0ZVZhbyhnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV0gPSB2YW87XG4gICAgZ2wuYmluZFZlcnRleEFycmF5KG51bGwpO1xuICAgIGJ1ZmZlclN5c3RlbS51bmJpbmQoQlVGRkVSX1RZUEUuQVJSQVlfQlVGRkVSKTtcbiAgICByZXR1cm4gdmFvO1xuICB9XG4gIGRpc3Bvc2VHZW9tZXRyeShnZW9tZXRyeSwgY29udGV4dExvc3QpIHtcbiAgICBpZiAoIXRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRlbGV0ZSB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXTtcbiAgICBjb25zdCB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgIGNvbnN0IGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgIGNvbnN0IGJ1ZmZlclN5c3RlbSA9IHRoaXMucmVuZGVyZXI/LmJ1ZmZlcjtcbiAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICBpZiAoIXZhb3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGJ1ZmZlclN5c3RlbSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IGJ1ZmZlcnNbaV0uX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKGJ1Zikge1xuICAgICAgICAgIGJ1Zi5yZWZDb3VudC0tO1xuICAgICAgICAgIGlmIChidWYucmVmQ291bnQgPT09IDAgJiYgIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICBidWZmZXJTeXN0ZW0uZGlzcG9zZShidWZmZXJzW2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgIGZvciAoY29uc3QgdmFvSWQgaW4gdmFvcykge1xuICAgICAgICBpZiAodmFvSWRbMF0gPT09IFwiZ1wiKSB7XG4gICAgICAgICAgY29uc3QgdmFvID0gdmFvc1t2YW9JZF07XG4gICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKSB7XG4gICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGRlbGV0ZSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgfVxuICBkaXNwb3NlQWxsKGNvbnRleHRMb3N0KSB7XG4gICAgY29uc3QgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkR2VvbWV0cmllcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZGlzcG9zZUdlb21ldHJ5KHRoaXMubWFuYWdlZEdlb21ldHJpZXNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgIH1cbiAgfVxuICBhY3RpdmF0ZVZhbyhnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICBjb25zdCBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG4gICAgY29uc3QgYnVmZmVyU3lzdGVtID0gdGhpcy5yZW5kZXJlci5idWZmZXI7XG4gICAgY29uc3QgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICBidWZmZXJTeXN0ZW0uYmluZChnZW9tZXRyeS5pbmRleEJ1ZmZlcik7XG4gICAgfVxuICAgIGxldCBsYXN0QnVmZmVyID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcykge1xuICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICBjb25zdCBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXTtcbiAgICAgIGlmIChwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0pIHtcbiAgICAgICAgaWYgKGxhc3RCdWZmZXIgIT09IGdsQnVmZmVyKSB7XG4gICAgICAgICAgYnVmZmVyU3lzdGVtLmJpbmQoYnVmZmVyKTtcbiAgICAgICAgICBsYXN0QnVmZmVyID0gZ2xCdWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0ubG9jYXRpb247XG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbiwgYXR0cmlidXRlLnNpemUsIGF0dHJpYnV0ZS50eXBlIHx8IGdsLkZMT0FULCBhdHRyaWJ1dGUubm9ybWFsaXplZCwgYXR0cmlidXRlLnN0cmlkZSwgYXR0cmlidXRlLnN0YXJ0KTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZS5pbnN0YW5jZSkge1xuICAgICAgICAgIGlmICh0aGlzLmhhc0luc3RhbmNlKSB7XG4gICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGxvY2F0aW9uLCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvbWV0cnkgZXJyb3IsIEdQVSBJbnN0YW5jaW5nIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2VcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRyYXcodHlwZSwgc2l6ZSwgc3RhcnQsIGluc3RhbmNlQ291bnQpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG4gICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICBjb25zdCBieXRlU2l6ZSA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICBjb25zdCBnbFR5cGUgPSBieXRlU2l6ZSA9PT0gMiA/IGdsLlVOU0lHTkVEX1NIT1JUIDogZ2wuVU5TSUdORURfSU5UO1xuICAgICAgaWYgKGJ5dGVTaXplID09PSAyIHx8IGJ5dGVTaXplID09PSA0ICYmIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4KSB7XG4gICAgICAgIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpIHtcbiAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQodHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcInVuc3VwcG9ydGVkIGluZGV4IGJ1ZmZlciB0eXBlOiB1aW50MzJcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpIHtcbiAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQodHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC5kcmF3QXJyYXlzKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHVuYmluZCgpIHtcbiAgICB0aGlzLmdsLmJpbmRWZXJ0ZXhBcnJheShudWxsKTtcbiAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5HZW9tZXRyeVN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwiZ2VvbWV0cnlcIlxufTtcbmV4dGVuc2lvbnMuYWRkKEdlb21ldHJ5U3lzdGVtKTtcblxuZXhwb3J0IHsgR2VvbWV0cnlTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdlb21ldHJ5U3lzdGVtLm1qcy5tYXBcbiIsImNsYXNzIFZpZXdhYmxlQnVmZmVyIHtcbiAgY29uc3RydWN0b3Ioc2l6ZU9yQnVmZmVyKSB7XG4gICAgaWYgKHR5cGVvZiBzaXplT3JCdWZmZXIgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG5ldyBBcnJheUJ1ZmZlcihzaXplT3JCdWZmZXIpO1xuICAgIH0gZWxzZSBpZiAoc2l6ZU9yQnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gc2l6ZU9yQnVmZmVyLmJ1ZmZlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gc2l6ZU9yQnVmZmVyO1xuICAgIH1cbiAgICB0aGlzLnVpbnQzMlZpZXcgPSBuZXcgVWludDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICB9XG4gIGdldCBpbnQ4VmlldygpIHtcbiAgICBpZiAoIXRoaXMuX2ludDhWaWV3KSB7XG4gICAgICB0aGlzLl9pbnQ4VmlldyA9IG5ldyBJbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2ludDhWaWV3O1xuICB9XG4gIGdldCB1aW50OFZpZXcoKSB7XG4gICAgaWYgKCF0aGlzLl91aW50OFZpZXcpIHtcbiAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG5ldyBVaW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl91aW50OFZpZXc7XG4gIH1cbiAgZ2V0IGludDE2VmlldygpIHtcbiAgICBpZiAoIXRoaXMuX2ludDE2Vmlldykge1xuICAgICAgdGhpcy5faW50MTZWaWV3ID0gbmV3IEludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2ludDE2VmlldztcbiAgfVxuICBnZXQgdWludDE2VmlldygpIHtcbiAgICBpZiAoIXRoaXMuX3VpbnQxNlZpZXcpIHtcbiAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBuZXcgVWludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3VpbnQxNlZpZXc7XG4gIH1cbiAgZ2V0IGludDMyVmlldygpIHtcbiAgICBpZiAoIXRoaXMuX2ludDMyVmlldykge1xuICAgICAgdGhpcy5faW50MzJWaWV3ID0gbmV3IEludDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2ludDMyVmlldztcbiAgfVxuICB2aWV3KHR5cGUpIHtcbiAgICByZXR1cm4gdGhpc1tgJHt0eXBlfVZpZXdgXTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG51bGw7XG4gICAgdGhpcy5faW50OFZpZXcgPSBudWxsO1xuICAgIHRoaXMuX3VpbnQ4VmlldyA9IG51bGw7XG4gICAgdGhpcy5faW50MTZWaWV3ID0gbnVsbDtcbiAgICB0aGlzLl91aW50MTZWaWV3ID0gbnVsbDtcbiAgICB0aGlzLl9pbnQzMlZpZXcgPSBudWxsO1xuICAgIHRoaXMudWludDMyVmlldyA9IG51bGw7XG4gICAgdGhpcy5mbG9hdDMyVmlldyA9IG51bGw7XG4gIH1cbiAgc3RhdGljIHNpemVPZih0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiaW50OFwiOlxuICAgICAgY2FzZSBcInVpbnQ4XCI6XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBcImludDE2XCI6XG4gICAgICBjYXNlIFwidWludDE2XCI6XG4gICAgICAgIHJldHVybiAyO1xuICAgICAgY2FzZSBcImludDMyXCI6XG4gICAgICBjYXNlIFwidWludDMyXCI6XG4gICAgICBjYXNlIFwiZmxvYXQzMlwiOlxuICAgICAgICByZXR1cm4gNDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0eXBlfSBpc24ndCBhIHZhbGlkIHZpZXcgdHlwZWApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBWaWV3YWJsZUJ1ZmZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlld2FibGVCdWZmZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0QnVmZmVyVHlwZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuY29uc3QgbWFwID0ge1xuICBGbG9hdDMyQXJyYXksXG4gIFVpbnQzMkFycmF5LFxuICBJbnQzMkFycmF5LFxuICBVaW50OEFycmF5XG59O1xuZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpIHtcbiAgbGV0IG91dFNpemUgPSAwO1xuICBsZXQgc3RyaWRlID0gMDtcbiAgY29uc3Qgdmlld3MgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICBzdHJpZGUgKz0gc2l6ZXNbaV07XG4gICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICB9XG4gIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihvdXRTaXplICogNCk7XG4gIGxldCBvdXQgPSBudWxsO1xuICBsZXQgbGl0dGxlT2Zmc2V0ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzaXplID0gc2l6ZXNbaV07XG4gICAgY29uc3QgYXJyYXkgPSBhcnJheXNbaV07XG4gICAgY29uc3QgdHlwZSA9IGdldEJ1ZmZlclR5cGUoYXJyYXkpO1xuICAgIGlmICghdmlld3NbdHlwZV0pIHtcbiAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgIH1cbiAgICBvdXQgPSB2aWV3c1t0eXBlXTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCBpbmRleFN0YXJ0ID0gKGogLyBzaXplIHwgMCkgKiBzdHJpZGUgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICBjb25zdCBpbmRleCA9IGogJSBzaXplO1xuICAgICAgb3V0W2luZGV4U3RhcnQgKyBpbmRleF0gPSBhcnJheVtqXTtcbiAgICB9XG4gICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gIH1cbiAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbn1cblxuZXhwb3J0IHsgaW50ZXJsZWF2ZVR5cGVkQXJyYXlzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmxlYXZlVHlwZWRBcnJheXMubWpzLm1hcFxuIiwiaW1wb3J0ICcuL3NldHRpbmdzLm1qcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tYXRoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3J1bm5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnQHBpeGkvdXRpbHMnO1xuZXhwb3J0IHsgdXRpbHMgfTtcbmltcG9ydCAnLi90ZXh0dXJlcy9yZXNvdXJjZXMvaW5kZXgubWpzJztcbmltcG9ydCAnLi9zeXN0ZW1zLm1qcyc7XG5pbXBvcnQgJy4vSVJlbmRlcmVyLm1qcyc7XG5leHBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIgfSBmcm9tICcuL2F1dG9EZXRlY3RSZW5kZXJlci5tanMnO1xuZXhwb3J0IHsgZGVmYXVsdEZpbHRlclZlcnRleCwgZGVmYXVsdFZlcnRleCB9IGZyb20gJy4vZnJhZ21lbnRzL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4vc3lzdGVtL0lTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFBsdWdpblN5c3RlbSB9IGZyb20gJy4vcGx1Z2luL1BsdWdpblN5c3RlbS5tanMnO1xuZXhwb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuL1JlbmRlcmVyLm1qcyc7XG5leHBvcnQgeyBGcmFtZWJ1ZmZlciB9IGZyb20gJy4vZnJhbWVidWZmZXIvRnJhbWVidWZmZXIubWpzJztcbmV4cG9ydCB7IEdMRnJhbWVidWZmZXIgfSBmcm9tICcuL2ZyYW1lYnVmZmVyL0dMRnJhbWVidWZmZXIubWpzJztcbmV4cG9ydCB7IFRleHR1cmUgfSBmcm9tICcuL3RleHR1cmVzL1RleHR1cmUubWpzJztcbmV4cG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi90ZXh0dXJlcy9CYXNlVGV4dHVyZS5tanMnO1xuZXhwb3J0IHsgR0xUZXh0dXJlIH0gZnJvbSAnLi90ZXh0dXJlcy9HTFRleHR1cmUubWpzJztcbmV4cG9ydCB7IFRleHR1cmVNYXRyaXggfSBmcm9tICcuL3RleHR1cmVzL1RleHR1cmVNYXRyaXgubWpzJztcbmV4cG9ydCB7IFJlbmRlclRleHR1cmUgfSBmcm9tICcuL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZS5tanMnO1xuZXhwb3J0IHsgUmVuZGVyVGV4dHVyZVBvb2wgfSBmcm9tICcuL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZVBvb2wubWpzJztcbmV4cG9ydCB7IEJhc2VSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi9yZW5kZXJUZXh0dXJlL0Jhc2VSZW5kZXJUZXh0dXJlLm1qcyc7XG5leHBvcnQgeyBUZXh0dXJlVXZzIH0gZnJvbSAnLi90ZXh0dXJlcy9UZXh0dXJlVXZzLm1qcyc7XG5leHBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUvU3RhdGUubWpzJztcbmV4cG9ydCB7IE9iamVjdFJlbmRlcmVyIH0gZnJvbSAnLi9iYXRjaC9PYmplY3RSZW5kZXJlci5tanMnO1xuZXhwb3J0IHsgQmF0Y2hSZW5kZXJlciB9IGZyb20gJy4vYmF0Y2gvQmF0Y2hSZW5kZXJlci5tanMnO1xuZXhwb3J0IHsgQmF0Y2hTaGFkZXJHZW5lcmF0b3IgfSBmcm9tICcuL2JhdGNoL0JhdGNoU2hhZGVyR2VuZXJhdG9yLm1qcyc7XG5leHBvcnQgeyBCYXRjaEdlb21ldHJ5IH0gZnJvbSAnLi9iYXRjaC9CYXRjaEdlb21ldHJ5Lm1qcyc7XG5leHBvcnQgeyBCYXRjaERyYXdDYWxsIH0gZnJvbSAnLi9iYXRjaC9CYXRjaERyYXdDYWxsLm1qcyc7XG5leHBvcnQgeyBCYXRjaFRleHR1cmVBcnJheSB9IGZyb20gJy4vYmF0Y2gvQmF0Y2hUZXh0dXJlQXJyYXkubWpzJztcbmV4cG9ydCB7IFF1YWQgfSBmcm9tICcuL3V0aWxzL1F1YWQubWpzJztcbmV4cG9ydCB7IFF1YWRVdiB9IGZyb20gJy4vdXRpbHMvUXVhZFV2Lm1qcyc7XG5leHBvcnQgeyBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIH0gZnJvbSAnLi9zaGFkZXIvdXRpbHMvY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlci5tanMnO1xuZXhwb3J0IHsgdW5pZm9ybVBhcnNlcnMgfSBmcm9tICcuL3NoYWRlci91dGlscy91bmlmb3JtUGFyc2Vycy5tanMnO1xuZXhwb3J0IHsgY3JlYXRlVUJPRWxlbWVudHMsIGdlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMsIGdldFVCT0RhdGEgfSBmcm9tICcuL3NoYWRlci91dGlscy9nZW5lcmF0ZVVuaWZvcm1CdWZmZXJTeW5jLm1qcyc7XG5leHBvcnQgeyBnZXRUZXN0Q29udGV4dCB9IGZyb20gJy4vc2hhZGVyL3V0aWxzL2dldFRlc3RDb250ZXh0Lm1qcyc7XG5leHBvcnQgeyBnZW5lcmF0ZVByb2dyYW0gfSBmcm9tICcuL3NoYWRlci91dGlscy9nZW5lcmF0ZVByb2dyYW0ubWpzJztcbmV4cG9ydCB7IFNoYWRlciB9IGZyb20gJy4vc2hhZGVyL1NoYWRlci5tanMnO1xuZXhwb3J0IHsgUHJvZ3JhbSB9IGZyb20gJy4vc2hhZGVyL1Byb2dyYW0ubWpzJztcbmV4cG9ydCB7IEdMUHJvZ3JhbSwgSUdMVW5pZm9ybURhdGEgfSBmcm9tICcuL3NoYWRlci9HTFByb2dyYW0ubWpzJztcbmV4cG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4vc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuZXhwb3J0IHsgTWFza0RhdGEgfSBmcm9tICcuL21hc2svTWFza0RhdGEubWpzJztcbmV4cG9ydCB7IFNwcml0ZU1hc2tGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyLm1qcyc7XG5leHBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcnMvRmlsdGVyLm1qcyc7XG5leHBvcnQgeyBGaWx0ZXJTdGF0ZSB9IGZyb20gJy4vZmlsdGVycy9GaWx0ZXJTdGF0ZS5tanMnO1xuaW1wb3J0ICcuL2ZpbHRlcnMvSUZpbHRlclRhcmdldC5tanMnO1xuZXhwb3J0IHsgQXR0cmlidXRlIH0gZnJvbSAnLi9nZW9tZXRyeS9BdHRyaWJ1dGUubWpzJztcbmV4cG9ydCB7IEJ1ZmZlciB9IGZyb20gJy4vZ2VvbWV0cnkvQnVmZmVyLm1qcyc7XG5leHBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4vZ2VvbWV0cnkvR2VvbWV0cnkubWpzJztcbmV4cG9ydCB7IFZpZXdhYmxlQnVmZmVyIH0gZnJvbSAnLi9nZW9tZXRyeS9WaWV3YWJsZUJ1ZmZlci5tanMnO1xuZXhwb3J0IHsgVHJhbnNmb3JtRmVlZGJhY2sgfSBmcm9tICcuL3RyYW5zZm9ybUZlZWRiYWNrL1RyYW5zZm9ybUZlZWRiYWNrLm1qcyc7XG5leHBvcnQgeyBNYXNrU3lzdGVtIH0gZnJvbSAnLi9tYXNrL01hc2tTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFN0ZW5jaWxTeXN0ZW0gfSBmcm9tICcuL21hc2svU3RlbmNpbFN5c3RlbS5tanMnO1xuZXhwb3J0IHsgU2Npc3NvclN5c3RlbSB9IGZyb20gJy4vbWFzay9TY2lzc29yU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBGaWx0ZXJTeXN0ZW0gfSBmcm9tICcuL2ZpbHRlcnMvRmlsdGVyU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBGcmFtZWJ1ZmZlclN5c3RlbSB9IGZyb20gJy4vZnJhbWVidWZmZXIvRnJhbWVidWZmZXJTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFJlbmRlclRleHR1cmVTeXN0ZW0gfSBmcm9tICcuL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZVN5c3RlbS5tanMnO1xuZXhwb3J0IHsgVGV4dHVyZVN5c3RlbSB9IGZyb20gJy4vdGV4dHVyZXMvVGV4dHVyZVN5c3RlbS5tanMnO1xuZXhwb3J0IHsgUHJvamVjdGlvblN5c3RlbSB9IGZyb20gJy4vcHJvamVjdGlvbi9Qcm9qZWN0aW9uU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBTdGF0ZVN5c3RlbSB9IGZyb20gJy4vc3RhdGUvU3RhdGVTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEdlb21ldHJ5U3lzdGVtIH0gZnJvbSAnLi9nZW9tZXRyeS9HZW9tZXRyeVN5c3RlbS5tanMnO1xuZXhwb3J0IHsgU2hhZGVyU3lzdGVtIH0gZnJvbSAnLi9zaGFkZXIvU2hhZGVyU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBDb250ZXh0U3lzdGVtIH0gZnJvbSAnLi9jb250ZXh0L0NvbnRleHRTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEJhdGNoU3lzdGVtIH0gZnJvbSAnLi9iYXRjaC9CYXRjaFN5c3RlbS5tanMnO1xuZXhwb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH0gZnJvbSAnLi90ZXh0dXJlcy9UZXh0dXJlR0NTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEJ1ZmZlclN5c3RlbSB9IGZyb20gJy4vZ2VvbWV0cnkvQnVmZmVyU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBNdWx0aXNhbXBsZVN5c3RlbSB9IGZyb20gJy4vZnJhbWVidWZmZXIvTXVsdGlzYW1wbGVTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEdlbmVyYXRlVGV4dHVyZVN5c3RlbSB9IGZyb20gJy4vcmVuZGVyVGV4dHVyZS9HZW5lcmF0ZVRleHR1cmVTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEJhY2tncm91bmRTeXN0ZW0gfSBmcm9tICcuL2JhY2tncm91bmQvQmFja2dyb3VuZFN5c3RlbS5tanMnO1xuZXhwb3J0IHsgVmlld1N5c3RlbSB9IGZyb20gJy4vdmlldy9WaWV3U3lzdGVtLm1qcyc7XG5leHBvcnQgeyBPYmplY3RSZW5kZXJlclN5c3RlbSB9IGZyb20gJy4vcmVuZGVyL09iamVjdFJlbmRlcmVyU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBTdGFydHVwU3lzdGVtIH0gZnJvbSAnLi9zdGFydHVwL1N0YXJ0dXBTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFRyYW5zZm9ybUZlZWRiYWNrU3lzdGVtIH0gZnJvbSAnLi90cmFuc2Zvcm1GZWVkYmFjay9UcmFuc2Zvcm1GZWVkYmFja1N5c3RlbS5tanMnO1xuZXhwb3J0IHsgUmVzb3VyY2UgfSBmcm9tICcuL3RleHR1cmVzL3Jlc291cmNlcy9SZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfSBmcm9tICcuL3RleHR1cmVzL3Jlc291cmNlcy9CYXNlSW1hZ2VSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgSU5TVEFMTEVELCBhdXRvRGV0ZWN0UmVzb3VyY2UgfSBmcm9tICcuL3RleHR1cmVzL3Jlc291cmNlcy9hdXRvRGV0ZWN0UmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IEFic3RyYWN0TXVsdGlSZXNvdXJjZSB9IGZyb20gJy4vdGV4dHVyZXMvcmVzb3VyY2VzL0Fic3RyYWN0TXVsdGlSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQXJyYXlSZXNvdXJjZSB9IGZyb20gJy4vdGV4dHVyZXMvcmVzb3VyY2VzL0FycmF5UmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IEJ1ZmZlclJlc291cmNlIH0gZnJvbSAnLi90ZXh0dXJlcy9yZXNvdXJjZXMvQnVmZmVyUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IENhbnZhc1Jlc291cmNlIH0gZnJvbSAnLi90ZXh0dXJlcy9yZXNvdXJjZXMvQ2FudmFzUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IEN1YmVSZXNvdXJjZSB9IGZyb20gJy4vdGV4dHVyZXMvcmVzb3VyY2VzL0N1YmVSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgSW1hZ2VSZXNvdXJjZSB9IGZyb20gJy4vdGV4dHVyZXMvcmVzb3VyY2VzL0ltYWdlUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IFNWR1Jlc291cmNlIH0gZnJvbSAnLi90ZXh0dXJlcy9yZXNvdXJjZXMvU1ZHUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IFZpZGVvUmVzb3VyY2UgfSBmcm9tICcuL3RleHR1cmVzL3Jlc291cmNlcy9WaWRlb1Jlc291cmNlLm1qcyc7XG5leHBvcnQgeyBJbWFnZUJpdG1hcFJlc291cmNlIH0gZnJvbSAnLi90ZXh0dXJlcy9yZXNvdXJjZXMvSW1hZ2VCaXRtYXBSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgU3lzdGVtTWFuYWdlciB9IGZyb20gJy4vc3lzdGVtL1N5c3RlbU1hbmFnZXIubWpzJztcblxuY29uc3QgVkVSU0lPTiA9IFwiNy4wLjVcIjtcblxuZXhwb3J0IHsgVkVSU0lPTiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiY2xhc3MgQWJzdHJhY3RNYXNrU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5tYXNrU3RhY2sgPSBbXTtcbiAgICB0aGlzLmdsQ29uc3QgPSAwO1xuICB9XG4gIGdldFN0YWNrTGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLm1hc2tTdGFjay5sZW5ndGg7XG4gIH1cbiAgc2V0TWFza1N0YWNrKG1hc2tTdGFjaykge1xuICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgY3VyU3RhY2tMZW4gPSB0aGlzLmdldFN0YWNrTGVuZ3RoKCk7XG4gICAgdGhpcy5tYXNrU3RhY2sgPSBtYXNrU3RhY2s7XG4gICAgY29uc3QgbmV3U3RhY2tMZW4gPSB0aGlzLmdldFN0YWNrTGVuZ3RoKCk7XG4gICAgaWYgKG5ld1N0YWNrTGVuICE9PSBjdXJTdGFja0xlbikge1xuICAgICAgaWYgKG5ld1N0YWNrTGVuID09PSAwKSB7XG4gICAgICAgIGdsLmRpc2FibGUodGhpcy5nbENvbnN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdsLmVuYWJsZSh0aGlzLmdsQ29uc3QpO1xuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF91c2VDdXJyZW50KCkge1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5tYXNrU3RhY2sgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEFic3RyYWN0TWFza1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWJzdHJhY3RNYXNrU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IE1BU0tfVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNsYXNzIE1hc2tEYXRhIHtcbiAgY29uc3RydWN0b3IobWFza09iamVjdCA9IG51bGwpIHtcbiAgICB0aGlzLnR5cGUgPSBNQVNLX1RZUEVTLk5PTkU7XG4gICAgdGhpcy5hdXRvRGV0ZWN0ID0gdHJ1ZTtcbiAgICB0aGlzLm1hc2tPYmplY3QgPSBtYXNrT2JqZWN0IHx8IG51bGw7XG4gICAgdGhpcy5wb29sZWQgPSBmYWxzZTtcbiAgICB0aGlzLmlzTWFza0RhdGEgPSB0cnVlO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IG51bGw7XG4gICAgdGhpcy5tdWx0aXNhbXBsZSA9IHNldHRpbmdzLkZJTFRFUl9NVUxUSVNBTVBMRTtcbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuY29sb3JNYXNrID0gMTU7XG4gICAgdGhpcy5fZmlsdGVycyA9IG51bGw7XG4gICAgdGhpcy5fc3RlbmNpbENvdW50ZXIgPSAwO1xuICAgIHRoaXMuX3NjaXNzb3JDb3VudGVyID0gMDtcbiAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgdGhpcy5fc2Npc3NvclJlY3RMb2NhbCA9IG51bGw7XG4gICAgdGhpcy5fY29sb3JNYXNrID0gMTU7XG4gICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgfVxuICBnZXQgZmlsdGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9maWx0ZXJzID8gdGhpcy5fZmlsdGVyc1swXSA6IG51bGw7XG4gIH1cbiAgc2V0IGZpbHRlcih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuX2ZpbHRlcnMpIHtcbiAgICAgICAgdGhpcy5fZmlsdGVyc1swXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZmlsdGVycyA9IFt2YWx1ZV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZpbHRlcnMgPSBudWxsO1xuICAgIH1cbiAgfVxuICByZXNldCgpIHtcbiAgICBpZiAodGhpcy5wb29sZWQpIHtcbiAgICAgIHRoaXMubWFza09iamVjdCA9IG51bGw7XG4gICAgICB0aGlzLnR5cGUgPSBNQVNLX1RZUEVTLk5PTkU7XG4gICAgICB0aGlzLmF1dG9EZXRlY3QgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICAgIHRoaXMuX3NjaXNzb3JSZWN0TG9jYWwgPSBudWxsO1xuICB9XG4gIGNvcHlDb3VudGVyc09yUmVzZXQobWFza0Fib3ZlKSB7XG4gICAgaWYgKG1hc2tBYm92ZSkge1xuICAgICAgdGhpcy5fc3RlbmNpbENvdW50ZXIgPSBtYXNrQWJvdmUuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSBtYXNrQWJvdmUuX3NjaXNzb3JDb3VudGVyO1xuICAgICAgdGhpcy5fc2Npc3NvclJlY3QgPSBtYXNrQWJvdmUuX3NjaXNzb3JSZWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG4gICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IE1hc2tEYXRhIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXNrRGF0YS5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXNrRGF0YSB9IGZyb20gJy4vTWFza0RhdGEubWpzJztcbmltcG9ydCB7IFNwcml0ZU1hc2tGaWx0ZXIgfSBmcm9tICcuLi9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlci5tanMnO1xuaW1wb3J0IHsgTUFTS19UWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5cbmNsYXNzIE1hc2tTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLmVuYWJsZVNjaXNzb3IgPSB0cnVlO1xuICAgIHRoaXMuYWxwaGFNYXNrUG9vbCA9IFtdO1xuICAgIHRoaXMubWFza0RhdGFQb29sID0gW107XG4gICAgdGhpcy5tYXNrU3RhY2sgPSBbXTtcbiAgICB0aGlzLmFscGhhTWFza0luZGV4ID0gMDtcbiAgfVxuICBzZXRNYXNrU3RhY2sobWFza1N0YWNrKSB7XG4gICAgdGhpcy5tYXNrU3RhY2sgPSBtYXNrU3RhY2s7XG4gICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnNldE1hc2tTdGFjayhtYXNrU3RhY2spO1xuICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2sobWFza1N0YWNrKTtcbiAgfVxuICBwdXNoKHRhcmdldCwgbWFza0RhdGFPclRhcmdldCkge1xuICAgIGxldCBtYXNrRGF0YSA9IG1hc2tEYXRhT3JUYXJnZXQ7XG4gICAgaWYgKCFtYXNrRGF0YS5pc01hc2tEYXRhKSB7XG4gICAgICBjb25zdCBkID0gdGhpcy5tYXNrRGF0YVBvb2wucG9wKCkgfHwgbmV3IE1hc2tEYXRhKCk7XG4gICAgICBkLnBvb2xlZCA9IHRydWU7XG4gICAgICBkLm1hc2tPYmplY3QgPSBtYXNrRGF0YU9yVGFyZ2V0O1xuICAgICAgbWFza0RhdGEgPSBkO1xuICAgIH1cbiAgICBjb25zdCBtYXNrQWJvdmUgPSB0aGlzLm1hc2tTdGFjay5sZW5ndGggIT09IDAgPyB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXSA6IG51bGw7XG4gICAgbWFza0RhdGEuY29weUNvdW50ZXJzT3JSZXNldChtYXNrQWJvdmUpO1xuICAgIG1hc2tEYXRhLl9jb2xvck1hc2sgPSBtYXNrQWJvdmUgPyBtYXNrQWJvdmUuX2NvbG9yTWFzayA6IDE1O1xuICAgIGlmIChtYXNrRGF0YS5hdXRvRGV0ZWN0KSB7XG4gICAgICB0aGlzLmRldGVjdChtYXNrRGF0YSk7XG4gICAgfVxuICAgIG1hc2tEYXRhLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgaWYgKG1hc2tEYXRhLnR5cGUgIT09IE1BU0tfVFlQRVMuU1BSSVRFKSB7XG4gICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICB9XG4gICAgaWYgKG1hc2tEYXRhLmVuYWJsZWQpIHtcbiAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSkge1xuICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU0NJU1NPUjpcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTUFTS19UWVBFUy5TVEVOQ0lMOlxuICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNQUklURTpcbiAgICAgICAgICBtYXNrRGF0YS5jb3B5Q291bnRlcnNPclJlc2V0KG51bGwpO1xuICAgICAgICAgIHRoaXMucHVzaFNwcml0ZU1hc2sobWFza0RhdGEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1BU0tfVFlQRVMuQ09MT1I6XG4gICAgICAgICAgdGhpcy5wdXNoQ29sb3JNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1hc2tEYXRhLnR5cGUgPT09IE1BU0tfVFlQRVMuU1BSSVRFKSB7XG4gICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICB9XG4gIH1cbiAgcG9wKHRhcmdldCkge1xuICAgIGNvbnN0IG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2sucG9wKCk7XG4gICAgaWYgKCFtYXNrRGF0YSB8fCBtYXNrRGF0YS5fdGFyZ2V0ICE9PSB0YXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG1hc2tEYXRhLmVuYWJsZWQpIHtcbiAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSkge1xuICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU0NJU1NPUjpcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucG9wKG1hc2tEYXRhKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnBvcChtYXNrRGF0YS5tYXNrT2JqZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNQUklURTpcbiAgICAgICAgICB0aGlzLnBvcFNwcml0ZU1hc2sobWFza0RhdGEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1BU0tfVFlQRVMuQ09MT1I6XG4gICAgICAgICAgdGhpcy5wb3BDb2xvck1hc2sobWFza0RhdGEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBtYXNrRGF0YS5yZXNldCgpO1xuICAgIGlmIChtYXNrRGF0YS5wb29sZWQpIHtcbiAgICAgIHRoaXMubWFza0RhdGFQb29sLnB1c2gobWFza0RhdGEpO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXNrU3RhY2subGVuZ3RoICE9PSAwKSB7XG4gICAgICBjb25zdCBtYXNrQ3VycmVudCA9IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKG1hc2tDdXJyZW50LnR5cGUgPT09IE1BU0tfVFlQRVMuU1BSSVRFICYmIG1hc2tDdXJyZW50Ll9maWx0ZXJzKSB7XG4gICAgICAgIG1hc2tDdXJyZW50Ll9maWx0ZXJzWzBdLm1hc2tTcHJpdGUgPSBtYXNrQ3VycmVudC5tYXNrT2JqZWN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBkZXRlY3QobWFza0RhdGEpIHtcbiAgICBjb25zdCBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICBpZiAoIW1hc2tPYmplY3QpIHtcbiAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLkNPTE9SO1xuICAgIH0gZWxzZSBpZiAobWFza09iamVjdC5pc1Nwcml0ZSkge1xuICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU1BSSVRFO1xuICAgIH0gZWxzZSBpZiAodGhpcy5lbmFibGVTY2lzc29yICYmIHRoaXMucmVuZGVyZXIuc2Npc3Nvci50ZXN0U2Npc3NvcihtYXNrRGF0YSkpIHtcbiAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNDSVNTT1I7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNURU5DSUw7XG4gICAgfVxuICB9XG4gIHB1c2hTcHJpdGVNYXNrKG1hc2tEYXRhKSB7XG4gICAgY29uc3QgeyBtYXNrT2JqZWN0IH0gPSBtYXNrRGF0YTtcbiAgICBjb25zdCB0YXJnZXQgPSBtYXNrRGF0YS5fdGFyZ2V0O1xuICAgIGxldCBhbHBoYU1hc2tGaWx0ZXIgPSBtYXNrRGF0YS5fZmlsdGVycztcbiAgICBpZiAoIWFscGhhTWFza0ZpbHRlcikge1xuICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdO1xuICAgICAgaWYgKCFhbHBoYU1hc2tGaWx0ZXIpIHtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBTcHJpdGVNYXNrRmlsdGVyKCldO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgcmVuZGVyVGV4dHVyZVN5c3RlbSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmU7XG4gICAgbGV0IHJlc29sdXRpb247XG4gICAgbGV0IG11bHRpc2FtcGxlO1xuICAgIGlmIChyZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IHJlbmRlclRleHR1cmUgPSByZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQ7XG4gICAgICByZXNvbHV0aW9uID0gbWFza0RhdGEucmVzb2x1dGlvbiB8fCByZW5kZXJUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICBtdWx0aXNhbXBsZSA9IG1hc2tEYXRhLm11bHRpc2FtcGxlID8/IHJlbmRlclRleHR1cmUubXVsdGlzYW1wbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdXRpb24gPSBtYXNrRGF0YS5yZXNvbHV0aW9uIHx8IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICBtdWx0aXNhbXBsZSA9IG1hc2tEYXRhLm11bHRpc2FtcGxlID8/IHJlbmRlcmVyLm11bHRpc2FtcGxlO1xuICAgIH1cbiAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgYWxwaGFNYXNrRmlsdGVyWzBdLm11bHRpc2FtcGxlID0gbXVsdGlzYW1wbGU7XG4gICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrT2JqZWN0O1xuICAgIGNvbnN0IHN0YXNoRmlsdGVyQXJlYSA9IHRhcmdldC5maWx0ZXJBcmVhO1xuICAgIHRhcmdldC5maWx0ZXJBcmVhID0gbWFza09iamVjdC5nZXRCb3VuZHModHJ1ZSk7XG4gICAgcmVuZGVyZXIuZmlsdGVyLnB1c2godGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuICAgIHRhcmdldC5maWx0ZXJBcmVhID0gc3Rhc2hGaWx0ZXJBcmVhO1xuICAgIGlmICghbWFza0RhdGEuX2ZpbHRlcnMpIHtcbiAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgrKztcbiAgICB9XG4gIH1cbiAgcG9wU3ByaXRlTWFzayhtYXNrRGF0YSkge1xuICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgIGlmIChtYXNrRGF0YS5fZmlsdGVycykge1xuICAgICAgbWFza0RhdGEuX2ZpbHRlcnNbMF0ubWFza1Nwcml0ZSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgtLTtcbiAgICAgIHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XVswXS5tYXNrU3ByaXRlID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgcHVzaENvbG9yTWFzayhtYXNrRGF0YSkge1xuICAgIGNvbnN0IGN1cnJDb2xvck1hc2sgPSBtYXNrRGF0YS5fY29sb3JNYXNrO1xuICAgIGNvbnN0IG5leHRDb2xvck1hc2sgPSBtYXNrRGF0YS5fY29sb3JNYXNrID0gY3VyckNvbG9yTWFzayAmIG1hc2tEYXRhLmNvbG9yTWFzaztcbiAgICBpZiAobmV4dENvbG9yTWFzayAhPT0gY3VyckNvbG9yTWFzaykge1xuICAgICAgdGhpcy5yZW5kZXJlci5nbC5jb2xvck1hc2soKG5leHRDb2xvck1hc2sgJiAxKSAhPT0gMCwgKG5leHRDb2xvck1hc2sgJiAyKSAhPT0gMCwgKG5leHRDb2xvck1hc2sgJiA0KSAhPT0gMCwgKG5leHRDb2xvck1hc2sgJiA4KSAhPT0gMCk7XG4gICAgfVxuICB9XG4gIHBvcENvbG9yTWFzayhtYXNrRGF0YSkge1xuICAgIGNvbnN0IGN1cnJDb2xvck1hc2sgPSBtYXNrRGF0YS5fY29sb3JNYXNrO1xuICAgIGNvbnN0IG5leHRDb2xvck1hc2sgPSB0aGlzLm1hc2tTdGFjay5sZW5ndGggPiAwID8gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0uX2NvbG9yTWFzayA6IDE1O1xuICAgIGlmIChuZXh0Q29sb3JNYXNrICE9PSBjdXJyQ29sb3JNYXNrKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLmdsLmNvbG9yTWFzaygobmV4dENvbG9yTWFzayAmIDEpICE9PSAwLCAobmV4dENvbG9yTWFzayAmIDIpICE9PSAwLCAobmV4dENvbG9yTWFzayAmIDQpICE9PSAwLCAobmV4dENvbG9yTWFzayAmIDgpICE9PSAwKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuTWFza1N5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwibWFza1wiXG59O1xuZXh0ZW5zaW9ucy5hZGQoTWFza1N5c3RlbSk7XG5cbmV4cG9ydCB7IE1hc2tTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hc2tTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgQWJzdHJhY3RNYXNrU3lzdGVtIH0gZnJvbSAnLi9BYnN0cmFjdE1hc2tTeXN0ZW0ubWpzJztcbmltcG9ydCB7IE1hdHJpeCwgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuY29uc3QgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbmNvbnN0IHJlY3RQb29sID0gW107XG5jb25zdCBfU2Npc3NvclN5c3RlbSA9IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNYXNrU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICBzdXBlcihyZW5kZXJlcik7XG4gICAgdGhpcy5nbENvbnN0ID0gc2V0dGluZ3MuQURBUFRFUi5nZXRXZWJHTFJlbmRlcmluZ0NvbnRleHQoKS5TQ0lTU09SX1RFU1Q7XG4gIH1cbiAgZ2V0U3RhY2tMZW5ndGgoKSB7XG4gICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcbiAgICBpZiAobWFza0RhdGEpIHtcbiAgICAgIHJldHVybiBtYXNrRGF0YS5fc2Npc3NvckNvdW50ZXI7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG4gIGNhbGNTY2lzc29yUmVjdChtYXNrRGF0YSkge1xuICAgIGlmIChtYXNrRGF0YS5fc2Npc3NvclJlY3RMb2NhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcmV2RGF0YSA9IG1hc2tEYXRhLl9zY2lzc29yUmVjdDtcbiAgICBjb25zdCB7IG1hc2tPYmplY3QgfSA9IG1hc2tEYXRhO1xuICAgIGNvbnN0IHsgcmVuZGVyZXIgfSA9IHRoaXM7XG4gICAgY29uc3QgcmVuZGVyVGV4dHVyZVN5c3RlbSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmU7XG4gICAgY29uc3QgcmVjdCA9IG1hc2tPYmplY3QuZ2V0Qm91bmRzKHRydWUsIHJlY3RQb29sLnBvcCgpID8/IG5ldyBSZWN0YW5nbGUoKSk7XG4gICAgdGhpcy5yb3VuZEZyYW1lVG9QaXhlbHMocmVjdCwgcmVuZGVyVGV4dHVyZVN5c3RlbS5jdXJyZW50ID8gcmVuZGVyVGV4dHVyZVN5c3RlbS5jdXJyZW50LnJlc29sdXRpb24gOiByZW5kZXJlci5yZXNvbHV0aW9uLCByZW5kZXJUZXh0dXJlU3lzdGVtLnNvdXJjZUZyYW1lLCByZW5kZXJUZXh0dXJlU3lzdGVtLmRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtKTtcbiAgICBpZiAocHJldkRhdGEpIHtcbiAgICAgIHJlY3QuZml0KHByZXZEYXRhKTtcbiAgICB9XG4gICAgbWFza0RhdGEuX3NjaXNzb3JSZWN0TG9jYWwgPSByZWN0O1xuICB9XG4gIHN0YXRpYyBpc01hdHJpeFJvdGF0ZWQobWF0cml4KSB7XG4gICAgaWYgKCFtYXRyaXgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgeyBhLCBiLCBjLCBkIH0gPSBtYXRyaXg7XG4gICAgcmV0dXJuIChNYXRoLmFicyhiKSA+IDFlLTQgfHwgTWF0aC5hYnMoYykgPiAxZS00KSAmJiAoTWF0aC5hYnMoYSkgPiAxZS00IHx8IE1hdGguYWJzKGQpID4gMWUtNCk7XG4gIH1cbiAgdGVzdFNjaXNzb3IobWFza0RhdGEpIHtcbiAgICBjb25zdCB7IG1hc2tPYmplY3QgfSA9IG1hc2tEYXRhO1xuICAgIGlmICghbWFza09iamVjdC5pc0Zhc3RSZWN0IHx8ICFtYXNrT2JqZWN0LmlzRmFzdFJlY3QoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoX1NjaXNzb3JTeXN0ZW0uaXNNYXRyaXhSb3RhdGVkKG1hc2tPYmplY3Qud29ybGRUcmFuc2Zvcm0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChfU2Npc3NvclN5c3RlbS5pc01hdHJpeFJvdGF0ZWQodGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5jYWxjU2Npc3NvclJlY3QobWFza0RhdGEpO1xuICAgIGNvbnN0IHJlY3QgPSBtYXNrRGF0YS5fc2Npc3NvclJlY3RMb2NhbDtcbiAgICByZXR1cm4gcmVjdC53aWR0aCA+IDAgJiYgcmVjdC5oZWlnaHQgPiAwO1xuICB9XG4gIHJvdW5kRnJhbWVUb1BpeGVscyhmcmFtZSwgcmVzb2x1dGlvbiwgYmluZGluZ1NvdXJjZUZyYW1lLCBiaW5kaW5nRGVzdGluYXRpb25GcmFtZSwgdHJhbnNmb3JtKSB7XG4gICAgaWYgKF9TY2lzc29yU3lzdGVtLmlzTWF0cml4Um90YXRlZCh0cmFuc2Zvcm0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyYW5zZm9ybSA9IHRyYW5zZm9ybSA/IHRlbXBNYXRyaXguY29weUZyb20odHJhbnNmb3JtKSA6IHRlbXBNYXRyaXguaWRlbnRpdHkoKTtcbiAgICB0cmFuc2Zvcm0udHJhbnNsYXRlKC1iaW5kaW5nU291cmNlRnJhbWUueCwgLWJpbmRpbmdTb3VyY2VGcmFtZS55KS5zY2FsZShiaW5kaW5nRGVzdGluYXRpb25GcmFtZS53aWR0aCAvIGJpbmRpbmdTb3VyY2VGcmFtZS53aWR0aCwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gYmluZGluZ1NvdXJjZUZyYW1lLmhlaWdodCkudHJhbnNsYXRlKGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLngsIGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLnkpO1xuICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnRyYW5zZm9ybUFBQkIodHJhbnNmb3JtLCBmcmFtZSk7XG4gICAgZnJhbWUuZml0KGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lKTtcbiAgICBmcmFtZS54ID0gTWF0aC5yb3VuZChmcmFtZS54ICogcmVzb2x1dGlvbik7XG4gICAgZnJhbWUueSA9IE1hdGgucm91bmQoZnJhbWUueSAqIHJlc29sdXRpb24pO1xuICAgIGZyYW1lLndpZHRoID0gTWF0aC5yb3VuZChmcmFtZS53aWR0aCAqIHJlc29sdXRpb24pO1xuICAgIGZyYW1lLmhlaWdodCA9IE1hdGgucm91bmQoZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbik7XG4gIH1cbiAgcHVzaChtYXNrRGF0YSkge1xuICAgIGlmICghbWFza0RhdGEuX3NjaXNzb3JSZWN0TG9jYWwpIHtcbiAgICAgIHRoaXMuY2FsY1NjaXNzb3JSZWN0KG1hc2tEYXRhKTtcbiAgICB9XG4gICAgY29uc3QgeyBnbCB9ID0gdGhpcy5yZW5kZXJlcjtcbiAgICBpZiAoIW1hc2tEYXRhLl9zY2lzc29yUmVjdCkge1xuICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgfVxuICAgIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcisrO1xuICAgIG1hc2tEYXRhLl9zY2lzc29yUmVjdCA9IG1hc2tEYXRhLl9zY2lzc29yUmVjdExvY2FsO1xuICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgfVxuICBwb3AobWFza0RhdGEpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgIGlmIChtYXNrRGF0YSkge1xuICAgICAgcmVjdFBvb2wucHVzaChtYXNrRGF0YS5fc2Npc3NvclJlY3RMb2NhbCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmdldFN0YWNrTGVuZ3RoKCkgPiAwKSB7XG4gICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICB9XG4gIH1cbiAgX3VzZUN1cnJlbnQoKSB7XG4gICAgY29uc3QgcmVjdCA9IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdLl9zY2lzc29yUmVjdDtcbiAgICBsZXQgeTtcbiAgICBpZiAodGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQpIHtcbiAgICAgIHkgPSByZWN0Lnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHkgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIHJlY3QuaGVpZ2h0IC0gcmVjdC55O1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcmVyLmdsLnNjaXNzb3IocmVjdC54LCB5LCByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XG4gIH1cbn07XG5sZXQgU2Npc3NvclN5c3RlbSA9IF9TY2lzc29yU3lzdGVtO1xuU2Npc3NvclN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwic2Npc3NvclwiXG59O1xuZXh0ZW5zaW9ucy5hZGQoU2Npc3NvclN5c3RlbSk7XG5cbmV4cG9ydCB7IFNjaXNzb3JTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjaXNzb3JTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgQWJzdHJhY3RNYXNrU3lzdGVtIH0gZnJvbSAnLi9BYnN0cmFjdE1hc2tTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG5jbGFzcyBTdGVuY2lsU3lzdGVtIGV4dGVuZHMgQWJzdHJhY3RNYXNrU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICBzdXBlcihyZW5kZXJlcik7XG4gICAgdGhpcy5nbENvbnN0ID0gc2V0dGluZ3MuQURBUFRFUi5nZXRXZWJHTFJlbmRlcmluZ0NvbnRleHQoKS5TVEVOQ0lMX1RFU1Q7XG4gIH1cbiAgZ2V0U3RhY2tMZW5ndGgoKSB7XG4gICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcbiAgICBpZiAobWFza0RhdGEpIHtcbiAgICAgIHJldHVybiBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXI7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG4gIHB1c2gobWFza0RhdGEpIHtcbiAgICBjb25zdCBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IHByZXZNYXNrQ291bnQgPSBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXI7XG4gICAgaWYgKHByZXZNYXNrQ291bnQgPT09IDApIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuZm9yY2VTdGVuY2lsKCk7XG4gICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICBnbC5jbGVhcihnbC5TVEVOQ0lMX0JVRkZFUl9CSVQpO1xuICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgfVxuICAgIG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcisrO1xuICAgIGNvbnN0IGNvbG9yTWFzayA9IG1hc2tEYXRhLl9jb2xvck1hc2s7XG4gICAgaWYgKGNvbG9yTWFzayAhPT0gMCkge1xuICAgICAgbWFza0RhdGEuX2NvbG9yTWFzayA9IDA7XG4gICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgIH1cbiAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgcHJldk1hc2tDb3VudCwgNDI5NDk2NzI5NSk7XG4gICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLklOQ1IpO1xuICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgbWFza09iamVjdC5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgIGlmIChjb2xvck1hc2sgIT09IDApIHtcbiAgICAgIG1hc2tEYXRhLl9jb2xvck1hc2sgPSBjb2xvck1hc2s7XG4gICAgICBnbC5jb2xvck1hc2soKGNvbG9yTWFzayAmIDEpICE9PSAwLCAoY29sb3JNYXNrICYgMikgIT09IDAsIChjb2xvck1hc2sgJiA0KSAhPT0gMCwgKGNvbG9yTWFzayAmIDgpICE9PSAwKTtcbiAgICB9XG4gICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICB9XG4gIHBvcChtYXNrT2JqZWN0KSB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgIGlmICh0aGlzLmdldFN0YWNrTGVuZ3RoKCkgPT09IDApIHtcbiAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFjay5sZW5ndGggIT09IDAgPyB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXSA6IG51bGw7XG4gICAgICBjb25zdCBjb2xvck1hc2sgPSBtYXNrRGF0YSA/IG1hc2tEYXRhLl9jb2xvck1hc2sgOiAxNTtcbiAgICAgIGlmIChjb2xvck1hc2sgIT09IDApIHtcbiAgICAgICAgbWFza0RhdGEuX2NvbG9yTWFzayA9IDA7XG4gICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuREVDUik7XG4gICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgbWFza09iamVjdC5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgIGlmIChjb2xvck1hc2sgIT09IDApIHtcbiAgICAgICAgbWFza0RhdGEuX2NvbG9yTWFzayA9IGNvbG9yTWFzaztcbiAgICAgICAgZ2wuY29sb3JNYXNrKChjb2xvck1hc2sgJiAxKSAhPT0gMCwgKGNvbG9yTWFzayAmIDIpICE9PSAwLCAoY29sb3JNYXNrICYgNCkgIT09IDAsIChjb2xvck1hc2sgJiA4KSAhPT0gMCk7XG4gICAgICB9XG4gICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfVxuICB9XG4gIF91c2VDdXJyZW50KCkge1xuICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgdGhpcy5nZXRTdGFja0xlbmd0aCgpLCA0Mjk0OTY3Mjk1KTtcbiAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gIH1cbn1cblN0ZW5jaWxTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcInN0ZW5jaWxcIlxufTtcbmV4dGVuc2lvbnMuYWRkKFN0ZW5jaWxTeXN0ZW0pO1xuXG5leHBvcnQgeyBTdGVuY2lsU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGVuY2lsU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IGRlcHJlY2F0aW9uIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuXG5jbGFzcyBQbHVnaW5TeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLnBsdWdpbnMgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLnBsdWdpbnMsIHtcbiAgICAgIGV4dHJhY3Q6IHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICBkZXByZWNhdGlvbihcIjcuMC4wXCIsIFwicmVuZGVyZXIucGx1Z2lucy5leHRyYWN0IGhhcyBtb3ZlZCB0byByZW5kZXJlci5leHRyYWN0XCIpO1xuICAgICAgICAgIHJldHVybiByZW5kZXJlci5leHRyYWN0O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHJlcGFyZToge1xuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJyZW5kZXJlci5wbHVnaW5zLnByZXBhcmUgaGFzIG1vdmVkIHRvIHJlbmRlcmVyLnByZXBhcmVcIik7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlcmVyLnByZXBhcmU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbnRlcmFjdGlvbjoge1xuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJyZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHVzZSByZW5kZXJlci5ldmVudHNcIik7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlcmVyLmV2ZW50cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGluaXQoc3RhdGljTWFwKSB7XG4gICAgZm9yIChjb25zdCBvIGluIHN0YXRpY01hcCkge1xuICAgICAgdGhpcy5wbHVnaW5zW29dID0gbmV3IHN0YXRpY01hcFtvXSh0aGlzLnJlbmRlcmVyKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBmb3IgKGNvbnN0IG8gaW4gdGhpcy5wbHVnaW5zKSB7XG4gICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblBsdWdpblN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUmVuZGVyZXJTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJfcGx1Z2luXCJcbn07XG5leHRlbnNpb25zLmFkZChQbHVnaW5TeXN0ZW0pO1xuXG5leHBvcnQgeyBQbHVnaW5TeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsdWdpblN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuY2xhc3MgUHJvamVjdGlvblN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG4gICAgdGhpcy5kZWZhdWx0RnJhbWUgPSBudWxsO1xuICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gIH1cbiAgdXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KSB7XG4gICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZWZhdWx0RnJhbWU7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IHRoaXMuc291cmNlRnJhbWUgfHwgZGVzdGluYXRpb25GcmFtZTtcbiAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KTtcbiAgICBpZiAodGhpcy50cmFuc2Zvcm0pIHtcbiAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICBpZiAocmVuZGVyZXIuc2hhZGVyLnNoYWRlcikge1xuICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAocmVuZGVyZXIuc2hhZGVyLnNoYWRlci51bmlmb3Jtcy5nbG9iYWxzKTtcbiAgICB9XG4gIH1cbiAgY2FsY3VsYXRlUHJvamVjdGlvbihfZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIF9yZXNvbHV0aW9uLCByb290KSB7XG4gICAgY29uc3QgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG4gICAgY29uc3Qgc2lnbiA9ICFyb290ID8gMSA6IC0xO1xuICAgIHBtLmlkZW50aXR5KCk7XG4gICAgcG0uYSA9IDEgLyBzb3VyY2VGcmFtZS53aWR0aCAqIDI7XG4gICAgcG0uZCA9IHNpZ24gKiAoMSAvIHNvdXJjZUZyYW1lLmhlaWdodCAqIDIpO1xuICAgIHBtLnR4ID0gLTEgLSBzb3VyY2VGcmFtZS54ICogcG0uYTtcbiAgICBwbS50eSA9IC1zaWduIC0gc291cmNlRnJhbWUueSAqIHBtLmQ7XG4gIH1cbiAgc2V0VHJhbnNmb3JtKF9tYXRyaXgpIHtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5Qcm9qZWN0aW9uU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgbmFtZTogXCJwcm9qZWN0aW9uXCJcbn07XG5leHRlbnNpb25zLmFkZChQcm9qZWN0aW9uU3lzdGVtKTtcblxuZXhwb3J0IHsgUHJvamVjdGlvblN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJvamVjdGlvblN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBCYXNlVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBGcmFtZWJ1ZmZlciB9IGZyb20gJy4uL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyLm1qcyc7XG5pbXBvcnQgeyBNU0FBX1FVQUxJVFksIE1JUE1BUF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmNsYXNzIEJhc2VSZW5kZXJUZXh0dXJlIGV4dGVuZHMgQmFzZVRleHR1cmUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IHdpZHRoID0gYXJndW1lbnRzWzBdO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gYXJndW1lbnRzWzFdO1xuICAgICAgY29uc3Qgc2NhbGVNb2RlID0gYXJndW1lbnRzWzJdO1xuICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1szXTtcbiAgICAgIG9wdGlvbnMgPSB7IHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbiB9O1xuICAgIH1cbiAgICBvcHRpb25zLndpZHRoID0gb3B0aW9ucy53aWR0aCB8fCAxMDA7XG4gICAgb3B0aW9ucy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCAxMDA7XG4gICAgb3B0aW9ucy5tdWx0aXNhbXBsZSA/PyAob3B0aW9ucy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FKTtcbiAgICBzdXBlcihudWxsLCBvcHRpb25zKTtcbiAgICB0aGlzLm1pcG1hcCA9IE1JUE1BUF9NT0RFUy5PRkY7XG4gICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgdGhpcy5jbGVhckNvbG9yID0gWzAsIDAsIDAsIDBdO1xuICAgIHRoaXMuZnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIodGhpcy5yZWFsV2lkdGgsIHRoaXMucmVhbEhlaWdodCkuYWRkQ29sb3JUZXh0dXJlKDAsIHRoaXMpO1xuICAgIHRoaXMuZnJhbWVidWZmZXIubXVsdGlzYW1wbGUgPSBvcHRpb25zLm11bHRpc2FtcGxlO1xuICAgIHRoaXMubWFza1N0YWNrID0gW107XG4gICAgdGhpcy5maWx0ZXJTdGFjayA9IFt7fV07XG4gIH1cbiAgcmVzaXplKGRlc2lyZWRXaWR0aCwgZGVzaXJlZEhlaWdodCkge1xuICAgIHRoaXMuZnJhbWVidWZmZXIucmVzaXplKGRlc2lyZWRXaWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgZGVzaXJlZEhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgdGhpcy5zZXRSZWFsU2l6ZSh0aGlzLmZyYW1lYnVmZmVyLndpZHRoLCB0aGlzLmZyYW1lYnVmZmVyLmhlaWdodCk7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLmZyYW1lYnVmZmVyLmRpc3Bvc2UoKTtcbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgdGhpcy5mcmFtZWJ1ZmZlci5kZXN0cm95RGVwdGhUZXh0dXJlKCk7XG4gICAgdGhpcy5mcmFtZWJ1ZmZlciA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmFzZVJlbmRlclRleHR1cmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VSZW5kZXJUZXh0dXJlLm1qcy5tYXBcbiIsImltcG9ydCB7IFRyYW5zZm9ybSwgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi9SZW5kZXJUZXh0dXJlLm1qcyc7XG5cbmNvbnN0IHRlbXBUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG5jbGFzcyBHZW5lcmF0ZVRleHR1cmVTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl90ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICB9XG4gIGdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyByZWdpb246IG1hbnVhbFJlZ2lvbiwgLi4udGV4dHVyZU9wdGlvbnMgfSA9IG9wdGlvbnMgfHwge307XG4gICAgY29uc3QgcmVnaW9uID0gbWFudWFsUmVnaW9uIHx8IGRpc3BsYXlPYmplY3QuZ2V0TG9jYWxCb3VuZHMobnVsbCwgdHJ1ZSk7XG4gICAgaWYgKHJlZ2lvbi53aWR0aCA9PT0gMClcbiAgICAgIHJlZ2lvbi53aWR0aCA9IDE7XG4gICAgaWYgKHJlZ2lvbi5oZWlnaHQgPT09IDApXG4gICAgICByZWdpb24uaGVpZ2h0ID0gMTtcbiAgICBjb25zdCByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoe1xuICAgICAgd2lkdGg6IHJlZ2lvbi53aWR0aCxcbiAgICAgIGhlaWdodDogcmVnaW9uLmhlaWdodCxcbiAgICAgIC4uLnRleHR1cmVPcHRpb25zXG4gICAgfSk7XG4gICAgdGhpcy5fdGVtcE1hdHJpeC50eCA9IC1yZWdpb24ueDtcbiAgICB0aGlzLl90ZW1wTWF0cml4LnR5ID0gLXJlZ2lvbi55O1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGRpc3BsYXlPYmplY3QudHJhbnNmb3JtO1xuICAgIGRpc3BsYXlPYmplY3QudHJhbnNmb3JtID0gdGVtcFRyYW5zZm9ybTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0LCB7XG4gICAgICByZW5kZXJUZXh0dXJlLFxuICAgICAgdHJhbnNmb3JtOiB0aGlzLl90ZW1wTWF0cml4LFxuICAgICAgc2tpcFVwZGF0ZVRyYW5zZm9ybTogISFkaXNwbGF5T2JqZWN0LnBhcmVudCxcbiAgICAgIGJsaXQ6IHRydWVcbiAgICB9KTtcbiAgICBkaXNwbGF5T2JqZWN0LnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbiAgfVxuICBkZXN0cm95KCkge1xuICB9XG59XG5HZW5lcmF0ZVRleHR1cmVTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1JlbmRlcmVyU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwidGV4dHVyZUdlbmVyYXRvclwiXG59O1xuZXh0ZW5zaW9ucy5hZGQoR2VuZXJhdGVUZXh0dXJlU3lzdGVtKTtcblxuZXhwb3J0IHsgR2VuZXJhdGVUZXh0dXJlU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW5lcmF0ZVRleHR1cmVTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgQmFzZVJlbmRlclRleHR1cmUgfSBmcm9tICcuL0Jhc2VSZW5kZXJUZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvVGV4dHVyZS5tanMnO1xuXG5jbGFzcyBSZW5kZXJUZXh0dXJlIGV4dGVuZHMgVGV4dHVyZSB7XG4gIGNvbnN0cnVjdG9yKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkge1xuICAgIHN1cGVyKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSk7XG4gICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgdGhpcy5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJQb29sS2V5ID0gbnVsbDtcbiAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICB9XG4gIGdldCBmcmFtZWJ1ZmZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcjtcbiAgfVxuICBnZXQgbXVsdGlzYW1wbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJhbWVidWZmZXIubXVsdGlzYW1wbGU7XG4gIH1cbiAgc2V0IG11bHRpc2FtcGxlKHZhbHVlKSB7XG4gICAgdGhpcy5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA9IHZhbHVlO1xuICB9XG4gIHJlc2l6ZShkZXNpcmVkV2lkdGgsIGRlc2lyZWRIZWlnaHQsIHJlc2l6ZUJhc2VUZXh0dXJlID0gdHJ1ZSkge1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLnJvdW5kKGRlc2lyZWRXaWR0aCAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLnJvdW5kKGRlc2lyZWRIZWlnaHQgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgdGhpcy52YWxpZCA9IHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xuICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gdGhpcy5vcmlnLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gdGhpcy5vcmlnLmhlaWdodCA9IGhlaWdodDtcbiAgICBpZiAocmVzaXplQmFzZVRleHR1cmUpIHtcbiAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICB9XG4gIHNldFJlc29sdXRpb24ocmVzb2x1dGlvbikge1xuICAgIGNvbnN0IHsgYmFzZVRleHR1cmUgfSA9IHRoaXM7XG4gICAgaWYgKGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPT09IHJlc29sdXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICB0aGlzLnJlc2l6ZShiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCBmYWxzZSk7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKG5ldyBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUmVuZGVyVGV4dHVyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGV4dHVyZS5tanMubWFwXG4iLCJpbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi9SZW5kZXJUZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBCYXNlUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4vQmFzZVJlbmRlclRleHR1cmUubWpzJztcbmltcG9ydCB7IG5leHRQb3cyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuY2xhc3MgUmVuZGVyVGV4dHVyZVBvb2wge1xuICBjb25zdHJ1Y3Rvcih0ZXh0dXJlT3B0aW9ucykge1xuICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICB0aGlzLnRleHR1cmVPcHRpb25zID0gdGV4dHVyZU9wdGlvbnMgfHwge307XG4gICAgdGhpcy5lbmFibGVGdWxsU2NyZWVuID0gZmFsc2U7XG4gICAgdGhpcy5fcGl4ZWxzV2lkdGggPSAwO1xuICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IDA7XG4gIH1cbiAgY3JlYXRlVGV4dHVyZShyZWFsV2lkdGgsIHJlYWxIZWlnaHQsIG11bHRpc2FtcGxlID0gTVNBQV9RVUFMSVRZLk5PTkUpIHtcbiAgICBjb25zdCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZShPYmplY3QuYXNzaWduKHtcbiAgICAgIHdpZHRoOiByZWFsV2lkdGgsXG4gICAgICBoZWlnaHQ6IHJlYWxIZWlnaHQsXG4gICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgbXVsdGlzYW1wbGVcbiAgICB9LCB0aGlzLnRleHR1cmVPcHRpb25zKSk7XG4gICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAgfVxuICBnZXRPcHRpbWFsVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uID0gMSwgbXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORSkge1xuICAgIGxldCBrZXk7XG4gICAgbWluV2lkdGggPSBNYXRoLmNlaWwobWluV2lkdGggKiByZXNvbHV0aW9uIC0gMWUtNik7XG4gICAgbWluSGVpZ2h0ID0gTWF0aC5jZWlsKG1pbkhlaWdodCAqIHJlc29sdXRpb24gLSAxZS02KTtcbiAgICBpZiAoIXRoaXMuZW5hYmxlRnVsbFNjcmVlbiB8fCBtaW5XaWR0aCAhPT0gdGhpcy5fcGl4ZWxzV2lkdGggfHwgbWluSGVpZ2h0ICE9PSB0aGlzLl9waXhlbHNIZWlnaHQpIHtcbiAgICAgIG1pbldpZHRoID0gbmV4dFBvdzIobWluV2lkdGgpO1xuICAgICAgbWluSGVpZ2h0ID0gbmV4dFBvdzIobWluSGVpZ2h0KTtcbiAgICAgIGtleSA9ICgobWluV2lkdGggJiA2NTUzNSkgPDwgMTYgfCBtaW5IZWlnaHQgJiA2NTUzNSkgPj4+IDA7XG4gICAgICBpZiAobXVsdGlzYW1wbGUgPiAxKSB7XG4gICAgICAgIGtleSArPSBtdWx0aXNhbXBsZSAqIDQyOTQ5NjcyOTY7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IG11bHRpc2FtcGxlID4gMSA/IC1tdWx0aXNhbXBsZSA6IC0xO1xuICAgIH1cbiAgICBpZiAoIXRoaXMudGV4dHVyZVBvb2xba2V5XSkge1xuICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldID0gW107XG4gICAgfVxuICAgIGxldCByZW5kZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbFtrZXldLnBvcCgpO1xuICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0LCBtdWx0aXNhbXBsZSk7XG4gICAgfVxuICAgIHJlbmRlclRleHR1cmUuZmlsdGVyUG9vbEtleSA9IGtleTtcbiAgICByZW5kZXJUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gIH1cbiAgZ2V0RmlsdGVyVGV4dHVyZShpbnB1dCwgcmVzb2x1dGlvbiwgbXVsdGlzYW1wbGUpIHtcbiAgICBjb25zdCBmaWx0ZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24sIG11bHRpc2FtcGxlIHx8IE1TQUFfUVVBTElUWS5OT05FKTtcbiAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG4gICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG4gIH1cbiAgcmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKSB7XG4gICAgY29uc3Qga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuICAgIHJlbmRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XS5wdXNoKHJlbmRlclRleHR1cmUpO1xuICB9XG4gIHJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGV4dHVyZSkge1xuICAgIHRoaXMucmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgfVxuICBjbGVhcihkZXN0cm95VGV4dHVyZXMpIHtcbiAgICBkZXN0cm95VGV4dHVyZXMgPSBkZXN0cm95VGV4dHVyZXMgIT09IGZhbHNlO1xuICAgIGlmIChkZXN0cm95VGV4dHVyZXMpIHtcbiAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnRleHR1cmVQb29sKSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtpXTtcbiAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICB9XG4gIHNldFNjcmVlblNpemUoc2l6ZSkge1xuICAgIGlmIChzaXplLndpZHRoID09PSB0aGlzLl9waXhlbHNXaWR0aCAmJiBzaXplLmhlaWdodCA9PT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IHNpemUud2lkdGggPiAwICYmIHNpemUuaGVpZ2h0ID4gMDtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy50ZXh0dXJlUG9vbCkge1xuICAgICAgaWYgKCEoTnVtYmVyKGkpIDwgMCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMudGV4dHVyZVBvb2xbaV07XG4gICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMudGV4dHVyZVBvb2xbaV0gPSBbXTtcbiAgICB9XG4gICAgdGhpcy5fcGl4ZWxzV2lkdGggPSBzaXplLndpZHRoO1xuICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHNpemUuaGVpZ2h0O1xuICB9XG59XG5SZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZID0gLTE7XG5cbmV4cG9ydCB7IFJlbmRlclRleHR1cmVQb29sIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUZXh0dXJlUG9vbC5tanMubWFwXG4iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuY29uc3QgdGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5jb25zdCB0ZW1wUmVjdDIgPSBuZXcgUmVjdGFuZ2xlKCk7XG5jbGFzcyBSZW5kZXJUZXh0dXJlU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5kZWZhdWx0TWFza1N0YWNrID0gW107XG4gICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICB0aGlzLnNvdXJjZUZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB0aGlzLnZpZXdwb3J0RnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gIH1cbiAgYmluZChyZW5kZXJUZXh0dXJlID0gbnVsbCwgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgdGhpcy5jdXJyZW50ID0gcmVuZGVyVGV4dHVyZTtcbiAgICBsZXQgYmFzZVRleHR1cmU7XG4gICAgbGV0IGZyYW1lYnVmZmVyO1xuICAgIGxldCByZXNvbHV0aW9uO1xuICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICByZXNvbHV0aW9uID0gYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgIGlmICghc291cmNlRnJhbWUpIHtcbiAgICAgICAgdGVtcFJlY3Qud2lkdGggPSByZW5kZXJUZXh0dXJlLmZyYW1lLndpZHRoO1xuICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSByZW5kZXJUZXh0dXJlLmZyYW1lLmhlaWdodDtcbiAgICAgICAgc291cmNlRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgIH1cbiAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSkge1xuICAgICAgICB0ZW1wUmVjdDIueCA9IHJlbmRlclRleHR1cmUuZnJhbWUueDtcbiAgICAgICAgdGVtcFJlY3QyLnkgPSByZW5kZXJUZXh0dXJlLmZyYW1lLnk7XG4gICAgICAgIHRlbXBSZWN0Mi53aWR0aCA9IHNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICB0ZW1wUmVjdDIuaGVpZ2h0ID0gc291cmNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3QyO1xuICAgICAgfVxuICAgICAgZnJhbWVidWZmZXIgPSBiYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICBpZiAoIXNvdXJjZUZyYW1lKSB7XG4gICAgICAgIHRlbXBSZWN0LndpZHRoID0gcmVuZGVyZXIuX3ZpZXcuc2NyZWVuLndpZHRoO1xuICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSByZW5kZXJlci5fdmlldy5zY3JlZW4uaGVpZ2h0O1xuICAgICAgICBzb3VyY2VGcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgfVxuICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgdmlld3BvcnRGcmFtZSA9IHRoaXMudmlld3BvcnRGcmFtZTtcbiAgICB2aWV3cG9ydEZyYW1lLnggPSBkZXN0aW5hdGlvbkZyYW1lLnggKiByZXNvbHV0aW9uO1xuICAgIHZpZXdwb3J0RnJhbWUueSA9IGRlc3RpbmF0aW9uRnJhbWUueSAqIHJlc29sdXRpb247XG4gICAgdmlld3BvcnRGcmFtZS53aWR0aCA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgIHZpZXdwb3J0RnJhbWUuaGVpZ2h0ID0gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgdmlld3BvcnRGcmFtZS55ID0gcmVuZGVyZXIudmlldy5oZWlnaHQgLSAodmlld3BvcnRGcmFtZS55ICsgdmlld3BvcnRGcmFtZS5oZWlnaHQpO1xuICAgIH1cbiAgICB2aWV3cG9ydEZyYW1lLmNlaWwoKTtcbiAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQoZnJhbWVidWZmZXIsIHZpZXdwb3J0RnJhbWUpO1xuICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi51cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sICFmcmFtZWJ1ZmZlcik7XG4gICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIubWFzay5zZXRNYXNrU3RhY2soYmFzZVRleHR1cmUubWFza1N0YWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayh0aGlzLmRlZmF1bHRNYXNrU3RhY2spO1xuICAgIH1cbiAgICB0aGlzLnNvdXJjZUZyYW1lLmNvcHlGcm9tKHNvdXJjZUZyYW1lKTtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuY29weUZyb20oZGVzdGluYXRpb25GcmFtZSk7XG4gIH1cbiAgY2xlYXIoY2xlYXJDb2xvciwgbWFzaykge1xuICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY3VycmVudC5iYXNlVGV4dHVyZS5jbGVhckNvbG9yO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLnJlbmRlcmVyLmJhY2tncm91bmQuY29sb3JSZ2JhO1xuICAgIH1cbiAgICBjb25zdCBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy5kZXN0aW5hdGlvbkZyYW1lO1xuICAgIGNvbnN0IGJhc2VGcmFtZSA9IHRoaXMuY3VycmVudCA/IHRoaXMuY3VycmVudC5iYXNlVGV4dHVyZSA6IHRoaXMucmVuZGVyZXIuX3ZpZXcuc2NyZWVuO1xuICAgIGNvbnN0IGNsZWFyTWFzayA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggIT09IGJhc2VGcmFtZS53aWR0aCB8fCBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAhPT0gYmFzZUZyYW1lLmhlaWdodDtcbiAgICBpZiAoY2xlYXJNYXNrKSB7XG4gICAgICBsZXQgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnZpZXdwb3J0RnJhbWU7XG4gICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcbiAgICAgIHkgPSBNYXRoLnJvdW5kKHkpO1xuICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2wuZW5hYmxlKHRoaXMucmVuZGVyZXIuZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3Nvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5jbGVhcihjbGVhckNvbG9yWzBdLCBjbGVhckNvbG9yWzFdLCBjbGVhckNvbG9yWzJdLCBjbGVhckNvbG9yWzNdLCBtYXNrKTtcbiAgICBpZiAoY2xlYXJNYXNrKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucG9wKCk7XG4gICAgfVxuICB9XG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLmJpbmQobnVsbCk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5iaW5kKG51bGwpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cblJlbmRlclRleHR1cmVTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcInJlbmRlclRleHR1cmVcIlxufTtcbmV4dGVuc2lvbnMuYWRkKFJlbmRlclRleHR1cmVTeXN0ZW0pO1xuXG5leHBvcnQgeyBSZW5kZXJUZXh0dXJlU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUZXh0dXJlU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuY2xhc3MgT2JqZWN0UmVuZGVyZXJTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICByZW5kZXIoZGlzcGxheU9iamVjdCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBsZXQgcmVuZGVyVGV4dHVyZTtcbiAgICBsZXQgY2xlYXI7XG4gICAgbGV0IHRyYW5zZm9ybTtcbiAgICBsZXQgc2tpcFVwZGF0ZVRyYW5zZm9ybTtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgcmVuZGVyVGV4dHVyZSA9IG9wdGlvbnMucmVuZGVyVGV4dHVyZTtcbiAgICAgIGNsZWFyID0gb3B0aW9ucy5jbGVhcjtcbiAgICAgIHRyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuICAgICAgc2tpcFVwZGF0ZVRyYW5zZm9ybSA9IG9wdGlvbnMuc2tpcFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuICAgIHJlbmRlcmVyLnJ1bm5lcnMucHJlcmVuZGVyLmVtaXQoKTtcbiAgICByZW5kZXJlci5lbWl0KFwicHJlcmVuZGVyXCIpO1xuICAgIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIGlmIChyZW5kZXJlci5jb250ZXh0LmlzTG9zdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICB9XG4gICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICBjb25zdCBjYWNoZVBhcmVudCA9IGRpc3BsYXlPYmplY3QuZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAgZGlzcGxheU9iamVjdC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgIGRpc3BsYXlPYmplY3QuZGlzYWJsZVRlbXBQYXJlbnQoY2FjaGVQYXJlbnQpO1xuICAgIH1cbiAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgcmVuZGVyZXIuYmF0Y2guY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgaWYgKGNsZWFyID8/IHJlbmRlcmVyLmJhY2tncm91bmQuY2xlYXJCZWZvcmVSZW5kZXIpIHtcbiAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9XG4gICAgZGlzcGxheU9iamVjdC5yZW5kZXIocmVuZGVyZXIpO1xuICAgIHJlbmRlcmVyLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO1xuICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICBpZiAob3B0aW9ucy5ibGl0KSB7XG4gICAgICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJsaXQoKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgfVxuICAgIHJlbmRlcmVyLnJ1bm5lcnMucG9zdHJlbmRlci5lbWl0KCk7XG4gICAgcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBudWxsO1xuICAgIHJlbmRlcmVyLmVtaXQoXCJwb3N0cmVuZGVyXCIpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICB9XG59XG5PYmplY3RSZW5kZXJlclN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwib2JqZWN0UmVuZGVyZXJcIlxufTtcbmV4dGVuc2lvbnMuYWRkKE9iamVjdFJlbmRlcmVyU3lzdGVtKTtcblxuZXhwb3J0IHsgT2JqZWN0UmVuZGVyZXJTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdFJlbmRlcmVyU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5zZXR0aW5ncy5QUkVGRVJfRU5WID0gRU5WLldFQkdMMjtcbnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFID0gZmFsc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5tanMubWFwXG4iLCJjbGFzcyBJR0xVbmlmb3JtRGF0YSB7XG59XG5jbGFzcyBHTFByb2dyYW0ge1xuICBjb25zdHJ1Y3Rvcihwcm9ncmFtLCB1bmlmb3JtRGF0YSkge1xuICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgdGhpcy51bmlmb3JtRGF0YSA9IHVuaWZvcm1EYXRhO1xuICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IHt9O1xuICAgIHRoaXMudW5pZm9ybURpcnR5R3JvdXBzID0ge307XG4gICAgdGhpcy51bmlmb3JtQnVmZmVyQmluZGluZ3MgPSB7fTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMudW5pZm9ybURhdGEgPSBudWxsO1xuICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IG51bGw7XG4gICAgdGhpcy51bmlmb3JtRGlydHlHcm91cHMgPSBudWxsO1xuICAgIHRoaXMudW5pZm9ybUJ1ZmZlckJpbmRpbmdzID0gbnVsbDtcbiAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEdMUHJvZ3JhbSwgSUdMVW5pZm9ybURhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdMUHJvZ3JhbS5tanMubWFwXG4iLCJpbXBvcnQgJy4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFByb2dyYW1DYWNoZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCBkZWZhdWx0RnJhZ21lbnQgZnJvbSAnLi9kZWZhdWx0UHJvZ3JhbS5tanMnO1xuaW1wb3J0IGRlZmF1bHRWZXJ0ZXggZnJvbSAnLi9kZWZhdWx0UHJvZ3JhbTIubWpzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUFJFQ0lTSU9OIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IHNldFByZWNpc2lvbiB9IGZyb20gJy4vdXRpbHMvc2V0UHJlY2lzaW9uLm1qcyc7XG5pbXBvcnQgeyBnZXRNYXhGcmFnbWVudFByZWNpc2lvbiB9IGZyb20gJy4vdXRpbHMvZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24ubWpzJztcblxubGV0IFVJRCA9IDA7XG5jb25zdCBuYW1lQ2FjaGUgPSB7fTtcbmNsYXNzIFByb2dyYW0ge1xuICBjb25zdHJ1Y3Rvcih2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lID0gXCJwaXhpLXNoYWRlclwiLCBleHRyYSA9IHt9KSB7XG4gICAgdGhpcy5leHRyYSA9IHt9O1xuICAgIHRoaXMuaWQgPSBVSUQrKztcbiAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG4gICAgdGhpcy5mcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjIHx8IFByb2dyYW0uZGVmYXVsdEZyYWdtZW50U3JjO1xuICAgIHRoaXMudmVydGV4U3JjID0gdGhpcy52ZXJ0ZXhTcmMudHJpbSgpO1xuICAgIHRoaXMuZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdtZW50U3JjLnRyaW0oKTtcbiAgICB0aGlzLmV4dHJhID0gZXh0cmE7XG4gICAgaWYgKHRoaXMudmVydGV4U3JjLnN1YnN0cmluZygwLCA4KSAhPT0gXCIjdmVyc2lvblwiKSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKTtcbiAgICAgIGlmIChuYW1lQ2FjaGVbbmFtZV0pIHtcbiAgICAgICAgbmFtZUNhY2hlW25hbWVdKys7XG4gICAgICAgIG5hbWUgKz0gYC0ke25hbWVDYWNoZVtuYW1lXX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmFtZUNhY2hlW25hbWVdID0gMTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmVydGV4U3JjID0gYCNkZWZpbmUgU0hBREVSX05BTUUgJHtuYW1lfVxuJHt0aGlzLnZlcnRleFNyY31gO1xuICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IGAjZGVmaW5lIFNIQURFUl9OQU1FICR7bmFtZX1cbiR7dGhpcy5mcmFnbWVudFNyY31gO1xuICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSBzZXRQcmVjaXNpb24odGhpcy52ZXJ0ZXhTcmMsIHNldHRpbmdzLlBSRUNJU0lPTl9WRVJURVgsIFBSRUNJU0lPTi5ISUdIKTtcbiAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBzZXRQcmVjaXNpb24odGhpcy5mcmFnbWVudFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5ULCBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpKTtcbiAgICB9XG4gICAgdGhpcy5nbFByb2dyYW1zID0ge307XG4gICAgdGhpcy5zeW5jVW5pZm9ybXMgPSBudWxsO1xuICB9XG4gIHN0YXRpYyBnZXQgZGVmYXVsdFZlcnRleFNyYygpIHtcbiAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgfVxuICBzdGF0aWMgZ2V0IGRlZmF1bHRGcmFnbWVudFNyYygpIHtcbiAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50O1xuICB9XG4gIHN0YXRpYyBmcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpIHtcbiAgICBjb25zdCBrZXkgPSB2ZXJ0ZXhTcmMgKyBmcmFnbWVudFNyYztcbiAgICBsZXQgcHJvZ3JhbSA9IFByb2dyYW1DYWNoZVtrZXldO1xuICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgUHJvZ3JhbUNhY2hlW2tleV0gPSBwcm9ncmFtID0gbmV3IFByb2dyYW0odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9ncmFtO1xuICB9XG59XG5cbmV4cG9ydCB7IFByb2dyYW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb2dyYW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgUHJvZ3JhbSB9IGZyb20gJy4vUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5cbmNsYXNzIFNoYWRlciB7XG4gIGNvbnN0cnVjdG9yKHByb2dyYW0sIHVuaWZvcm1zKSB7XG4gICAgdGhpcy51bmlmb3JtQmluZENvdW50ID0gMDtcbiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgIGlmICh1bmlmb3Jtcykge1xuICAgICAgaWYgKHVuaWZvcm1zIGluc3RhbmNlb2YgVW5pZm9ybUdyb3VwKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gdW5pZm9ybXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAoe30pO1xuICAgIH1cbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKFwiZGlzcG9zZVNoYWRlclwiKTtcbiAgfVxuICBjaGVja1VuaWZvcm1FeGlzdHMobmFtZSwgZ3JvdXApIHtcbiAgICBpZiAoZ3JvdXAudW5pZm9ybXNbbmFtZV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGkgaW4gZ3JvdXAudW5pZm9ybXMpIHtcbiAgICAgIGNvbnN0IHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcbiAgICAgIGlmICh1bmlmb3JtLmdyb3VwKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrVW5pZm9ybUV4aXN0cyhuYW1lLCB1bmlmb3JtKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbnVsbDtcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzKTtcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZGVzdHJveSgpO1xuICB9XG4gIGdldCB1bmlmb3JtcygpIHtcbiAgICByZXR1cm4gdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXM7XG4gIH1cbiAgc3RhdGljIGZyb20odmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpIHtcbiAgICBjb25zdCBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgIHJldHVybiBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgfVxufVxuXG5leHBvcnQgeyBTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNoYWRlci5tanMubWFwXG4iLCJpbXBvcnQgJy4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMgfSBmcm9tICcuL3V0aWxzL2dlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlUHJvZ3JhbSB9IGZyb20gJy4vdXRpbHMvZ2VuZXJhdGVQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyB1bnNhZmVFdmFsU3VwcG9ydGVkIH0gZnJvbSAnLi91dGlscy91bnNhZmVFdmFsU3VwcG9ydGVkLm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVuaWZvcm1zU3luYyB9IGZyb20gJy4vdXRpbHMvZ2VuZXJhdGVVbmlmb3Jtc1N5bmMubWpzJztcblxubGV0IFVJRCA9IDA7XG5jb25zdCBkZWZhdWx0U3luY0RhdGEgPSB7IHRleHR1cmVDb3VudDogMCwgdWJvQ291bnQ6IDAgfTtcbmNsYXNzIFNoYWRlclN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5zeXN0ZW1DaGVjaygpO1xuICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuICAgIHRoaXMuY2FjaGUgPSB7fTtcbiAgICB0aGlzLl91Ym9DYWNoZSA9IHt9O1xuICAgIHRoaXMuaWQgPSBVSUQrKztcbiAgfVxuICBzeXN0ZW1DaGVjaygpIHtcbiAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBhbGxvdyB1bnNhZmUtZXZhbCwgcGxlYXNlIHVzZSBAcGl4aS91bnNhZmUtZXZhbCBtb2R1bGUgdG8gZW5hYmxlIHN1cHBvcnQuXCIpO1xuICAgIH1cbiAgfVxuICBjb250ZXh0Q2hhbmdlKGdsKSB7XG4gICAgdGhpcy5nbCA9IGdsO1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuICBiaW5kKHNoYWRlciwgZG9udFN5bmMpIHtcbiAgICBzaGFkZXIuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMgPSB0aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zO1xuICAgIGNvbnN0IHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICBjb25zdCBnbFByb2dyYW0gPSBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gfHwgdGhpcy5nZW5lcmF0ZVByb2dyYW0oc2hhZGVyKTtcbiAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcbiAgICBpZiAodGhpcy5wcm9ncmFtICE9PSBwcm9ncmFtKSB7XG4gICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKGdsUHJvZ3JhbS5wcm9ncmFtKTtcbiAgICB9XG4gICAgaWYgKCFkb250U3luYykge1xuICAgICAgZGVmYXVsdFN5bmNEYXRhLnRleHR1cmVDb3VudCA9IDA7XG4gICAgICBkZWZhdWx0U3luY0RhdGEudWJvQ291bnQgPSAwO1xuICAgICAgdGhpcy5zeW5jVW5pZm9ybUdyb3VwKHNoYWRlci51bmlmb3JtR3JvdXAsIGRlZmF1bHRTeW5jRGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBnbFByb2dyYW07XG4gIH1cbiAgc2V0VW5pZm9ybXModW5pZm9ybXMpIHtcbiAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgIGNvbnN0IGdsUHJvZ3JhbSA9IHNoYWRlci5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgIHNoYWRlci5zeW5jVW5pZm9ybXMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCB1bmlmb3JtcywgdGhpcy5yZW5kZXJlcik7XG4gIH1cbiAgc3luY1VuaWZvcm1Hcm91cChncm91cCwgc3luY0RhdGEpIHtcbiAgICBjb25zdCBnbFByb2dyYW0gPSB0aGlzLmdldEdsUHJvZ3JhbSgpO1xuICAgIGlmICghZ3JvdXAuc3RhdGljIHx8IGdyb3VwLmRpcnR5SWQgIT09IGdsUHJvZ3JhbS51bmlmb3JtRGlydHlHcm91cHNbZ3JvdXAuaWRdKSB7XG4gICAgICBnbFByb2dyYW0udW5pZm9ybURpcnR5R3JvdXBzW2dyb3VwLmlkXSA9IGdyb3VwLmRpcnR5SWQ7XG4gICAgICB0aGlzLnN5bmNVbmlmb3Jtcyhncm91cCwgZ2xQcm9ncmFtLCBzeW5jRGF0YSk7XG4gICAgfVxuICB9XG4gIHN5bmNVbmlmb3Jtcyhncm91cCwgZ2xQcm9ncmFtLCBzeW5jRGF0YSkge1xuICAgIGNvbnN0IHN5bmNGdW5jID0gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuY3JlYXRlU3luY0dyb3Vwcyhncm91cCk7XG4gICAgc3luY0Z1bmMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCBncm91cC51bmlmb3JtcywgdGhpcy5yZW5kZXJlciwgc3luY0RhdGEpO1xuICB9XG4gIGNyZWF0ZVN5bmNHcm91cHMoZ3JvdXApIHtcbiAgICBjb25zdCBpZCA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhLCBcInVcIik7XG4gICAgaWYgKCF0aGlzLmNhY2hlW2lkXSkge1xuICAgICAgdGhpcy5jYWNoZVtpZF0gPSBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgfVxuICAgIGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXSA9IHRoaXMuY2FjaGVbaWRdO1xuICAgIHJldHVybiBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF07XG4gIH1cbiAgc3luY1VuaWZvcm1CdWZmZXJHcm91cChncm91cCwgbmFtZSkge1xuICAgIGNvbnN0IGdsUHJvZ3JhbSA9IHRoaXMuZ2V0R2xQcm9ncmFtKCk7XG4gICAgaWYgKCFncm91cC5zdGF0aWMgfHwgZ3JvdXAuZGlydHlJZCAhPT0gMCB8fCAhZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdKSB7XG4gICAgICBncm91cC5kaXJ0eUlkID0gMDtcbiAgICAgIGNvbnN0IHN5bmNGdW5jID0gZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdIHx8IHRoaXMuY3JlYXRlU3luY0J1ZmZlckdyb3VwKGdyb3VwLCBnbFByb2dyYW0sIG5hbWUpO1xuICAgICAgZ3JvdXAuYnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgc3luY0Z1bmMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCBncm91cC51bmlmb3JtcywgdGhpcy5yZW5kZXJlciwgZGVmYXVsdFN5bmNEYXRhLCBncm91cC5idWZmZXIpO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcmVyLmJ1ZmZlci5iaW5kQnVmZmVyQmFzZShncm91cC5idWZmZXIsIGdsUHJvZ3JhbS51bmlmb3JtQnVmZmVyQmluZGluZ3NbbmFtZV0pO1xuICB9XG4gIGNyZWF0ZVN5bmNCdWZmZXJHcm91cChncm91cCwgZ2xQcm9ncmFtLCBuYW1lKSB7XG4gICAgY29uc3QgeyBnbCB9ID0gdGhpcy5yZW5kZXJlcjtcbiAgICB0aGlzLnJlbmRlcmVyLmJ1ZmZlci5iaW5kKGdyb3VwLmJ1ZmZlcik7XG4gICAgY29uc3QgdW5pZm9ybUJsb2NrSW5kZXggPSB0aGlzLmdsLmdldFVuaWZvcm1CbG9ja0luZGV4KGdsUHJvZ3JhbS5wcm9ncmFtLCBuYW1lKTtcbiAgICBnbFByb2dyYW0udW5pZm9ybUJ1ZmZlckJpbmRpbmdzW25hbWVdID0gdGhpcy5zaGFkZXIudW5pZm9ybUJpbmRDb3VudDtcbiAgICBnbC51bmlmb3JtQmxvY2tCaW5kaW5nKGdsUHJvZ3JhbS5wcm9ncmFtLCB1bmlmb3JtQmxvY2tJbmRleCwgdGhpcy5zaGFkZXIudW5pZm9ybUJpbmRDb3VudCk7XG4gICAgdGhpcy5zaGFkZXIudW5pZm9ybUJpbmRDb3VudCsrO1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRTaWduYXR1cmUoZ3JvdXAsIHRoaXMuc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEsIFwidWJvXCIpO1xuICAgIGxldCB1Ym9EYXRhID0gdGhpcy5fdWJvQ2FjaGVbaWRdO1xuICAgIGlmICghdWJvRGF0YSkge1xuICAgICAgdWJvRGF0YSA9IHRoaXMuX3Vib0NhY2hlW2lkXSA9IGdlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMoZ3JvdXAsIHRoaXMuc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEpO1xuICAgIH1cbiAgICBpZiAoZ3JvdXAuYXV0b01hbmFnZSkge1xuICAgICAgY29uc3QgZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodWJvRGF0YS5zaXplIC8gNCk7XG4gICAgICBncm91cC5idWZmZXIudXBkYXRlKGRhdGEpO1xuICAgIH1cbiAgICBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0gPSB1Ym9EYXRhLnN5bmNGdW5jO1xuICAgIHJldHVybiBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF07XG4gIH1cbiAgZ2V0U2lnbmF0dXJlKGdyb3VwLCB1bmlmb3JtRGF0YSwgcHJlRml4KSB7XG4gICAgY29uc3QgdW5pZm9ybXMgPSBncm91cC51bmlmb3JtcztcbiAgICBjb25zdCBzdHJpbmdzID0gW2Ake3ByZUZpeH0tYF07XG4gICAgZm9yIChjb25zdCBpIGluIHVuaWZvcm1zKSB7XG4gICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICBpZiAodW5pZm9ybURhdGFbaV0pIHtcbiAgICAgICAgc3RyaW5ncy5wdXNoKHVuaWZvcm1EYXRhW2ldLnR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyaW5ncy5qb2luKFwiLVwiKTtcbiAgfVxuICBnZXRHbFByb2dyYW0oKSB7XG4gICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaGFkZXIucHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBnZW5lcmF0ZVByb2dyYW0oc2hhZGVyKSB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgIGNvbnN0IHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICBjb25zdCBnbFByb2dyYW0gPSBnZW5lcmF0ZVByb2dyYW0oZ2wsIHByb2dyYW0pO1xuICAgIHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IGdsUHJvZ3JhbTtcbiAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICB9XG4gIGRpc3Bvc2VTaGFkZXIoc2hhZGVyKSB7XG4gICAgaWYgKHRoaXMuc2hhZGVyID09PSBzaGFkZXIpIHtcbiAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gIH1cbn1cblNoYWRlclN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwic2hhZGVyXCJcbn07XG5leHRlbnNpb25zLmFkZChTaGFkZXJTeXN0ZW0pO1xuXG5leHBvcnQgeyBTaGFkZXJTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNoYWRlclN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBCVUZGRVJfVFlQRSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICcuLi9nZW9tZXRyeS9CdWZmZXIubWpzJztcblxubGV0IFVJRCA9IDA7XG5jbGFzcyBVbmlmb3JtR3JvdXAge1xuICBjb25zdHJ1Y3Rvcih1bmlmb3JtcywgaXNTdGF0aWMsIGlzVWJvKSB7XG4gICAgdGhpcy5ncm91cCA9IHRydWU7XG4gICAgdGhpcy5zeW5jVW5pZm9ybXMgPSB7fTtcbiAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgIHRoaXMuaWQgPSBVSUQrKztcbiAgICB0aGlzLnN0YXRpYyA9ICEhaXNTdGF0aWM7XG4gICAgdGhpcy51Ym8gPSAhIWlzVWJvO1xuICAgIGlmICh1bmlmb3JtcyBpbnN0YW5jZW9mIEJ1ZmZlcikge1xuICAgICAgdGhpcy5idWZmZXIgPSB1bmlmb3JtcztcbiAgICAgIHRoaXMuYnVmZmVyLnR5cGUgPSBCVUZGRVJfVFlQRS5VTklGT1JNX0JVRkZFUjtcbiAgICAgIHRoaXMuYXV0b01hbmFnZSA9IGZhbHNlO1xuICAgICAgdGhpcy51Ym8gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVuaWZvcm1zID0gdW5pZm9ybXM7XG4gICAgICBpZiAodGhpcy51Ym8pIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgQnVmZmVyKG5ldyBGbG9hdDMyQXJyYXkoMSkpO1xuICAgICAgICB0aGlzLmJ1ZmZlci50eXBlID0gQlVGRkVSX1RZUEUuVU5JRk9STV9CVUZGRVI7XG4gICAgICAgIHRoaXMuYXV0b01hbmFnZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICBpZiAoIXRoaXMuYXV0b01hbmFnZSAmJiB0aGlzLmJ1ZmZlcikge1xuICAgICAgdGhpcy5idWZmZXIudXBkYXRlKCk7XG4gICAgfVxuICB9XG4gIGFkZChuYW1lLCB1bmlmb3JtcywgX3N0YXRpYykge1xuICAgIGlmICghdGhpcy51Ym8pIHtcbiAgICAgIHRoaXMudW5pZm9ybXNbbmFtZV0gPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW1VuaWZvcm1Hcm91cF0gdW5pZm9ybSBncm91cHMgaW4gdWJvIG1vZGUgY2Fubm90IGJlIG1vZGlmaWVkLCBvciBoYXZlIHVuaWZvcm0gZ3JvdXBzIG5lc3RlZCBpbiB0aGVtXCIpO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgZnJvbSh1bmlmb3JtcywgX3N0YXRpYywgX3Vibykge1xuICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljLCBfdWJvKTtcbiAgfVxuICBzdGF0aWMgdWJvRnJvbSh1bmlmb3JtcywgX3N0YXRpYykge1xuICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljID8/IHRydWUsIHRydWUpO1xuICB9XG59XG5cbmV4cG9ydCB7IFVuaWZvcm1Hcm91cCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5pZm9ybUdyb3VwLm1qcy5tYXBcbiIsInZhciBkZWZhdWx0RnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgKj0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XCI7XG5cbmV4cG9ydCB7IGRlZmF1bHRGcmFnbWVudCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0UHJvZ3JhbS5tanMubWFwXG4iLCJ2YXIgZGVmYXVsdFZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZGVmYXVsdFZlcnRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0UHJvZ3JhbTIubWpzLm1hcFxuIiwiY29uc3QgZnJhZ1RlbXBsYXRlID0gW1xuICBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFxuICBcInZvaWQgbWFpbih2b2lkKXtcIixcbiAgXCJmbG9hdCB0ZXN0ID0gMC4xO1wiLFxuICBcIiVmb3Jsb29wJVwiLFxuICBcImdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTtcIixcbiAgXCJ9XCJcbl0uam9pbihcIlxcblwiKTtcbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykge1xuICBsZXQgc3JjID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhJZnM7ICsraSkge1xuICAgIGlmIChpID4gMCkge1xuICAgICAgc3JjICs9IFwiXFxuZWxzZSBcIjtcbiAgICB9XG4gICAgaWYgKGkgPCBtYXhJZnMgLSAxKSB7XG4gICAgICBzcmMgKz0gYGlmKHRlc3QgPT0gJHtpfS4wKXt9YDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNyYztcbn1cbmZ1bmN0aW9uIGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIobWF4SWZzLCBnbCkge1xuICBpZiAobWF4SWZzID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBvZiBgMGAgcGFzc2VkIHRvIGBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyYFwiKTtcbiAgfVxuICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIGZyYWdtZW50U3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgIG1heElmcyA9IG1heElmcyAvIDIgfCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1heElmcztcbn1cblxuZXhwb3J0IHsgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlci5tanMubWFwXG4iLCJmdW5jdGlvbiBjb21waWxlU2hhZGVyKGdsLCB0eXBlLCBzcmMpIHtcbiAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gIHJldHVybiBzaGFkZXI7XG59XG5cbmV4cG9ydCB7IGNvbXBpbGVTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBpbGVTaGFkZXIubWpzLm1hcFxuIiwiZnVuY3Rpb24gYm9vbGVhbkFycmF5KHNpemUpIHtcbiAgY29uc3QgYXJyYXkgPSBuZXcgQXJyYXkoc2l6ZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJheVtpXSA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRWYWx1ZSh0eXBlLCBzaXplKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJmbG9hdFwiOlxuICAgICAgcmV0dXJuIDA7XG4gICAgY2FzZSBcInZlYzJcIjpcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIgKiBzaXplKTtcbiAgICBjYXNlIFwidmVjM1wiOlxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMyAqIHNpemUpO1xuICAgIGNhc2UgXCJ2ZWM0XCI6XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgY2FzZSBcImludFwiOlxuICAgIGNhc2UgXCJ1aW50XCI6XG4gICAgY2FzZSBcInNhbXBsZXIyRFwiOlxuICAgIGNhc2UgXCJzYW1wbGVyMkRBcnJheVwiOlxuICAgICAgcmV0dXJuIDA7XG4gICAgY2FzZSBcIml2ZWMyXCI6XG4gICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMiAqIHNpemUpO1xuICAgIGNhc2UgXCJpdmVjM1wiOlxuICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDMgKiBzaXplKTtcbiAgICBjYXNlIFwiaXZlYzRcIjpcbiAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgY2FzZSBcInV2ZWMyXCI6XG4gICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KDIgKiBzaXplKTtcbiAgICBjYXNlIFwidXZlYzNcIjpcbiAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkoMyAqIHNpemUpO1xuICAgIGNhc2UgXCJ1dmVjNFwiOlxuICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgY2FzZSBcImJvb2xcIjpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlIFwiYnZlYzJcIjpcbiAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMiAqIHNpemUpO1xuICAgIGNhc2UgXCJidmVjM1wiOlxuICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgzICogc2l6ZSk7XG4gICAgY2FzZSBcImJ2ZWM0XCI6XG4gICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDQgKiBzaXplKTtcbiAgICBjYXNlIFwibWF0MlwiOlxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxXG4gICAgICBdKTtcbiAgICBjYXNlIFwibWF0M1wiOlxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxXG4gICAgICBdKTtcbiAgICBjYXNlIFwibWF0NFwiOlxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxXG4gICAgICBdKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHsgZGVmYXVsdFZhbHVlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0VmFsdWUubWpzLm1hcFxuIiwiaW1wb3J0IHsgR0xQcm9ncmFtIH0gZnJvbSAnLi4vR0xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBjb21waWxlU2hhZGVyIH0gZnJvbSAnLi9jb21waWxlU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBkZWZhdWx0VmFsdWUgfSBmcm9tICcuL2RlZmF1bHRWYWx1ZS5tanMnO1xuaW1wb3J0IHsgZ2V0QXR0cmlidXRlRGF0YSB9IGZyb20gJy4vZ2V0QXR0cmlidXRlRGF0YS5tanMnO1xuaW1wb3J0IHsgZ2V0VW5pZm9ybURhdGEgfSBmcm9tICcuL2dldFVuaWZvcm1EYXRhLm1qcyc7XG5pbXBvcnQgeyBsb2dQcm9ncmFtRXJyb3IgfSBmcm9tICcuL2xvZ1Byb2dyYW1FcnJvci5tanMnO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVByb2dyYW0oZ2wsIHByb2dyYW0pIHtcbiAgY29uc3QgZ2xWZXJ0U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgcHJvZ3JhbS52ZXJ0ZXhTcmMpO1xuICBjb25zdCBnbEZyYWdTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIHByb2dyYW0uZnJhZ21lbnRTcmMpO1xuICBjb25zdCB3ZWJHTFByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gIGdsLmF0dGFjaFNoYWRlcih3ZWJHTFByb2dyYW0sIGdsVmVydFNoYWRlcik7XG4gIGdsLmF0dGFjaFNoYWRlcih3ZWJHTFByb2dyYW0sIGdsRnJhZ1NoYWRlcik7XG4gIGNvbnN0IHRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MgPSBwcm9ncmFtLmV4dHJhPy50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzO1xuICBpZiAodHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncykge1xuICAgIGlmICh0eXBlb2YgZ2wudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFRyYW5zZm9ybUZlZWRiYWNrIGlzIG5vdCBzdXBwb3J0ZWQgYnV0IFRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MgYXJlIGdpdmVuLmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKHdlYkdMUHJvZ3JhbSwgdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncy5uYW1lcywgdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncy5idWZmZXJNb2RlID09PSBcInNlcGFyYXRlXCIgPyBnbC5TRVBBUkFURV9BVFRSSUJTIDogZ2wuSU5URVJMRUFWRURfQVRUUklCUyk7XG4gICAgfVxuICB9XG4gIGdsLmxpbmtQcm9ncmFtKHdlYkdMUHJvZ3JhbSk7XG4gIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih3ZWJHTFByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgIGxvZ1Byb2dyYW1FcnJvcihnbCwgd2ViR0xQcm9ncmFtLCBnbFZlcnRTaGFkZXIsIGdsRnJhZ1NoYWRlcik7XG4gIH1cbiAgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhID0gZ2V0QXR0cmlidXRlRGF0YSh3ZWJHTFByb2dyYW0sIGdsKTtcbiAgcHJvZ3JhbS51bmlmb3JtRGF0YSA9IGdldFVuaWZvcm1EYXRhKHdlYkdMUHJvZ3JhbSwgZ2wpO1xuICBpZiAoIS9eWyBcXHRdKiNbIFxcdF0qdmVyc2lvblsgXFx0XSszMDBbIFxcdF0rZXNbIFxcdF0qJC9tLnRlc3QocHJvZ3JhbS52ZXJ0ZXhTcmMpKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb2dyYW0uYXR0cmlidXRlRGF0YSk7XG4gICAga2V5cy5zb3J0KChhLCBiKSA9PiBhID4gYiA/IDEgOiAtMSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwcm9ncmFtLmF0dHJpYnV0ZURhdGFba2V5c1tpXV0ubG9jYXRpb24gPSBpO1xuICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHdlYkdMUHJvZ3JhbSwgaSwga2V5c1tpXSk7XG4gICAgfVxuICAgIGdsLmxpbmtQcm9ncmFtKHdlYkdMUHJvZ3JhbSk7XG4gIH1cbiAgZ2wuZGVsZXRlU2hhZGVyKGdsVmVydFNoYWRlcik7XG4gIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuICBjb25zdCB1bmlmb3JtRGF0YSA9IHt9O1xuICBmb3IgKGNvbnN0IGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSkge1xuICAgIGNvbnN0IGRhdGEgPSBwcm9ncmFtLnVuaWZvcm1EYXRhW2ldO1xuICAgIHVuaWZvcm1EYXRhW2ldID0ge1xuICAgICAgbG9jYXRpb246IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih3ZWJHTFByb2dyYW0sIGkpLFxuICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZShkYXRhLnR5cGUsIGRhdGEuc2l6ZSlcbiAgICB9O1xuICB9XG4gIGNvbnN0IGdsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0od2ViR0xQcm9ncmFtLCB1bmlmb3JtRGF0YSk7XG4gIHJldHVybiBnbFByb2dyYW07XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlUHJvZ3JhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVQcm9ncmFtLm1qcy5tYXBcbiIsImltcG9ydCAnLi9pbmRleC5tanMnO1xuaW1wb3J0IHsgdW5pZm9ybVBhcnNlcnMgfSBmcm9tICcuL3VuaWZvcm1QYXJzZXJzLm1qcyc7XG5pbXBvcnQgeyBtYXBTaXplIH0gZnJvbSAnLi9tYXBTaXplLm1qcyc7XG5cbmZ1bmN0aW9uIHVib1VwZGF0ZShfdWQsIF91diwgX3JlbmRlcmVyLCBfc3luY0RhdGEsIGJ1ZmZlcikge1xuICBfcmVuZGVyZXIuYnVmZmVyLnVwZGF0ZShidWZmZXIpO1xufVxuY29uc3QgVUJPX1RPX1NJTkdMRV9TRVRURVJTID0ge1xuICBmbG9hdDogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2O1xuICAgIGAsXG4gIHZlYzI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQrMV0gPSB2WzFdO1xuICAgIGAsXG4gIHZlYzM6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQrMV0gPSB2WzFdO1xuICAgICAgICBkYXRhW29mZnNldCsyXSA9IHZbMl07XG5cbiAgICBgLFxuICB2ZWM0OiBgXG4gICAgICAgIGRhdGFbb2Zmc2V0XSA9IHZbMF07XG4gICAgICAgIGRhdGFbb2Zmc2V0KzFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQrMl0gPSB2WzJdO1xuICAgICAgICBkYXRhW29mZnNldCszXSA9IHZbM107XG4gICAgYCxcbiAgbWF0MjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCsxXSA9IHZbMV07XG5cbiAgICAgICAgZGF0YVtvZmZzZXQrNF0gPSB2WzJdO1xuICAgICAgICBkYXRhW29mZnNldCs1XSA9IHZbM107XG4gICAgYCxcbiAgbWF0MzogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCsxXSA9IHZbMV07XG4gICAgICAgIGRhdGFbb2Zmc2V0KzJdID0gdlsyXTtcblxuICAgICAgICBkYXRhW29mZnNldCArIDRdID0gdlszXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA1XSA9IHZbNF07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNl0gPSB2WzVdO1xuXG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgOF0gPSB2WzZdO1xuICAgICAgICBkYXRhW29mZnNldCArIDldID0gdls3XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxMF0gPSB2WzhdO1xuICAgIGAsXG4gIG1hdDQ6IGBcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IDE2OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgaV0gPSB2W2ldO1xuICAgICAgICB9XG4gICAgYFxufTtcbmNvbnN0IEdMU0xfVE9fU1RENDBfU0laRSA9IHtcbiAgZmxvYXQ6IDQsXG4gIHZlYzI6IDgsXG4gIHZlYzM6IDEyLFxuICB2ZWM0OiAxNixcbiAgaW50OiA0LFxuICBpdmVjMjogOCxcbiAgaXZlYzM6IDEyLFxuICBpdmVjNDogMTYsXG4gIHVpbnQ6IDQsXG4gIHV2ZWMyOiA4LFxuICB1dmVjMzogMTIsXG4gIHV2ZWM0OiAxNixcbiAgYm9vbDogNCxcbiAgYnZlYzI6IDgsXG4gIGJ2ZWMzOiAxMixcbiAgYnZlYzQ6IDE2LFxuICBtYXQyOiAxNiAqIDIsXG4gIG1hdDM6IDE2ICogMyxcbiAgbWF0NDogMTYgKiA0XG59O1xuZnVuY3Rpb24gY3JlYXRlVUJPRWxlbWVudHModW5pZm9ybURhdGEpIHtcbiAgY29uc3QgdWJvRWxlbWVudHMgPSB1bmlmb3JtRGF0YS5tYXAoKGRhdGEpID0+ICh7XG4gICAgZGF0YSxcbiAgICBvZmZzZXQ6IDAsXG4gICAgZGF0YUxlbjogMCxcbiAgICBkaXJ0eTogMFxuICB9KSk7XG4gIGxldCBzaXplID0gMDtcbiAgbGV0IGNodW5rU2l6ZSA9IDA7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHVib0VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdWJvRWxlbWVudCA9IHVib0VsZW1lbnRzW2ldO1xuICAgIHNpemUgPSBHTFNMX1RPX1NURDQwX1NJWkVbdWJvRWxlbWVudC5kYXRhLnR5cGVdO1xuICAgIGlmICh1Ym9FbGVtZW50LmRhdGEuc2l6ZSA+IDEpIHtcbiAgICAgIHNpemUgPSBNYXRoLm1heChzaXplLCAxNikgKiB1Ym9FbGVtZW50LmRhdGEuc2l6ZTtcbiAgICB9XG4gICAgdWJvRWxlbWVudC5kYXRhTGVuID0gc2l6ZTtcbiAgICBpZiAoY2h1bmtTaXplICUgc2l6ZSAhPT0gMCAmJiBjaHVua1NpemUgPCAxNikge1xuICAgICAgY29uc3QgbGluZVVwVmFsdWUgPSBjaHVua1NpemUgJSBzaXplICUgMTY7XG4gICAgICBjaHVua1NpemUgKz0gbGluZVVwVmFsdWU7XG4gICAgICBvZmZzZXQgKz0gbGluZVVwVmFsdWU7XG4gICAgfVxuICAgIGlmIChjaHVua1NpemUgKyBzaXplID4gMTYpIHtcbiAgICAgIG9mZnNldCA9IE1hdGguY2VpbChvZmZzZXQgLyAxNikgKiAxNjtcbiAgICAgIHVib0VsZW1lbnQub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgb2Zmc2V0ICs9IHNpemU7XG4gICAgICBjaHVua1NpemUgPSBzaXplO1xuICAgIH0gZWxzZSB7XG4gICAgICB1Ym9FbGVtZW50Lm9mZnNldCA9IG9mZnNldDtcbiAgICAgIGNodW5rU2l6ZSArPSBzaXplO1xuICAgICAgb2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuICB9XG4gIG9mZnNldCA9IE1hdGguY2VpbChvZmZzZXQgLyAxNikgKiAxNjtcbiAgcmV0dXJuIHsgdWJvRWxlbWVudHMsIHNpemU6IG9mZnNldCB9O1xufVxuZnVuY3Rpb24gZ2V0VUJPRGF0YSh1bmlmb3JtcywgdW5pZm9ybURhdGEpIHtcbiAgY29uc3QgdXNlZFVuaWZvcm1EYXRhcyA9IFtdO1xuICBmb3IgKGNvbnN0IGkgaW4gdW5pZm9ybXMpIHtcbiAgICBpZiAodW5pZm9ybURhdGFbaV0pIHtcbiAgICAgIHVzZWRVbmlmb3JtRGF0YXMucHVzaCh1bmlmb3JtRGF0YVtpXSk7XG4gICAgfVxuICB9XG4gIHVzZWRVbmlmb3JtRGF0YXMuc29ydCgoYSwgYikgPT4gYS5pbmRleCAtIGIuaW5kZXgpO1xuICByZXR1cm4gdXNlZFVuaWZvcm1EYXRhcztcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gIGlmICghZ3JvdXAuYXV0b01hbmFnZSkge1xuICAgIHJldHVybiB7IHNpemU6IDAsIHN5bmNGdW5jOiB1Ym9VcGRhdGUgfTtcbiAgfVxuICBjb25zdCB1c2VkVW5pZm9ybURhdGFzID0gZ2V0VUJPRGF0YShncm91cC51bmlmb3JtcywgdW5pZm9ybURhdGEpO1xuICBjb25zdCB7IHVib0VsZW1lbnRzLCBzaXplIH0gPSBjcmVhdGVVQk9FbGVtZW50cyh1c2VkVW5pZm9ybURhdGFzKTtcbiAgY29uc3QgZnVuY0ZyYWdtZW50cyA9IFtgXG4gICAgdmFyIHYgPSBudWxsO1xuICAgIHZhciB2MiA9IG51bGw7XG4gICAgdmFyIGN2ID0gbnVsbDtcbiAgICB2YXIgdCA9IDA7XG4gICAgdmFyIGdsID0gcmVuZGVyZXIuZ2xcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBkYXRhID0gYnVmZmVyLmRhdGE7XG4gICAgYF07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdWJvRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB1Ym9FbGVtZW50ID0gdWJvRWxlbWVudHNbaV07XG4gICAgY29uc3QgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW3Vib0VsZW1lbnQuZGF0YS5uYW1lXTtcbiAgICBjb25zdCBuYW1lID0gdWJvRWxlbWVudC5kYXRhLm5hbWU7XG4gICAgbGV0IHBhcnNlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdW5pZm9ybVBhcnNlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IHVuaWZvcm1QYXJzZXIgPSB1bmlmb3JtUGFyc2Vyc1tqXTtcbiAgICAgIGlmICh1bmlmb3JtUGFyc2VyLmNvZGVVYm8gJiYgdW5pZm9ybVBhcnNlci50ZXN0KHVib0VsZW1lbnQuZGF0YSwgdW5pZm9ybSkpIHtcbiAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKGBvZmZzZXQgPSAke3Vib0VsZW1lbnQub2Zmc2V0IC8gNH07YCwgdW5pZm9ybVBhcnNlcnNbal0uY29kZVVibyh1Ym9FbGVtZW50LmRhdGEubmFtZSwgdW5pZm9ybSkpO1xuICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgIGlmICh1Ym9FbGVtZW50LmRhdGEuc2l6ZSA+IDEpIHtcbiAgICAgICAgY29uc3Qgc2l6ZTIgPSBtYXBTaXplKHVib0VsZW1lbnQuZGF0YS50eXBlKTtcbiAgICAgICAgY29uc3Qgcm93U2l6ZSA9IE1hdGgubWF4KEdMU0xfVE9fU1RENDBfU0laRVt1Ym9FbGVtZW50LmRhdGEudHlwZV0gLyAxNiwgMSk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gc2l6ZTIgLyByb3dTaXplO1xuICAgICAgICBjb25zdCByZW1haW5kZXIgPSAoNCAtIGVsZW1lbnRTaXplICUgNCkgJSA0O1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goYFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuJHtuYW1lfS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXYuJHtuYW1lfTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAke3Vib0VsZW1lbnQub2Zmc2V0IC8gNH07XG5cbiAgICAgICAgICAgICAgICB0ID0gMDtcblxuICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgJHt1Ym9FbGVtZW50LmRhdGEuc2l6ZSAqIHJvd1NpemV9OyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgJHtlbGVtZW50U2l6ZX07IGorKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrK10gPSB2W3QrK107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9ICR7cmVtYWluZGVyfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gVUJPX1RPX1NJTkdMRV9TRVRURVJTW3Vib0VsZW1lbnQuZGF0YS50eXBlXTtcbiAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkLiR7bmFtZX0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2LiR7bmFtZX07XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gJHt1Ym9FbGVtZW50Lm9mZnNldCAvIDR9O1xuICAgICAgICAgICAgICAgICR7dGVtcGxhdGV9O1xuICAgICAgICAgICAgICAgIGApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jRnJhZ21lbnRzLnB1c2goYFxuICAgICAgIHJlbmRlcmVyLmJ1ZmZlci51cGRhdGUoYnVmZmVyKTtcbiAgICBgKTtcbiAgcmV0dXJuIHtcbiAgICBzaXplLFxuICAgIHN5bmNGdW5jOiBuZXcgRnVuY3Rpb24oXCJ1ZFwiLCBcInV2XCIsIFwicmVuZGVyZXJcIiwgXCJzeW5jRGF0YVwiLCBcImJ1ZmZlclwiLCBmdW5jRnJhZ21lbnRzLmpvaW4oXCJcXG5cIikpXG4gIH07XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVVCT0VsZW1lbnRzLCBnZW5lcmF0ZVVuaWZvcm1CdWZmZXJTeW5jLCBnZXRVQk9EYXRhIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZVVuaWZvcm1CdWZmZXJTeW5jLm1qcy5tYXBcbiIsImltcG9ydCB7IHVuaWZvcm1QYXJzZXJzIH0gZnJvbSAnLi91bmlmb3JtUGFyc2Vycy5tanMnO1xuXG5jb25zdCBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA9IHtcbiAgZmxvYXQ6IGBcbiAgICBpZiAoY3YgIT09IHYpXG4gICAge1xuICAgICAgICBjdS52YWx1ZSA9IHY7XG4gICAgICAgIGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdik7XG4gICAgfWAsXG4gIHZlYzI6IGBcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcblxuICAgICAgICBnbC51bmlmb3JtMmYobG9jYXRpb24sIHZbMF0sIHZbMV0pXG4gICAgfWAsXG4gIHZlYzM6IGBcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xuXG4gICAgICAgIGdsLnVuaWZvcm0zZihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSlcbiAgICB9YCxcbiAgdmVjNDogYFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSB8fCBjdlszXSAhPT0gdlszXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICBjdlsyXSA9IHZbMl07XG4gICAgICAgIGN2WzNdID0gdlszXTtcblxuICAgICAgICBnbC51bmlmb3JtNGYobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgIH1gLFxuICBpbnQ6IGBcbiAgICBpZiAoY3YgIT09IHYpXG4gICAge1xuICAgICAgICBjdS52YWx1ZSA9IHY7XG5cbiAgICAgICAgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KTtcbiAgICB9YCxcbiAgaXZlYzI6IGBcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcblxuICAgICAgICBnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pO1xuICAgIH1gLFxuICBpdmVjMzogYFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICBjdlsyXSA9IHZbMl07XG5cbiAgICAgICAgZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICB9YCxcbiAgaXZlYzQ6IGBcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0gfHwgY3ZbM10gIT09IHZbM10pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xuICAgICAgICBjdlszXSA9IHZbM107XG5cbiAgICAgICAgZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKTtcbiAgICB9YCxcbiAgdWludDogYFxuICAgIGlmIChjdiAhPT0gdilcbiAgICB7XG4gICAgICAgIGN1LnZhbHVlID0gdjtcblxuICAgICAgICBnbC51bmlmb3JtMXVpKGxvY2F0aW9uLCB2KTtcbiAgICB9YCxcbiAgdXZlYzI6IGBcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcblxuICAgICAgICBnbC51bmlmb3JtMnVpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKTtcbiAgICB9YCxcbiAgdXZlYzM6IGBcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xuXG4gICAgICAgIGdsLnVuaWZvcm0zdWkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgIH1gLFxuICB1dmVjNDogYFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSB8fCBjdlszXSAhPT0gdlszXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICBjdlsyXSA9IHZbMl07XG4gICAgICAgIGN2WzNdID0gdlszXTtcblxuICAgICAgICBnbC51bmlmb3JtNHVpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKTtcbiAgICB9YCxcbiAgYm9vbDogYFxuICAgIGlmIChjdiAhPT0gdilcbiAgICB7XG4gICAgICAgIGN1LnZhbHVlID0gdjtcbiAgICAgICAgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KTtcbiAgICB9YCxcbiAgYnZlYzI6IGBcbiAgICBpZiAoY3ZbMF0gIT0gdlswXSB8fCBjdlsxXSAhPSB2WzFdKVxuICAgIHtcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xuICAgICAgICBjdlsxXSA9IHZbMV07XG5cbiAgICAgICAgZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKTtcbiAgICB9YCxcbiAgYnZlYzM6IGBcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xuXG4gICAgICAgIGdsLnVuaWZvcm0zaShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSk7XG4gICAgfWAsXG4gIGJ2ZWM0OiBgXG4gICAgaWYgKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxuICAgIHtcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xuICAgICAgICBjdlsxXSA9IHZbMV07XG4gICAgICAgIGN2WzJdID0gdlsyXTtcbiAgICAgICAgY3ZbM10gPSB2WzNdO1xuXG4gICAgICAgIGdsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XG4gICAgfWAsXG4gIG1hdDI6IFwiZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpXCIsXG4gIG1hdDM6IFwiZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpXCIsXG4gIG1hdDQ6IFwiZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpXCIsXG4gIHNhbXBsZXIyRDogYFxuICAgIGlmIChjdiAhPT0gdilcbiAgICB7XG4gICAgICAgIGN1LnZhbHVlID0gdjtcblxuICAgICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpO1xuICAgIH1gLFxuICBzYW1wbGVyQ3ViZTogYFxuICAgIGlmIChjdiAhPT0gdilcbiAgICB7XG4gICAgICAgIGN1LnZhbHVlID0gdjtcblxuICAgICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpO1xuICAgIH1gLFxuICBzYW1wbGVyMkRBcnJheTogYFxuICAgIGlmIChjdiAhPT0gdilcbiAgICB7XG4gICAgICAgIGN1LnZhbHVlID0gdjtcblxuICAgICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpO1xuICAgIH1gXG59O1xuY29uc3QgR0xTTF9UT19BUlJBWV9TRVRURVJTID0ge1xuICBmbG9hdDogYGdsLnVuaWZvcm0xZnYobG9jYXRpb24sIHYpYCxcbiAgdmVjMjogYGdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHYpYCxcbiAgdmVjMzogYGdsLnVuaWZvcm0zZnYobG9jYXRpb24sIHYpYCxcbiAgdmVjNDogXCJnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2KVwiLFxuICBtYXQ0OiBcImdsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KVwiLFxuICBtYXQzOiBcImdsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KVwiLFxuICBtYXQyOiBcImdsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KVwiLFxuICBpbnQ6IFwiZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdilcIixcbiAgaXZlYzI6IFwiZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdilcIixcbiAgaXZlYzM6IFwiZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdilcIixcbiAgaXZlYzQ6IFwiZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdilcIixcbiAgdWludDogXCJnbC51bmlmb3JtMXVpdihsb2NhdGlvbiwgdilcIixcbiAgdXZlYzI6IFwiZ2wudW5pZm9ybTJ1aXYobG9jYXRpb24sIHYpXCIsXG4gIHV2ZWMzOiBcImdsLnVuaWZvcm0zdWl2KGxvY2F0aW9uLCB2KVwiLFxuICB1dmVjNDogXCJnbC51bmlmb3JtNHVpdihsb2NhdGlvbiwgdilcIixcbiAgYm9vbDogXCJnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KVwiLFxuICBidmVjMjogXCJnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KVwiLFxuICBidmVjMzogXCJnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KVwiLFxuICBidmVjNDogXCJnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KVwiLFxuICBzYW1wbGVyMkQ6IFwiZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdilcIixcbiAgc2FtcGxlckN1YmU6IFwiZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdilcIixcbiAgc2FtcGxlcjJEQXJyYXk6IFwiZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdilcIlxufTtcbmZ1bmN0aW9uIGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB1bmlmb3JtRGF0YSkge1xuICBjb25zdCBmdW5jRnJhZ21lbnRzID0gW2BcbiAgICAgICAgdmFyIHYgPSBudWxsO1xuICAgICAgICB2YXIgY3YgPSBudWxsO1xuICAgICAgICB2YXIgY3UgPSBudWxsO1xuICAgICAgICB2YXIgdCA9IDA7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgIGBdO1xuICBmb3IgKGNvbnN0IGkgaW4gZ3JvdXAudW5pZm9ybXMpIHtcbiAgICBjb25zdCBkYXRhID0gdW5pZm9ybURhdGFbaV07XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0/Lmdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS51Ym8pIHtcbiAgICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goYFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtQnVmZmVyR3JvdXAodXYuJHtpfSwgJyR7aX0nKTtcbiAgICAgICAgICAgICAgICAgICAgYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKGBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5zeW5jVW5pZm9ybUdyb3VwKHV2LiR7aX0sIHN5bmNEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCB1bmlmb3JtID0gZ3JvdXAudW5pZm9ybXNbaV07XG4gICAgbGV0IHBhcnNlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdW5pZm9ybVBhcnNlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICh1bmlmb3JtUGFyc2Vyc1tqXS50ZXN0KGRhdGEsIHVuaWZvcm0pKSB7XG4gICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaCh1bmlmb3JtUGFyc2Vyc1tqXS5jb2RlKGksIHVuaWZvcm0pKTtcbiAgICAgICAgcGFyc2VkID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcGFyc2VkKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZVR5cGUgPSBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSA/IEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIDogR0xTTF9UT19BUlJBWV9TRVRURVJTO1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSB0ZW1wbGF0ZVR5cGVbZGF0YS50eXBlXS5yZXBsYWNlKFwibG9jYXRpb25cIiwgYHVkW1wiJHtpfVwiXS5sb2NhdGlvbmApO1xuICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKGBcbiAgICAgICAgICAgIGN1ID0gdWRbXCIke2l9XCJdO1xuICAgICAgICAgICAgY3YgPSBjdS52YWx1ZTtcbiAgICAgICAgICAgIHYgPSB1dltcIiR7aX1cIl07XG4gICAgICAgICAgICAke3RlbXBsYXRlfTtgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInVkXCIsIFwidXZcIiwgXCJyZW5kZXJlclwiLCBcInN5bmNEYXRhXCIsIGZ1bmNGcmFnbWVudHMuam9pbihcIlxcblwiKSk7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlVW5pZm9ybXNTeW5jIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZVVuaWZvcm1zU3luYy5tanMubWFwXG4iLCJpbXBvcnQgeyBtYXBTaXplIH0gZnJvbSAnLi9tYXBTaXplLm1qcyc7XG5pbXBvcnQgeyBtYXBUeXBlIH0gZnJvbSAnLi9tYXBUeXBlLm1qcyc7XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgZ2wpIHtcbiAgY29uc3QgYXR0cmlidXRlcyA9IHt9O1xuICBjb25zdCB0b3RhbEF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKykge1xuICAgIGNvbnN0IGF0dHJpYkRhdGEgPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7XG4gICAgaWYgKGF0dHJpYkRhdGEubmFtZS5zdGFydHNXaXRoKFwiZ2xfXCIpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG1hcFR5cGUoZ2wsIGF0dHJpYkRhdGEudHlwZSk7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHR5cGUsXG4gICAgICBuYW1lOiBhdHRyaWJEYXRhLm5hbWUsXG4gICAgICBzaXplOiBtYXBTaXplKHR5cGUpLFxuICAgICAgbG9jYXRpb246IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYkRhdGEubmFtZSlcbiAgICB9O1xuICAgIGF0dHJpYnV0ZXNbYXR0cmliRGF0YS5uYW1lXSA9IGRhdGE7XG4gIH1cbiAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59XG5cbmV4cG9ydCB7IGdldEF0dHJpYnV0ZURhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEF0dHJpYnV0ZURhdGEubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0VGVzdENvbnRleHQgfSBmcm9tICcuL2dldFRlc3RDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5sZXQgbWF4RnJhZ21lbnRQcmVjaXNpb247XG5mdW5jdGlvbiBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpIHtcbiAgaWYgKCFtYXhGcmFnbWVudFByZWNpc2lvbikge1xuICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICBjb25zdCBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG4gICAgaWYgKGdsKSB7XG4gICAgICBpZiAoZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHNoYWRlckZyYWdtZW50ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuSElHSF9GTE9BVCk7XG4gICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gc2hhZGVyRnJhZ21lbnQucHJlY2lzaW9uID8gUFJFQ0lTSU9OLkhJR0ggOiBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWF4RnJhZ21lbnRQcmVjaXNpb247XG59XG5cbmV4cG9ydCB7IGdldE1heEZyYWdtZW50UHJlY2lzaW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRNYXhGcmFnbWVudFByZWNpc2lvbi5tanMubWFwXG4iLCJpbXBvcnQgJy4uLy4uL3NldHRpbmdzLm1qcyc7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNvbnN0IHVua25vd25Db250ZXh0ID0ge307XG5sZXQgY29udGV4dCA9IHVua25vd25Db250ZXh0O1xuZnVuY3Rpb24gZ2V0VGVzdENvbnRleHQoKSB7XG4gIGlmIChjb250ZXh0ID09PSB1bmtub3duQ29udGV4dCB8fCBjb250ZXh0Py5pc0NvbnRleHRMb3N0KCkpIHtcbiAgICBjb25zdCBjYW52YXMgPSBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgIGxldCBnbDtcbiAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKSB7XG4gICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2wyXCIsIHt9KTtcbiAgICB9XG4gICAgaWYgKCFnbCkge1xuICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIsIHt9KSB8fCBjYW52YXMuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLCB7fSk7XG4gICAgICBpZiAoIWdsKSB7XG4gICAgICAgIGdsID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdsLmdldEV4dGVuc2lvbihcIldFQkdMX2RyYXdfYnVmZmVyc1wiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29udGV4dCA9IGdsO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuXG5leHBvcnQgeyBnZXRUZXN0Q29udGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0VGVzdENvbnRleHQubWpzLm1hcFxuIiwiaW1wb3J0IHsgZGVmYXVsdFZhbHVlIH0gZnJvbSAnLi9kZWZhdWx0VmFsdWUubWpzJztcbmltcG9ydCB7IG1hcFR5cGUgfSBmcm9tICcuL21hcFR5cGUubWpzJztcblxuZnVuY3Rpb24gZ2V0VW5pZm9ybURhdGEocHJvZ3JhbSwgZ2wpIHtcbiAgY29uc3QgdW5pZm9ybXMgPSB7fTtcbiAgY29uc3QgdG90YWxVbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFVuaWZvcm1zOyBpKyspIHtcbiAgICBjb25zdCB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgY29uc3QgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdJC8sIFwiXCIpO1xuICAgIGNvbnN0IGlzQXJyYXkgPSAhIXVuaWZvcm1EYXRhLm5hbWUubWF0Y2goL1xcWy4qP1xcXSQvKTtcbiAgICBjb25zdCB0eXBlID0gbWFwVHlwZShnbCwgdW5pZm9ybURhdGEudHlwZSk7XG4gICAgdW5pZm9ybXNbbmFtZV0gPSB7XG4gICAgICBuYW1lLFxuICAgICAgaW5kZXg6IGksXG4gICAgICB0eXBlLFxuICAgICAgc2l6ZTogdW5pZm9ybURhdGEuc2l6ZSxcbiAgICAgIGlzQXJyYXksXG4gICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKHR5cGUsIHVuaWZvcm1EYXRhLnNpemUpXG4gICAgfTtcbiAgfVxuICByZXR1cm4gdW5pZm9ybXM7XG59XG5cbmV4cG9ydCB7IGdldFVuaWZvcm1EYXRhIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRVbmlmb3JtRGF0YS5tanMubWFwXG4iLCJleHBvcnQgeyBjb21waWxlU2hhZGVyIH0gZnJvbSAnLi9jb21waWxlU2hhZGVyLm1qcyc7XG5leHBvcnQgeyBsb2dQcm9ncmFtRXJyb3IgfSBmcm9tICcuL2xvZ1Byb2dyYW1FcnJvci5tanMnO1xuZXhwb3J0IHsgZGVmYXVsdFZhbHVlIH0gZnJvbSAnLi9kZWZhdWx0VmFsdWUubWpzJztcbmV4cG9ydCB7IGdldE1heEZyYWdtZW50UHJlY2lzaW9uIH0gZnJvbSAnLi9nZXRNYXhGcmFnbWVudFByZWNpc2lvbi5tanMnO1xuZXhwb3J0IHsgc2V0UHJlY2lzaW9uIH0gZnJvbSAnLi9zZXRQcmVjaXNpb24ubWpzJztcbmV4cG9ydCB7IG1hcFNpemUgfSBmcm9tICcuL21hcFNpemUubWpzJztcbmV4cG9ydCB7IG1hcFR5cGUgfSBmcm9tICcuL21hcFR5cGUubWpzJztcbmV4cG9ydCB7IGdlbmVyYXRlVW5pZm9ybXNTeW5jIH0gZnJvbSAnLi9nZW5lcmF0ZVVuaWZvcm1zU3luYy5tanMnO1xuZXhwb3J0IHsgdW5pZm9ybVBhcnNlcnMgfSBmcm9tICcuL3VuaWZvcm1QYXJzZXJzLm1qcyc7XG5leHBvcnQgeyBnZXRUZXN0Q29udGV4dCB9IGZyb20gJy4vZ2V0VGVzdENvbnRleHQubWpzJztcbmV4cG9ydCB7IGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIgfSBmcm9tICcuL2NoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIubWpzJztcbmV4cG9ydCB7IHVuc2FmZUV2YWxTdXBwb3J0ZWQgfSBmcm9tICcuL3Vuc2FmZUV2YWxTdXBwb3J0ZWQubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImZ1bmN0aW9uIGxvZ1ByZXR0eVNoYWRlckVycm9yKGdsLCBzaGFkZXIpIHtcbiAgY29uc3Qgc2hhZGVyU3JjID0gZ2wuZ2V0U2hhZGVyU291cmNlKHNoYWRlcikuc3BsaXQoXCJcXG5cIikubWFwKChsaW5lLCBpbmRleCkgPT4gYCR7aW5kZXh9OiAke2xpbmV9YCk7XG4gIGNvbnN0IHNoYWRlckxvZyA9IGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcbiAgY29uc3Qgc3BsaXRTaGFkZXIgPSBzaGFkZXJMb2cuc3BsaXQoXCJcXG5cIik7XG4gIGNvbnN0IGRlZHVwZSA9IHt9O1xuICBjb25zdCBsaW5lTnVtYmVycyA9IHNwbGl0U2hhZGVyLm1hcCgobGluZSkgPT4gcGFyc2VGbG9hdChsaW5lLnJlcGxhY2UoL15FUlJPUlxcOiAwXFw6KFtcXGRdKylcXDouKiQvLCBcIiQxXCIpKSkuZmlsdGVyKChuKSA9PiB7XG4gICAgaWYgKG4gJiYgIWRlZHVwZVtuXSkge1xuICAgICAgZGVkdXBlW25dID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICBjb25zdCBsb2dBcmdzID0gW1wiXCJdO1xuICBsaW5lTnVtYmVycy5mb3JFYWNoKChudW1iZXIpID0+IHtcbiAgICBzaGFkZXJTcmNbbnVtYmVyIC0gMV0gPSBgJWMke3NoYWRlclNyY1tudW1iZXIgLSAxXX0lY2A7XG4gICAgbG9nQXJncy5wdXNoKFwiYmFja2dyb3VuZDogI0ZGMDAwMDsgY29sb3I6I0ZGRkZGRjsgZm9udC1zaXplOiAxMHB4XCIsIFwiZm9udC1zaXplOiAxMHB4XCIpO1xuICB9KTtcbiAgY29uc3QgZnJhZ21lbnRTb3VyY2VUb0xvZyA9IHNoYWRlclNyYy5qb2luKFwiXFxuXCIpO1xuICBsb2dBcmdzWzBdID0gZnJhZ21lbnRTb3VyY2VUb0xvZztcbiAgY29uc29sZS5lcnJvcihzaGFkZXJMb2cpO1xuICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFwiY2xpY2sgdG8gdmlldyBmdWxsIHNoYWRlciBjb2RlXCIpO1xuICBjb25zb2xlLndhcm4oLi4ubG9nQXJncyk7XG4gIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn1cbmZ1bmN0aW9uIGxvZ1Byb2dyYW1FcnJvcihnbCwgcHJvZ3JhbSwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcikge1xuICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodmVydGV4U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgIGxvZ1ByZXR0eVNoYWRlckVycm9yKGdsLCB2ZXJ0ZXhTaGFkZXIpO1xuICAgIH1cbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihmcmFnbWVudFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICBsb2dQcmV0dHlTaGFkZXJFcnJvcihnbCwgZnJhZ21lbnRTaGFkZXIpO1xuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKFwiUGl4aUpTIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuXCIpO1xuICAgIGlmIChnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSAhPT0gXCJcIikge1xuICAgICAgY29uc29sZS53YXJuKFwiUGl4aUpTIFdhcm5pbmc6IGdsLmdldFByb2dyYW1JbmZvTG9nKClcIiwgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBsb2dQcm9ncmFtRXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ1Byb2dyYW1FcnJvci5tanMubWFwXG4iLCJjb25zdCBHTFNMX1RPX1NJWkUgPSB7XG4gIGZsb2F0OiAxLFxuICB2ZWMyOiAyLFxuICB2ZWMzOiAzLFxuICB2ZWM0OiA0LFxuICBpbnQ6IDEsXG4gIGl2ZWMyOiAyLFxuICBpdmVjMzogMyxcbiAgaXZlYzQ6IDQsXG4gIHVpbnQ6IDEsXG4gIHV2ZWMyOiAyLFxuICB1dmVjMzogMyxcbiAgdXZlYzQ6IDQsXG4gIGJvb2w6IDEsXG4gIGJ2ZWMyOiAyLFxuICBidmVjMzogMyxcbiAgYnZlYzQ6IDQsXG4gIG1hdDI6IDQsXG4gIG1hdDM6IDksXG4gIG1hdDQ6IDE2LFxuICBzYW1wbGVyMkQ6IDFcbn07XG5mdW5jdGlvbiBtYXBTaXplKHR5cGUpIHtcbiAgcmV0dXJuIEdMU0xfVE9fU0laRVt0eXBlXTtcbn1cblxuZXhwb3J0IHsgbWFwU2l6ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwU2l6ZS5tanMubWFwXG4iLCJsZXQgR0xfVEFCTEUgPSBudWxsO1xuY29uc3QgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgRkxPQVQ6IFwiZmxvYXRcIixcbiAgRkxPQVRfVkVDMjogXCJ2ZWMyXCIsXG4gIEZMT0FUX1ZFQzM6IFwidmVjM1wiLFxuICBGTE9BVF9WRUM0OiBcInZlYzRcIixcbiAgSU5UOiBcImludFwiLFxuICBJTlRfVkVDMjogXCJpdmVjMlwiLFxuICBJTlRfVkVDMzogXCJpdmVjM1wiLFxuICBJTlRfVkVDNDogXCJpdmVjNFwiLFxuICBVTlNJR05FRF9JTlQ6IFwidWludFwiLFxuICBVTlNJR05FRF9JTlRfVkVDMjogXCJ1dmVjMlwiLFxuICBVTlNJR05FRF9JTlRfVkVDMzogXCJ1dmVjM1wiLFxuICBVTlNJR05FRF9JTlRfVkVDNDogXCJ1dmVjNFwiLFxuICBCT09MOiBcImJvb2xcIixcbiAgQk9PTF9WRUMyOiBcImJ2ZWMyXCIsXG4gIEJPT0xfVkVDMzogXCJidmVjM1wiLFxuICBCT09MX1ZFQzQ6IFwiYnZlYzRcIixcbiAgRkxPQVRfTUFUMjogXCJtYXQyXCIsXG4gIEZMT0FUX01BVDM6IFwibWF0M1wiLFxuICBGTE9BVF9NQVQ0OiBcIm1hdDRcIixcbiAgU0FNUExFUl8yRDogXCJzYW1wbGVyMkRcIixcbiAgSU5UX1NBTVBMRVJfMkQ6IFwic2FtcGxlcjJEXCIsXG4gIFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEOiBcInNhbXBsZXIyRFwiLFxuICBTQU1QTEVSX0NVQkU6IFwic2FtcGxlckN1YmVcIixcbiAgSU5UX1NBTVBMRVJfQ1VCRTogXCJzYW1wbGVyQ3ViZVwiLFxuICBVTlNJR05FRF9JTlRfU0FNUExFUl9DVUJFOiBcInNhbXBsZXJDdWJlXCIsXG4gIFNBTVBMRVJfMkRfQVJSQVk6IFwic2FtcGxlcjJEQXJyYXlcIixcbiAgSU5UX1NBTVBMRVJfMkRfQVJSQVk6IFwic2FtcGxlcjJEQXJyYXlcIixcbiAgVU5TSUdORURfSU5UX1NBTVBMRVJfMkRfQVJSQVk6IFwic2FtcGxlcjJEQXJyYXlcIlxufTtcbmZ1bmN0aW9uIG1hcFR5cGUoZ2wsIHR5cGUpIHtcbiAgaWYgKCFHTF9UQUJMRSkge1xuICAgIGNvbnN0IHR5cGVOYW1lcyA9IE9iamVjdC5rZXlzKEdMX1RPX0dMU0xfVFlQRVMpO1xuICAgIEdMX1RBQkxFID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IHRuID0gdHlwZU5hbWVzW2ldO1xuICAgICAgR0xfVEFCTEVbZ2xbdG5dXSA9IEdMX1RPX0dMU0xfVFlQRVNbdG5dO1xuICAgIH1cbiAgfVxuICByZXR1cm4gR0xfVEFCTEVbdHlwZV07XG59XG5cbmV4cG9ydCB7IG1hcFR5cGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcFR5cGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgUFJFQ0lTSU9OIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuZnVuY3Rpb24gc2V0UHJlY2lzaW9uKHNyYywgcmVxdWVzdGVkUHJlY2lzaW9uLCBtYXhTdXBwb3J0ZWRQcmVjaXNpb24pIHtcbiAgaWYgKHNyYy5zdWJzdHJpbmcoMCwgOSkgIT09IFwicHJlY2lzaW9uXCIpIHtcbiAgICBsZXQgcHJlY2lzaW9uID0gcmVxdWVzdGVkUHJlY2lzaW9uO1xuICAgIGlmIChyZXF1ZXN0ZWRQcmVjaXNpb24gPT09IFBSRUNJU0lPTi5ISUdIICYmIG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gUFJFQ0lTSU9OLkhJR0gpIHtcbiAgICAgIHByZWNpc2lvbiA9IFBSRUNJU0lPTi5NRURJVU07XG4gICAgfVxuICAgIHJldHVybiBgcHJlY2lzaW9uICR7cHJlY2lzaW9ufSBmbG9hdDtcbiR7c3JjfWA7XG4gIH0gZWxzZSBpZiAobWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSCAmJiBzcmMuc3Vic3RyaW5nKDAsIDE1KSA9PT0gXCJwcmVjaXNpb24gaGlnaHBcIikge1xuICAgIHJldHVybiBzcmMucmVwbGFjZShcInByZWNpc2lvbiBoaWdocFwiLCBcInByZWNpc2lvbiBtZWRpdW1wXCIpO1xuICB9XG4gIHJldHVybiBzcmM7XG59XG5cbmV4cG9ydCB7IHNldFByZWNpc2lvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0UHJlY2lzaW9uLm1qcy5tYXBcbiIsImNvbnN0IHVuaWZvcm1QYXJzZXJzID0gW1xuICB7XG4gICAgdGVzdDogKGRhdGEpID0+IGRhdGEudHlwZSA9PT0gXCJmbG9hdFwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5LFxuICAgIGNvZGU6IChuYW1lKSA9PiBgXG4gICAgICAgICAgICBpZih1dltcIiR7bmFtZX1cIl0gIT09IHVkW1wiJHtuYW1lfVwiXS52YWx1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1ZFtcIiR7bmFtZX1cIl0udmFsdWUgPSB1dltcIiR7bmFtZX1cIl1cbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodWRbXCIke25hbWV9XCJdLmxvY2F0aW9uLCB1dltcIiR7bmFtZX1cIl0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBgXG4gIH0sXG4gIHtcbiAgICB0ZXN0OiAoZGF0YSwgdW5pZm9ybSkgPT4gKGRhdGEudHlwZSA9PT0gXCJzYW1wbGVyMkRcIiB8fCBkYXRhLnR5cGUgPT09IFwic2FtcGxlckN1YmVcIiB8fCBkYXRhLnR5cGUgPT09IFwic2FtcGxlcjJEQXJyYXlcIikgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXkgJiYgKHVuaWZvcm0gPT0gbnVsbCB8fCB1bmlmb3JtLmNhc3RUb0Jhc2VUZXh0dXJlICE9PSB2b2lkIDApLFxuICAgIGNvZGU6IChuYW1lKSA9PiBgdCA9IHN5bmNEYXRhLnRleHR1cmVDb3VudCsrO1xuXG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodXZbXCIke25hbWV9XCJdLCB0KTtcblxuICAgICAgICAgICAgaWYodWRbXCIke25hbWV9XCJdLnZhbHVlICE9PSB0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVkW1wiJHtuYW1lfVwiXS52YWx1ZSA9IHQ7XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVkW1wiJHtuYW1lfVwiXS5sb2NhdGlvbiwgdCk7XG47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxuICAgICAgICAgICAgfWBcbiAgfSxcbiAge1xuICAgIHRlc3Q6IChkYXRhLCB1bmlmb3JtKSA9PiBkYXRhLnR5cGUgPT09IFwibWF0M1wiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5ICYmIHVuaWZvcm0uYSAhPT0gdm9pZCAwLFxuICAgIGNvZGU6IChuYW1lKSA9PiBgXG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVkW1wiJHtuYW1lfVwiXS5sb2NhdGlvbiwgZmFsc2UsIHV2W1wiJHtuYW1lfVwiXS50b0FycmF5KHRydWUpKTtcbiAgICAgICAgICAgIGAsXG4gICAgY29kZVVibzogKG5hbWUpID0+IGBcbiAgICAgICAgICAgICAgICB2YXIgJHtuYW1lfV9tYXRyaXggPSB1di4ke25hbWV9LnRvQXJyYXkodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldF0gPSAke25hbWV9X21hdHJpeFswXTtcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCsxXSA9ICR7bmFtZX1fbWF0cml4WzFdO1xuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzJdID0gJHtuYW1lfV9tYXRyaXhbMl07XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgNF0gPSAke25hbWV9X21hdHJpeFszXTtcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCArIDVdID0gJHtuYW1lfV9tYXRyaXhbNF07XG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA2XSA9ICR7bmFtZX1fbWF0cml4WzVdO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCArIDhdID0gJHtuYW1lfV9tYXRyaXhbNl07XG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA5XSA9ICR7bmFtZX1fbWF0cml4WzddO1xuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMTBdID0gJHtuYW1lfV9tYXRyaXhbOF07XG4gICAgICAgICAgICBgXG4gIH0sXG4gIHtcbiAgICB0ZXN0OiAoZGF0YSwgdW5pZm9ybSkgPT4gZGF0YS50eXBlID09PSBcInZlYzJcIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSAmJiB1bmlmb3JtLnggIT09IHZvaWQgMCxcbiAgICBjb2RlOiAobmFtZSkgPT4gYFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXCIke25hbWV9XCJdLnZhbHVlO1xuICAgICAgICAgICAgICAgIHYgPSB1dltcIiR7bmFtZX1cIl07XG5cbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZFtcIiR7bmFtZX1cIl0ubG9jYXRpb24sIHYueCwgdi55KTtcbiAgICAgICAgICAgICAgICB9YCxcbiAgICBjb2RlVWJvOiAobmFtZSkgPT4gYFxuICAgICAgICAgICAgICAgIHYgPSB1di4ke25hbWV9O1xuXG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi54O1xuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzFdID0gdi55O1xuICAgICAgICAgICAgYFxuICB9LFxuICB7XG4gICAgdGVzdDogKGRhdGEpID0+IGRhdGEudHlwZSA9PT0gXCJ2ZWMyXCIgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXksXG4gICAgY29kZTogKG5hbWUpID0+IGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1wiJHtuYW1lfVwiXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXZbXCIke25hbWV9XCJdO1xuXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkW1wiJHtuYW1lfVwiXS5sb2NhdGlvbiwgdlswXSwgdlsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYFxuICB9LFxuICB7XG4gICAgdGVzdDogKGRhdGEsIHVuaWZvcm0pID0+IGRhdGEudHlwZSA9PT0gXCJ2ZWM0XCIgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXkgJiYgdW5pZm9ybS53aWR0aCAhPT0gdm9pZCAwLFxuICAgIGNvZGU6IChuYW1lKSA9PiBgXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcIiR7bmFtZX1cIl0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2W1wiJHtuYW1lfVwiXTtcblxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSB8fCBjdlsyXSAhPT0gdi53aWR0aCB8fCBjdlszXSAhPT0gdi5oZWlnaHQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdi53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2LmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkW1wiJHtuYW1lfVwiXS5sb2NhdGlvbiwgdi54LCB2LnksIHYud2lkdGgsIHYuaGVpZ2h0KVxuICAgICAgICAgICAgICAgIH1gLFxuICAgIGNvZGVVYm86IChuYW1lKSA9PiBgXG4gICAgICAgICAgICAgICAgICAgIHYgPSB1di4ke25hbWV9O1xuXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYueDtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrMV0gPSB2Lnk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzJdID0gdi53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrM10gPSB2LmhlaWdodDtcbiAgICAgICAgICAgICAgICBgXG4gIH0sXG4gIHtcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcInZlYzRcIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSxcbiAgICBjb2RlOiAobmFtZSkgPT4gYFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXCIke25hbWV9XCJdLnZhbHVlO1xuICAgICAgICAgICAgICAgIHYgPSB1dltcIiR7bmFtZX1cIl07XG5cbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSB8fCBjdlszXSAhPT0gdlszXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHZbMl07XG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdlszXTtcblxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWRbXCIke25hbWV9XCJdLmxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKVxuICAgICAgICAgICAgICAgIH1gXG4gIH1cbl07XG5cbmV4cG9ydCB7IHVuaWZvcm1QYXJzZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmlmb3JtUGFyc2Vycy5tanMubWFwXG4iLCJsZXQgdW5zYWZlRXZhbDtcbmZ1bmN0aW9uIHVuc2FmZUV2YWxTdXBwb3J0ZWQoKSB7XG4gIGlmICh0eXBlb2YgdW5zYWZlRXZhbCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdW5zYWZlRXZhbDtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IGZ1bmMgPSBuZXcgRnVuY3Rpb24oXCJwYXJhbTFcIiwgXCJwYXJhbTJcIiwgXCJwYXJhbTNcIiwgXCJyZXR1cm4gcGFyYW0xW3BhcmFtMl0gPT09IHBhcmFtMztcIik7XG4gICAgdW5zYWZlRXZhbCA9IGZ1bmMoeyBhOiBcImJcIiB9LCBcImFcIiwgXCJiXCIpID09PSB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdW5zYWZlRXZhbCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiB1bnNhZmVFdmFsO1xufVxuXG5leHBvcnQgeyB1bnNhZmVFdmFsU3VwcG9ydGVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bnNhZmVFdmFsU3VwcG9ydGVkLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuY2xhc3MgU3RhcnR1cFN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHJ1bihvcHRpb25zKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIHJlbmRlcmVyLmVtaXRXaXRoQ3VzdG9tT3B0aW9ucyhyZW5kZXJlci5ydW5uZXJzLmluaXQsIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmhlbGxvKSB7XG4gICAgICBjb25zb2xlLmxvZyhgUGl4aUpTICR7XCI3LjAuNVwifSAtICR7cmVuZGVyZXIucmVuZGVyZXJMb2dJZH0gLSBodHRwczovL3BpeGlqcy5jb21gKTtcbiAgICB9XG4gICAgcmVuZGVyZXIucmVzaXplKHRoaXMucmVuZGVyZXIuc2NyZWVuLndpZHRoLCB0aGlzLnJlbmRlcmVyLnNjcmVlbi5oZWlnaHQpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gIH1cbn1cblN0YXJ0dXBTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1JlbmRlcmVyU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwic3RhcnR1cFwiXG59O1xuZXh0ZW5zaW9ucy5hZGQoU3RhcnR1cFN5c3RlbSk7XG5cbmV4cG9ydCB7IFN0YXJ0dXBTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0YXJ0dXBTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5jb25zdCBCTEVORCA9IDA7XG5jb25zdCBPRkZTRVQgPSAxO1xuY29uc3QgQ1VMTElORyA9IDI7XG5jb25zdCBERVBUSF9URVNUID0gMztcbmNvbnN0IFdJTkRJTkcgPSA0O1xuY29uc3QgREVQVEhfTUFTSyA9IDU7XG5jbGFzcyBTdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGF0YSA9IDA7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcbiAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICB0aGlzLmRlcHRoTWFzayA9IHRydWU7XG4gIH1cbiAgZ2V0IGJsZW5kKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IEJMRU5EKTtcbiAgfVxuICBzZXQgYmxlbmQodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBCTEVORCkgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBCTEVORDtcbiAgICB9XG4gIH1cbiAgZ2V0IG9mZnNldHMoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgT0ZGU0VUKTtcbiAgfVxuICBzZXQgb2Zmc2V0cyh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IE9GRlNFVCkgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBPRkZTRVQ7XG4gICAgfVxuICB9XG4gIGdldCBjdWxsaW5nKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IENVTExJTkcpO1xuICB9XG4gIHNldCBjdWxsaW5nKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgQ1VMTElORykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBDVUxMSU5HO1xuICAgIH1cbiAgfVxuICBnZXQgZGVwdGhUZXN0KCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX1RFU1QpO1xuICB9XG4gIHNldCBkZXB0aFRlc3QodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9URVNUKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IERFUFRIX1RFU1Q7XG4gICAgfVxuICB9XG4gIGdldCBkZXB0aE1hc2soKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfTUFTSyk7XG4gIH1cbiAgc2V0IGRlcHRoTWFzayh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX01BU0spICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgREVQVEhfTUFTSztcbiAgICB9XG4gIH1cbiAgZ2V0IGNsb2Nrd2lzZUZyb250RmFjZSgpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBXSU5ESU5HKTtcbiAgfVxuICBzZXQgY2xvY2t3aXNlRnJvbnRGYWNlKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgV0lORElORykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBXSU5ESU5HO1xuICAgIH1cbiAgfVxuICBnZXQgYmxlbmRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9ibGVuZE1vZGU7XG4gIH1cbiAgc2V0IGJsZW5kTW9kZSh2YWx1ZSkge1xuICAgIHRoaXMuYmxlbmQgPSB2YWx1ZSAhPT0gQkxFTkRfTU9ERVMuTk9ORTtcbiAgICB0aGlzLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgfVxuICBnZXQgcG9seWdvbk9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9seWdvbk9mZnNldDtcbiAgfVxuICBzZXQgcG9seWdvbk9mZnNldCh2YWx1ZSkge1xuICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgdGhpcy5fcG9seWdvbk9mZnNldCA9IHZhbHVlO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgW0BwaXhpL2NvcmU6U3RhdGUgYmxlbmRNb2RlPSR7dGhpcy5ibGVuZE1vZGV9IGNsb2Nrd2lzZUZyb250RmFjZT0ke3RoaXMuY2xvY2t3aXNlRnJvbnRGYWNlfSBjdWxsaW5nPSR7dGhpcy5jdWxsaW5nfSBkZXB0aE1hc2s9JHt0aGlzLmRlcHRoTWFza30gcG9seWdvbk9mZnNldD0ke3RoaXMucG9seWdvbk9mZnNldH1dYDtcbiAgfVxuICBzdGF0aWMgZm9yMmQoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICBzdGF0ZS5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmV4cG9ydCB7IFN0YXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGF0ZS5tanMubWFwXG4iLCJpbXBvcnQgeyBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkgfSBmcm9tICcuL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5cbmNvbnN0IEJMRU5EID0gMDtcbmNvbnN0IE9GRlNFVCA9IDE7XG5jb25zdCBDVUxMSU5HID0gMjtcbmNvbnN0IERFUFRIX1RFU1QgPSAzO1xuY29uc3QgV0lORElORyA9IDQ7XG5jb25zdCBERVBUSF9NQVNLID0gNTtcbmNvbnN0IF9TdGF0ZVN5c3RlbSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5nbCA9IG51bGw7XG4gICAgdGhpcy5zdGF0ZUlkID0gMDtcbiAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9ORTtcbiAgICB0aGlzLl9ibGVuZEVxID0gZmFsc2U7XG4gICAgdGhpcy5tYXAgPSBbXTtcbiAgICB0aGlzLm1hcFtCTEVORF0gPSB0aGlzLnNldEJsZW5kO1xuICAgIHRoaXMubWFwW09GRlNFVF0gPSB0aGlzLnNldE9mZnNldDtcbiAgICB0aGlzLm1hcFtDVUxMSU5HXSA9IHRoaXMuc2V0Q3VsbEZhY2U7XG4gICAgdGhpcy5tYXBbREVQVEhfVEVTVF0gPSB0aGlzLnNldERlcHRoVGVzdDtcbiAgICB0aGlzLm1hcFtXSU5ESU5HXSA9IHRoaXMuc2V0RnJvbnRGYWNlO1xuICAgIHRoaXMubWFwW0RFUFRIX01BU0tdID0gdGhpcy5zZXREZXB0aE1hc2s7XG4gICAgdGhpcy5jaGVja3MgPSBbXTtcbiAgICB0aGlzLmRlZmF1bHRTdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgIHRoaXMuZGVmYXVsdFN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgfVxuICBjb250ZXh0Q2hhbmdlKGdsKSB7XG4gICAgdGhpcy5nbCA9IGdsO1xuICAgIHRoaXMuYmxlbmRNb2RlcyA9IG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbCk7XG4gICAgdGhpcy5zZXQodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuICBzZXQoc3RhdGUpIHtcbiAgICBzdGF0ZSA9IHN0YXRlIHx8IHRoaXMuZGVmYXVsdFN0YXRlO1xuICAgIGlmICh0aGlzLnN0YXRlSWQgIT09IHN0YXRlLmRhdGEpIHtcbiAgICAgIGxldCBkaWZmID0gdGhpcy5zdGF0ZUlkIF4gc3RhdGUuZGF0YTtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIHdoaWxlIChkaWZmKSB7XG4gICAgICAgIGlmIChkaWZmICYgMSkge1xuICAgICAgICAgIHRoaXMubWFwW2ldLmNhbGwodGhpcywgISEoc3RhdGUuZGF0YSAmIDEgPDwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIGRpZmYgPSBkaWZmID4+IDE7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICB9XG4gIH1cbiAgZm9yY2VTdGF0ZShzdGF0ZSkge1xuICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1hcC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgMSA8PCBpKSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZUlkID0gc3RhdGUuZGF0YTtcbiAgfVxuICBzZXRCbGVuZCh2YWx1ZSkge1xuICAgIHRoaXMudXBkYXRlQ2hlY2soX1N0YXRlU3lzdGVtLmNoZWNrQmxlbmRNb2RlLCB2YWx1ZSk7XG4gICAgdGhpcy5nbFt2YWx1ZSA/IFwiZW5hYmxlXCIgOiBcImRpc2FibGVcIl0odGhpcy5nbC5CTEVORCk7XG4gIH1cbiAgc2V0T2Zmc2V0KHZhbHVlKSB7XG4gICAgdGhpcy51cGRhdGVDaGVjayhfU3RhdGVTeXN0ZW0uY2hlY2tQb2x5Z29uT2Zmc2V0LCB2YWx1ZSk7XG4gICAgdGhpcy5nbFt2YWx1ZSA/IFwiZW5hYmxlXCIgOiBcImRpc2FibGVcIl0odGhpcy5nbC5QT0xZR09OX09GRlNFVF9GSUxMKTtcbiAgfVxuICBzZXREZXB0aFRlc3QodmFsdWUpIHtcbiAgICB0aGlzLmdsW3ZhbHVlID8gXCJlbmFibGVcIiA6IFwiZGlzYWJsZVwiXSh0aGlzLmdsLkRFUFRIX1RFU1QpO1xuICB9XG4gIHNldERlcHRoTWFzayh2YWx1ZSkge1xuICAgIHRoaXMuZ2wuZGVwdGhNYXNrKHZhbHVlKTtcbiAgfVxuICBzZXRDdWxsRmFjZSh2YWx1ZSkge1xuICAgIHRoaXMuZ2xbdmFsdWUgPyBcImVuYWJsZVwiIDogXCJkaXNhYmxlXCJdKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgfVxuICBzZXRGcm9udEZhY2UodmFsdWUpIHtcbiAgICB0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsW3ZhbHVlID8gXCJDV1wiIDogXCJDQ1dcIl0pO1xuICB9XG4gIHNldEJsZW5kTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5ibGVuZE1vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICBjb25zdCBtb2RlID0gdGhpcy5ibGVuZE1vZGVzW3ZhbHVlXTtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgaWYgKG1vZGUubGVuZ3RoID09PSAyKSB7XG4gICAgICBnbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLmJsZW5kRnVuY1NlcGFyYXRlKG1vZGVbMF0sIG1vZGVbMV0sIG1vZGVbMl0sIG1vZGVbM10pO1xuICAgIH1cbiAgICBpZiAobW9kZS5sZW5ndGggPT09IDYpIHtcbiAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKG1vZGVbNF0sIG1vZGVbNV0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fYmxlbmRFcSkge1xuICAgICAgdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKGdsLkZVTkNfQURELCBnbC5GVU5DX0FERCk7XG4gICAgfVxuICB9XG4gIHNldFBvbHlnb25PZmZzZXQodmFsdWUsIHNjYWxlKSB7XG4gICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5nbC5waXhlbFN0b3JlaSh0aGlzLmdsLlVOUEFDS19GTElQX1lfV0VCR0wsIGZhbHNlKTtcbiAgICB0aGlzLmZvcmNlU3RhdGUodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgIHRoaXMuYmxlbmRNb2RlID0gLTE7XG4gICAgdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG4gIH1cbiAgdXBkYXRlQ2hlY2soZnVuYywgdmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuY2hlY2tzLmluZGV4T2YoZnVuYyk7XG4gICAgaWYgKHZhbHVlICYmIGluZGV4ID09PSAtMSkge1xuICAgICAgdGhpcy5jaGVja3MucHVzaChmdW5jKTtcbiAgICB9IGVsc2UgaWYgKCF2YWx1ZSAmJiBpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuY2hlY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBjaGVja0JsZW5kTW9kZShzeXN0ZW0sIHN0YXRlKSB7XG4gICAgc3lzdGVtLnNldEJsZW5kTW9kZShzdGF0ZS5ibGVuZE1vZGUpO1xuICB9XG4gIHN0YXRpYyBjaGVja1BvbHlnb25PZmZzZXQoc3lzdGVtLCBzdGF0ZSkge1xuICAgIHN5c3RlbS5zZXRQb2x5Z29uT2Zmc2V0KDEsIHN0YXRlLnBvbHlnb25PZmZzZXQpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5nbCA9IG51bGw7XG4gIH1cbn07XG5sZXQgU3RhdGVTeXN0ZW0gPSBfU3RhdGVTeXN0ZW07XG5TdGF0ZVN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gIG5hbWU6IFwic3RhdGVcIlxufTtcbmV4dGVuc2lvbnMuYWRkKFN0YXRlU3lzdGVtKTtcblxuZXhwb3J0IHsgU3RhdGVTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0YXRlU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsLCBhcnJheSA9IFtdKSB7XG4gIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuQUREXSA9IFtnbC5PTkUsIGdsLk9ORV07XG4gIGFycmF5W0JMRU5EX01PREVTLk1VTFRJUExZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLlNDUkVFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5PVkVSTEFZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5EQVJLRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkxJR0hURU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0RPREdFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9CVVJOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5ESUZGRVJFTkNFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5FWENMVVNJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkhVRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkxVTUlOT1NJVFldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLk5PTkVdID0gWzAsIDBdO1xuICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkFERF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkUsIGdsLk9ORV07XG4gIGFycmF5W0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0lOXSA9IFtnbC5EU1RfQUxQSEEsIGdsLlpFUk9dO1xuICBhcnJheVtCTEVORF9NT0RFUy5TUkNfT1VUXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5aRVJPXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVkVSXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5PTkVdO1xuICBhcnJheVtCTEVORF9NT0RFUy5EU1RfSU5dID0gW2dsLlpFUk8sIGdsLlNSQ19BTFBIQV07XG4gIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICBhcnJheVtCTEVORF9NT0RFUy5EU1RfQVRPUF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuWE9SXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgYXJyYXlbQkxFTkRfTU9ERVMuU1VCVFJBQ1RdID0gW2dsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLk9ORSwgZ2wuRlVOQ19SRVZFUlNFX1NVQlRSQUNULCBnbC5GVU5DX0FERF07XG4gIHJldHVybiBhcnJheTtcbn1cblxuZXhwb3J0IHsgbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmNsYXNzIFN5c3RlbU1hbmFnZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMucnVubmVycyA9IHt9O1xuICAgIHRoaXMuX3N5c3RlbXNIYXNoID0ge307XG4gIH1cbiAgc2V0dXAoY29uZmlnKSB7XG4gICAgdGhpcy5hZGRSdW5uZXJzKC4uLmNvbmZpZy5ydW5uZXJzKTtcbiAgICBjb25zdCBwcmlvcml0eSA9IChjb25maWcucHJpb3JpdHkgPz8gW10pLmZpbHRlcigoa2V5KSA9PiBjb25maWcuc3lzdGVtc1trZXldKTtcbiAgICBjb25zdCBvcmRlckJ5UHJpb3JpdHkgPSBbXG4gICAgICAuLi5wcmlvcml0eSxcbiAgICAgIC4uLk9iamVjdC5rZXlzKGNvbmZpZy5zeXN0ZW1zKS5maWx0ZXIoKGtleSkgPT4gIXByaW9yaXR5LmluY2x1ZGVzKGtleSkpXG4gICAgXTtcbiAgICBmb3IgKGNvbnN0IGkgb2Ygb3JkZXJCeVByaW9yaXR5KSB7XG4gICAgICB0aGlzLmFkZFN5c3RlbShjb25maWcuc3lzdGVtc1tpXSwgaSk7XG4gICAgfVxuICB9XG4gIGFkZFJ1bm5lcnMoLi4ucnVubmVySWRzKSB7XG4gICAgcnVubmVySWRzLmZvckVhY2goKHJ1bm5lcklkKSA9PiB7XG4gICAgICB0aGlzLnJ1bm5lcnNbcnVubmVySWRdID0gbmV3IFJ1bm5lcihydW5uZXJJZCk7XG4gICAgfSk7XG4gIH1cbiAgYWRkU3lzdGVtKENsYXNzUmVmLCBuYW1lKSB7XG4gICAgY29uc3Qgc3lzdGVtID0gbmV3IENsYXNzUmVmKHRoaXMpO1xuICAgIGlmICh0aGlzW25hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFdob29wcyEgVGhlIG5hbWUgXCIke25hbWV9XCIgaXMgYWxyZWFkeSBpbiB1c2VgKTtcbiAgICB9XG4gICAgdGhpc1tuYW1lXSA9IHN5c3RlbTtcbiAgICB0aGlzLl9zeXN0ZW1zSGFzaFtuYW1lXSA9IHN5c3RlbTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5ydW5uZXJzKSB7XG4gICAgICB0aGlzLnJ1bm5lcnNbaV0uYWRkKHN5c3RlbSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGVtaXRXaXRoQ3VzdG9tT3B0aW9ucyhydW5uZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzeXN0ZW1IYXNoS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3N5c3RlbXNIYXNoKTtcbiAgICBydW5uZXIuaXRlbXMuZm9yRWFjaCgoc3lzdGVtKSA9PiB7XG4gICAgICBjb25zdCBzeXN0ZW1OYW1lID0gc3lzdGVtSGFzaEtleXMuZmluZCgoc3lzdGVtSWQpID0+IHRoaXMuX3N5c3RlbXNIYXNoW3N5c3RlbUlkXSA9PT0gc3lzdGVtKTtcbiAgICAgIHN5c3RlbVtydW5uZXIubmFtZV0ob3B0aW9uc1tzeXN0ZW1OYW1lXSk7XG4gICAgfSk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBPYmplY3QudmFsdWVzKHRoaXMucnVubmVycykuZm9yRWFjaCgocnVubmVyKSA9PiB7XG4gICAgICBydW5uZXIuZGVzdHJveSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3N5c3RlbXNIYXNoID0ge307XG4gIH1cbn1cblxuZXhwb3J0IHsgU3lzdGVtTWFuYWdlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3lzdGVtTWFuYWdlci5tanMubWFwXG4iLCJleHBvcnQgeyBGaWx0ZXJTeXN0ZW0gfSBmcm9tICcuL2ZpbHRlcnMvRmlsdGVyU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBCYXRjaFN5c3RlbSB9IGZyb20gJy4vYmF0Y2gvQmF0Y2hTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IENvbnRleHRTeXN0ZW0gfSBmcm9tICcuL2NvbnRleHQvQ29udGV4dFN5c3RlbS5tanMnO1xuZXhwb3J0IHsgRnJhbWVidWZmZXJTeXN0ZW0gfSBmcm9tICcuL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBHZW9tZXRyeVN5c3RlbSB9IGZyb20gJy4vZ2VvbWV0cnkvR2VvbWV0cnlTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IE1hc2tTeXN0ZW0gfSBmcm9tICcuL21hc2svTWFza1N5c3RlbS5tanMnO1xuZXhwb3J0IHsgU2Npc3NvclN5c3RlbSB9IGZyb20gJy4vbWFzay9TY2lzc29yU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBTdGVuY2lsU3lzdGVtIH0gZnJvbSAnLi9tYXNrL1N0ZW5jaWxTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFByb2plY3Rpb25TeXN0ZW0gfSBmcm9tICcuL3Byb2plY3Rpb24vUHJvamVjdGlvblN5c3RlbS5tanMnO1xuZXhwb3J0IHsgUmVuZGVyVGV4dHVyZVN5c3RlbSB9IGZyb20gJy4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlU3lzdGVtLm1qcyc7XG5leHBvcnQgeyBTaGFkZXJTeXN0ZW0gfSBmcm9tICcuL3NoYWRlci9TaGFkZXJTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFN0YXRlU3lzdGVtIH0gZnJvbSAnLi9zdGF0ZS9TdGF0ZVN5c3RlbS5tanMnO1xuZXhwb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH0gZnJvbSAnLi90ZXh0dXJlcy9UZXh0dXJlR0NTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFRleHR1cmVTeXN0ZW0gfSBmcm9tICcuL3RleHR1cmVzL1RleHR1cmVTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEdlbmVyYXRlVGV4dHVyZVN5c3RlbSB9IGZyb20gJy4vcmVuZGVyVGV4dHVyZS9HZW5lcmF0ZVRleHR1cmVTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEJhY2tncm91bmRTeXN0ZW0gfSBmcm9tICcuL2JhY2tncm91bmQvQmFja2dyb3VuZFN5c3RlbS5tanMnO1xuZXhwb3J0IHsgVmlld1N5c3RlbSB9IGZyb20gJy4vdmlldy9WaWV3U3lzdGVtLm1qcyc7XG5leHBvcnQgeyBQbHVnaW5TeXN0ZW0gfSBmcm9tICcuL3BsdWdpbi9QbHVnaW5TeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFN5c3RlbU1hbmFnZXIgfSBmcm9tICcuL3N5c3RlbS9TeXN0ZW1NYW5hZ2VyLm1qcyc7XG5leHBvcnQgeyBTdGFydHVwU3lzdGVtIH0gZnJvbSAnLi9zdGFydHVwL1N0YXJ0dXBTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IFRyYW5zZm9ybUZlZWRiYWNrU3lzdGVtIH0gZnJvbSAnLi90cmFuc2Zvcm1GZWVkYmFjay9UcmFuc2Zvcm1GZWVkYmFja1N5c3RlbS5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3lzdGVtcy5tanMubWFwXG4iLCJpbXBvcnQgeyBFdmVudEVtaXR0ZXIsIHVpZCwgaXNQb3cyLCBCYXNlVGV4dHVyZUNhY2hlLCBUZXh0dXJlQ2FjaGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBTQ0FMRV9NT0RFUywgRk9STUFUUywgQUxQSEFfTU9ERVMsIFRZUEVTLCBUQVJHRVRTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnLi9yZXNvdXJjZXMvUmVzb3VyY2UubWpzJztcbmltcG9ydCB7IEJ1ZmZlclJlc291cmNlIH0gZnJvbSAnLi9yZXNvdXJjZXMvQnVmZmVyUmVzb3VyY2UubWpzJztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZXNvdXJjZSB9IGZyb20gJy4vcmVzb3VyY2VzL2F1dG9EZXRlY3RSZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNvbnN0IGRlZmF1bHRCdWZmZXJPcHRpb25zID0ge1xuICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gIGZvcm1hdDogRk9STUFUUy5SR0JBLFxuICBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5QTVxufTtcbmNvbnN0IF9CYXNlVGV4dHVyZSA9IGNsYXNzIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IocmVzb3VyY2UgPSBudWxsLCBvcHRpb25zID0gbnVsbCkge1xuICAgIHN1cGVyKCk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgY29uc3Qge1xuICAgICAgYWxwaGFNb2RlLFxuICAgICAgbWlwbWFwLFxuICAgICAgYW5pc290cm9waWNMZXZlbCxcbiAgICAgIHNjYWxlTW9kZSxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgd3JhcE1vZGUsXG4gICAgICBmb3JtYXQsXG4gICAgICB0eXBlLFxuICAgICAgdGFyZ2V0LFxuICAgICAgcmVzb2x1dGlvbixcbiAgICAgIHJlc291cmNlT3B0aW9uc1xuICAgIH0gPSBvcHRpb25zO1xuICAgIGlmIChyZXNvdXJjZSAmJiAhKHJlc291cmNlIGluc3RhbmNlb2YgUmVzb3VyY2UpKSB7XG4gICAgICByZXNvdXJjZSA9IGF1dG9EZXRlY3RSZXNvdXJjZShyZXNvdXJjZSwgcmVzb3VyY2VPcHRpb25zKTtcbiAgICAgIHJlc291cmNlLmludGVybmFsID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgIHRoaXMud2lkdGggPSBNYXRoLnJvdW5kKCh3aWR0aCB8fCAwKSAqIHRoaXMucmVzb2x1dGlvbikgLyB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5oZWlnaHQgPSBNYXRoLnJvdW5kKChoZWlnaHQgfHwgMCkgKiB0aGlzLnJlc29sdXRpb24pIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuX21pcG1hcCA9IG1pcG1hcCA/PyBzZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVM7XG4gICAgdGhpcy5hbmlzb3Ryb3BpY0xldmVsID0gYW5pc290cm9waWNMZXZlbCA/PyBzZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTDtcbiAgICB0aGlzLl93cmFwTW9kZSA9IHdyYXBNb2RlIHx8IHNldHRpbmdzLldSQVBfTU9ERTtcbiAgICB0aGlzLl9zY2FsZU1vZGUgPSBzY2FsZU1vZGUgPz8gc2V0dGluZ3MuU0NBTEVfTU9ERTtcbiAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdCB8fCBGT1JNQVRTLlJHQkE7XG4gICAgdGhpcy50eXBlID0gdHlwZSB8fCBUWVBFUy5VTlNJR05FRF9CWVRFO1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0IHx8IFRBUkdFVFMuVEVYVFVSRV8yRDtcbiAgICB0aGlzLmFscGhhTW9kZSA9IGFscGhhTW9kZSA/PyBBTFBIQV9NT0RFUy5VTlBBQ0s7XG4gICAgdGhpcy51aWQgPSB1aWQoKTtcbiAgICB0aGlzLnRvdWNoZWQgPSAwO1xuICAgIHRoaXMuaXNQb3dlck9mVHdvID0gZmFsc2U7XG4gICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgIHRoaXMuX2dsVGV4dHVyZXMgPSB7fTtcbiAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgIHRoaXMuZGlydHlTdHlsZUlkID0gMDtcbiAgICB0aGlzLmNhY2hlSWQgPSBudWxsO1xuICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcbiAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5yZXNvdXJjZSA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hFbmFibGVkID0gMDtcbiAgICB0aGlzLl9iYXRjaExvY2F0aW9uID0gMDtcbiAgICB0aGlzLnBhcmVudFRleHR1cmVBcnJheSA9IG51bGw7XG4gICAgdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gIH1cbiAgZ2V0IHJlYWxXaWR0aCgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgfVxuICBnZXQgcmVhbEhlaWdodCgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gIH1cbiAgZ2V0IG1pcG1hcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWlwbWFwO1xuICB9XG4gIHNldCBtaXBtYXAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fbWlwbWFwICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5fbWlwbWFwID0gdmFsdWU7XG4gICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgIH1cbiAgfVxuICBnZXQgc2NhbGVNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9zY2FsZU1vZGU7XG4gIH1cbiAgc2V0IHNjYWxlTW9kZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9zY2FsZU1vZGUgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9zY2FsZU1vZGUgPSB2YWx1ZTtcbiAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgfVxuICB9XG4gIGdldCB3cmFwTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JhcE1vZGU7XG4gIH1cbiAgc2V0IHdyYXBNb2RlKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX3dyYXBNb2RlICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5fd3JhcE1vZGUgPSB2YWx1ZTtcbiAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgfVxuICB9XG4gIHNldFN0eWxlKHNjYWxlTW9kZSwgbWlwbWFwKSB7XG4gICAgbGV0IGRpcnR5O1xuICAgIGlmIChzY2FsZU1vZGUgIT09IHZvaWQgMCAmJiBzY2FsZU1vZGUgIT09IHRoaXMuc2NhbGVNb2RlKSB7XG4gICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZTtcbiAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG1pcG1hcCAhPT0gdm9pZCAwICYmIG1pcG1hcCAhPT0gdGhpcy5taXBtYXApIHtcbiAgICAgIHRoaXMubWlwbWFwID0gbWlwbWFwO1xuICAgICAgZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoZGlydHkpIHtcbiAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldFNpemUoZGVzaXJlZFdpZHRoLCBkZXNpcmVkSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgcmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgIHJldHVybiB0aGlzLnNldFJlYWxTaXplKGRlc2lyZWRXaWR0aCAqIHJlc29sdXRpb24sIGRlc2lyZWRIZWlnaHQgKiByZXNvbHV0aW9uLCByZXNvbHV0aW9uKTtcbiAgfVxuICBzZXRSZWFsU2l6ZShyZWFsV2lkdGgsIHJlYWxIZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLndpZHRoID0gTWF0aC5yb3VuZChyZWFsV2lkdGgpIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5yb3VuZChyZWFsSGVpZ2h0KSAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBfcmVmcmVzaFBPVCgpIHtcbiAgICB0aGlzLmlzUG93ZXJPZlR3byA9IGlzUG93Mih0aGlzLnJlYWxXaWR0aCkgJiYgaXNQb3cyKHRoaXMucmVhbEhlaWdodCk7XG4gIH1cbiAgc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKSB7XG4gICAgY29uc3Qgb2xkUmVzb2x1dGlvbiA9IHRoaXMucmVzb2x1dGlvbjtcbiAgICBpZiAob2xkUmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbikge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgIHRoaXMud2lkdGggPSBNYXRoLnJvdW5kKHRoaXMud2lkdGggKiBvbGRSZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICB0aGlzLmhlaWdodCA9IE1hdGgucm91bmQodGhpcy5oZWlnaHQgKiBvbGRSZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgdGhpcyk7XG4gICAgfVxuICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzZXRSZXNvdXJjZShyZXNvdXJjZSkge1xuICAgIGlmICh0aGlzLnJlc291cmNlID09PSByZXNvdXJjZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNvdXJjZSBjYW4gYmUgc2V0IG9ubHkgb25jZVwiKTtcbiAgICB9XG4gICAgcmVzb3VyY2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIGlmICghdGhpcy52YWxpZCkge1xuICAgICAgaWYgKHRoaXMud2lkdGggPiAwICYmIHRoaXMuaGVpZ2h0ID4gMCkge1xuICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbWl0KFwibG9hZGVkXCIsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgdGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgIHRoaXMuZW1pdChcInVwZGF0ZVwiLCB0aGlzKTtcbiAgICB9XG4gIH1cbiAgb25FcnJvcihldmVudCkge1xuICAgIHRoaXMuZW1pdChcImVycm9yXCIsIHRoaXMsIGV2ZW50KTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICB0aGlzLnJlc291cmNlLnVuYmluZCh0aGlzKTtcbiAgICAgIGlmICh0aGlzLnJlc291cmNlLmludGVybmFsKSB7XG4gICAgICAgIHRoaXMucmVzb3VyY2UuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXNvdXJjZSA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhY2hlSWQpIHtcbiAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG4gICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG4gICAgICB0aGlzLmNhY2hlSWQgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICBfQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLmVtaXQoXCJkaXNwb3NlXCIsIHRoaXMpO1xuICB9XG4gIGNhc3RUb0Jhc2VUZXh0dXJlKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHN0YXRpYyBmcm9tKHNvdXJjZSwgb3B0aW9ucywgc3RyaWN0ID0gc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEUpIHtcbiAgICBjb25zdCBpc0ZyYW1lID0gdHlwZW9mIHNvdXJjZSA9PT0gXCJzdHJpbmdcIjtcbiAgICBsZXQgY2FjaGVJZCA9IG51bGw7XG4gICAgaWYgKGlzRnJhbWUpIHtcbiAgICAgIGNhY2hlSWQgPSBzb3VyY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc291cmNlLl9waXhpSWQpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gb3B0aW9ucz8ucGl4aUlkUHJlZml4IHx8IFwicGl4aWlkXCI7XG4gICAgICAgIHNvdXJjZS5fcGl4aUlkID0gYCR7cHJlZml4fV8ke3VpZCgpfWA7XG4gICAgICB9XG4gICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgfVxuICAgIGxldCBiYXNlVGV4dHVyZSA9IEJhc2VUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG4gICAgaWYgKGlzRnJhbWUgJiYgc3RyaWN0ICYmICFiYXNlVGV4dHVyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgY2FjaGVJZCBcIiR7Y2FjaGVJZH1cIiBkb2VzIG5vdCBleGlzdCBpbiBCYXNlVGV4dHVyZUNhY2hlLmApO1xuICAgIH1cbiAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICBiYXNlVGV4dHVyZSA9IG5ldyBfQmFzZVRleHR1cmUoc291cmNlLCBvcHRpb25zKTtcbiAgICAgIGJhc2VUZXh0dXJlLmNhY2hlSWQgPSBjYWNoZUlkO1xuICAgICAgX0Jhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhY2hlSWQpO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gIH1cbiAgc3RhdGljIGZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgYnVmZmVyID0gYnVmZmVyIHx8IG5ldyBGbG9hdDMyQXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICBjb25zdCByZXNvdXJjZSA9IG5ldyBCdWZmZXJSZXNvdXJjZShidWZmZXIsIHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICBjb25zdCB0eXBlID0gYnVmZmVyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5ID8gVFlQRVMuRkxPQVQgOiBUWVBFUy5VTlNJR05FRF9CWVRFO1xuICAgIHJldHVybiBuZXcgX0Jhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0QnVmZmVyT3B0aW9ucywgb3B0aW9ucyB8fCB7IHdpZHRoLCBoZWlnaHQsIHR5cGUgfSkpO1xuICB9XG4gIHN0YXRpYyBhZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBpZCkge1xuICAgIGlmIChpZCkge1xuICAgICAgaWYgKCFiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChCYXNlVGV4dHVyZUNhY2hlW2lkXSAmJiBCYXNlVGV4dHVyZUNhY2hlW2lkXSAhPT0gYmFzZVRleHR1cmUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBCYXNlVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbJHtpZH1dIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlgKTtcbiAgICAgIH1cbiAgICAgIEJhc2VUZXh0dXJlQ2FjaGVbaWRdID0gYmFzZVRleHR1cmU7XG4gICAgfVxuICB9XG4gIHN0YXRpYyByZW1vdmVGcm9tQ2FjaGUoYmFzZVRleHR1cmUpIHtcbiAgICBpZiAodHlwZW9mIGJhc2VUZXh0dXJlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBiYXNlVGV4dHVyZUZyb21DYWNoZSA9IEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuICAgICAgaWYgKGJhc2VUZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoYmFzZVRleHR1cmUpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYmFzZVRleHR1cmU/LnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgIH1cbiAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbmxldCBCYXNlVGV4dHVyZSA9IF9CYXNlVGV4dHVyZTtcbkJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IDA7XG5cbmV4cG9ydCB7IEJhc2VUZXh0dXJlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlVGV4dHVyZS5tanMubWFwXG4iLCJpbXBvcnQgeyBUWVBFUywgRk9STUFUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmNsYXNzIEdMVGV4dHVyZSB7XG4gIGNvbnN0cnVjdG9yKHRleHR1cmUpIHtcbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIHRoaXMud2lkdGggPSAtMTtcbiAgICB0aGlzLmhlaWdodCA9IC0xO1xuICAgIHRoaXMuZGlydHlJZCA9IC0xO1xuICAgIHRoaXMuZGlydHlTdHlsZUlkID0gLTE7XG4gICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcbiAgICB0aGlzLndyYXBNb2RlID0gMzMwNzE7XG4gICAgdGhpcy50eXBlID0gVFlQRVMuVU5TSUdORURfQllURTtcbiAgICB0aGlzLmludGVybmFsRm9ybWF0ID0gRk9STUFUUy5SR0JBO1xuICAgIHRoaXMuc2FtcGxlclR5cGUgPSAwO1xuICB9XG59XG5cbmV4cG9ydCB7IEdMVGV4dHVyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R0xUZXh0dXJlLm1qcy5tYXBcbiIsImltcG9ydCB7IFJlY3RhbmdsZSwgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCBUZXh0dXJlQ2FjaGUsIHVpZCwgZ2V0UmVzb2x1dGlvbk9mVXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgSW1hZ2VSZXNvdXJjZSB9IGZyb20gJy4vcmVzb3VyY2VzL0ltYWdlUmVzb3VyY2UubWpzJztcbmltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi9CYXNlVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVV2cyB9IGZyb20gJy4vVGV4dHVyZVV2cy5tanMnO1xuXG5jb25zdCBERUZBVUxUX1VWUyA9IG5ldyBUZXh0dXJlVXZzKCk7XG5mdW5jdGlvbiByZW1vdmVBbGxIYW5kbGVycyh0ZXgpIHtcbiAgdGV4LmRlc3Ryb3kgPSBmdW5jdGlvbiBfZW1wdHlEZXN0cm95KCkge1xuICB9O1xuICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHtcbiAgfTtcbiAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCkge1xuICB9O1xuICB0ZXguZW1pdCA9IGZ1bmN0aW9uIF9lbXB0eUVtaXQoKSB7XG4gIH07XG59XG5jbGFzcyBUZXh0dXJlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUsIGFuY2hvcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgaWYgKCFmcmFtZSkge1xuICAgICAgdGhpcy5ub0ZyYW1lID0gdHJ1ZTtcbiAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICB9XG4gICAgaWYgKGJhc2VUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICB9XG4gICAgdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG4gICAgdGhpcy50cmltID0gdHJpbTtcbiAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgdGhpcy5fdXZzID0gREVGQVVMVF9VVlM7XG4gICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG4gICAgdGhpcy5vcmlnID0gb3JpZyB8fCBmcmFtZTtcbiAgICB0aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuICAgIGlmIChyb3RhdGUgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuX3JvdGF0ZSA9IDI7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9yb3RhdGUgJSAyICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5XCIpO1xuICAgIH1cbiAgICB0aGlzLmRlZmF1bHRBbmNob3IgPSBhbmNob3IgPyBuZXcgUG9pbnQoYW5jaG9yLngsIGFuY2hvci55KSA6IG5ldyBQb2ludCgwLCAwKTtcbiAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICBpZiAoIWJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICBiYXNlVGV4dHVyZS5vbmNlKFwibG9hZGVkXCIsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5ub0ZyYW1lKSB7XG4gICAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZChiYXNlVGV4dHVyZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICB9XG4gICAgaWYgKHRoaXMubm9GcmFtZSkge1xuICAgICAgYmFzZVRleHR1cmUub24oXCJ1cGRhdGVcIiwgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZSkge1xuICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZS51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgb25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmUpIHtcbiAgICBpZiAodGhpcy5ub0ZyYW1lKSB7XG4gICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuX2ZyYW1lO1xuICAgIH1cbiAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgdGhpcyk7XG4gIH1cbiAgZGVzdHJveShkZXN0cm95QmFzZSkge1xuICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgY29uc3QgeyByZXNvdXJjZSB9ID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHJlc291cmNlPy51cmwgJiYgVGV4dHVyZUNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZShyZXNvdXJjZS51cmwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoXCJsb2FkZWRcIiwgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZihcInVwZGF0ZVwiLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgdGhpcy5fdXZzID0gbnVsbDtcbiAgICB0aGlzLnRyaW0gPSBudWxsO1xuICAgIHRoaXMub3JpZyA9IG51bGw7XG4gICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgfVxuICBjbG9uZSgpIHtcbiAgICBjb25zdCBjbG9uZWRGcmFtZSA9IHRoaXMuX2ZyYW1lLmNsb25lKCk7XG4gICAgY29uc3QgY2xvbmVkT3JpZyA9IHRoaXMuX2ZyYW1lID09PSB0aGlzLm9yaWcgPyBjbG9uZWRGcmFtZSA6IHRoaXMub3JpZy5jbG9uZSgpO1xuICAgIGNvbnN0IGNsb25lZFRleHR1cmUgPSBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCAhdGhpcy5ub0ZyYW1lICYmIGNsb25lZEZyYW1lLCBjbG9uZWRPcmlnLCB0aGlzLnRyaW0/LmNsb25lKCksIHRoaXMucm90YXRlLCB0aGlzLmRlZmF1bHRBbmNob3IpO1xuICAgIGlmICh0aGlzLm5vRnJhbWUpIHtcbiAgICAgIGNsb25lZFRleHR1cmUuX2ZyYW1lID0gY2xvbmVkRnJhbWU7XG4gICAgfVxuICAgIHJldHVybiBjbG9uZWRUZXh0dXJlO1xuICB9XG4gIHVwZGF0ZVV2cygpIHtcbiAgICBpZiAodGhpcy5fdXZzID09PSBERUZBVUxUX1VWUykge1xuICAgICAgdGhpcy5fdXZzID0gbmV3IFRleHR1cmVVdnMoKTtcbiAgICB9XG4gICAgdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSwgdGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5yb3RhdGUpO1xuICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gIH1cbiAgc3RhdGljIGZyb20oc291cmNlLCBvcHRpb25zID0ge30sIHN0cmljdCA9IHNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFKSB7XG4gICAgY29uc3QgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09IFwic3RyaW5nXCI7XG4gICAgbGV0IGNhY2hlSWQgPSBudWxsO1xuICAgIGlmIChpc0ZyYW1lKSB7XG4gICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpIHtcbiAgICAgIGlmICghc291cmNlLmNhY2hlSWQpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gb3B0aW9ucz8ucGl4aUlkUHJlZml4IHx8IFwicGl4aWlkXCI7XG4gICAgICAgIHNvdXJjZS5jYWNoZUlkID0gYCR7cHJlZml4fS0ke3VpZCgpfWA7XG4gICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoc291cmNlLCBzb3VyY2UuY2FjaGVJZCk7XG4gICAgICB9XG4gICAgICBjYWNoZUlkID0gc291cmNlLmNhY2hlSWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc291cmNlLl9waXhpSWQpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gb3B0aW9ucz8ucGl4aUlkUHJlZml4IHx8IFwicGl4aWlkXCI7XG4gICAgICAgIHNvdXJjZS5fcGl4aUlkID0gYCR7cHJlZml4fV8ke3VpZCgpfWA7XG4gICAgICB9XG4gICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgfVxuICAgIGxldCB0ZXh0dXJlID0gVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhdGV4dHVyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgY2FjaGVJZCBcIiR7Y2FjaGVJZH1cIiBkb2VzIG5vdCBleGlzdCBpbiBUZXh0dXJlQ2FjaGUuYCk7XG4gICAgfVxuICAgIGlmICghdGV4dHVyZSAmJiAhKHNvdXJjZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKSkge1xuICAgICAgaWYgKCFvcHRpb25zLnJlc29sdXRpb24pIHtcbiAgICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHNvdXJjZSk7XG4gICAgICB9XG4gICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucykpO1xuICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgfSBlbHNlIGlmICghdGV4dHVyZSAmJiBzb3VyY2UgaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSkge1xuICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKHNvdXJjZSk7XG4gICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9XG4gIHN0YXRpYyBmcm9tVVJMKHVybCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJlc291cmNlT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBhdXRvTG9hZDogZmFsc2UgfSwgb3B0aW9ucz8ucmVzb3VyY2VPcHRpb25zKTtcbiAgICBjb25zdCB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKHVybCwgT2JqZWN0LmFzc2lnbih7IHJlc291cmNlT3B0aW9ucyB9LCBvcHRpb25zKSwgZmFsc2UpO1xuICAgIGNvbnN0IHJlc291cmNlID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICBpZiAodGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlLmxvYWQoKS50aGVuKCgpID0+IFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKSk7XG4gIH1cbiAgc3RhdGljIGZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKEJhc2VUZXh0dXJlLmZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSk7XG4gIH1cbiAgc3RhdGljIGZyb21Mb2FkZXIoc291cmNlLCBpbWFnZVVybCwgbmFtZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgT2JqZWN0LmFzc2lnbih7XG4gICAgICBzY2FsZU1vZGU6IHNldHRpbmdzLlNDQUxFX01PREUsXG4gICAgICByZXNvbHV0aW9uOiBnZXRSZXNvbHV0aW9uT2ZVcmwoaW1hZ2VVcmwpXG4gICAgfSwgb3B0aW9ucykpO1xuICAgIGNvbnN0IHsgcmVzb3VyY2UgfSA9IGJhc2VUZXh0dXJlO1xuICAgIGlmIChyZXNvdXJjZSBpbnN0YW5jZW9mIEltYWdlUmVzb3VyY2UpIHtcbiAgICAgIHJlc291cmNlLnVybCA9IGltYWdlVXJsO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoYmFzZVRleHR1cmUpO1xuICAgIGlmICghbmFtZSkge1xuICAgICAgbmFtZSA9IGltYWdlVXJsO1xuICAgIH1cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBuYW1lKTtcbiAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpIHtcbiAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICB9XG4gICAgaWYgKHRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGV4dHVyZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5vbmNlKFwibG9hZGVkXCIsICgpID0+IHJlc29sdmUodGV4dHVyZSkpO1xuICAgIH0pO1xuICB9XG4gIHN0YXRpYyBhZGRUb0NhY2hlKHRleHR1cmUsIGlkKSB7XG4gICAgaWYgKGlkKSB7XG4gICAgICBpZiAoIXRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChUZXh0dXJlQ2FjaGVbaWRdICYmIFRleHR1cmVDYWNoZVtpZF0gIT09IHRleHR1cmUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFske2lkfV0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeWApO1xuICAgICAgfVxuICAgICAgVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgfVxuICB9XG4gIHN0YXRpYyByZW1vdmVGcm9tQ2FjaGUodGV4dHVyZSkge1xuICAgIGlmICh0eXBlb2YgdGV4dHVyZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgdGV4dHVyZUZyb21DYWNoZSA9IFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcbiAgICAgIGlmICh0ZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG4gICAgICAgIHJldHVybiB0ZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGV4dHVyZT8udGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG4gICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZ2V0IHJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgfVxuICBnZXQgZnJhbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xuICB9XG4gIHNldCBmcmFtZShmcmFtZSkge1xuICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG4gICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgY29uc3QgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSBmcmFtZTtcbiAgICBjb25zdCB4Tm90Rml0ID0geCArIHdpZHRoID4gdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICBjb25zdCB5Tm90Rml0ID0geSArIGhlaWdodCA+IHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgIGlmICh4Tm90Rml0IHx8IHlOb3RGaXQpIHtcbiAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcCA9IHhOb3RGaXQgJiYgeU5vdEZpdCA/IFwiYW5kXCIgOiBcIm9yXCI7XG4gICAgICBjb25zdCBlcnJvclggPSBgWDogJHt4fSArICR7d2lkdGh9ID0gJHt4ICsgd2lkdGh9ID4gJHt0aGlzLmJhc2VUZXh0dXJlLndpZHRofWA7XG4gICAgICBjb25zdCBlcnJvclkgPSBgWTogJHt5fSArICR7aGVpZ2h0fSA9ICR7eSArIGhlaWdodH0gPiAke3RoaXMuYmFzZVRleHR1cmUuaGVpZ2h0fWA7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zOiAke2Vycm9yWH0gJHtyZWxhdGlvbnNoaXB9ICR7ZXJyb3JZfWApO1xuICAgIH1cbiAgICB0aGlzLnZhbGlkID0gd2lkdGggJiYgaGVpZ2h0ICYmIHRoaXMuYmFzZVRleHR1cmUudmFsaWQ7XG4gICAgaWYgKCF0aGlzLnRyaW0gJiYgIXRoaXMucm90YXRlKSB7XG4gICAgICB0aGlzLm9yaWcgPSBmcmFtZTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfVxuICB9XG4gIGdldCByb3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JvdGF0ZTtcbiAgfVxuICBzZXQgcm90YXRlKHJvdGF0ZSkge1xuICAgIHRoaXMuX3JvdGF0ZSA9IHJvdGF0ZTtcbiAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLm9yaWcud2lkdGg7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnLmhlaWdodDtcbiAgfVxuICBjYXN0VG9CYXNlVGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZTtcbiAgfVxuICBzdGF0aWMgZ2V0IEVNUFRZKCkge1xuICAgIGlmICghVGV4dHVyZS5fRU1QVFkpIHtcbiAgICAgIFRleHR1cmUuX0VNUFRZID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKCkpO1xuICAgICAgcmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5fRU1QVFkpO1xuICAgICAgcmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5fRU1QVFkuYmFzZVRleHR1cmUpO1xuICAgIH1cbiAgICByZXR1cm4gVGV4dHVyZS5fRU1QVFk7XG4gIH1cbiAgc3RhdGljIGdldCBXSElURSgpIHtcbiAgICBpZiAoIVRleHR1cmUuX1dISVRFKSB7XG4gICAgICBjb25zdCBjYW52YXMgPSBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygxNiwgMTYpO1xuICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICBjYW52YXMud2lkdGggPSAxNjtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSAxNjtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxNiwgMTYpO1xuICAgICAgVGV4dHVyZS5fV0hJVEUgPSBuZXcgVGV4dHVyZShCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcykpO1xuICAgICAgcmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5fV0hJVEUpO1xuICAgICAgcmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5fV0hJVEUuYmFzZVRleHR1cmUpO1xuICAgIH1cbiAgICByZXR1cm4gVGV4dHVyZS5fV0hJVEU7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGV4dHVyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZS5tanMubWFwXG4iLCJpbXBvcnQgeyBHQ19NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuY2xhc3MgVGV4dHVyZUdDU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICB0aGlzLm1heElkbGUgPSBzZXR0aW5ncy5HQ19NQVhfSURMRTtcbiAgICB0aGlzLmNoZWNrQ291bnRNYXggPSBzZXR0aW5ncy5HQ19NQVhfQ0hFQ0tfQ09VTlQ7XG4gICAgdGhpcy5tb2RlID0gc2V0dGluZ3MuR0NfTU9ERTtcbiAgfVxuICBwb3N0cmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5yZW5kZXJlci5vYmplY3RSZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNvdW50Kys7XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gR0NfTU9ERVMuTUFOVUFMKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2hlY2tDb3VudCsrO1xuICAgIGlmICh0aGlzLmNoZWNrQ291bnQgPiB0aGlzLmNoZWNrQ291bnRNYXgpIHtcbiAgICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG4gICAgICB0aGlzLnJ1bigpO1xuICAgIH1cbiAgfVxuICBydW4oKSB7XG4gICAgY29uc3QgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgY29uc3QgbWFuYWdlZFRleHR1cmVzID0gdG0ubWFuYWdlZFRleHR1cmVzO1xuICAgIGxldCB3YXNSZW1vdmVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICBpZiAoIXRleHR1cmUuZnJhbWVidWZmZXIgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgbWFuYWdlZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh3YXNSZW1vdmVkKSB7XG4gICAgICBsZXQgaiA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobWFuYWdlZFRleHR1cmVzW2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2orK10gPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1hbmFnZWRUZXh0dXJlcy5sZW5ndGggPSBqO1xuICAgIH1cbiAgfVxuICB1bmxvYWQoZGlzcGxheU9iamVjdCkge1xuICAgIGNvbnN0IHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgIGNvbnN0IHRleHR1cmUgPSBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlO1xuICAgIGlmICh0ZXh0dXJlICYmICF0ZXh0dXJlLmZyYW1lYnVmZmVyKSB7XG4gICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5UZXh0dXJlR0NTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcInRleHR1cmVHQ1wiXG59O1xuZXh0ZW5zaW9ucy5hZGQoVGV4dHVyZUdDU3lzdGVtKTtcblxuZXhwb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlR0NTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmNvbnN0IHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG5jbGFzcyBUZXh0dXJlTWF0cml4IHtcbiAgY29uc3RydWN0b3IodGV4dHVyZSwgY2xhbXBNYXJnaW4pIHtcbiAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcbiAgICB0aGlzLm1hcENvb3JkID0gbmV3IE1hdHJpeCgpO1xuICAgIHRoaXMudUNsYW1wRnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIHRoaXMudUNsYW1wT2Zmc2V0ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG4gICAgdGhpcy5jbGFtcE1hcmdpbiA9IHR5cGVvZiBjbGFtcE1hcmdpbiA9PT0gXCJ1bmRlZmluZWRcIiA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuICAgIHRoaXMuaXNTaW1wbGUgPSBmYWxzZTtcbiAgfVxuICBnZXQgdGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgfVxuICBzZXQgdGV4dHVyZSh2YWx1ZSkge1xuICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgfVxuICBtdWx0aXBseVV2cyh1dnMsIG91dCkge1xuICAgIGlmIChvdXQgPT09IHZvaWQgMCkge1xuICAgICAgb3V0ID0gdXZzO1xuICAgIH1cbiAgICBjb25zdCBtYXQgPSB0aGlzLm1hcENvb3JkO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXZzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb25zdCB4ID0gdXZzW2ldO1xuICAgICAgY29uc3QgeSA9IHV2c1tpICsgMV07XG4gICAgICBvdXRbaV0gPSB4ICogbWF0LmEgKyB5ICogbWF0LmMgKyBtYXQudHg7XG4gICAgICBvdXRbaSArIDFdID0geCAqIG1hdC5iICsgeSAqIG1hdC5kICsgbWF0LnR5O1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIHVwZGF0ZShmb3JjZVVwZGF0ZSkge1xuICAgIGNvbnN0IHRleCA9IHRoaXMuX3RleHR1cmU7XG4gICAgaWYgKCF0ZXggfHwgIXRleC52YWxpZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWZvcmNlVXBkYXRlICYmIHRoaXMuX3RleHR1cmVJRCA9PT0gdGV4Ll91cGRhdGVJRCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXguX3VwZGF0ZUlEO1xuICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgY29uc3QgdXZzID0gdGV4Ll91dnM7XG4gICAgdGhpcy5tYXBDb29yZC5zZXQodXZzLngxIC0gdXZzLngwLCB1dnMueTEgLSB1dnMueTAsIHV2cy54MyAtIHV2cy54MCwgdXZzLnkzIC0gdXZzLnkwLCB1dnMueDAsIHV2cy55MCk7XG4gICAgY29uc3Qgb3JpZyA9IHRleC5vcmlnO1xuICAgIGNvbnN0IHRyaW0gPSB0ZXgudHJpbTtcbiAgICBpZiAodHJpbSkge1xuICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsIC10cmltLnggLyB0cmltLndpZHRoLCAtdHJpbS55IC8gdHJpbS5oZWlnaHQpO1xuICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgfVxuICAgIGNvbnN0IHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLnVDbGFtcEZyYW1lO1xuICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuY2xhbXBNYXJnaW4gLyB0ZXhCYXNlLnJlc29sdXRpb247XG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcbiAgICBmcmFtZVswXSA9ICh0ZXguX2ZyYW1lLnggKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgIGZyYW1lWzNdID0gKHRleC5fZnJhbWUueSArIHRleC5fZnJhbWUuaGVpZ2h0IC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG4gICAgdGhpcy5pc1NpbXBsZSA9IHRleC5fZnJhbWUud2lkdGggPT09IHRleEJhc2Uud2lkdGggJiYgdGV4Ll9mcmFtZS5oZWlnaHQgPT09IHRleEJhc2UuaGVpZ2h0ICYmIHRleC5yb3RhdGUgPT09IDA7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGV4dHVyZU1hdHJpeCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZU1hdHJpeC5tanMubWFwXG4iLCJpbXBvcnQgeyBtYXBUeXBlQW5kRm9ybWF0VG9JbnRlcm5hbEZvcm1hdCB9IGZyb20gJy4vdXRpbHMvbWFwVHlwZUFuZEZvcm1hdFRvSW50ZXJuYWxGb3JtYXQubWpzJztcbmltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi9CYXNlVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgR0xUZXh0dXJlIH0gZnJvbSAnLi9HTFRleHR1cmUubWpzJztcbmltcG9ydCB7IHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgU0FNUExFUl9UWVBFUywgVFlQRVMsIE1JUE1BUF9NT0RFUywgV1JBUF9NT0RFUywgU0NBTEVfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuXG5jbGFzcyBUZXh0dXJlU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5ib3VuZFRleHR1cmVzID0gW107XG4gICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSAtMTtcbiAgICB0aGlzLm1hbmFnZWRUZXh0dXJlcyA9IFtdO1xuICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gZmFsc2U7XG4gICAgdGhpcy51bmtub3duVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuICAgIHRoaXMuaGFzSW50ZWdlclRleHR1cmVzID0gZmFsc2U7XG4gIH1cbiAgY29udGV4dENoYW5nZSgpIHtcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgIHRoaXMud2ViR0xWZXJzaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbjtcbiAgICB0aGlzLmludGVybmFsRm9ybWF0cyA9IG1hcFR5cGVBbmRGb3JtYXRUb0ludGVybmFsRm9ybWF0KGdsKTtcbiAgICBjb25zdCBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG4gICAgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aCA9IG1heFRleHR1cmVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG4gICAgY29uc3QgZW1wdHlUZXh0dXJlMkQgPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCAxLCAxLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBuZXcgVWludDhBcnJheSg0KSk7XG4gICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdID0gZW1wdHlUZXh0dXJlMkQ7XG4gICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFX0NVQkVfTUFQXS50ZXh0dXJlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpLCAwLCBnbC5SR0JBLCAxLCAxLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcbiAgICB9XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYmluZChudWxsLCBpKTtcbiAgICB9XG4gIH1cbiAgYmluZCh0ZXh0dXJlLCBsb2NhdGlvbiA9IDApIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIHRleHR1cmUgPSB0ZXh0dXJlPy5jYXN0VG9CYXNlVGV4dHVyZSgpO1xuICAgIGlmICh0ZXh0dXJlPy52YWxpZCAmJiAhdGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkpIHtcbiAgICAgIHRleHR1cmUudG91Y2hlZCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuICAgICAgY29uc3QgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gIT09IHRleHR1cmUpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kVGV4dHVyZSh0ZXh0dXJlLnRhcmdldCwgZ2xUZXh0dXJlLnRleHR1cmUpO1xuICAgICAgfVxuICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkICE9PSB0ZXh0dXJlLmRpcnR5SWQpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICB9IGVsc2UgaWYgKGdsVGV4dHVyZS5kaXJ0eVN0eWxlSWQgIT09IHRleHR1cmUuZGlydHlTdHlsZUlkKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZVN0eWxlKHRleHR1cmUpO1xuICAgICAgfVxuICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgIH1cbiAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXS50ZXh0dXJlKTtcbiAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSBudWxsO1xuICAgIH1cbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgdGhpcy5oYXNJbnRlZ2VyVGV4dHVyZXMgPSBmYWxzZTtcbiAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLnVua25vd25UZXh0dXJlO1xuICAgIH1cbiAgfVxuICB1bmJpbmQodGV4dHVyZSkge1xuICAgIGNvbnN0IHsgZ2wsIGJvdW5kVGV4dHVyZXMgfSA9IHRoaXM7XG4gICAgaWYgKHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzKSB7XG4gICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0aGlzLnVua25vd25UZXh0dXJlKSB7XG4gICAgICAgICAgdGhpcy5iaW5kKG51bGwsIGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBpKSB7XG4gICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gaTtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kVGV4dHVyZSh0ZXh0dXJlLnRhcmdldCwgdGhpcy5lbXB0eVRleHR1cmVzW3RleHR1cmUudGFyZ2V0XS50ZXh0dXJlKTtcbiAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVuc3VyZVNhbXBsZXJUeXBlKG1heFRleHR1cmVzKSB7XG4gICAgY29uc3QgeyBib3VuZFRleHR1cmVzLCBoYXNJbnRlZ2VyVGV4dHVyZXMsIENPTlRFWFRfVUlEIH0gPSB0aGlzO1xuICAgIGlmICghaGFzSW50ZWdlclRleHR1cmVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBtYXhUZXh0dXJlcyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBjb25zdCB0ZXggPSBib3VuZFRleHR1cmVzW2ldO1xuICAgICAgaWYgKHRleCkge1xuICAgICAgICBjb25zdCBnbFRleHR1cmUgPSB0ZXguX2dsVGV4dHVyZXNbQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLnNhbXBsZXJUeXBlICE9PSBTQU1QTEVSX1RZUEVTLkZMT0FUKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZCh0ZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGluaXRUZXh0dXJlKHRleHR1cmUpIHtcbiAgICBjb25zdCBnbFRleHR1cmUgPSBuZXcgR0xUZXh0dXJlKHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICBnbFRleHR1cmUuZGlydHlJZCA9IC0xO1xuICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG4gICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICB0ZXh0dXJlLm9uKFwiZGlzcG9zZVwiLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcbiAgICByZXR1cm4gZ2xUZXh0dXJlO1xuICB9XG4gIGluaXRUZXh0dXJlVHlwZSh0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSB0aGlzLmludGVybmFsRm9ybWF0c1t0ZXh0dXJlLnR5cGVdPy5bdGV4dHVyZS5mb3JtYXRdID8/IHRleHR1cmUuZm9ybWF0O1xuICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMiAmJiB0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpIHtcbiAgICAgIGdsVGV4dHVyZS50eXBlID0gdGhpcy5nbC5IQUxGX0ZMT0FUO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbFRleHR1cmUudHlwZSA9IHRleHR1cmUudHlwZTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlVGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgY29uc3QgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgdGhpcy5pbml0VGV4dHVyZVR5cGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICBpZiAodGV4dHVyZS5yZXNvdXJjZT8udXBsb2FkKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKSB7XG4gICAgICBpZiAoZ2xUZXh0dXJlLnNhbXBsZXJUeXBlICE9PSBTQU1QTEVSX1RZUEVTLkZMT0FUKSB7XG4gICAgICAgIHRoaXMuaGFzSW50ZWdlclRleHR1cmVzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgd2lkdGggPSB0ZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHRleHR1cmUucmVhbEhlaWdodDtcbiAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoICE9PSB3aWR0aCB8fCBnbFRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgZ2xUZXh0dXJlLmRpcnR5SWQgPCAwKSB7XG4gICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBnbC50ZXhJbWFnZTJEKHRleHR1cmUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIHRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgbnVsbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0ZXh0dXJlLmRpcnR5U3R5bGVJZCAhPT0gZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCkge1xuICAgICAgdGhpcy51cGRhdGVUZXh0dXJlU3R5bGUodGV4dHVyZSk7XG4gICAgfVxuICAgIGdsVGV4dHVyZS5kaXJ0eUlkID0gdGV4dHVyZS5kaXJ0eUlkO1xuICB9XG4gIGRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHNraXBSZW1vdmUpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgaWYgKHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0pIHtcbiAgICAgIHRoaXMudW5iaW5kKHRleHR1cmUpO1xuICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUpO1xuICAgICAgdGV4dHVyZS5vZmYoXCJkaXNwb3NlXCIsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgZGVsZXRlIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICBpZiAoIXNraXBSZW1vdmUpIHtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMubWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG4gICAgICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMubWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICB1cGRhdGVUZXh0dXJlU3R5bGUodGV4dHVyZSkge1xuICAgIGNvbnN0IGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCh0ZXh0dXJlLm1pcG1hcCA9PT0gTUlQTUFQX01PREVTLlBPVzIgfHwgdGhpcy53ZWJHTFZlcnNpb24gIT09IDIpICYmICF0ZXh0dXJlLmlzUG93ZXJPZlR3bykge1xuICAgICAgZ2xUZXh0dXJlLm1pcG1hcCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbFRleHR1cmUubWlwbWFwID0gdGV4dHVyZS5taXBtYXAgPj0gMTtcbiAgICB9XG4gICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uICE9PSAyICYmICF0ZXh0dXJlLmlzUG93ZXJPZlR3bykge1xuICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gdGV4dHVyZS53cmFwTW9kZTtcbiAgICB9XG4gICAgaWYgKHRleHR1cmUucmVzb3VyY2U/LnN0eWxlKHRoaXMucmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpIHtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdHlsZSh0ZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgIH1cbiAgICBnbFRleHR1cmUuZGlydHlTdHlsZUlkID0gdGV4dHVyZS5kaXJ0eVN0eWxlSWQ7XG4gIH1cbiAgc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgIGlmIChnbFRleHR1cmUubWlwbWFwICYmIHRleHR1cmUubWlwbWFwICE9PSBNSVBNQVBfTU9ERVMuT05fTUFOVUFMKSB7XG4gICAgICBnbC5nZW5lcmF0ZU1pcG1hcCh0ZXh0dXJlLnRhcmdldCk7XG4gICAgfVxuICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgIGlmIChnbFRleHR1cmUubWlwbWFwKSB7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiA6IGdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgY29uc3QgYW5pc290cm9waWNFeHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5hbmlzb3Ryb3BpY0ZpbHRlcmluZztcbiAgICAgIGlmIChhbmlzb3Ryb3BpY0V4dCAmJiB0ZXh0dXJlLmFuaXNvdHJvcGljTGV2ZWwgPiAwICYmIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIpIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBNYXRoLm1pbih0ZXh0dXJlLmFuaXNvdHJvcGljTGV2ZWwsIGdsLmdldFBhcmFtZXRlcihhbmlzb3Ryb3BpY0V4dC5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlLnRhcmdldCwgYW5pc290cm9waWNFeHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIGxldmVsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG4gICAgfVxuICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cblRleHR1cmVTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcInRleHR1cmVcIlxufTtcbmV4dGVuc2lvbnMuYWRkKFRleHR1cmVTeXN0ZW0pO1xuXG5leHBvcnQgeyBUZXh0dXJlU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IGdyb3VwRDggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuY2xhc3MgVGV4dHVyZVV2cyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMueDAgPSAwO1xuICAgIHRoaXMueTAgPSAwO1xuICAgIHRoaXMueDEgPSAxO1xuICAgIHRoaXMueTEgPSAwO1xuICAgIHRoaXMueDIgPSAxO1xuICAgIHRoaXMueTIgPSAxO1xuICAgIHRoaXMueDMgPSAwO1xuICAgIHRoaXMueTMgPSAxO1xuICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gIH1cbiAgc2V0KGZyYW1lLCBiYXNlRnJhbWUsIHJvdGF0ZSkge1xuICAgIGNvbnN0IHR3ID0gYmFzZUZyYW1lLndpZHRoO1xuICAgIGNvbnN0IHRoID0gYmFzZUZyYW1lLmhlaWdodDtcbiAgICBpZiAocm90YXRlKSB7XG4gICAgICBjb25zdCB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgY29uc3QgaDIgPSBmcmFtZS5oZWlnaHQgLyAyIC8gdGg7XG4gICAgICBjb25zdCBjWCA9IGZyYW1lLnggLyB0dyArIHcyO1xuICAgICAgY29uc3QgY1kgPSBmcmFtZS55IC8gdGggKyBoMjtcbiAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgZ3JvdXBEOC5OVyk7XG4gICAgICB0aGlzLngwID0gY1ggKyB3MiAqIGdyb3VwRDgudVgocm90YXRlKTtcbiAgICAgIHRoaXMueTAgPSBjWSArIGgyICogZ3JvdXBEOC51WShyb3RhdGUpO1xuICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgIHRoaXMueDEgPSBjWCArIHcyICogZ3JvdXBEOC51WChyb3RhdGUpO1xuICAgICAgdGhpcy55MSA9IGNZICsgaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSk7XG4gICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgdGhpcy54MiA9IGNYICsgdzIgKiBncm91cEQ4LnVYKHJvdGF0ZSk7XG4gICAgICB0aGlzLnkyID0gY1kgKyBoMiAqIGdyb3VwRDgudVkocm90YXRlKTtcbiAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XG4gICAgICB0aGlzLngzID0gY1ggKyB3MiAqIGdyb3VwRDgudVgocm90YXRlKTtcbiAgICAgIHRoaXMueTMgPSBjWSArIGgyICogZ3JvdXBEOC51WShyb3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLngwID0gZnJhbWUueCAvIHR3O1xuICAgICAgdGhpcy55MCA9IGZyYW1lLnkgLyB0aDtcbiAgICAgIHRoaXMueDEgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgdGhpcy55MSA9IGZyYW1lLnkgLyB0aDtcbiAgICAgIHRoaXMueDIgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgdGhpcy55MiA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgICAgdGhpcy54MyA9IGZyYW1lLnggLyB0dztcbiAgICAgIHRoaXMueTMgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICB9XG4gICAgdGhpcy51dnNGbG9hdDMyWzBdID0gdGhpcy54MDtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbMV0gPSB0aGlzLnkwO1xuICAgIHRoaXMudXZzRmxvYXQzMlsyXSA9IHRoaXMueDE7XG4gICAgdGhpcy51dnNGbG9hdDMyWzNdID0gdGhpcy55MTtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbNF0gPSB0aGlzLngyO1xuICAgIHRoaXMudXZzRmxvYXQzMls1XSA9IHRoaXMueTI7XG4gICAgdGhpcy51dnNGbG9hdDMyWzZdID0gdGhpcy54MztcbiAgICB0aGlzLnV2c0Zsb2F0MzJbN10gPSB0aGlzLnkzO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgW0BwaXhpL2NvcmU6VGV4dHVyZVV2cyB4MD0ke3RoaXMueDB9IHkwPSR7dGhpcy55MH0geDE9JHt0aGlzLngxfSB5MT0ke3RoaXMueTF9IHgyPSR7dGhpcy54Mn0geTI9JHt0aGlzLnkyfSB4Mz0ke3RoaXMueDN9IHkzPSR7dGhpcy55M31dYDtcbiAgfVxufVxuXG5leHBvcnQgeyBUZXh0dXJlVXZzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlVXZzLm1qcy5tYXBcbiIsImltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnLi9SZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tICcuLi9CYXNlVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgYXV0b0RldGVjdFJlc291cmNlIH0gZnJvbSAnLi9hdXRvRGV0ZWN0UmVzb3VyY2UubWpzJztcblxuY2xhc3MgQWJzdHJhY3RNdWx0aVJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3RvcihsZW5ndGgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IG9wdGlvbnMgfHwge307XG4gICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIHRoaXMuaXRlbURpcnR5SWRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcGFydFRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcbiAgICAgIHRoaXMuaXRlbXMucHVzaChwYXJ0VGV4dHVyZSk7XG4gICAgICB0aGlzLml0ZW1EaXJ0eUlkcy5wdXNoKC0yKTtcbiAgICB9XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gIH1cbiAgaW5pdEZyb21BcnJheShyZXNvdXJjZXMsIG9wdGlvbnMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcmVzb3VyY2VzW2ldKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHJlc291cmNlc1tpXS5jYXN0VG9CYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLmFkZEJhc2VUZXh0dXJlQXQocmVzb3VyY2VzW2ldLmNhc3RUb0Jhc2VUZXh0dXJlKCksIGkpO1xuICAgICAgfSBlbHNlIGlmIChyZXNvdXJjZXNbaV0gaW5zdGFuY2VvZiBSZXNvdXJjZSkge1xuICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQocmVzb3VyY2VzW2ldLCBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2VzW2ldLCBvcHRpb25zKSwgaSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRpc3Bvc2UoKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuaXRlbXNbaV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IG51bGw7XG4gICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gIH1cbiAgYWRkUmVzb3VyY2VBdChyZXNvdXJjZSwgaW5kZXgpIHtcbiAgICBpZiAoIXRoaXMuaXRlbXNbaW5kZXhdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEluZGV4ICR7aW5kZXh9IGlzIG91dCBvZiBib3VuZHNgKTtcbiAgICB9XG4gICAgaWYgKHJlc291cmNlLnZhbGlkICYmICF0aGlzLnZhbGlkKSB7XG4gICAgICB0aGlzLnJlc2l6ZShyZXNvdXJjZS53aWR0aCwgcmVzb3VyY2UuaGVpZ2h0KTtcbiAgICB9XG4gICAgdGhpcy5pdGVtc1tpbmRleF0uc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGJpbmQoYmFzZVRleHR1cmUpIHtcbiAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBvbmUgYmFzZSB0ZXh0dXJlIHBlciBUZXh0dXJlQXJyYXkgaXMgYWxsb3dlZFwiKTtcbiAgICB9XG4gICAgc3VwZXIuYmluZChiYXNlVGV4dHVyZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLml0ZW1zW2ldLnBhcmVudFRleHR1cmVBcnJheSA9IGJhc2VUZXh0dXJlO1xuICAgICAgdGhpcy5pdGVtc1tpXS5vbihcInVwZGF0ZVwiLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICB9XG4gIH1cbiAgdW5iaW5kKGJhc2VUZXh0dXJlKSB7XG4gICAgc3VwZXIudW5iaW5kKGJhc2VUZXh0dXJlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuaXRlbXNbaV0ucGFyZW50VGV4dHVyZUFycmF5ID0gbnVsbDtcbiAgICAgIHRoaXMuaXRlbXNbaV0ub2ZmKFwidXBkYXRlXCIsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgIH1cbiAgfVxuICBsb2FkKCkge1xuICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9XG4gICAgY29uc3QgcmVzb3VyY2VzID0gdGhpcy5pdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0ucmVzb3VyY2UpLmZpbHRlcigoaXRlbSkgPT4gaXRlbSk7XG4gICAgY29uc3QgcHJvbWlzZXMgPSByZXNvdXJjZXMubWFwKChpdGVtKSA9PiBpdGVtLmxvYWQoKSk7XG4gICAgdGhpcy5fbG9hZCA9IFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVhbFdpZHRoLCByZWFsSGVpZ2h0IH0gPSB0aGlzLml0ZW1zWzBdO1xuICAgICAgdGhpcy5yZXNpemUocmVhbFdpZHRoLCByZWFsSGVpZ2h0KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgQWJzdHJhY3RNdWx0aVJlc291cmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdE11bHRpUmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgVEFSR0VUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBBYnN0cmFjdE11bHRpUmVzb3VyY2UgfSBmcm9tICcuL0Fic3RyYWN0TXVsdGlSZXNvdXJjZS5tanMnO1xuXG5jbGFzcyBBcnJheVJlc291cmNlIGV4dGVuZHMgQWJzdHJhY3RNdWx0aVJlc291cmNlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBvcHRpb25zIHx8IHt9O1xuICAgIGxldCB1cmxzO1xuICAgIGxldCBsZW5ndGg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgdXJscyA9IHNvdXJjZTtcbiAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlbmd0aCA9IHNvdXJjZTtcbiAgICB9XG4gICAgc3VwZXIobGVuZ3RoLCB7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgaWYgKHVybHMpIHtcbiAgICAgIHRoaXMuaW5pdEZyb21BcnJheSh1cmxzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgYWRkQmFzZVRleHR1cmVBdChiYXNlVGV4dHVyZSwgaW5kZXgpIHtcbiAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChiYXNlVGV4dHVyZS5yZXNvdXJjZSwgaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBcnJheVJlc291cmNlIGRvZXMgbm90IHN1cHBvcnQgUmVuZGVyVGV4dHVyZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYmluZChiYXNlVGV4dHVyZSkge1xuICAgIHN1cGVyLmJpbmQoYmFzZVRleHR1cmUpO1xuICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV8yRF9BUlJBWTtcbiAgfVxuICB1cGxvYWQocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgIGNvbnN0IHsgbGVuZ3RoLCBpdGVtRGlydHlJZHMsIGl0ZW1zIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgZ2wgfSA9IHJlbmRlcmVyO1xuICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCA8IDApIHtcbiAgICAgIGdsLnRleEltYWdlM0QoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCBsZW5ndGgsIDAsIHRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgbnVsbCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgIGlmIChpdGVtRGlydHlJZHNbaV0gPCBpdGVtLmRpcnR5SWQpIHtcbiAgICAgICAgaXRlbURpcnR5SWRzW2ldID0gaXRlbS5kaXJ0eUlkO1xuICAgICAgICBpZiAoaXRlbS52YWxpZCkge1xuICAgICAgICAgIGdsLnRleFN1YkltYWdlM0QoZ2wuVEVYVFVSRV8yRF9BUlJBWSwgMCwgMCwgMCwgaSwgaXRlbS5yZXNvdXJjZS53aWR0aCwgaXRlbS5yZXNvdXJjZS5oZWlnaHQsIDEsIHRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgaXRlbS5yZXNvdXJjZS5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCB7IEFycmF5UmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFycmF5UmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgQUxQSEFfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4vUmVzb3VyY2UubWpzJztcblxuY2xhc3MgQmFzZUltYWdlUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgIGNvbnN0IHNvdXJjZUFueSA9IHNvdXJjZTtcbiAgICBjb25zdCB3aWR0aCA9IHNvdXJjZUFueS5uYXR1cmFsV2lkdGggfHwgc291cmNlQW55LnZpZGVvV2lkdGggfHwgc291cmNlQW55LndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHNvdXJjZUFueS5uYXR1cmFsSGVpZ2h0IHx8IHNvdXJjZUFueS52aWRlb0hlaWdodCB8fCBzb3VyY2VBbnkuaGVpZ2h0O1xuICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIHRoaXMubm9TdWJJbWFnZSA9IGZhbHNlO1xuICB9XG4gIHN0YXRpYyBjcm9zc09yaWdpbihlbGVtZW50LCB1cmwsIGNyb3Nzb3JpZ2luKSB7XG4gICAgaWYgKGNyb3Nzb3JpZ2luID09PSB2b2lkIDAgJiYgIXVybC5zdGFydHNXaXRoKFwiZGF0YTpcIikpIHtcbiAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwpO1xuICAgIH0gZWxzZSBpZiAoY3Jvc3NvcmlnaW4gIT09IGZhbHNlKSB7XG4gICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSBcInN0cmluZ1wiID8gY3Jvc3NvcmlnaW4gOiBcImFub255bW91c1wiO1xuICAgIH1cbiAgfVxuICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHNvdXJjZSkge1xuICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgY29uc3Qgd2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcbiAgICBzb3VyY2UgPSBzb3VyY2UgfHwgdGhpcy5zb3VyY2U7XG4gICAgaWYgKHR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgIGlmICghc291cmNlLmNvbXBsZXRlIHx8IHNvdXJjZS5uYXR1cmFsV2lkdGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIEhUTUxWaWRlb0VsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkge1xuICAgICAgaWYgKHNvdXJjZS5yZWFkeVN0YXRlIDw9IDEgJiYgc291cmNlLmJ1ZmZlcmVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgIGlmICghdGhpcy5ub1N1YkltYWdlICYmIGJhc2VUZXh0dXJlLnRhcmdldCA9PT0gZ2wuVEVYVFVSRV8yRCAmJiBnbFRleHR1cmUud2lkdGggPT09IHdpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGhlaWdodCkge1xuICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgIGNvbnN0IHdpZHRoID0gc291cmNlLm5hdHVyYWxXaWR0aCB8fCBzb3VyY2UudmlkZW9XaWR0aCB8fCBzb3VyY2Uud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgc291cmNlLnZpZGVvSGVpZ2h0IHx8IHNvdXJjZS5oZWlnaHQ7XG4gICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgc3VwZXIudXBkYXRlKCk7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VJbWFnZVJlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnLi9SZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgQUxQSEFfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5jbGFzcyBCdWZmZXJSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBvcHRpb25zIHx8IHt9O1xuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyUmVzb3VyY2Ugd2lkdGggb3IgaGVpZ2h0IGludmFsaWRcIik7XG4gICAgfVxuICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuZGF0YSA9IHNvdXJjZTtcbiAgfVxuICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgIGNvbnN0IHdpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gd2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICBnbC50ZXhTdWJJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgMCwgMCwgd2lkdGgsIGhlaWdodCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICB9XG4gIHN0YXRpYyB0ZXN0KHNvdXJjZSkge1xuICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50MzJBcnJheTtcbiAgfVxufVxuXG5leHBvcnQgeyBCdWZmZXJSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnVmZmVyUmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlLm1qcyc7XG5cbmNsYXNzIENhbnZhc1Jlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICBzdXBlcihzb3VyY2UpO1xuICB9XG4gIHN0YXRpYyB0ZXN0KHNvdXJjZSkge1xuICAgIGNvbnN0IHsgT2Zmc2NyZWVuQ2FudmFzIH0gPSBnbG9iYWxUaGlzO1xuICAgIGlmIChPZmZzY3JlZW5DYW52YXMgJiYgc291cmNlIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuSFRNTENhbnZhc0VsZW1lbnQgJiYgc291cmNlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2FudmFzUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1Jlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IEFic3RyYWN0TXVsdGlSZXNvdXJjZSB9IGZyb20gJy4vQWJzdHJhY3RNdWx0aVJlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBUQVJHRVRTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuY29uc3QgX0N1YmVSZXNvdXJjZSA9IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RNdWx0aVJlc291cmNlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBhdXRvTG9hZCwgbGlua0Jhc2VUZXh0dXJlIH0gPSBvcHRpb25zIHx8IHt9O1xuICAgIGlmIChzb3VyY2UgJiYgc291cmNlLmxlbmd0aCAhPT0gX0N1YmVSZXNvdXJjZS5TSURFUykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGxlbmd0aC4gR290ICR7c291cmNlLmxlbmd0aH0sIGV4cGVjdGVkIDZgKTtcbiAgICB9XG4gICAgc3VwZXIoNiwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX0N1YmVSZXNvdXJjZS5TSURFUzsgaSsrKSB7XG4gICAgICB0aGlzLml0ZW1zW2ldLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaTtcbiAgICB9XG4gICAgdGhpcy5saW5rQmFzZVRleHR1cmUgPSBsaW5rQmFzZVRleHR1cmUgIT09IGZhbHNlO1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIHRoaXMuaW5pdEZyb21BcnJheShzb3VyY2UsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG4gIH1cbiAgYmluZChiYXNlVGV4dHVyZSkge1xuICAgIHN1cGVyLmJpbmQoYmFzZVRleHR1cmUpO1xuICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUDtcbiAgfVxuICBhZGRCYXNlVGV4dHVyZUF0KGJhc2VUZXh0dXJlLCBpbmRleCwgbGlua0Jhc2VUZXh0dXJlKSB7XG4gICAgaWYgKGxpbmtCYXNlVGV4dHVyZSA9PT0gdm9pZCAwKSB7XG4gICAgICBsaW5rQmFzZVRleHR1cmUgPSB0aGlzLmxpbmtCYXNlVGV4dHVyZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLml0ZW1zW2luZGV4XSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmRleCAke2luZGV4fSBpcyBvdXQgb2YgYm91bmRzYCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5saW5rQmFzZVRleHR1cmUgfHwgYmFzZVRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5IHx8IE9iamVjdC5rZXlzKGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzKS5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGJhc2VUZXh0dXJlLnJlc291cmNlLCBpbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEN1YmVSZXNvdXJjZSBkb2VzIG5vdCBzdXBwb3J0IGNvcHlpbmcgb2YgcmVuZGVyVGV4dHVyZS5gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpbmRleDtcbiAgICAgIGJhc2VUZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICB0aGlzLml0ZW1zW2luZGV4XSA9IGJhc2VUZXh0dXJlO1xuICAgIH1cbiAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQgJiYgIXRoaXMudmFsaWQpIHtcbiAgICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLnJlYWxXaWR0aCwgYmFzZVRleHR1cmUucmVhbEhlaWdodCk7XG4gICAgfVxuICAgIHRoaXMuaXRlbXNbaW5kZXhdID0gYmFzZVRleHR1cmU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdXBsb2FkKHJlbmRlcmVyLCBfYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgIGNvbnN0IGRpcnR5ID0gdGhpcy5pdGVtRGlydHlJZHM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfQ3ViZVJlc291cmNlLlNJREVTOyBpKyspIHtcbiAgICAgIGNvbnN0IHNpZGUgPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgaWYgKGRpcnR5W2ldIDwgc2lkZS5kaXJ0eUlkIHx8IGdsVGV4dHVyZS5kaXJ0eUlkIDwgX2Jhc2VUZXh0dXJlLmRpcnR5SWQpIHtcbiAgICAgICAgaWYgKHNpZGUudmFsaWQgJiYgc2lkZS5yZXNvdXJjZSkge1xuICAgICAgICAgIHNpZGUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCBzaWRlLCBnbFRleHR1cmUpO1xuICAgICAgICAgIGRpcnR5W2ldID0gc2lkZS5kaXJ0eUlkO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcnR5W2ldIDwgLTEpIHtcbiAgICAgICAgICByZW5kZXJlci5nbC50ZXhJbWFnZTJEKHNpZGUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIF9iYXNlVGV4dHVyZS5yZWFsV2lkdGgsIF9iYXNlVGV4dHVyZS5yZWFsSGVpZ2h0LCAwLCBfYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgbnVsbCk7XG4gICAgICAgICAgZGlydHlbaV0gPSAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBzdGF0aWMgdGVzdChzb3VyY2UpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzb3VyY2UpICYmIHNvdXJjZS5sZW5ndGggPT09IF9DdWJlUmVzb3VyY2UuU0lERVM7XG4gIH1cbn07XG5sZXQgQ3ViZVJlc291cmNlID0gX0N1YmVSZXNvdXJjZTtcbkN1YmVSZXNvdXJjZS5TSURFUyA9IDY7XG5cbmV4cG9ydCB7IEN1YmVSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q3ViZVJlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IEFMUEhBX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJ1ZmZlclJlc291cmNlIH0gZnJvbSAnLi9CdWZmZXJSZXNvdXJjZS5tanMnO1xuXG5jbGFzcyBEZXB0aFJlc291cmNlIGV4dGVuZHMgQnVmZmVyUmVzb3VyY2Uge1xuICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgIGNvbnN0IHdpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gd2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICBnbC50ZXhTdWJJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgMCwgMCwgd2lkdGgsIGhlaWdodCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgRGVwdGhSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVwdGhSZXNvdXJjZS5tanMubWFwXG4iLCJpbXBvcnQgeyBBTFBIQV9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEJhc2VJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZS5tanMnO1xuXG5jbGFzcyBJbWFnZUJpdG1hcFJlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgX19zdXBlciA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBzdXBlciguLi5hcmdzKTtcbiAgICB9O1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBfX3N1cGVyKEltYWdlQml0bWFwUmVzb3VyY2UuRU1QVFkpO1xuICAgICAgdGhpcy51cmwgPSBzb3VyY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9fc3VwZXIoc291cmNlKTtcbiAgICAgIHRoaXMudXJsID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gPz8gdHJ1ZTtcbiAgICB0aGlzLmFscGhhTW9kZSA9IHR5cGVvZiBvcHRpb25zLmFscGhhTW9kZSA9PT0gXCJudW1iZXJcIiA/IG9wdGlvbnMuYWxwaGFNb2RlIDogbnVsbDtcbiAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgfVxuICBsb2FkKCkge1xuICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9XG4gICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLnVybCA9PT0gbnVsbCkge1xuICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNldHRpbmdzLkFEQVBURVIuZmV0Y2godGhpcy51cmwsIHtcbiAgICAgICAgICBtb2RlOiB0aGlzLmNyb3NzT3JpZ2luID8gXCJjb3JzXCIgOiBcIm5vLWNvcnNcIlxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaW1hZ2VCbG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpbWFnZUJpdG1hcCA9IGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGltYWdlQmxvYiwge1xuICAgICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHRoaXMuYWxwaGFNb2RlID09PSBudWxsIHx8IHRoaXMuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0sgPyBcInByZW11bHRpcGx5XCIgOiBcIm5vbmVcIlxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBpbWFnZUJpdG1hcDtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuZW1pdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgfVxuICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICBpZiAoISh0aGlzLnNvdXJjZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwKSkge1xuICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5hbHBoYU1vZGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9IHRoaXMuYWxwaGFNb2RlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIudXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgfVxuICBkaXNwb3NlKCkge1xuICAgIGlmICh0aGlzLnNvdXJjZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwKSB7XG4gICAgICB0aGlzLnNvdXJjZS5jbG9zZSgpO1xuICAgIH1cbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gIH1cbiAgc3RhdGljIHRlc3Qoc291cmNlKSB7XG4gICAgcmV0dXJuICEhZ2xvYmFsVGhpcy5jcmVhdGVJbWFnZUJpdG1hcCAmJiB0eXBlb2YgSW1hZ2VCaXRtYXAgIT09IFwidW5kZWZpbmVkXCIgJiYgKHR5cGVvZiBzb3VyY2UgPT09IFwic3RyaW5nXCIgfHwgc291cmNlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApO1xuICB9XG4gIHN0YXRpYyBnZXQgRU1QVFkoKSB7XG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZS5fRU1QVFkgPSBJbWFnZUJpdG1hcFJlc291cmNlLl9FTVBUWSA/PyBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygwLCAwKTtcbiAgICByZXR1cm4gSW1hZ2VCaXRtYXBSZXNvdXJjZS5fRU1QVFk7XG4gIH1cbn1cblxuZXhwb3J0IHsgSW1hZ2VCaXRtYXBSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1hZ2VCaXRtYXBSZXNvdXJjZS5tanMubWFwXG4iLCJpbXBvcnQgeyBBTFBIQV9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEJhc2VJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZS5tanMnO1xuXG5jbGFzcyBJbWFnZVJlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKCk7XG4gICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbihpbWFnZUVsZW1lbnQsIHNvdXJjZSwgb3B0aW9ucy5jcm9zc29yaWdpbik7XG4gICAgICBpbWFnZUVsZW1lbnQuc3JjID0gc291cmNlO1xuICAgICAgc291cmNlID0gaW1hZ2VFbGVtZW50O1xuICAgIH1cbiAgICBzdXBlcihzb3VyY2UpO1xuICAgIGlmICghc291cmNlLmNvbXBsZXRlICYmICEhdGhpcy5fd2lkdGggJiYgISF0aGlzLl9oZWlnaHQpIHtcbiAgICAgIHRoaXMuX3dpZHRoID0gMDtcbiAgICAgIHRoaXMuX2hlaWdodCA9IDA7XG4gICAgfVxuICAgIHRoaXMudXJsID0gc291cmNlLnNyYztcbiAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICB0aGlzLnByZXNlcnZlQml0bWFwID0gZmFsc2U7XG4gICAgdGhpcy5jcmVhdGVCaXRtYXAgPSAob3B0aW9ucy5jcmVhdGVCaXRtYXAgPz8gc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUCkgJiYgISFnbG9iYWxUaGlzLmNyZWF0ZUltYWdlQml0bWFwO1xuICAgIHRoaXMuYWxwaGFNb2RlID0gdHlwZW9mIG9wdGlvbnMuYWxwaGFNb2RlID09PSBcIm51bWJlclwiID8gb3B0aW9ucy5hbHBoYU1vZGUgOiBudWxsO1xuICAgIHRoaXMuYml0bWFwID0gbnVsbDtcbiAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgfVxuICBsb2FkKGNyZWF0ZUJpdG1hcCkge1xuICAgIGlmICh0aGlzLl9sb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9XG4gICAgaWYgKGNyZWF0ZUJpdG1hcCAhPT0gdm9pZCAwKSB7XG4gICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IGNyZWF0ZUJpdG1hcDtcbiAgICB9XG4gICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgdGhpcy51cmwgPSBzb3VyY2Uuc3JjO1xuICAgICAgY29uc3QgY29tcGxldGVkID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemUoc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmNyZWF0ZUJpdG1hcCkge1xuICAgICAgICAgIHJlc29sdmUodGhpcy5wcm9jZXNzKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoc291cmNlLmNvbXBsZXRlICYmIHNvdXJjZS5zcmMpIHtcbiAgICAgICAgY29tcGxldGVkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VyY2Uub25sb2FkID0gY29tcGxldGVkO1xuICAgICAgICBzb3VyY2Uub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICAgICAgdGhpcy5vbkVycm9yLmVtaXQoZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICB9XG4gIHByb2Nlc3MoKSB7XG4gICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgaWYgKHRoaXMuX3Byb2Nlc3MgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgIH1cbiAgICBpZiAodGhpcy5iaXRtYXAgIT09IG51bGwgfHwgIWdsb2JhbFRoaXMuY3JlYXRlSW1hZ2VCaXRtYXApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgfVxuICAgIGNvbnN0IGNyZWF0ZUltYWdlQml0bWFwID0gZ2xvYmFsVGhpcy5jcmVhdGVJbWFnZUJpdG1hcDtcbiAgICBjb25zdCBjb3JzID0gIXNvdXJjZS5jcm9zc09yaWdpbiB8fCBzb3VyY2UuY3Jvc3NPcmlnaW4gPT09IFwiYW5vbnltb3VzXCI7XG4gICAgdGhpcy5fcHJvY2VzcyA9IGZldGNoKHNvdXJjZS5zcmMsIHtcbiAgICAgIG1vZGU6IGNvcnMgPyBcImNvcnNcIiA6IFwibm8tY29yc1wiXG4gICAgfSkudGhlbigocikgPT4gci5ibG9iKCkpLnRoZW4oKGJsb2IpID0+IGNyZWF0ZUltYWdlQml0bWFwKGJsb2IsIDAsIDAsIHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCwge1xuICAgICAgcHJlbXVsdGlwbHlBbHBoYTogdGhpcy5hbHBoYU1vZGUgPT09IG51bGwgfHwgdGhpcy5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyA/IFwicHJlbXVsdGlwbHlcIiA6IFwibm9uZVwiXG4gICAgfSkpLnRoZW4oKGJpdG1hcCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5iaXRtYXAgPSBiaXRtYXA7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICB9XG4gIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5hbHBoYU1vZGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9IHRoaXMuYWxwaGFNb2RlO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY3JlYXRlQml0bWFwKSB7XG4gICAgICByZXR1cm4gc3VwZXIudXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmJpdG1hcCkge1xuICAgICAgdGhpcy5wcm9jZXNzKCk7XG4gICAgICBpZiAoIXRoaXMuYml0bWFwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIudXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCB0aGlzLmJpdG1hcCk7XG4gICAgaWYgKCF0aGlzLnByZXNlcnZlQml0bWFwKSB7XG4gICAgICBsZXQgZmxhZyA9IHRydWU7XG4gICAgICBjb25zdCBnbFRleHR1cmVzID0gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXM7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBnbFRleHR1cmVzKSB7XG4gICAgICAgIGNvbnN0IG90aGVyVGV4ID0gZ2xUZXh0dXJlc1trZXldO1xuICAgICAgICBpZiAob3RoZXJUZXggIT09IGdsVGV4dHVyZSAmJiBvdGhlclRleC5kaXJ0eUlkICE9PSBiYXNlVGV4dHVyZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZmxhZykge1xuICAgICAgICBpZiAodGhpcy5iaXRtYXAuY2xvc2UpIHtcbiAgICAgICAgICB0aGlzLmJpdG1hcC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLnNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgIHRoaXMuc291cmNlLm9uZXJyb3IgPSBudWxsO1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICBpZiAodGhpcy5iaXRtYXApIHtcbiAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICB9XG4gIHN0YXRpYyB0ZXN0KHNvdXJjZSkge1xuICAgIHJldHVybiB0eXBlb2YgSFRNTEltYWdlRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiAodHlwZW9mIHNvdXJjZSA9PT0gXCJzdHJpbmdcIiB8fCBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KTtcbiAgfVxufVxuXG5leHBvcnQgeyBJbWFnZVJlc291cmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZVJlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5cbmNsYXNzIFJlc291cmNlIHtcbiAgY29uc3RydWN0b3Iod2lkdGggPSAwLCBoZWlnaHQgPSAwKSB7XG4gICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmludGVybmFsID0gZmFsc2U7XG4gICAgdGhpcy5vblJlc2l6ZSA9IG5ldyBSdW5uZXIoXCJzZXRSZWFsU2l6ZVwiKTtcbiAgICB0aGlzLm9uVXBkYXRlID0gbmV3IFJ1bm5lcihcInVwZGF0ZVwiKTtcbiAgICB0aGlzLm9uRXJyb3IgPSBuZXcgUnVubmVyKFwib25FcnJvclwiKTtcbiAgfVxuICBiaW5kKGJhc2VUZXh0dXJlKSB7XG4gICAgdGhpcy5vblJlc2l6ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgIHRoaXMub25VcGRhdGUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLm9uRXJyb3IuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICBpZiAodGhpcy5fd2lkdGggfHwgdGhpcy5faGVpZ2h0KSB7XG4gICAgICB0aGlzLm9uUmVzaXplLmVtaXQodGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgfVxuICB9XG4gIHVuYmluZChiYXNlVGV4dHVyZSkge1xuICAgIHRoaXMub25SZXNpemUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgdGhpcy5vbkVycm9yLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gIH1cbiAgcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICBpZiAod2lkdGggIT09IHRoaXMuX3dpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgdGhpcy5vblJlc2l6ZS5lbWl0KHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgfVxuICBnZXQgdmFsaWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fd2lkdGggJiYgISF0aGlzLl9oZWlnaHQ7XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgIHRoaXMub25VcGRhdGUuZW1pdCgpO1xuICAgIH1cbiAgfVxuICBsb2FkKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgfVxuICBnZXQgaGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gIH1cbiAgc3R5bGUoX3JlbmRlcmVyLCBfYmFzZVRleHR1cmUsIF9nbFRleHR1cmUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZUFsbCgpO1xuICAgICAgdGhpcy5vbkVycm9yID0gbnVsbDtcbiAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlQWxsKCk7XG4gICAgICB0aGlzLm9uUmVzaXplID0gbnVsbDtcbiAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlQWxsKCk7XG4gICAgICB0aGlzLm9uVXBkYXRlID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgc3RhdGljIHRlc3QoX3NvdXJjZSwgX2V4dGVuc2lvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgeyBSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgdWlkIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuY29uc3QgX1NWR1Jlc291cmNlID0gY2xhc3MgZXh0ZW5kcyBCYXNlSW1hZ2VSZXNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZUJhc2U2NCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHN1cGVyKHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCkpO1xuICAgIHRoaXMuX3dpZHRoID0gMDtcbiAgICB0aGlzLl9oZWlnaHQgPSAwO1xuICAgIHRoaXMuc3ZnID0gc291cmNlQmFzZTY0O1xuICAgIHRoaXMuc2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IDE7XG4gICAgdGhpcy5fb3ZlcnJpZGVXaWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgdGhpcy5fb3ZlcnJpZGVIZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICB0aGlzLl9jcm9zc29yaWdpbiA9IG9wdGlvbnMuY3Jvc3NvcmlnaW47XG4gICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG4gIH1cbiAgbG9hZCgpIHtcbiAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgdGhpcy5fcmVzb2x2ZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy5zb3VyY2Uud2lkdGgsIHRoaXMuc291cmNlLmhlaWdodCk7XG4gICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICB9O1xuICAgICAgaWYgKF9TVkdSZXNvdXJjZS5TVkdfWE1MLnRlc3QodGhpcy5zdmcudHJpbSgpKSkge1xuICAgICAgICBpZiAoIWJ0b2EpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGJhc2U2NCBjb252ZXJzaW9ucy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdmcgPSBgZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwke2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuc3ZnKSkpfWA7XG4gICAgICB9XG4gICAgICB0aGlzLl9sb2FkU3ZnKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gIH1cbiAgX2xvYWRTdmcoKSB7XG4gICAgY29uc3QgdGVtcEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4odGVtcEltYWdlLCB0aGlzLnN2ZywgdGhpcy5fY3Jvc3NvcmlnaW4pO1xuICAgIHRlbXBJbWFnZS5zcmMgPSB0aGlzLnN2ZztcbiAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRlbXBJbWFnZS5vbmVycm9yID0gbnVsbDtcbiAgICAgIHRoaXMub25FcnJvci5lbWl0KGV2ZW50KTtcbiAgICB9O1xuICAgIHRlbXBJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX3Jlc29sdmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3ZnV2lkdGggPSB0ZW1wSW1hZ2Uud2lkdGg7XG4gICAgICBjb25zdCBzdmdIZWlnaHQgPSB0ZW1wSW1hZ2UuaGVpZ2h0O1xuICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBTVkcgaW1hZ2UgbXVzdCBoYXZlIHdpZHRoIGFuZCBoZWlnaHQgZGVmaW5lZCAoaW4gcGl4ZWxzKSwgY2FudmFzIEFQSSBuZWVkcyB0aGVtLlwiKTtcbiAgICAgIH1cbiAgICAgIGxldCB3aWR0aCA9IHN2Z1dpZHRoICogdGhpcy5zY2FsZTtcbiAgICAgIGxldCBoZWlnaHQgPSBzdmdIZWlnaHQgKiB0aGlzLnNjYWxlO1xuICAgICAgaWYgKHRoaXMuX292ZXJyaWRlV2lkdGggfHwgdGhpcy5fb3ZlcnJpZGVIZWlnaHQpIHtcbiAgICAgICAgd2lkdGggPSB0aGlzLl9vdmVycmlkZVdpZHRoIHx8IHRoaXMuX292ZXJyaWRlSGVpZ2h0IC8gc3ZnSGVpZ2h0ICogc3ZnV2lkdGg7XG4gICAgICAgIGhlaWdodCA9IHRoaXMuX292ZXJyaWRlSGVpZ2h0IHx8IHRoaXMuX292ZXJyaWRlV2lkdGggLyBzdmdXaWR0aCAqIHN2Z0hlaWdodDtcbiAgICAgIH1cbiAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCk7XG4gICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG4gICAgICBjb25zdCBjYW52YXMgPSB0aGlzLnNvdXJjZTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGNhbnZhcy5fcGl4aUlkID0gYGNhbnZhc18ke3VpZCgpfWA7XG4gICAgICBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZSh0ZW1wSW1hZ2UsIDAsIDAsIHN2Z1dpZHRoLCBzdmdIZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgdGhpcy5fcmVzb2x2ZSgpO1xuICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgfTtcbiAgfVxuICBzdGF0aWMgZ2V0U2l6ZShzdmdTdHJpbmcpIHtcbiAgICBjb25zdCBzaXplTWF0Y2ggPSBfU1ZHUmVzb3VyY2UuU1ZHX1NJWkUuZXhlYyhzdmdTdHJpbmcpO1xuICAgIGNvbnN0IHNpemUgPSB7fTtcbiAgICBpZiAoc2l6ZU1hdGNoKSB7XG4gICAgICBzaXplW3NpemVNYXRjaFsxXV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzNdKSk7XG4gICAgICBzaXplW3NpemVNYXRjaFs1XV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzddKSk7XG4gICAgfVxuICAgIHJldHVybiBzaXplO1xuICB9XG4gIGRpc3Bvc2UoKSB7XG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gbnVsbDtcbiAgfVxuICBzdGF0aWMgdGVzdChzb3VyY2UsIGV4dGVuc2lvbikge1xuICAgIHJldHVybiBleHRlbnNpb24gPT09IFwic3ZnXCIgfHwgdHlwZW9mIHNvdXJjZSA9PT0gXCJzdHJpbmdcIiAmJiBzb3VyY2Uuc3RhcnRzV2l0aChcImRhdGE6aW1hZ2Uvc3ZnK3htbFwiKSB8fCB0eXBlb2Ygc291cmNlID09PSBcInN0cmluZ1wiICYmIF9TVkdSZXNvdXJjZS5TVkdfWE1MLnRlc3Qoc291cmNlKTtcbiAgfVxufTtcbmxldCBTVkdSZXNvdXJjZSA9IF9TVkdSZXNvdXJjZTtcblNWR1Jlc291cmNlLlNWR19YTUwgPSAvXig8XFw/eG1sW14/XStcXD8+KT9cXHMqKDwhLS1bXigtLT4pXSotLT4pP1xccypcXDxzdmcvbTtcblNWR1Jlc291cmNlLlNWR19TSVpFID0gLzxzdmdbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qPi9pO1xuXG5leHBvcnQgeyBTVkdSZXNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U1ZHUmVzb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBUaWNrZXIgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuXG5jb25zdCBfVmlkZW9SZXNvdXJjZSA9IGNsYXNzIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2Uge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSkge1xuICAgICAgY29uc3QgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO1xuICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZShcInByZWxvYWRcIiwgXCJhdXRvXCIpO1xuICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZShcIndlYmtpdC1wbGF5c2lubGluZVwiLCBcIlwiKTtcbiAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLCBcIlwiKTtcbiAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHNvdXJjZSA9IFtzb3VyY2VdO1xuICAgICAgfVxuICAgICAgY29uc3QgZmlyc3RTcmMgPSBzb3VyY2VbMF0uc3JjIHx8IHNvdXJjZVswXTtcbiAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHZpZGVvRWxlbWVudCwgZmlyc3RTcmMsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3Qgc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIik7XG4gICAgICAgIGxldCB7IHNyYywgbWltZSB9ID0gc291cmNlW2ldO1xuICAgICAgICBzcmMgPSBzcmMgfHwgc291cmNlW2ldO1xuICAgICAgICBjb25zdCBiYXNlU3JjID0gc3JjLnNwbGl0KFwiP1wiKS5zaGlmdCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGV4dCA9IGJhc2VTcmMuc2xpY2UoYmFzZVNyYy5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcbiAgICAgICAgbWltZSA9IG1pbWUgfHwgX1ZpZGVvUmVzb3VyY2UuTUlNRV9UWVBFU1tleHRdIHx8IGB2aWRlby8ke2V4dH1gO1xuICAgICAgICBzb3VyY2VFbGVtZW50LnNyYyA9IHNyYztcbiAgICAgICAgc291cmNlRWxlbWVudC50eXBlID0gbWltZTtcbiAgICAgICAgdmlkZW9FbGVtZW50LmFwcGVuZENoaWxkKHNvdXJjZUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgc291cmNlID0gdmlkZW9FbGVtZW50O1xuICAgIH1cbiAgICBzdXBlcihzb3VyY2UpO1xuICAgIHRoaXMubm9TdWJJbWFnZSA9IHRydWU7XG4gICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgIHRoaXMuX3VwZGF0ZUZQUyA9IG9wdGlvbnMudXBkYXRlRlBTIHx8IDA7XG4gICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSAwO1xuICAgIHRoaXMuYXV0b1BsYXkgPSBvcHRpb25zLmF1dG9QbGF5ICE9PSBmYWxzZTtcbiAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICB0aGlzLl9vbkNhblBsYXkgPSB0aGlzLl9vbkNhblBsYXkuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZShfZGVsdGFUaW1lID0gMCkge1xuICAgIGlmICghdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgIGNvbnN0IGVsYXBzZWRNUyA9IFRpY2tlci5zaGFyZWQuZWxhcHNlZE1TICogdGhpcy5zb3VyY2UucGxheWJhY2tSYXRlO1xuICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSBNYXRoLmZsb29yKHRoaXMuX21zVG9OZXh0VXBkYXRlIC0gZWxhcHNlZE1TKTtcbiAgICAgIGlmICghdGhpcy5fdXBkYXRlRlBTIHx8IHRoaXMuX21zVG9OZXh0VXBkYXRlIDw9IDApIHtcbiAgICAgICAgc3VwZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gdGhpcy5fdXBkYXRlRlBTID8gTWF0aC5mbG9vcigxZTMgLyB0aGlzLl91cGRhdGVGUFMpIDogMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbG9hZCgpIHtcbiAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgIGlmICgoc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0VOT1VHSF9EQVRBIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9GVVRVUkVfREFUQSkgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgIHNvdXJjZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgfVxuICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwicGxheVwiLCB0aGlzLl9vblBsYXlTdGFydC5iaW5kKHRoaXMpKTtcbiAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcInBhdXNlXCIsIHRoaXMuX29uUGxheVN0b3AuYmluZCh0aGlzKSk7XG4gICAgaWYgKCF0aGlzLl9pc1NvdXJjZVJlYWR5KCkpIHtcbiAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheVwiLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgfVxuICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICBzb3VyY2UubG9hZCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICB9XG4gIF9vbkVycm9yKGV2ZW50KSB7XG4gICAgdGhpcy5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgIHRoaXMub25FcnJvci5lbWl0KGV2ZW50KTtcbiAgfVxuICBfaXNTb3VyY2VQbGF5aW5nKCkge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgIHJldHVybiAhc291cmNlLnBhdXNlZCAmJiAhc291cmNlLmVuZGVkICYmIHRoaXMuX2lzU291cmNlUmVhZHkoKTtcbiAgfVxuICBfaXNTb3VyY2VSZWFkeSgpIHtcbiAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICByZXR1cm4gc291cmNlLnJlYWR5U3RhdGUgPiAyO1xuICB9XG4gIF9vblBsYXlTdGFydCgpIHtcbiAgICBpZiAoIXRoaXMudmFsaWQpIHtcbiAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgX29uUGxheVN0b3AoKSB7XG4gICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgX29uQ2FuUGxheSgpIHtcbiAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIiwgdGhpcy5fb25DYW5QbGF5KTtcbiAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXl0aHJvdWdoXCIsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgY29uc3QgdmFsaWQgPSB0aGlzLnZhbGlkO1xuICAgIHRoaXMucmVzaXplKHNvdXJjZS52aWRlb1dpZHRoLCBzb3VyY2UudmlkZW9IZWlnaHQpO1xuICAgIGlmICghdmFsaWQgJiYgdGhpcy5fcmVzb2x2ZSkge1xuICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzKTtcbiAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpIHtcbiAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmF1dG9QbGF5KSB7XG4gICAgICBzb3VyY2UucGxheSgpO1xuICAgIH1cbiAgfVxuICBkaXNwb3NlKCkge1xuICAgIGlmICh0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICBzb3VyY2UucGF1c2UoKTtcbiAgICAgIHNvdXJjZS5zcmMgPSBcIlwiO1xuICAgICAgc291cmNlLmxvYWQoKTtcbiAgICB9XG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICB9XG4gIGdldCBhdXRvVXBkYXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICB9XG4gIHNldCBhdXRvVXBkYXRlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG4gICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciAmJiB0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQgdXBkYXRlRlBTKCkge1xuICAgIHJldHVybiB0aGlzLl91cGRhdGVGUFM7XG4gIH1cbiAgc2V0IHVwZGF0ZUZQUyh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fdXBkYXRlRlBTKSB7XG4gICAgICB0aGlzLl91cGRhdGVGUFMgPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pIHtcbiAgICByZXR1cm4gZ2xvYmFsVGhpcy5IVE1MVmlkZW9FbGVtZW50ICYmIHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgfHwgX1ZpZGVvUmVzb3VyY2UuVFlQRVMuaW5jbHVkZXMoZXh0ZW5zaW9uKTtcbiAgfVxufTtcbmxldCBWaWRlb1Jlc291cmNlID0gX1ZpZGVvUmVzb3VyY2U7XG5WaWRlb1Jlc291cmNlLlRZUEVTID0gW1wibXA0XCIsIFwibTR2XCIsIFwid2VibVwiLCBcIm9nZ1wiLCBcIm9ndlwiLCBcImgyNjRcIiwgXCJhdmlcIiwgXCJtb3ZcIl07XG5WaWRlb1Jlc291cmNlLk1JTUVfVFlQRVMgPSB7XG4gIG9ndjogXCJ2aWRlby9vZ2dcIixcbiAgbW92OiBcInZpZGVvL3F1aWNrdGltZVwiLFxuICBtNHY6IFwidmlkZW8vbXA0XCJcbn07XG5cbmV4cG9ydCB7IFZpZGVvUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZGVvUmVzb3VyY2UubWpzLm1hcFxuIiwiY29uc3QgSU5TVEFMTEVEID0gW107XG5mdW5jdGlvbiBhdXRvRGV0ZWN0UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gIGlmICghc291cmNlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IGV4dGVuc2lvbiA9IFwiXCI7XG4gIGlmICh0eXBlb2Ygc291cmNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gL1xcLihcXHd7Myw0fSkoPzokfFxcP3wjKS9pLmV4ZWMoc291cmNlKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBleHRlbnNpb24gPSByZXN1bHRbMV0udG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IElOU1RBTExFRC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgIGNvbnN0IFJlc291cmNlUGx1Z2luID0gSU5TVEFMTEVEW2ldO1xuICAgIGlmIChSZXNvdXJjZVBsdWdpbi50ZXN0ICYmIFJlc291cmNlUGx1Z2luLnRlc3Qoc291cmNlLCBleHRlbnNpb24pKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc291cmNlUGx1Z2luKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBzb3VyY2UgdHlwZSB0byBhdXRvLWRldGVjdCBSZXNvdXJjZVwiKTtcbn1cblxuZXhwb3J0IHsgSU5TVEFMTEVELCBhdXRvRGV0ZWN0UmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dG9EZXRlY3RSZXNvdXJjZS5tanMubWFwXG4iLCJpbXBvcnQgeyBJTlNUQUxMRUQgfSBmcm9tICcuL2F1dG9EZXRlY3RSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgSU5TVEFMTEVELCBhdXRvRGV0ZWN0UmVzb3VyY2UgfSBmcm9tICcuL2F1dG9EZXRlY3RSZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgQXJyYXlSZXNvdXJjZSB9IGZyb20gJy4vQXJyYXlSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQXJyYXlSZXNvdXJjZSB9IGZyb20gJy4vQXJyYXlSZXNvdXJjZS5tanMnO1xuaW1wb3J0IHsgQnVmZmVyUmVzb3VyY2UgfSBmcm9tICcuL0J1ZmZlclJlc291cmNlLm1qcyc7XG5leHBvcnQgeyBCdWZmZXJSZXNvdXJjZSB9IGZyb20gJy4vQnVmZmVyUmVzb3VyY2UubWpzJztcbmltcG9ydCB7IENhbnZhc1Jlc291cmNlIH0gZnJvbSAnLi9DYW52YXNSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQ2FudmFzUmVzb3VyY2UgfSBmcm9tICcuL0NhbnZhc1Jlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBDdWJlUmVzb3VyY2UgfSBmcm9tICcuL0N1YmVSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQ3ViZVJlc291cmNlIH0gZnJvbSAnLi9DdWJlUmVzb3VyY2UubWpzJztcbmltcG9ydCB7IEltYWdlUmVzb3VyY2UgfSBmcm9tICcuL0ltYWdlUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IEltYWdlUmVzb3VyY2UgfSBmcm9tICcuL0ltYWdlUmVzb3VyY2UubWpzJztcbmltcG9ydCB7IFNWR1Jlc291cmNlIH0gZnJvbSAnLi9TVkdSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgU1ZHUmVzb3VyY2UgfSBmcm9tICcuL1NWR1Jlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBWaWRlb1Jlc291cmNlIH0gZnJvbSAnLi9WaWRlb1Jlc291cmNlLm1qcyc7XG5leHBvcnQgeyBWaWRlb1Jlc291cmNlIH0gZnJvbSAnLi9WaWRlb1Jlc291cmNlLm1qcyc7XG5pbXBvcnQgeyBJbWFnZUJpdG1hcFJlc291cmNlIH0gZnJvbSAnLi9JbWFnZUJpdG1hcFJlc291cmNlLm1qcyc7XG5leHBvcnQgeyBJbWFnZUJpdG1hcFJlc291cmNlIH0gZnJvbSAnLi9JbWFnZUJpdG1hcFJlc291cmNlLm1qcyc7XG5leHBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4vUmVzb3VyY2UubWpzJztcbmV4cG9ydCB7IEJhc2VJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZS5tanMnO1xuZXhwb3J0IHsgQWJzdHJhY3RNdWx0aVJlc291cmNlIH0gZnJvbSAnLi9BYnN0cmFjdE11bHRpUmVzb3VyY2UubWpzJztcblxuSU5TVEFMTEVELnB1c2goSW1hZ2VCaXRtYXBSZXNvdXJjZSwgSW1hZ2VSZXNvdXJjZSwgQ2FudmFzUmVzb3VyY2UsIFZpZGVvUmVzb3VyY2UsIFNWR1Jlc291cmNlLCBCdWZmZXJSZXNvdXJjZSwgQ3ViZVJlc291cmNlLCBBcnJheVJlc291cmNlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IFRZUEVTLCBGT1JNQVRTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuZnVuY3Rpb24gbWFwVHlwZUFuZEZvcm1hdFRvSW50ZXJuYWxGb3JtYXQoZ2wpIHtcbiAgbGV0IHRhYmxlO1xuICBpZiAoXCJXZWJHTDJSZW5kZXJpbmdDb250ZXh0XCIgaW4gZ2xvYmFsVGhpcyAmJiBnbCBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuV2ViR0wyUmVuZGVyaW5nQ29udGV4dCkge1xuICAgIHRhYmxlID0ge1xuICAgICAgW1RZUEVTLlVOU0lHTkVEX0JZVEVdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFdOiBnbC5SR0JBOCxcbiAgICAgICAgW0ZPUk1BVFMuUkdCXTogZ2wuUkdCOCxcbiAgICAgICAgW0ZPUk1BVFMuUkddOiBnbC5SRzgsXG4gICAgICAgIFtGT1JNQVRTLlJFRF06IGdsLlI4LFxuICAgICAgICBbRk9STUFUUy5SR0JBX0lOVEVHRVJdOiBnbC5SR0JBOFVJLFxuICAgICAgICBbRk9STUFUUy5SR0JfSU5URUdFUl06IGdsLlJHQjhVSSxcbiAgICAgICAgW0ZPUk1BVFMuUkdfSU5URUdFUl06IGdsLlJHOFVJLFxuICAgICAgICBbRk9STUFUUy5SRURfSU5URUdFUl06IGdsLlI4VUksXG4gICAgICAgIFtGT1JNQVRTLkFMUEhBXTogZ2wuQUxQSEEsXG4gICAgICAgIFtGT1JNQVRTLkxVTUlOQU5DRV06IGdsLkxVTUlOQU5DRSxcbiAgICAgICAgW0ZPUk1BVFMuTFVNSU5BTkNFX0FMUEhBXTogZ2wuTFVNSU5BTkNFX0FMUEhBXG4gICAgICB9LFxuICAgICAgW1RZUEVTLkJZVEVdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFdOiBnbC5SR0JBOF9TTk9STSxcbiAgICAgICAgW0ZPUk1BVFMuUkdCXTogZ2wuUkdCOF9TTk9STSxcbiAgICAgICAgW0ZPUk1BVFMuUkddOiBnbC5SRzhfU05PUk0sXG4gICAgICAgIFtGT1JNQVRTLlJFRF06IGdsLlI4X1NOT1JNLFxuICAgICAgICBbRk9STUFUUy5SR0JBX0lOVEVHRVJdOiBnbC5SR0JBOEksXG4gICAgICAgIFtGT1JNQVRTLlJHQl9JTlRFR0VSXTogZ2wuUkdCOEksXG4gICAgICAgIFtGT1JNQVRTLlJHX0lOVEVHRVJdOiBnbC5SRzhJLFxuICAgICAgICBbRk9STUFUUy5SRURfSU5URUdFUl06IGdsLlI4SVxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9TSE9SVF06IHtcbiAgICAgICAgW0ZPUk1BVFMuUkdCQV9JTlRFR0VSXTogZ2wuUkdCQTE2VUksXG4gICAgICAgIFtGT1JNQVRTLlJHQl9JTlRFR0VSXTogZ2wuUkdCMTZVSSxcbiAgICAgICAgW0ZPUk1BVFMuUkdfSU5URUdFUl06IGdsLlJHMTZVSSxcbiAgICAgICAgW0ZPUk1BVFMuUkVEX0lOVEVHRVJdOiBnbC5SMTZVSSxcbiAgICAgICAgW0ZPUk1BVFMuREVQVEhfQ09NUE9ORU5UXTogZ2wuREVQVEhfQ09NUE9ORU5UMTZcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuU0hPUlRdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFfSU5URUdFUl06IGdsLlJHQkExNkksXG4gICAgICAgIFtGT1JNQVRTLlJHQl9JTlRFR0VSXTogZ2wuUkdCMTZJLFxuICAgICAgICBbRk9STUFUUy5SR19JTlRFR0VSXTogZ2wuUkcxNkksXG4gICAgICAgIFtGT1JNQVRTLlJFRF9JTlRFR0VSXTogZ2wuUjE2SVxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9JTlRdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFfSU5URUdFUl06IGdsLlJHQkEzMlVJLFxuICAgICAgICBbRk9STUFUUy5SR0JfSU5URUdFUl06IGdsLlJHQjMyVUksXG4gICAgICAgIFtGT1JNQVRTLlJHX0lOVEVHRVJdOiBnbC5SRzMyVUksXG4gICAgICAgIFtGT1JNQVRTLlJFRF9JTlRFR0VSXTogZ2wuUjMyVUksXG4gICAgICAgIFtGT1JNQVRTLkRFUFRIX0NPTVBPTkVOVF06IGdsLkRFUFRIX0NPTVBPTkVOVDI0XG4gICAgICB9LFxuICAgICAgW1RZUEVTLklOVF06IHtcbiAgICAgICAgW0ZPUk1BVFMuUkdCQV9JTlRFR0VSXTogZ2wuUkdCQTMySSxcbiAgICAgICAgW0ZPUk1BVFMuUkdCX0lOVEVHRVJdOiBnbC5SR0IzMkksXG4gICAgICAgIFtGT1JNQVRTLlJHX0lOVEVHRVJdOiBnbC5SRzMySSxcbiAgICAgICAgW0ZPUk1BVFMuUkVEX0lOVEVHRVJdOiBnbC5SMzJJXG4gICAgICB9LFxuICAgICAgW1RZUEVTLkZMT0FUXToge1xuICAgICAgICBbRk9STUFUUy5SR0JBXTogZ2wuUkdCQTMyRixcbiAgICAgICAgW0ZPUk1BVFMuUkdCXTogZ2wuUkdCMzJGLFxuICAgICAgICBbRk9STUFUUy5SR106IGdsLlJHMzJGLFxuICAgICAgICBbRk9STUFUUy5SRURdOiBnbC5SMzJGLFxuICAgICAgICBbRk9STUFUUy5ERVBUSF9DT01QT05FTlRdOiBnbC5ERVBUSF9DT01QT05FTlQzMkZcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuSEFMRl9GTE9BVF06IHtcbiAgICAgICAgW0ZPUk1BVFMuUkdCQV06IGdsLlJHQkExNkYsXG4gICAgICAgIFtGT1JNQVRTLlJHQl06IGdsLlJHQjE2RixcbiAgICAgICAgW0ZPUk1BVFMuUkddOiBnbC5SRzE2RixcbiAgICAgICAgW0ZPUk1BVFMuUkVEXTogZ2wuUjE2RlxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9TSE9SVF81XzZfNV06IHtcbiAgICAgICAgW0ZPUk1BVFMuUkdCXTogZ2wuUkdCNTY1XG4gICAgICB9LFxuICAgICAgW1RZUEVTLlVOU0lHTkVEX1NIT1JUXzRfNF80XzRdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFdOiBnbC5SR0JBNFxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9TSE9SVF81XzVfNV8xXToge1xuICAgICAgICBbRk9STUFUUy5SR0JBXTogZ2wuUkdCNV9BMVxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVZdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFdOiBnbC5SR0IxMF9BMixcbiAgICAgICAgW0ZPUk1BVFMuUkdCQV9JTlRFR0VSXTogZ2wuUkdCMTBfQTJVSVxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9JTlRfMTBGXzExRl8xMUZfUkVWXToge1xuICAgICAgICBbRk9STUFUUy5SR0JdOiBnbC5SMTFGX0cxMUZfQjEwRlxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9JTlRfNV85XzlfOV9SRVZdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQl06IGdsLlJHQjlfRTVcbiAgICAgIH0sXG4gICAgICBbVFlQRVMuVU5TSUdORURfSU5UXzI0XzhdOiB7XG4gICAgICAgIFtGT1JNQVRTLkRFUFRIX1NURU5DSUxdOiBnbC5ERVBUSDI0X1NURU5DSUw4XG4gICAgICB9LFxuICAgICAgW1RZUEVTLkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVl06IHtcbiAgICAgICAgW0ZPUk1BVFMuREVQVEhfU1RFTkNJTF06IGdsLkRFUFRIMzJGX1NURU5DSUw4XG4gICAgICB9XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0YWJsZSA9IHtcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9CWVRFXToge1xuICAgICAgICBbRk9STUFUUy5SR0JBXTogZ2wuUkdCQSxcbiAgICAgICAgW0ZPUk1BVFMuUkdCXTogZ2wuUkdCLFxuICAgICAgICBbRk9STUFUUy5BTFBIQV06IGdsLkFMUEhBLFxuICAgICAgICBbRk9STUFUUy5MVU1JTkFOQ0VdOiBnbC5MVU1JTkFOQ0UsXG4gICAgICAgIFtGT1JNQVRTLkxVTUlOQU5DRV9BTFBIQV06IGdsLkxVTUlOQU5DRV9BTFBIQVxuICAgICAgfSxcbiAgICAgIFtUWVBFUy5VTlNJR05FRF9TSE9SVF81XzZfNV06IHtcbiAgICAgICAgW0ZPUk1BVFMuUkdCXTogZ2wuUkdCXG4gICAgICB9LFxuICAgICAgW1RZUEVTLlVOU0lHTkVEX1NIT1JUXzRfNF80XzRdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFdOiBnbC5SR0JBXG4gICAgICB9LFxuICAgICAgW1RZUEVTLlVOU0lHTkVEX1NIT1JUXzVfNV81XzFdOiB7XG4gICAgICAgIFtGT1JNQVRTLlJHQkFdOiBnbC5SR0JBXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdGFibGU7XG59XG5cbmV4cG9ydCB7IG1hcFR5cGVBbmRGb3JtYXRUb0ludGVybmFsRm9ybWF0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBUeXBlQW5kRm9ybWF0VG9JbnRlcm5hbEZvcm1hdC5tanMubWFwXG4iLCJpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuXG5jbGFzcyBUcmFuc2Zvcm1GZWVkYmFjayB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2dsVHJhbnNmb3JtRmVlZGJhY2tzID0ge307XG4gICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcihcImRpc3Bvc2VUcmFuc2Zvcm1GZWVkYmFja1wiKTtcbiAgfVxuICBiaW5kQnVmZmVyKGluZGV4LCBidWZmZXIpIHtcbiAgICB0aGlzLmJ1ZmZlcnNbaW5kZXhdID0gYnVmZmVyO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICB9XG59XG5cbmV4cG9ydCB7IFRyYW5zZm9ybUZlZWRiYWNrIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm1GZWVkYmFjay5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5cbmNsYXNzIFRyYW5zZm9ybUZlZWRiYWNrU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgY29udGV4dENoYW5nZSgpIHtcbiAgICB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgfVxuICBiaW5kKHRyYW5zZm9ybUZlZWRiYWNrKSB7XG4gICAgY29uc3QgeyBnbCwgQ09OVEVYVF9VSUQgfSA9IHRoaXM7XG4gICAgY29uc3QgZ2xUcmFuc2Zvcm1GZWVkYmFjayA9IHRyYW5zZm9ybUZlZWRiYWNrLl9nbFRyYW5zZm9ybUZlZWRiYWNrc1tDT05URVhUX1VJRF0gfHwgdGhpcy5jcmVhdGVHTFRyYW5zZm9ybUZlZWRiYWNrKHRyYW5zZm9ybUZlZWRiYWNrKTtcbiAgICBnbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soZ2wuVFJBTlNGT1JNX0ZFRURCQUNLLCBnbFRyYW5zZm9ybUZlZWRiYWNrKTtcbiAgfVxuICB1bmJpbmQoKSB7XG4gICAgY29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICBnbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soZ2wuVFJBTlNGT1JNX0ZFRURCQUNLLCBudWxsKTtcbiAgfVxuICBiZWdpblRyYW5zZm9ybUZlZWRiYWNrKGRyYXdNb2RlLCBzaGFkZXIpIHtcbiAgICBjb25zdCB7IGdsLCByZW5kZXJlciB9ID0gdGhpcztcbiAgICBpZiAoc2hhZGVyKSB7XG4gICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgIH1cbiAgICBnbC5iZWdpblRyYW5zZm9ybUZlZWRiYWNrKGRyYXdNb2RlKTtcbiAgfVxuICBlbmRUcmFuc2Zvcm1GZWVkYmFjaygpIHtcbiAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIGdsLmVuZFRyYW5zZm9ybUZlZWRiYWNrKCk7XG4gIH1cbiAgY3JlYXRlR0xUcmFuc2Zvcm1GZWVkYmFjayh0Zikge1xuICAgIGNvbnN0IHsgZ2wsIHJlbmRlcmVyLCBDT05URVhUX1VJRCB9ID0gdGhpcztcbiAgICBjb25zdCBnbFRyYW5zZm9ybUZlZWRiYWNrID0gZ2wuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKTtcbiAgICB0Zi5fZ2xUcmFuc2Zvcm1GZWVkYmFja3NbQ09OVEVYVF9VSURdID0gZ2xUcmFuc2Zvcm1GZWVkYmFjaztcbiAgICBnbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soZ2wuVFJBTlNGT1JNX0ZFRURCQUNLLCBnbFRyYW5zZm9ybUZlZWRiYWNrKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRmLmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IHRmLmJ1ZmZlcnNbaV07XG4gICAgICBpZiAoIWJ1ZmZlcilcbiAgICAgICAgY29udGludWU7XG4gICAgICByZW5kZXJlci5idWZmZXIudXBkYXRlKGJ1ZmZlcik7XG4gICAgICBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0ucmVmQ291bnQrKztcbiAgICAgIGdsLmJpbmRCdWZmZXJCYXNlKGdsLlRSQU5TRk9STV9GRUVEQkFDS19CVUZGRVIsIGksIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5idWZmZXIgfHwgbnVsbCk7XG4gICAgfVxuICAgIGdsLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhnbC5UUkFOU0ZPUk1fRkVFREJBQ0ssIG51bGwpO1xuICAgIHRmLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgIHJldHVybiBnbFRyYW5zZm9ybUZlZWRiYWNrO1xuICB9XG4gIGRpc3Bvc2VUcmFuc2Zvcm1GZWVkYmFjayh0ZiwgY29udGV4dExvc3QpIHtcbiAgICBjb25zdCBnbFRGID0gdGYuX2dsVHJhbnNmb3JtRmVlZGJhY2tzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICB0Zi5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcbiAgICBjb25zdCBidWZmZXJTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLmJ1ZmZlcjtcbiAgICBpZiAoYnVmZmVyU3lzdGVtKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRmLmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gdGYuYnVmZmVyc1tpXTtcbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoYnVmKSB7XG4gICAgICAgICAgYnVmLnJlZkNvdW50LS07XG4gICAgICAgICAgaWYgKGJ1Zi5yZWZDb3VudCA9PT0gMCAmJiAhY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGJ1ZmZlclN5c3RlbS5kaXNwb3NlKGJ1ZmZlciwgY29udGV4dExvc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWdsVEYpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgZ2wuZGVsZXRlVHJhbnNmb3JtRmVlZGJhY2soZ2xURik7XG4gICAgfVxuICAgIGRlbGV0ZSB0Zi5fZ2xUcmFuc2Zvcm1GZWVkYmFja3NbdGhpcy5DT05URVhUX1VJRF07XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuVHJhbnNmb3JtRmVlZGJhY2tTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtLFxuICBuYW1lOiBcInRyYW5zZm9ybUZlZWRiYWNrXCJcbn07XG5leHRlbnNpb25zLmFkZChUcmFuc2Zvcm1GZWVkYmFja1N5c3RlbSk7XG5cbmV4cG9ydCB7IFRyYW5zZm9ybUZlZWRiYWNrU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm1GZWVkYmFja1N5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4uL2dlb21ldHJ5L0dlb21ldHJ5Lm1qcyc7XG5cbmNsYXNzIFF1YWQgZXh0ZW5kcyBHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRBdHRyaWJ1dGUoXCJhVmVydGV4UG9zaXRpb25cIiwgbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDEsXG4gICAgICAwLFxuICAgICAgMVxuICAgIF0pKS5hZGRJbmRleChbMCwgMSwgMywgMl0pO1xuICB9XG59XG5cbmV4cG9ydCB7IFF1YWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1YWQubWpzLm1hcFxuIiwiaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi9nZW9tZXRyeS9HZW9tZXRyeS5tanMnO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnLi4vZ2VvbWV0cnkvQnVmZmVyLm1qcyc7XG5cbmNsYXNzIFF1YWRVdiBleHRlbmRzIEdlb21ldHJ5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAtMSxcbiAgICAgIC0xLFxuICAgICAgMSxcbiAgICAgIC0xLFxuICAgICAgMSxcbiAgICAgIDEsXG4gICAgICAtMSxcbiAgICAgIDFcbiAgICBdKTtcbiAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAxLFxuICAgICAgMCxcbiAgICAgIDFcbiAgICBdKTtcbiAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy52ZXJ0aWNlcyk7XG4gICAgdGhpcy51dkJ1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy51dnMpO1xuICAgIHRoaXMuYWRkQXR0cmlidXRlKFwiYVZlcnRleFBvc2l0aW9uXCIsIHRoaXMudmVydGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUoXCJhVGV4dHVyZUNvb3JkXCIsIHRoaXMudXZCdWZmZXIpLmFkZEluZGV4KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4gIH1cbiAgbWFwKHRhcmdldFRleHR1cmVGcmFtZSwgZGVzdGluYXRpb25GcmFtZSkge1xuICAgIGxldCB4ID0gMDtcbiAgICBsZXQgeSA9IDA7XG4gICAgdGhpcy51dnNbMF0gPSB4O1xuICAgIHRoaXMudXZzWzFdID0geTtcbiAgICB0aGlzLnV2c1syXSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgIHRoaXMudXZzWzNdID0geTtcbiAgICB0aGlzLnV2c1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgIHRoaXMudXZzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcbiAgICB0aGlzLnV2c1s2XSA9IHg7XG4gICAgdGhpcy51dnNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0O1xuICAgIHggPSBkZXN0aW5hdGlvbkZyYW1lLng7XG4gICAgeSA9IGRlc3RpbmF0aW9uRnJhbWUueTtcbiAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICB0aGlzLnZlcnRpY2VzWzFdID0geTtcbiAgICB0aGlzLnZlcnRpY2VzWzJdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgdGhpcy52ZXJ0aWNlc1szXSA9IHk7XG4gICAgdGhpcy52ZXJ0aWNlc1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgIHRoaXMudmVydGljZXNbNV0gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgdGhpcy52ZXJ0aWNlc1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBpbnZhbGlkYXRlKCkge1xuICAgIHRoaXMudmVydGV4QnVmZmVyLl91cGRhdGVJRCsrO1xuICAgIHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IHsgUXVhZFV2IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1RdWFkVXYubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuY2xhc3MgVmlld1N5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIGluaXQob3B0aW9ucykge1xuICAgIHRoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgdGhpcy5lbGVtZW50ID0gb3B0aW9ucy52aWV3IHx8IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCk7XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgdGhpcy5hdXRvRGVuc2l0eSA9ICEhb3B0aW9ucy5hdXRvRGVuc2l0eTtcbiAgfVxuICByZXNpemVWaWV3KGRlc2lyZWRTY3JlZW5XaWR0aCwgZGVzaXJlZFNjcmVlbkhlaWdodCkge1xuICAgIHRoaXMuZWxlbWVudC53aWR0aCA9IE1hdGgucm91bmQoZGVzaXJlZFNjcmVlbldpZHRoICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICB0aGlzLmVsZW1lbnQuaGVpZ2h0ID0gTWF0aC5yb3VuZChkZXNpcmVkU2NyZWVuSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICBjb25zdCBzY3JlZW5XaWR0aCA9IHRoaXMuZWxlbWVudC53aWR0aCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICBjb25zdCBzY3JlZW5IZWlnaHQgPSB0aGlzLmVsZW1lbnQuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuc2NyZWVuLndpZHRoID0gc2NyZWVuV2lkdGg7XG4gICAgdGhpcy5zY3JlZW4uaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuICAgIGlmICh0aGlzLmF1dG9EZW5zaXR5KSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHtzY3JlZW5XaWR0aH1weGA7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7c2NyZWVuSGVpZ2h0fXB4YDtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJlci5lbWl0KFwicmVzaXplXCIsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5yZXNpemUuZW1pdCh0aGlzLnNjcmVlbi53aWR0aCwgdGhpcy5zY3JlZW4uaGVpZ2h0KTtcbiAgfVxuICBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICBpZiAocmVtb3ZlVmlldykge1xuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5zY3JlZW4gPSBudWxsO1xuICB9XG59XG5WaWV3U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNSZW5kZXJlclN5c3RlbVxuICBdLFxuICBuYW1lOiBcIl92aWV3XCJcbn07XG5leHRlbnNpb25zLmFkZChWaWV3U3lzdGVtKTtcblxuZXhwb3J0IHsgVmlld1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlld1N5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY2xhc3MgQm91bmRzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB0aGlzLnJlY3QgPSBudWxsO1xuICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgfVxuICBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZO1xuICB9XG4gIGNsZWFyKCkge1xuICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcbiAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG4gIH1cbiAgZ2V0UmVjdGFuZ2xlKHJlY3QpIHtcbiAgICBpZiAodGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WSkge1xuICAgICAgcmV0dXJuIFJlY3RhbmdsZS5FTVBUWTtcbiAgICB9XG4gICAgcmVjdCA9IHJlY3QgfHwgbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgcmVjdC55ID0gdGhpcy5taW5ZO1xuICAgIHJlY3Qud2lkdGggPSB0aGlzLm1heFggLSB0aGlzLm1pblg7XG4gICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG4gICAgcmV0dXJuIHJlY3Q7XG4gIH1cbiAgYWRkUG9pbnQocG9pbnQpIHtcbiAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHBvaW50LngpO1xuICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2ludC55KTtcbiAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHBvaW50LnkpO1xuICB9XG4gIGFkZFBvaW50TWF0cml4KG1hdHJpeCwgcG9pbnQpIHtcbiAgICBjb25zdCB7IGEsIGIsIGMsIGQsIHR4LCB0eSB9ID0gbWF0cml4O1xuICAgIGNvbnN0IHggPSBhICogcG9pbnQueCArIGMgKiBwb2ludC55ICsgdHg7XG4gICAgY29uc3QgeSA9IGIgKiBwb2ludC54ICsgZCAqIHBvaW50LnkgKyB0eTtcbiAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHgpO1xuICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgeCk7XG4gICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCB5KTtcbiAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHkpO1xuICB9XG4gIGFkZFF1YWQodmVydGljZXMpIHtcbiAgICBsZXQgbWluWCA9IHRoaXMubWluWDtcbiAgICBsZXQgbWluWSA9IHRoaXMubWluWTtcbiAgICBsZXQgbWF4WCA9IHRoaXMubWF4WDtcbiAgICBsZXQgbWF4WSA9IHRoaXMubWF4WTtcbiAgICBsZXQgeCA9IHZlcnRpY2VzWzBdO1xuICAgIGxldCB5ID0gdmVydGljZXNbMV07XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgeCA9IHZlcnRpY2VzWzJdO1xuICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICB4ID0gdmVydGljZXNbNF07XG4gICAgeSA9IHZlcnRpY2VzWzVdO1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICB5ID0gdmVydGljZXNbN107XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgfVxuICBhZGRGcmFtZSh0cmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKSB7XG4gICAgdGhpcy5hZGRGcmFtZU1hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKTtcbiAgfVxuICBhZGRGcmFtZU1hdHJpeChtYXRyaXgsIHgwLCB5MCwgeDEsIHkxKSB7XG4gICAgY29uc3QgYSA9IG1hdHJpeC5hO1xuICAgIGNvbnN0IGIgPSBtYXRyaXguYjtcbiAgICBjb25zdCBjID0gbWF0cml4LmM7XG4gICAgY29uc3QgZCA9IG1hdHJpeC5kO1xuICAgIGNvbnN0IHR4ID0gbWF0cml4LnR4O1xuICAgIGNvbnN0IHR5ID0gbWF0cml4LnR5O1xuICAgIGxldCBtaW5YID0gdGhpcy5taW5YO1xuICAgIGxldCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIGxldCBtYXhYID0gdGhpcy5tYXhYO1xuICAgIGxldCBtYXhZID0gdGhpcy5tYXhZO1xuICAgIGxldCB4ID0gYSAqIHgwICsgYyAqIHkwICsgdHg7XG4gICAgbGV0IHkgPSBiICogeDAgKyBkICogeTAgKyB0eTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICB4ID0gYSAqIHgxICsgYyAqIHkwICsgdHg7XG4gICAgeSA9IGIgKiB4MSArIGQgKiB5MCArIHR5O1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgIHggPSBhICogeDAgKyBjICogeTEgKyB0eDtcbiAgICB5ID0gYiAqIHgwICsgZCAqIHkxICsgdHk7XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgeCA9IGEgKiB4MSArIGMgKiB5MSArIHR4O1xuICAgIHkgPSBiICogeDEgKyBkICogeTEgKyB0eTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xuICB9XG4gIGFkZFZlcnRleERhdGEodmVydGV4RGF0YSwgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgIGxldCBtaW5YID0gdGhpcy5taW5YO1xuICAgIGxldCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIGxldCBtYXhYID0gdGhpcy5tYXhYO1xuICAgIGxldCBtYXhZID0gdGhpcy5tYXhZO1xuICAgIGZvciAobGV0IGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKSB7XG4gICAgICBjb25zdCB4ID0gdmVydGV4RGF0YVtpXTtcbiAgICAgIGNvbnN0IHkgPSB2ZXJ0ZXhEYXRhW2kgKyAxXTtcbiAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgIH1cbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xuICB9XG4gIGFkZFZlcnRpY2VzKHRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICB0aGlzLmFkZFZlcnRpY2VzTWF0cml4KHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpO1xuICB9XG4gIGFkZFZlcnRpY2VzTWF0cml4KG1hdHJpeCwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQsIHBhZFggPSAwLCBwYWRZID0gcGFkWCkge1xuICAgIGNvbnN0IGEgPSBtYXRyaXguYTtcbiAgICBjb25zdCBiID0gbWF0cml4LmI7XG4gICAgY29uc3QgYyA9IG1hdHJpeC5jO1xuICAgIGNvbnN0IGQgPSBtYXRyaXguZDtcbiAgICBjb25zdCB0eCA9IG1hdHJpeC50eDtcbiAgICBjb25zdCB0eSA9IG1hdHJpeC50eTtcbiAgICBsZXQgbWluWCA9IHRoaXMubWluWDtcbiAgICBsZXQgbWluWSA9IHRoaXMubWluWTtcbiAgICBsZXQgbWF4WCA9IHRoaXMubWF4WDtcbiAgICBsZXQgbWF4WSA9IHRoaXMubWF4WTtcbiAgICBmb3IgKGxldCBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgY29uc3QgcmF3WCA9IHZlcnRpY2VzW2ldO1xuICAgICAgY29uc3QgcmF3WSA9IHZlcnRpY2VzW2kgKyAxXTtcbiAgICAgIGNvbnN0IHggPSBhICogcmF3WCArIGMgKiByYXdZICsgdHg7XG4gICAgICBjb25zdCB5ID0gZCAqIHJhd1kgKyBiICogcmF3WCArIHR5O1xuICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHggLSBwYWRYKTtcbiAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCB4ICsgcGFkWCk7XG4gICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgeSAtIHBhZFkpO1xuICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHkgKyBwYWRZKTtcbiAgICB9XG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgfVxuICBhZGRCb3VuZHMoYm91bmRzKSB7XG4gICAgY29uc3QgbWluWCA9IHRoaXMubWluWDtcbiAgICBjb25zdCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIGNvbnN0IG1heFggPSB0aGlzLm1heFg7XG4gICAgY29uc3QgbWF4WSA9IHRoaXMubWF4WTtcbiAgICB0aGlzLm1pblggPSBib3VuZHMubWluWCA8IG1pblggPyBib3VuZHMubWluWCA6IG1pblg7XG4gICAgdGhpcy5taW5ZID0gYm91bmRzLm1pblkgPCBtaW5ZID8gYm91bmRzLm1pblkgOiBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICB0aGlzLm1heFkgPSBib3VuZHMubWF4WSA+IG1heFkgPyBib3VuZHMubWF4WSA6IG1heFk7XG4gIH1cbiAgYWRkQm91bmRzTWFzayhib3VuZHMsIG1hc2spIHtcbiAgICBjb25zdCBfbWluWCA9IGJvdW5kcy5taW5YID4gbWFzay5taW5YID8gYm91bmRzLm1pblggOiBtYXNrLm1pblg7XG4gICAgY29uc3QgX21pblkgPSBib3VuZHMubWluWSA+IG1hc2subWluWSA/IGJvdW5kcy5taW5ZIDogbWFzay5taW5ZO1xuICAgIGNvbnN0IF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICBjb25zdCBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgbWFzay5tYXhZID8gYm91bmRzLm1heFkgOiBtYXNrLm1heFk7XG4gICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICBjb25zdCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgY29uc3QgbWluWSA9IHRoaXMubWluWTtcbiAgICAgIGNvbnN0IG1heFggPSB0aGlzLm1heFg7XG4gICAgICBjb25zdCBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgIH1cbiAgfVxuICBhZGRCb3VuZHNNYXRyaXgoYm91bmRzLCBtYXRyaXgpIHtcbiAgICB0aGlzLmFkZEZyYW1lTWF0cml4KG1hdHJpeCwgYm91bmRzLm1pblgsIGJvdW5kcy5taW5ZLCBib3VuZHMubWF4WCwgYm91bmRzLm1heFkpO1xuICB9XG4gIGFkZEJvdW5kc0FyZWEoYm91bmRzLCBhcmVhKSB7XG4gICAgY29uc3QgX21pblggPSBib3VuZHMubWluWCA+IGFyZWEueCA/IGJvdW5kcy5taW5YIDogYXJlYS54O1xuICAgIGNvbnN0IF9taW5ZID0gYm91bmRzLm1pblkgPiBhcmVhLnkgPyBib3VuZHMubWluWSA6IGFyZWEueTtcbiAgICBjb25zdCBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogYXJlYS54ICsgYXJlYS53aWR0aDtcbiAgICBjb25zdCBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgYXJlYS55ICsgYXJlYS5oZWlnaHQgPyBib3VuZHMubWF4WSA6IGFyZWEueSArIGFyZWEuaGVpZ2h0O1xuICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSkge1xuICAgICAgY29uc3QgbWluWCA9IHRoaXMubWluWDtcbiAgICAgIGNvbnN0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgICBjb25zdCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgY29uc3QgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICB9XG4gIH1cbiAgcGFkKHBhZGRpbmdYID0gMCwgcGFkZGluZ1kgPSBwYWRkaW5nWCkge1xuICAgIGlmICghdGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgIHRoaXMubWluWCAtPSBwYWRkaW5nWDtcbiAgICAgIHRoaXMubWF4WCArPSBwYWRkaW5nWDtcbiAgICAgIHRoaXMubWluWSAtPSBwYWRkaW5nWTtcbiAgICAgIHRoaXMubWF4WSArPSBwYWRkaW5nWTtcbiAgICB9XG4gIH1cbiAgYWRkRnJhbWVQYWQoeDAsIHkwLCB4MSwgeTEsIHBhZFgsIHBhZFkpIHtcbiAgICB4MCAtPSBwYWRYO1xuICAgIHkwIC09IHBhZFk7XG4gICAgeDEgKz0gcGFkWDtcbiAgICB5MSArPSBwYWRZO1xuICAgIHRoaXMubWluWCA9IHRoaXMubWluWCA8IHgwID8gdGhpcy5taW5YIDogeDA7XG4gICAgdGhpcy5tYXhYID0gdGhpcy5tYXhYID4geDEgPyB0aGlzLm1heFggOiB4MTtcbiAgICB0aGlzLm1pblkgPSB0aGlzLm1pblkgPCB5MCA/IHRoaXMubWluWSA6IHkwO1xuICAgIHRoaXMubWF4WSA9IHRoaXMubWF4WSA+IHkxID8gdGhpcy5tYXhZIDogeTE7XG4gIH1cbn1cblxuZXhwb3J0IHsgQm91bmRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Cb3VuZHMubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4LCBzZXR0aW5ncywgdXRpbHMsIE1BU0tfVFlQRVMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICcuL0Rpc3BsYXlPYmplY3QubWpzJztcblxuY29uc3QgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbmZ1bmN0aW9uIHNvcnRDaGlsZHJlbihhLCBiKSB7XG4gIGlmIChhLnpJbmRleCA9PT0gYi56SW5kZXgpIHtcbiAgICByZXR1cm4gYS5fbGFzdFNvcnRlZEluZGV4IC0gYi5fbGFzdFNvcnRlZEluZGV4O1xuICB9XG4gIHJldHVybiBhLnpJbmRleCAtIGIuekluZGV4O1xufVxuY2xhc3MgQ29udGFpbmVyIGV4dGVuZHMgRGlzcGxheU9iamVjdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMuc29ydGFibGVDaGlsZHJlbiA9IHNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOO1xuICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gIH1cbiAgb25DaGlsZHJlbkNoYW5nZShfbGVuZ3RoKSB7XG4gIH1cbiAgYWRkQ2hpbGQoLi4uY2hpbGRyZW4pIHtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmFkZENoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgdGhpcy5lbWl0KFwiY2hpbGRBZGRlZFwiLCBjaGlsZCwgdGhpcywgdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgIGNoaWxkLmVtaXQoXCJhZGRlZFwiLCB0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkcmVuWzBdO1xuICB9XG4gIGFkZENoaWxkQXQoY2hpbGQsIGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Y2hpbGR9YWRkQ2hpbGRBdDogVGhlIGluZGV4ICR7aW5kZXh9IHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgJHt0aGlzLmNoaWxkcmVuLmxlbmd0aH1gKTtcbiAgICB9XG4gICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG4gICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIGNoaWxkLmVtaXQoXCJhZGRlZFwiLCB0aGlzKTtcbiAgICB0aGlzLmVtaXQoXCJjaGlsZEFkZGVkXCIsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9XG4gIHN3YXBDaGlsZHJlbihjaGlsZCwgY2hpbGQyKSB7XG4gICAgaWYgKGNoaWxkID09PSBjaGlsZDIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5kZXgxID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICBjb25zdCBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcbiAgICB0aGlzLmNoaWxkcmVuW2luZGV4MV0gPSBjaGlsZDI7XG4gICAgdGhpcy5jaGlsZHJlbltpbmRleDJdID0gY2hpbGQ7XG4gICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gIH1cbiAgZ2V0Q2hpbGRJbmRleChjaGlsZCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlclwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG4gIHNldENoaWxkSW5kZXgoY2hpbGQsIGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgaW5kZXggJHtpbmRleH0gc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyAke3RoaXMuY2hpbGRyZW4ubGVuZ3RofWApO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgIHV0aWxzLnJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7XG4gICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcbiAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICB9XG4gIGdldENoaWxkQXQoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGdldENoaWxkQXQ6IEluZGV4ICgke2luZGV4fSkgZG9lcyBub3QgZXhpc3QuYCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgfVxuICByZW1vdmVDaGlsZCguLi5jaGlsZHJlbikge1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoY2hpbGRyZW5baV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgICAgaWYgKGluZGV4ID09PSAtMSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgdXRpbHMucmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICBjaGlsZC5lbWl0KFwicmVtb3ZlZFwiLCB0aGlzKTtcbiAgICAgIHRoaXMuZW1pdChcImNoaWxkUmVtb3ZlZFwiLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gIH1cbiAgcmVtb3ZlQ2hpbGRBdChpbmRleCkge1xuICAgIGNvbnN0IGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcbiAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICB1dGlscy5yZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG4gICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIGNoaWxkLmVtaXQoXCJyZW1vdmVkXCIsIHRoaXMpO1xuICAgIHRoaXMuZW1pdChcImNoaWxkUmVtb3ZlZFwiLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgIHJldHVybiBjaGlsZDtcbiAgfVxuICByZW1vdmVDaGlsZHJlbihiZWdpbkluZGV4ID0gMCwgZW5kSW5kZXggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGNvbnN0IGJlZ2luID0gYmVnaW5JbmRleDtcbiAgICBjb25zdCBlbmQgPSBlbmRJbmRleDtcbiAgICBjb25zdCByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgIGxldCByZW1vdmVkO1xuICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKSB7XG4gICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICByZW1vdmVkW2ldLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgIHJlbW92ZWRbaV0udHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlbW92ZWRbaV0uZW1pdChcInJlbW92ZWRcIiwgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdChcImNoaWxkUmVtb3ZlZFwiLCByZW1vdmVkW2ldLCB0aGlzLCBpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH0gZWxzZSBpZiAocmFuZ2UgPT09IDAgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJyZW1vdmVDaGlsZHJlbjogbnVtZXJpYyB2YWx1ZXMgYXJlIG91dHNpZGUgdGhlIGFjY2VwdGFibGUgcmFuZ2UuXCIpO1xuICB9XG4gIHNvcnRDaGlsZHJlbigpIHtcbiAgICBsZXQgc29ydFJlcXVpcmVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG4gICAgICBpZiAoIXNvcnRSZXF1aXJlZCAmJiBjaGlsZC56SW5kZXggIT09IDApIHtcbiAgICAgICAgc29ydFJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNvcnRSZXF1aXJlZCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMuY2hpbGRyZW4uc29ydChzb3J0Q2hpbGRyZW4pO1xuICAgIH1cbiAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICB9XG4gIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICBpZiAodGhpcy5zb3J0YWJsZUNoaWxkcmVuICYmIHRoaXMuc29ydERpcnR5KSB7XG4gICAgICB0aGlzLnNvcnRDaGlsZHJlbigpO1xuICAgIH1cbiAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjaGlsZC5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgIGlmIChjaGlsZC5fbWFzaykge1xuICAgICAgICBjb25zdCBtYXNrT2JqZWN0ID0gY2hpbGQuX21hc2suaXNNYXNrRGF0YSA/IGNoaWxkLl9tYXNrLm1hc2tPYmplY3QgOiBjaGlsZC5fbWFzaztcbiAgICAgICAgaWYgKG1hc2tPYmplY3QpIHtcbiAgICAgICAgICBtYXNrT2JqZWN0LmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNNYXNrKGNoaWxkLl9ib3VuZHMsIG1hc2tPYmplY3QuX2JvdW5kcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGlsZC5maWx0ZXJBcmVhKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNBcmVhKGNoaWxkLl9ib3VuZHMsIGNoaWxkLmZpbHRlckFyZWEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gIH1cbiAgZ2V0TG9jYWxCb3VuZHMocmVjdCwgc2tpcENoaWxkcmVuVXBkYXRlID0gZmFsc2UpIHtcbiAgICBjb25zdCByZXN1bHQgPSBzdXBlci5nZXRMb2NhbEJvdW5kcyhyZWN0KTtcbiAgICBpZiAoIXNraXBDaGlsZHJlblVwZGF0ZSkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBfY2FsY3VsYXRlQm91bmRzKCkge1xuICB9XG4gIF9yZW5kZXJXaXRoQ3VsbGluZyhyZW5kZXJlcikge1xuICAgIGNvbnN0IHNvdXJjZUZyYW1lID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZTtcbiAgICBpZiAoIShzb3VyY2VGcmFtZS53aWR0aCA+IDAgJiYgc291cmNlRnJhbWUuaGVpZ2h0ID4gMCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGJvdW5kcztcbiAgICBsZXQgdHJhbnNmb3JtO1xuICAgIGlmICh0aGlzLmN1bGxBcmVhKSB7XG4gICAgICBib3VuZHMgPSB0aGlzLmN1bGxBcmVhO1xuICAgICAgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3JlbmRlciAhPT0gQ29udGFpbmVyLnByb3RvdHlwZS5fcmVuZGVyKSB7XG4gICAgICBib3VuZHMgPSB0aGlzLmdldEJvdW5kcyh0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgcHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuICAgIGlmIChwcm9qZWN0aW9uVHJhbnNmb3JtKSB7XG4gICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgIHRyYW5zZm9ybSA9IHRlbXBNYXRyaXguY29weUZyb20odHJhbnNmb3JtKTtcbiAgICAgICAgdHJhbnNmb3JtLnByZXBlbmQocHJvamVjdGlvblRyYW5zZm9ybSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2Zvcm0gPSBwcm9qZWN0aW9uVHJhbnNmb3JtO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYm91bmRzICYmIHNvdXJjZUZyYW1lLmludGVyc2VjdHMoYm91bmRzLCB0cmFuc2Zvcm0pKSB7XG4gICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jdWxsQXJlYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICBjb25zdCBjaGlsZEN1bGxhYmxlID0gY2hpbGQuY3VsbGFibGU7XG4gICAgICBjaGlsZC5jdWxsYWJsZSA9IGNoaWxkQ3VsbGFibGUgfHwgIXRoaXMuY3VsbEFyZWE7XG4gICAgICBjaGlsZC5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgY2hpbGQuY3VsbGFibGUgPSBjaGlsZEN1bGxhYmxlO1xuICAgIH1cbiAgfVxuICByZW5kZXIocmVuZGVyZXIpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9tYXNrIHx8IHRoaXMuZmlsdGVycz8ubGVuZ3RoKSB7XG4gICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY3VsbGFibGUpIHtcbiAgICAgIHRoaXMuX3JlbmRlcldpdGhDdWxsaW5nKHJlbmRlcmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZW5kZXJBZHZhbmNlZChyZW5kZXJlcikge1xuICAgIGNvbnN0IGZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7XG4gICAgY29uc3QgbWFzayA9IHRoaXMuX21hc2s7XG4gICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZpbHRlcnNbaV0uZW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZmx1c2ggPSBmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzPy5sZW5ndGggfHwgbWFzayAmJiAoIW1hc2suaXNNYXNrRGF0YSB8fCBtYXNrLmVuYWJsZWQgJiYgKG1hc2suYXV0b0RldGVjdCB8fCBtYXNrLnR5cGUgIT09IE1BU0tfVFlQRVMuTk9ORSkpO1xuICAgIGlmIChmbHVzaCkge1xuICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnM/Lmxlbmd0aCkge1xuICAgICAgcmVuZGVyZXIuZmlsdGVyLnB1c2godGhpcywgdGhpcy5fZW5hYmxlZEZpbHRlcnMpO1xuICAgIH1cbiAgICBpZiAobWFzaykge1xuICAgICAgcmVuZGVyZXIubWFzay5wdXNoKHRoaXMsIHRoaXMuX21hc2spO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdWxsYWJsZSkge1xuICAgICAgdGhpcy5fcmVuZGVyV2l0aEN1bGxpbmcocmVuZGVyZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmbHVzaCkge1xuICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICB9XG4gICAgaWYgKG1hc2spIHtcbiAgICAgIHJlbmRlcmVyLm1hc2sucG9wKHRoaXMpO1xuICAgIH1cbiAgICBpZiAoZmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycz8ubGVuZ3RoKSB7XG4gICAgICByZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgfVxuICB9XG4gIF9yZW5kZXIoX3JlbmRlcmVyKSB7XG4gIH1cbiAgZGVzdHJveShvcHRpb25zKSB7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgY29uc3QgZGVzdHJveUNoaWxkcmVuID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiID8gb3B0aW9ucyA6IG9wdGlvbnM/LmNoaWxkcmVuO1xuICAgIGNvbnN0IG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgaWYgKGRlc3Ryb3lDaGlsZHJlbikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICBvbGRDaGlsZHJlbltpXS5kZXN0cm95KG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGUueCAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcbiAgfVxuICBzZXQgd2lkdGgodmFsdWUpIHtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcbiAgICBpZiAod2lkdGggIT09IDApIHtcbiAgICAgIHRoaXMuc2NhbGUueCA9IHZhbHVlIC8gd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2NhbGUueCA9IDE7XG4gICAgfVxuICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgfVxuICBzZXQgaGVpZ2h0KHZhbHVlKSB7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICBpZiAoaGVpZ2h0ICE9PSAwKSB7XG4gICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICB9XG4gICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gIH1cbn1cbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmV4cG9ydCB7IENvbnRhaW5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udGFpbmVyLm1qcy5tYXBcbiIsImltcG9ydCB7IHV0aWxzLCBUcmFuc2Zvcm0sIFJlY3RhbmdsZSwgUkFEX1RPX0RFRywgREVHX1RPX1JBRCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi9Cb3VuZHMubWpzJztcblxuY2xhc3MgRGlzcGxheU9iamVjdCBleHRlbmRzIHV0aWxzLkV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgdGhpcy50cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgIHRoaXMuY3VsbGFibGUgPSBmYWxzZTtcbiAgICB0aGlzLmN1bGxBcmVhID0gbnVsbDtcbiAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgdGhpcy53b3JsZEFscGhhID0gMTtcbiAgICB0aGlzLl9sYXN0U29ydGVkSW5kZXggPSAwO1xuICAgIHRoaXMuX3pJbmRleCA9IDA7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzID0gbnVsbDtcbiAgICB0aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgdGhpcy5fbG9jYWxCb3VuZHMgPSBudWxsO1xuICAgIHRoaXMuX2JvdW5kc0lEID0gMDtcbiAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcbiAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBudWxsO1xuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuX21hc2tSZWZDb3VudCA9IDA7XG4gICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5pc1Nwcml0ZSA9IGZhbHNlO1xuICAgIHRoaXMuaXNNYXNrID0gZmFsc2U7XG4gIH1cbiAgc3RhdGljIG1peGluKHNvdXJjZSkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgcHJvcGVydHlOYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKSk7XG4gICAgfVxuICB9XG4gIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rlc3Ryb3llZDtcbiAgfVxuICBfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHRoaXMucGFyZW50Ll9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuICB9XG4gIGdldEJvdW5kcyhza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuX2JvdW5kcy51cGRhdGVJRCAhPT0gdGhpcy5fYm91bmRzSUQpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICB9XG4gICAgaWYgKCFyZWN0KSB7XG4gICAgICBpZiAoIXRoaXMuX2JvdW5kc1JlY3QpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgIH1cbiAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgfVxuICBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgaWYgKCFyZWN0KSB7XG4gICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICB9XG4gICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzKSB7XG4gICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICB9XG4gICAgY29uc3QgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgY29uc3QgcGFyZW50UmVmID0gdGhpcy5wYXJlbnQ7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtO1xuICAgIGNvbnN0IHdvcmxkQm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIGNvbnN0IHdvcmxkQm91bmRzSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICB0aGlzLl9ib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLmdldEJvdW5kcyhmYWxzZSwgcmVjdCk7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1SZWY7XG4gICAgdGhpcy5fYm91bmRzID0gd29ybGRCb3VuZHM7XG4gICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEICs9IHRoaXMuX2JvdW5kc0lEIC0gd29ybGRCb3VuZHNJRDtcbiAgICByZXR1cm4gYm91bmRzO1xuICB9XG4gIHRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHkocG9zaXRpb24sIHBvaW50KTtcbiAgfVxuICB0b0xvY2FsKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgIGlmIChmcm9tKSB7XG4gICAgICBwb3NpdGlvbiA9IGZyb20udG9HbG9iYWwocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICB9XG4gICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gIH1cbiAgc2V0UGFyZW50KGNvbnRhaW5lcikge1xuICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lclwiKTtcbiAgICB9XG4gICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cbiAgcmVtb3ZlRnJvbVBhcmVudCgpIHtcbiAgICB0aGlzLnBhcmVudD8ucmVtb3ZlQ2hpbGQodGhpcyk7XG4gIH1cbiAgc2V0VHJhbnNmb3JtKHggPSAwLCB5ID0gMCwgc2NhbGVYID0gMSwgc2NhbGVZID0gMSwgcm90YXRpb24gPSAwLCBza2V3WCA9IDAsIHNrZXdZID0gMCwgcGl2b3RYID0gMCwgcGl2b3RZID0gMCkge1xuICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgdGhpcy5wb3NpdGlvbi55ID0geTtcbiAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgIHRoaXMucGl2b3QueCA9IHBpdm90WDtcbiAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZGVzdHJveShfb3B0aW9ucykge1xuICAgIHRoaXMucmVtb3ZlRnJvbVBhcmVudCgpO1xuICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgIHRoaXMubWFzayA9IG51bGw7XG4gICAgdGhpcy5jdWxsQXJlYSA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgIHRoaXMuaGl0QXJlYSA9IG51bGw7XG4gICAgdGhpcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdChcImRlc3Ryb3llZFwiKTtcbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB9XG4gIGdldCBfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQoKSB7XG4gICAgaWYgKHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPT09IG51bGwpIHtcbiAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgfVxuICBlbmFibGVUZW1wUGFyZW50KCkge1xuICAgIGNvbnN0IG15UGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICByZXR1cm4gbXlQYXJlbnQ7XG4gIH1cbiAgZGlzYWJsZVRlbXBQYXJlbnQoY2FjaGVQYXJlbnQpIHtcbiAgICB0aGlzLnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICB9XG4gIGdldCB4KCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XG4gIH1cbiAgc2V0IHgodmFsdWUpIHtcbiAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdmFsdWU7XG4gIH1cbiAgZ2V0IHkoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgfVxuICBzZXQgeSh2YWx1ZSkge1xuICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgfVxuICBnZXQgd29ybGRUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICB9XG4gIGdldCBsb2NhbFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gIH1cbiAgZ2V0IHBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgfVxuICBzZXQgcG9zaXRpb24odmFsdWUpIHtcbiAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gIH1cbiAgZ2V0IHNjYWxlKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgfVxuICBzZXQgc2NhbGUodmFsdWUpIHtcbiAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gIH1cbiAgZ2V0IHBpdm90KCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgfVxuICBzZXQgcGl2b3QodmFsdWUpIHtcbiAgICB0aGlzLnRyYW5zZm9ybS5waXZvdC5jb3B5RnJvbSh2YWx1ZSk7XG4gIH1cbiAgZ2V0IHNrZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNrZXc7XG4gIH1cbiAgc2V0IHNrZXcodmFsdWUpIHtcbiAgICB0aGlzLnRyYW5zZm9ybS5za2V3LmNvcHlGcm9tKHZhbHVlKTtcbiAgfVxuICBnZXQgcm90YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uO1xuICB9XG4gIHNldCByb3RhdGlvbih2YWx1ZSkge1xuICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gIH1cbiAgZ2V0IGFuZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAqIFJBRF9UT19ERUc7XG4gIH1cbiAgc2V0IGFuZ2xlKHZhbHVlKSB7XG4gICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZSAqIERFR19UT19SQUQ7XG4gIH1cbiAgZ2V0IHpJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5fekluZGV4O1xuICB9XG4gIHNldCB6SW5kZXgodmFsdWUpIHtcbiAgICB0aGlzLl96SW5kZXggPSB2YWx1ZTtcbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHRoaXMucGFyZW50LnNvcnREaXJ0eSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGdldCB3b3JsZFZpc2libGUoKSB7XG4gICAgbGV0IGl0ZW0gPSB0aGlzO1xuICAgIGRvIHtcbiAgICAgIGlmICghaXRlbS52aXNpYmxlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGl0ZW0gPSBpdGVtLnBhcmVudDtcbiAgICB9IHdoaWxlIChpdGVtKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBnZXQgbWFzaygpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgfVxuICBzZXQgbWFzayh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9tYXNrID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgY29uc3QgbWFza09iamVjdCA9IHRoaXMuX21hc2suaXNNYXNrRGF0YSA/IHRoaXMuX21hc2subWFza09iamVjdCA6IHRoaXMuX21hc2s7XG4gICAgICBpZiAobWFza09iamVjdCkge1xuICAgICAgICBtYXNrT2JqZWN0Ll9tYXNrUmVmQ291bnQtLTtcbiAgICAgICAgaWYgKG1hc2tPYmplY3QuX21hc2tSZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgbWFza09iamVjdC5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG4gICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgIGNvbnN0IG1hc2tPYmplY3QgPSB0aGlzLl9tYXNrLmlzTWFza0RhdGEgPyB0aGlzLl9tYXNrLm1hc2tPYmplY3QgOiB0aGlzLl9tYXNrO1xuICAgICAgaWYgKG1hc2tPYmplY3QpIHtcbiAgICAgICAgaWYgKG1hc2tPYmplY3QuX21hc2tSZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgIG1hc2tPYmplY3QuaXNNYXNrID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrT2JqZWN0Ll9tYXNrUmVmQ291bnQrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmNsYXNzIFRlbXBvcmFyeURpc3BsYXlPYmplY3QgZXh0ZW5kcyBEaXNwbGF5T2JqZWN0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnNvcnREaXJ0eSA9IG51bGw7XG4gIH1cbn1cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gPSBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmV4cG9ydCB7IERpc3BsYXlPYmplY3QsIFRlbXBvcmFyeURpc3BsYXlPYmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3BsYXlPYmplY3QubWpzLm1hcFxuIiwiaW1wb3J0ICcuL3NldHRpbmdzLm1qcyc7XG5leHBvcnQgeyBCb3VuZHMgfSBmcm9tICcuL0JvdW5kcy5tanMnO1xuZXhwb3J0IHsgRGlzcGxheU9iamVjdCwgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCB9IGZyb20gJy4vRGlzcGxheU9iamVjdC5tanMnO1xuZXhwb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi9Db250YWluZXIubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5leHBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTiA9IGZhbHNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0dGluZ3MubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmVkZXJhdGVkTW91c2VFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkTW91c2VFdmVudC5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkUG9pbnRlckV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRQb2ludGVyRXZlbnQubWpzJztcbmltcG9ydCB7IEZlZGVyYXRlZFdoZWVsRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZFdoZWVsRXZlbnQubWpzJztcbmltcG9ydCB7IFBvaW50LCB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBQUk9QQUdBVElPTl9MSU1JVCA9IDIwNDg7XG5jb25zdCB0ZW1wSGl0TG9jYXRpb24gPSBuZXcgUG9pbnQoKTtcbmNvbnN0IHRlbXBMb2NhbE1hcHBpbmcgPSBuZXcgUG9pbnQoKTtcbmNsYXNzIEV2ZW50Qm91bmRhcnkge1xuICBjb25zdHJ1Y3Rvcihyb290VGFyZ2V0KSB7XG4gICAgdGhpcy5kaXNwYXRjaCA9IG5ldyB1dGlscy5FdmVudEVtaXR0ZXIoKTtcbiAgICB0aGlzLm1vdmVPbkFsbCA9IGZhbHNlO1xuICAgIHRoaXMubWFwcGluZ1N0YXRlID0ge1xuICAgICAgdHJhY2tpbmdEYXRhOiB7fVxuICAgIH07XG4gICAgdGhpcy5ldmVudFBvb2wgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMucm9vdFRhcmdldCA9IHJvb3RUYXJnZXQ7XG4gICAgdGhpcy5oaXRQcnVuZUZuID0gdGhpcy5oaXRQcnVuZUZuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oaXRUZXN0Rm4gPSB0aGlzLmhpdFRlc3RGbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwUG9pbnRlckRvd24gPSB0aGlzLm1hcFBvaW50ZXJEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXBQb2ludGVyTW92ZSA9IHRoaXMubWFwUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJPdXQgPSB0aGlzLm1hcFBvaW50ZXJPdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJPdmVyID0gdGhpcy5tYXBQb2ludGVyT3Zlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwUG9pbnRlclVwID0gdGhpcy5tYXBQb2ludGVyVXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJVcE91dHNpZGUgPSB0aGlzLm1hcFBvaW50ZXJVcE91dHNpZGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFdoZWVsID0gdGhpcy5tYXBXaGVlbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwcGluZ1RhYmxlID0ge307XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVyZG93blwiLCB0aGlzLm1hcFBvaW50ZXJEb3duKTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJtb3ZlXCIsIHRoaXMubWFwUG9pbnRlck1vdmUpO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcm91dFwiLCB0aGlzLm1hcFBvaW50ZXJPdXQpO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcmxlYXZlXCIsIHRoaXMubWFwUG9pbnRlck91dCk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVyb3ZlclwiLCB0aGlzLm1hcFBvaW50ZXJPdmVyKTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJ1cFwiLCB0aGlzLm1hcFBvaW50ZXJVcCk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVydXBvdXRzaWRlXCIsIHRoaXMubWFwUG9pbnRlclVwT3V0c2lkZSk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJ3aGVlbFwiLCB0aGlzLm1hcFdoZWVsKTtcbiAgfVxuICBhZGRFdmVudE1hcHBpbmcodHlwZSwgZm4pIHtcbiAgICBpZiAoIXRoaXMubWFwcGluZ1RhYmxlW3R5cGVdKSB7XG4gICAgICB0aGlzLm1hcHBpbmdUYWJsZVt0eXBlXSA9IFtdO1xuICAgIH1cbiAgICB0aGlzLm1hcHBpbmdUYWJsZVt0eXBlXS5wdXNoKHtcbiAgICAgIGZuLFxuICAgICAgcHJpb3JpdHk6IDBcbiAgICB9KTtcbiAgICB0aGlzLm1hcHBpbmdUYWJsZVt0eXBlXS5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSk7XG4gIH1cbiAgZGlzcGF0Y2hFdmVudChlLCB0eXBlKSB7XG4gICAgZS5wcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZTtcbiAgICBlLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wYWdhdGUoZSwgdHlwZSk7XG4gICAgdGhpcy5kaXNwYXRjaC5lbWl0KHR5cGUgfHwgZS50eXBlLCBlKTtcbiAgfVxuICBtYXBFdmVudChlKSB7XG4gICAgaWYgKCF0aGlzLnJvb3RUYXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWFwcGVycyA9IHRoaXMubWFwcGluZ1RhYmxlW2UudHlwZV07XG4gICAgaWYgKG1hcHBlcnMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbWFwcGVycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgbWFwcGVyc1tpXS5mbihlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKGBbRXZlbnRCb3VuZGFyeV06IEV2ZW50IG1hcHBpbmcgbm90IGRlZmluZWQgZm9yICR7ZS50eXBlfWApO1xuICAgIH1cbiAgfVxuICBoaXRUZXN0KHgsIHkpIHtcbiAgICBjb25zdCBpbnZlcnRlZFBhdGggPSB0aGlzLmhpdFRlc3RSZWN1cnNpdmUodGhpcy5yb290VGFyZ2V0LCB0aGlzLnJvb3RUYXJnZXQuaW50ZXJhY3RpdmUsIHRlbXBIaXRMb2NhdGlvbi5zZXQoeCwgeSksIHRoaXMuaGl0VGVzdEZuLCB0aGlzLmhpdFBydW5lRm4pO1xuICAgIHJldHVybiBpbnZlcnRlZFBhdGggJiYgaW52ZXJ0ZWRQYXRoWzBdO1xuICB9XG4gIHByb3BhZ2F0ZShlLCB0eXBlKSB7XG4gICAgaWYgKCFlLnRhcmdldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wb3NlZFBhdGggPSBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIGUuZXZlbnRQaGFzZSA9IGUuQ0FQVFVSSU5HX1BIQVNFO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gY29tcG9zZWRQYXRoLmxlbmd0aCAtIDE7IGkgPCBqOyBpKyspIHtcbiAgICAgIGUuY3VycmVudFRhcmdldCA9IGNvbXBvc2VkUGF0aFtpXTtcbiAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIHR5cGUpO1xuICAgICAgaWYgKGUucHJvcGFnYXRpb25TdG9wcGVkIHx8IGUucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQpXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5ldmVudFBoYXNlID0gZS5BVF9UQVJHRVQ7XG4gICAgZS5jdXJyZW50VGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgdHlwZSk7XG4gICAgaWYgKGUucHJvcGFnYXRpb25TdG9wcGVkIHx8IGUucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQpXG4gICAgICByZXR1cm47XG4gICAgZS5ldmVudFBoYXNlID0gZS5CVUJCTElOR19QSEFTRTtcbiAgICBmb3IgKGxldCBpID0gY29tcG9zZWRQYXRoLmxlbmd0aCAtIDI7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQgPSBjb21wb3NlZFBhdGhbaV07XG4gICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCB0eXBlKTtcbiAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCB8fCBlLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkKVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGFsbChlLCB0eXBlLCB0YXJnZXQgPSB0aGlzLnJvb3RUYXJnZXQpIHtcbiAgICBlLmV2ZW50UGhhc2UgPSBlLkJVQkJMSU5HX1BIQVNFO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGFyZ2V0LmNoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmFsbChlLCB0eXBlLCBjaGlsZHJlbltpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGUuY3VycmVudFRhcmdldCA9IHRhcmdldDtcbiAgICB0aGlzLm5vdGlmeVRhcmdldChlLCB0eXBlKTtcbiAgfVxuICBwcm9wYWdhdGlvblBhdGgodGFyZ2V0KSB7XG4gICAgY29uc3QgcHJvcGFnYXRpb25QYXRoID0gW3RhcmdldF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBQUk9QQUdBVElPTl9MSU1JVCAmJiB0YXJnZXQgIT09IHRoaXMucm9vdFRhcmdldDsgaSsrKSB7XG4gICAgICBpZiAoIXRhcmdldC5wYXJlbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgcHJvcGFnYXRpb24gcGF0aCB0byBkaXNjb25uZWN0ZWQgdGFyZ2V0XCIpO1xuICAgICAgfVxuICAgICAgcHJvcGFnYXRpb25QYXRoLnB1c2godGFyZ2V0LnBhcmVudCk7XG4gICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50O1xuICAgIH1cbiAgICBwcm9wYWdhdGlvblBhdGgucmV2ZXJzZSgpO1xuICAgIHJldHVybiBwcm9wYWdhdGlvblBhdGg7XG4gIH1cbiAgaGl0VGVzdFJlY3Vyc2l2ZShjdXJyZW50VGFyZ2V0LCBpbnRlcmFjdGl2ZSwgbG9jYXRpb24sIHRlc3RGbiwgcHJ1bmVGbikge1xuICAgIGlmICghY3VycmVudFRhcmdldCB8fCAhY3VycmVudFRhcmdldC52aXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHBydW5lRm4oY3VycmVudFRhcmdldCwgbG9jYXRpb24pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRUYXJnZXQuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBjdXJyZW50VGFyZ2V0LmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGN1cnJlbnRUYXJnZXQuY2hpbGRyZW47XG4gICAgICBmb3IgKGxldCBpID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgY29uc3QgbmVzdGVkSGl0ID0gdGhpcy5oaXRUZXN0UmVjdXJzaXZlKGNoaWxkLCBpbnRlcmFjdGl2ZSB8fCBjaGlsZC5pbnRlcmFjdGl2ZSwgbG9jYXRpb24sIHRlc3RGbiwgcHJ1bmVGbik7XG4gICAgICAgIGlmIChuZXN0ZWRIaXQpIHtcbiAgICAgICAgICBpZiAobmVzdGVkSGl0Lmxlbmd0aCA+IDAgJiYgIW5lc3RlZEhpdFtuZXN0ZWRIaXQubGVuZ3RoIC0gMV0ucGFyZW50KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5lc3RlZEhpdC5sZW5ndGggPiAwIHx8IGN1cnJlbnRUYXJnZXQuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIG5lc3RlZEhpdC5wdXNoKGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmVzdGVkSGl0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnRlcmFjdGl2ZSAmJiB0ZXN0Rm4oY3VycmVudFRhcmdldCwgbG9jYXRpb24pKSB7XG4gICAgICByZXR1cm4gY3VycmVudFRhcmdldC5pbnRlcmFjdGl2ZSA/IFtjdXJyZW50VGFyZ2V0XSA6IFtdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBoaXRQcnVuZUZuKGRpc3BsYXlPYmplY3QsIGxvY2F0aW9uKSB7XG4gICAgaWYgKGRpc3BsYXlPYmplY3QuaGl0QXJlYSkge1xuICAgICAgZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UobG9jYXRpb24sIHRlbXBMb2NhbE1hcHBpbmcpO1xuICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEuY29udGFpbnModGVtcExvY2FsTWFwcGluZy54LCB0ZW1wTG9jYWxNYXBwaW5nLnkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGlzcGxheU9iamVjdC5fbWFzaykge1xuICAgICAgY29uc3QgbWFza09iamVjdCA9IGRpc3BsYXlPYmplY3QuX21hc2suaXNNYXNrRGF0YSA/IGRpc3BsYXlPYmplY3QuX21hc2subWFza09iamVjdCA6IGRpc3BsYXlPYmplY3QuX21hc2s7XG4gICAgICBpZiAobWFza09iamVjdCAmJiAhbWFza09iamVjdC5jb250YWluc1BvaW50Py4obG9jYXRpb24pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaGl0VGVzdEZuKGRpc3BsYXlPYmplY3QsIGxvY2F0aW9uKSB7XG4gICAgaWYgKGRpc3BsYXlPYmplY3QuaGl0QXJlYSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQpIHtcbiAgICAgIHJldHVybiBkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQobG9jYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbm90aWZ5VGFyZ2V0KGUsIHR5cGUpIHtcbiAgICB0eXBlID0gdHlwZSA/PyBlLnR5cGU7XG4gICAgY29uc3Qga2V5ID0gZS5ldmVudFBoYXNlID09PSBlLkNBUFRVUklOR19QSEFTRSB8fCBlLmV2ZW50UGhhc2UgPT09IGUuQVRfVEFSR0VUID8gYCR7dHlwZX1jYXB0dXJlYCA6IHR5cGU7XG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoZSwga2V5KTtcbiAgICBpZiAoZS5ldmVudFBoYXNlID09PSBlLkFUX1RBUkdFVCkge1xuICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoZSwgdHlwZSk7XG4gICAgfVxuICB9XG4gIG1hcFBvaW50ZXJEb3duKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwicG9pbnRlcmRvd25cIik7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwidG91Y2hzdGFydFwiKTtcbiAgICB9IGVsc2UgaWYgKGUucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBlLnBvaW50ZXJUeXBlID09PSBcInBlblwiKSB7XG4gICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZS5idXR0b24gPT09IDI7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgaXNSaWdodEJ1dHRvbiA/IFwicmlnaHRkb3duXCIgOiBcIm1vdXNlZG93blwiKTtcbiAgICB9XG4gICAgY29uc3QgdHJhY2tpbmdEYXRhID0gdGhpcy50cmFja2luZ0RhdGEoZnJvbS5wb2ludGVySWQpO1xuICAgIHRyYWNraW5nRGF0YS5wcmVzc1RhcmdldHNCeUJ1dHRvbltmcm9tLmJ1dHRvbl0gPSBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIHRoaXMuZnJlZUV2ZW50KGUpO1xuICB9XG4gIG1hcFBvaW50ZXJNb3ZlKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSk7XG4gICAgY29uc3QgaXNNb3VzZSA9IGUucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBlLnBvaW50ZXJUeXBlID09PSBcInBlblwiO1xuICAgIGNvbnN0IHRyYWNraW5nRGF0YSA9IHRoaXMudHJhY2tpbmdEYXRhKGZyb20ucG9pbnRlcklkKTtcbiAgICBjb25zdCBvdXRUYXJnZXQgPSB0aGlzLmZpbmRNb3VudGVkVGFyZ2V0KHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cyk7XG4gICAgaWYgKHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cyAmJiBvdXRUYXJnZXQgIT09IGUudGFyZ2V0KSB7XG4gICAgICBjb25zdCBvdXRUeXBlID0gZnJvbS50eXBlID09PSBcIm1vdXNlbW92ZVwiID8gXCJtb3VzZW91dFwiIDogXCJwb2ludGVyb3V0XCI7XG4gICAgICBjb25zdCBvdXRFdmVudCA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20sIG91dFR5cGUsIG91dFRhcmdldCk7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3V0RXZlbnQsIFwicG9pbnRlcm91dFwiKTtcbiAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3V0RXZlbnQsIFwibW91c2VvdXRcIik7XG4gICAgICBpZiAoIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMob3V0VGFyZ2V0KSkge1xuICAgICAgICBjb25zdCBsZWF2ZUV2ZW50ID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSwgXCJwb2ludGVybGVhdmVcIiwgb3V0VGFyZ2V0KTtcbiAgICAgICAgbGVhdmVFdmVudC5ldmVudFBoYXNlID0gbGVhdmVFdmVudC5BVF9UQVJHRVQ7XG4gICAgICAgIHdoaWxlIChsZWF2ZUV2ZW50LnRhcmdldCAmJiAhZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhsZWF2ZUV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICBsZWF2ZUV2ZW50LmN1cnJlbnRUYXJnZXQgPSBsZWF2ZUV2ZW50LnRhcmdldDtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChsZWF2ZUV2ZW50KTtcbiAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGxlYXZlRXZlbnQsIFwibW91c2VsZWF2ZVwiKTtcbiAgICAgICAgICBsZWF2ZUV2ZW50LnRhcmdldCA9IGxlYXZlRXZlbnQudGFyZ2V0LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyZWVFdmVudChsZWF2ZUV2ZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZnJlZUV2ZW50KG91dEV2ZW50KTtcbiAgICB9XG4gICAgaWYgKG91dFRhcmdldCAhPT0gZS50YXJnZXQpIHtcbiAgICAgIGNvbnN0IG92ZXJUeXBlID0gZnJvbS50eXBlID09PSBcIm1vdXNlbW92ZVwiID8gXCJtb3VzZW92ZXJcIiA6IFwicG9pbnRlcm92ZXJcIjtcbiAgICAgIGNvbnN0IG92ZXJFdmVudCA9IHRoaXMuY2xvbmVQb2ludGVyRXZlbnQoZSwgb3ZlclR5cGUpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG92ZXJFdmVudCwgXCJwb2ludGVyb3ZlclwiKTtcbiAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3ZlckV2ZW50LCBcIm1vdXNlb3ZlclwiKTtcbiAgICAgIGxldCBvdmVyVGFyZ2V0QW5jZXN0b3IgPSBvdXRUYXJnZXQ/LnBhcmVudDtcbiAgICAgIHdoaWxlIChvdmVyVGFyZ2V0QW5jZXN0b3IgJiYgb3ZlclRhcmdldEFuY2VzdG9yICE9PSB0aGlzLnJvb3RUYXJnZXQucGFyZW50KSB7XG4gICAgICAgIGlmIChvdmVyVGFyZ2V0QW5jZXN0b3IgPT09IGUudGFyZ2V0KVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBvdmVyVGFyZ2V0QW5jZXN0b3IgPSBvdmVyVGFyZ2V0QW5jZXN0b3IucGFyZW50O1xuICAgICAgfVxuICAgICAgY29uc3QgZGlkUG9pbnRlckVudGVyID0gIW92ZXJUYXJnZXRBbmNlc3RvciB8fCBvdmVyVGFyZ2V0QW5jZXN0b3IgPT09IHRoaXMucm9vdFRhcmdldC5wYXJlbnQ7XG4gICAgICBpZiAoZGlkUG9pbnRlckVudGVyKSB7XG4gICAgICAgIGNvbnN0IGVudGVyRXZlbnQgPSB0aGlzLmNsb25lUG9pbnRlckV2ZW50KGUsIFwicG9pbnRlcmVudGVyXCIpO1xuICAgICAgICBlbnRlckV2ZW50LmV2ZW50UGhhc2UgPSBlbnRlckV2ZW50LkFUX1RBUkdFVDtcbiAgICAgICAgd2hpbGUgKGVudGVyRXZlbnQudGFyZ2V0ICYmIGVudGVyRXZlbnQudGFyZ2V0ICE9PSBvdXRUYXJnZXQgJiYgZW50ZXJFdmVudC50YXJnZXQgIT09IHRoaXMucm9vdFRhcmdldC5wYXJlbnQpIHtcbiAgICAgICAgICBlbnRlckV2ZW50LmN1cnJlbnRUYXJnZXQgPSBlbnRlckV2ZW50LnRhcmdldDtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlbnRlckV2ZW50KTtcbiAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGVudGVyRXZlbnQsIFwibW91c2VlbnRlclwiKTtcbiAgICAgICAgICBlbnRlckV2ZW50LnRhcmdldCA9IGVudGVyRXZlbnQudGFyZ2V0LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyZWVFdmVudChlbnRlckV2ZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZnJlZUV2ZW50KG92ZXJFdmVudCk7XG4gICAgfVxuICAgIGNvbnN0IHByb3BhZ2F0aW9uTWV0aG9kID0gdGhpcy5tb3ZlT25BbGwgPyBcImFsbFwiIDogXCJkaXNwYXRjaEV2ZW50XCI7XG4gICAgdGhpc1twcm9wYWdhdGlvbk1ldGhvZF0oZSwgXCJwb2ludGVybW92ZVwiKTtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKVxuICAgICAgdGhpc1twcm9wYWdhdGlvbk1ldGhvZF0oZSwgXCJ0b3VjaG1vdmVcIik7XG4gICAgaWYgKGlzTW91c2UpIHtcbiAgICAgIHRoaXNbcHJvcGFnYXRpb25NZXRob2RdKGUsIFwibW91c2Vtb3ZlXCIpO1xuICAgICAgdGhpcy5jdXJzb3IgPSBlLnRhcmdldD8uY3Vyc29yO1xuICAgIH1cbiAgICB0cmFja2luZ0RhdGEub3ZlclRhcmdldHMgPSBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIHRoaXMuZnJlZUV2ZW50KGUpO1xuICB9XG4gIG1hcFBvaW50ZXJPdmVyKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgY29uc3QgZSA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20pO1xuICAgIGNvbnN0IGlzTW91c2UgPSBlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIjtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJwb2ludGVyb3ZlclwiKTtcbiAgICBpZiAoaXNNb3VzZSlcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcIm1vdXNlb3ZlclwiKTtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiKVxuICAgICAgdGhpcy5jdXJzb3IgPSBlLnRhcmdldD8uY3Vyc29yO1xuICAgIGNvbnN0IGVudGVyRXZlbnQgPSB0aGlzLmNsb25lUG9pbnRlckV2ZW50KGUsIFwicG9pbnRlcmVudGVyXCIpO1xuICAgIGVudGVyRXZlbnQuZXZlbnRQaGFzZSA9IGVudGVyRXZlbnQuQVRfVEFSR0VUO1xuICAgIHdoaWxlIChlbnRlckV2ZW50LnRhcmdldCAmJiBlbnRlckV2ZW50LnRhcmdldCAhPT0gdGhpcy5yb290VGFyZ2V0LnBhcmVudCkge1xuICAgICAgZW50ZXJFdmVudC5jdXJyZW50VGFyZ2V0ID0gZW50ZXJFdmVudC50YXJnZXQ7XG4gICAgICB0aGlzLm5vdGlmeVRhcmdldChlbnRlckV2ZW50KTtcbiAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlbnRlckV2ZW50LCBcIm1vdXNlZW50ZXJcIik7XG4gICAgICBlbnRlckV2ZW50LnRhcmdldCA9IGVudGVyRXZlbnQudGFyZ2V0LnBhcmVudDtcbiAgICB9XG4gICAgdHJhY2tpbmdEYXRhLm92ZXJUYXJnZXRzID0gZS5jb21wb3NlZFBhdGgoKTtcbiAgICB0aGlzLmZyZWVFdmVudChlKTtcbiAgICB0aGlzLmZyZWVFdmVudChlbnRlckV2ZW50KTtcbiAgfVxuICBtYXBQb2ludGVyT3V0KGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgaWYgKHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cykge1xuICAgICAgY29uc3QgaXNNb3VzZSA9IGZyb20ucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBmcm9tLnBvaW50ZXJUeXBlID09PSBcInBlblwiO1xuICAgICAgY29uc3Qgb3V0VGFyZ2V0ID0gdGhpcy5maW5kTW91bnRlZFRhcmdldCh0cmFja2luZ0RhdGEub3ZlclRhcmdldHMpO1xuICAgICAgY29uc3Qgb3V0RXZlbnQgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tLCBcInBvaW50ZXJvdXRcIiwgb3V0VGFyZ2V0KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChvdXRFdmVudCk7XG4gICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG91dEV2ZW50LCBcIm1vdXNlb3V0XCIpO1xuICAgICAgY29uc3QgbGVhdmVFdmVudCA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20sIFwicG9pbnRlcmxlYXZlXCIsIG91dFRhcmdldCk7XG4gICAgICBsZWF2ZUV2ZW50LmV2ZW50UGhhc2UgPSBsZWF2ZUV2ZW50LkFUX1RBUkdFVDtcbiAgICAgIHdoaWxlIChsZWF2ZUV2ZW50LnRhcmdldCAmJiBsZWF2ZUV2ZW50LnRhcmdldCAhPT0gdGhpcy5yb290VGFyZ2V0LnBhcmVudCkge1xuICAgICAgICBsZWF2ZUV2ZW50LmN1cnJlbnRUYXJnZXQgPSBsZWF2ZUV2ZW50LnRhcmdldDtcbiAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQobGVhdmVFdmVudCk7XG4gICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGxlYXZlRXZlbnQsIFwibW91c2VsZWF2ZVwiKTtcbiAgICAgICAgbGVhdmVFdmVudC50YXJnZXQgPSBsZWF2ZUV2ZW50LnRhcmdldC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICB0cmFja2luZ0RhdGEub3ZlclRhcmdldHMgPSBudWxsO1xuICAgICAgdGhpcy5mcmVlRXZlbnQob3V0RXZlbnQpO1xuICAgICAgdGhpcy5mcmVlRXZlbnQobGVhdmVFdmVudCk7XG4gICAgfVxuICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgfVxuICBtYXBQb2ludGVyVXAoZnJvbSkge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJFdmVudEJvdW5kYXJ5IGNhbm5vdCBtYXAgYSBub24tcG9pbnRlciBldmVudCBhcyBhIHBvaW50ZXIgZXZlbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IGUgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJwb2ludGVydXBcIik7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwidG91Y2hlbmRcIik7XG4gICAgfSBlbHNlIGlmIChlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIikge1xuICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGUuYnV0dG9uID09PSAyO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIGlzUmlnaHRCdXR0b24gPyBcInJpZ2h0dXBcIiA6IFwibW91c2V1cFwiKTtcbiAgICB9XG4gICAgY29uc3QgdHJhY2tpbmdEYXRhID0gdGhpcy50cmFja2luZ0RhdGEoZnJvbS5wb2ludGVySWQpO1xuICAgIGNvbnN0IHByZXNzVGFyZ2V0ID0gdGhpcy5maW5kTW91bnRlZFRhcmdldCh0cmFja2luZ0RhdGEucHJlc3NUYXJnZXRzQnlCdXR0b25bZnJvbS5idXR0b25dKTtcbiAgICBsZXQgY2xpY2tUYXJnZXQgPSBwcmVzc1RhcmdldDtcbiAgICBpZiAocHJlc3NUYXJnZXQgJiYgIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMocHJlc3NUYXJnZXQpKSB7XG4gICAgICBsZXQgY3VycmVudFRhcmdldCA9IHByZXNzVGFyZ2V0O1xuICAgICAgd2hpbGUgKGN1cnJlbnRUYXJnZXQgJiYgIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoY3VycmVudFRhcmdldCkpIHtcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldDtcbiAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgXCJwb2ludGVydXBvdXRzaWRlXCIpO1xuICAgICAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgXCJ0b3VjaGVuZG91dHNpZGVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiIHx8IGUucG9pbnRlclR5cGUgPT09IFwicGVuXCIpIHtcbiAgICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZS5idXR0b24gPT09IDI7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgaXNSaWdodEJ1dHRvbiA/IFwicmlnaHR1cG91dHNpZGVcIiA6IFwibW91c2V1cG91dHNpZGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQucGFyZW50O1xuICAgICAgfVxuICAgICAgZGVsZXRlIHRyYWNraW5nRGF0YS5wcmVzc1RhcmdldHNCeUJ1dHRvbltmcm9tLmJ1dHRvbl07XG4gICAgICBjbGlja1RhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XG4gICAgfVxuICAgIGlmIChjbGlja1RhcmdldCkge1xuICAgICAgY29uc3QgY2xpY2tFdmVudCA9IHRoaXMuY2xvbmVQb2ludGVyRXZlbnQoZSwgXCJjbGlja1wiKTtcbiAgICAgIGNsaWNrRXZlbnQudGFyZ2V0ID0gY2xpY2tUYXJnZXQ7XG4gICAgICBjbGlja0V2ZW50LnBhdGggPSBudWxsO1xuICAgICAgaWYgKCF0cmFja2luZ0RhdGEuY2xpY2tzQnlCdXR0b25bZnJvbS5idXR0b25dKSB7XG4gICAgICAgIHRyYWNraW5nRGF0YS5jbGlja3NCeUJ1dHRvbltmcm9tLmJ1dHRvbl0gPSB7XG4gICAgICAgICAgY2xpY2tDb3VudDogMCxcbiAgICAgICAgICB0YXJnZXQ6IGNsaWNrRXZlbnQudGFyZ2V0LFxuICAgICAgICAgIHRpbWVTdGFtcDogbm93XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBjbGlja0hpc3RvcnkgPSB0cmFja2luZ0RhdGEuY2xpY2tzQnlCdXR0b25bZnJvbS5idXR0b25dO1xuICAgICAgaWYgKGNsaWNrSGlzdG9yeS50YXJnZXQgPT09IGNsaWNrRXZlbnQudGFyZ2V0ICYmIG5vdyAtIGNsaWNrSGlzdG9yeS50aW1lU3RhbXAgPCAyMDApIHtcbiAgICAgICAgKytjbGlja0hpc3RvcnkuY2xpY2tDb3VudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsaWNrSGlzdG9yeS5jbGlja0NvdW50ID0gMTtcbiAgICAgIH1cbiAgICAgIGNsaWNrSGlzdG9yeS50YXJnZXQgPSBjbGlja0V2ZW50LnRhcmdldDtcbiAgICAgIGNsaWNrSGlzdG9yeS50aW1lU3RhbXAgPSBub3c7XG4gICAgICBjbGlja0V2ZW50LmRldGFpbCA9IGNsaWNrSGlzdG9yeS5jbGlja0NvdW50O1xuICAgICAgaWYgKGNsaWNrRXZlbnQucG9pbnRlclR5cGUgPT09IFwibW91c2VcIikge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoY2xpY2tFdmVudCwgXCJjbGlja1wiKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xpY2tFdmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbGlja0V2ZW50LCBcInRhcFwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbGlja0V2ZW50LCBcInBvaW50ZXJ0YXBcIik7XG4gICAgICB0aGlzLmZyZWVFdmVudChjbGlja0V2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5mcmVlRXZlbnQoZSk7XG4gIH1cbiAgbWFwUG9pbnRlclVwT3V0c2lkZShmcm9tKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi1wb2ludGVyIGV2ZW50IGFzIGEgcG9pbnRlciBldmVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHJhY2tpbmdEYXRhID0gdGhpcy50cmFja2luZ0RhdGEoZnJvbS5wb2ludGVySWQpO1xuICAgIGNvbnN0IHByZXNzVGFyZ2V0ID0gdGhpcy5maW5kTW91bnRlZFRhcmdldCh0cmFja2luZ0RhdGEucHJlc3NUYXJnZXRzQnlCdXR0b25bZnJvbS5idXR0b25dKTtcbiAgICBjb25zdCBlID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSk7XG4gICAgaWYgKHByZXNzVGFyZ2V0KSB7XG4gICAgICBsZXQgY3VycmVudFRhcmdldCA9IHByZXNzVGFyZ2V0O1xuICAgICAgd2hpbGUgKGN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldDtcbiAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgXCJwb2ludGVydXBvdXRzaWRlXCIpO1xuICAgICAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgXCJ0b3VjaGVuZG91dHNpZGVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiIHx8IGUucG9pbnRlclR5cGUgPT09IFwicGVuXCIpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBlLmJ1dHRvbiA9PT0gMiA/IFwicmlnaHR1cG91dHNpZGVcIiA6IFwibW91c2V1cG91dHNpZGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQucGFyZW50O1xuICAgICAgfVxuICAgICAgZGVsZXRlIHRyYWNraW5nRGF0YS5wcmVzc1RhcmdldHNCeUJ1dHRvbltmcm9tLmJ1dHRvbl07XG4gICAgfVxuICAgIHRoaXMuZnJlZUV2ZW50KGUpO1xuICB9XG4gIG1hcFdoZWVsKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkV2hlZWxFdmVudCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi13aGVlbCBldmVudCBhcyBhIHdoZWVsIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB3aGVlbEV2ZW50ID0gdGhpcy5jcmVhdGVXaGVlbEV2ZW50KGZyb20pO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh3aGVlbEV2ZW50KTtcbiAgICB0aGlzLmZyZWVFdmVudCh3aGVlbEV2ZW50KTtcbiAgfVxuICBmaW5kTW91bnRlZFRhcmdldChwcm9wYWdhdGlvblBhdGgpIHtcbiAgICBpZiAoIXByb3BhZ2F0aW9uUGF0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBjdXJyZW50VGFyZ2V0ID0gcHJvcGFnYXRpb25QYXRoWzBdO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcHJvcGFnYXRpb25QYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocHJvcGFnYXRpb25QYXRoW2ldLnBhcmVudCA9PT0gY3VycmVudFRhcmdldCkge1xuICAgICAgICBjdXJyZW50VGFyZ2V0ID0gcHJvcGFnYXRpb25QYXRoW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50VGFyZ2V0O1xuICB9XG4gIGNyZWF0ZVBvaW50ZXJFdmVudChmcm9tLCB0eXBlLCB0YXJnZXQpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuYWxsb2NhdGVFdmVudChGZWRlcmF0ZWRQb2ludGVyRXZlbnQpO1xuICAgIHRoaXMuY29weVBvaW50ZXJEYXRhKGZyb20sIGV2ZW50KTtcbiAgICB0aGlzLmNvcHlNb3VzZURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gZnJvbS5uYXRpdmVFdmVudDtcbiAgICBldmVudC5vcmlnaW5hbEV2ZW50ID0gZnJvbTtcbiAgICBldmVudC50YXJnZXQgPSB0YXJnZXQgPz8gdGhpcy5oaXRUZXN0KGV2ZW50Lmdsb2JhbC54LCBldmVudC5nbG9iYWwueSk7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBldmVudC50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG4gIGNyZWF0ZVdoZWVsRXZlbnQoZnJvbSkge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5hbGxvY2F0ZUV2ZW50KEZlZGVyYXRlZFdoZWVsRXZlbnQpO1xuICAgIHRoaXMuY29weVdoZWVsRGF0YShmcm9tLCBldmVudCk7XG4gICAgdGhpcy5jb3B5TW91c2VEYXRhKGZyb20sIGV2ZW50KTtcbiAgICB0aGlzLmNvcHlEYXRhKGZyb20sIGV2ZW50KTtcbiAgICBldmVudC5uYXRpdmVFdmVudCA9IGZyb20ubmF0aXZlRXZlbnQ7XG4gICAgZXZlbnQub3JpZ2luYWxFdmVudCA9IGZyb207XG4gICAgZXZlbnQudGFyZ2V0ID0gdGhpcy5oaXRUZXN0KGV2ZW50Lmdsb2JhbC54LCBldmVudC5nbG9iYWwueSk7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG4gIGNsb25lUG9pbnRlckV2ZW50KGZyb20sIHR5cGUpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuYWxsb2NhdGVFdmVudChGZWRlcmF0ZWRQb2ludGVyRXZlbnQpO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gZnJvbS5uYXRpdmVFdmVudDtcbiAgICBldmVudC5vcmlnaW5hbEV2ZW50ID0gZnJvbS5vcmlnaW5hbEV2ZW50O1xuICAgIHRoaXMuY29weVBvaW50ZXJEYXRhKGZyb20sIGV2ZW50KTtcbiAgICB0aGlzLmNvcHlNb3VzZURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIGV2ZW50LnRhcmdldCA9IGZyb20udGFyZ2V0O1xuICAgIGV2ZW50LnBhdGggPSBmcm9tLmNvbXBvc2VkUGF0aCgpLnNsaWNlKCk7XG4gICAgZXZlbnQudHlwZSA9IHR5cGUgPz8gZXZlbnQudHlwZTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgY29weVdoZWVsRGF0YShmcm9tLCB0bykge1xuICAgIHRvLmRlbHRhTW9kZSA9IGZyb20uZGVsdGFNb2RlO1xuICAgIHRvLmRlbHRhWCA9IGZyb20uZGVsdGFYO1xuICAgIHRvLmRlbHRhWSA9IGZyb20uZGVsdGFZO1xuICAgIHRvLmRlbHRhWiA9IGZyb20uZGVsdGFaO1xuICB9XG4gIGNvcHlQb2ludGVyRGF0YShmcm9tLCB0bykge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQgJiYgdG8gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQpKVxuICAgICAgcmV0dXJuO1xuICAgIHRvLnBvaW50ZXJJZCA9IGZyb20ucG9pbnRlcklkO1xuICAgIHRvLndpZHRoID0gZnJvbS53aWR0aDtcbiAgICB0by5oZWlnaHQgPSBmcm9tLmhlaWdodDtcbiAgICB0by5pc1ByaW1hcnkgPSBmcm9tLmlzUHJpbWFyeTtcbiAgICB0by5wb2ludGVyVHlwZSA9IGZyb20ucG9pbnRlclR5cGU7XG4gICAgdG8ucHJlc3N1cmUgPSBmcm9tLnByZXNzdXJlO1xuICAgIHRvLnRhbmdlbnRpYWxQcmVzc3VyZSA9IGZyb20udGFuZ2VudGlhbFByZXNzdXJlO1xuICAgIHRvLnRpbHRYID0gZnJvbS50aWx0WDtcbiAgICB0by50aWx0WSA9IGZyb20udGlsdFk7XG4gICAgdG8udHdpc3QgPSBmcm9tLnR3aXN0O1xuICB9XG4gIGNvcHlNb3VzZURhdGEoZnJvbSwgdG8pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkTW91c2VFdmVudCAmJiB0byBpbnN0YW5jZW9mIEZlZGVyYXRlZE1vdXNlRXZlbnQpKVxuICAgICAgcmV0dXJuO1xuICAgIHRvLmFsdEtleSA9IGZyb20uYWx0S2V5O1xuICAgIHRvLmJ1dHRvbiA9IGZyb20uYnV0dG9uO1xuICAgIHRvLmJ1dHRvbnMgPSBmcm9tLmJ1dHRvbnM7XG4gICAgdG8uY2xpZW50LmNvcHlGcm9tKGZyb20uY2xpZW50KTtcbiAgICB0by5jdHJsS2V5ID0gZnJvbS5jdHJsS2V5O1xuICAgIHRvLm1ldGFLZXkgPSBmcm9tLm1ldGFLZXk7XG4gICAgdG8ubW92ZW1lbnQuY29weUZyb20oZnJvbS5tb3ZlbWVudCk7XG4gICAgdG8uc2NyZWVuLmNvcHlGcm9tKGZyb20uc2NyZWVuKTtcbiAgICB0by5nbG9iYWwuY29weUZyb20oZnJvbS5nbG9iYWwpO1xuICB9XG4gIGNvcHlEYXRhKGZyb20sIHRvKSB7XG4gICAgdG8uaXNUcnVzdGVkID0gZnJvbS5pc1RydXN0ZWQ7XG4gICAgdG8uc3JjRWxlbWVudCA9IGZyb20uc3JjRWxlbWVudDtcbiAgICB0by50aW1lU3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0by50eXBlID0gZnJvbS50eXBlO1xuICAgIHRvLmRldGFpbCA9IGZyb20uZGV0YWlsO1xuICAgIHRvLnZpZXcgPSBmcm9tLnZpZXc7XG4gICAgdG8ud2hpY2ggPSBmcm9tLndoaWNoO1xuICAgIHRvLmxheWVyLmNvcHlGcm9tKGZyb20ubGF5ZXIpO1xuICAgIHRvLnBhZ2UuY29weUZyb20oZnJvbS5wYWdlKTtcbiAgfVxuICB0cmFja2luZ0RhdGEoaWQpIHtcbiAgICBpZiAoIXRoaXMubWFwcGluZ1N0YXRlLnRyYWNraW5nRGF0YVtpZF0pIHtcbiAgICAgIHRoaXMubWFwcGluZ1N0YXRlLnRyYWNraW5nRGF0YVtpZF0gPSB7XG4gICAgICAgIHByZXNzVGFyZ2V0c0J5QnV0dG9uOiB7fSxcbiAgICAgICAgY2xpY2tzQnlCdXR0b246IHt9LFxuICAgICAgICBvdmVyVGFyZ2V0OiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYXBwaW5nU3RhdGUudHJhY2tpbmdEYXRhW2lkXTtcbiAgfVxuICBhbGxvY2F0ZUV2ZW50KGNvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCF0aGlzLmV2ZW50UG9vbC5oYXMoY29uc3RydWN0b3IpKSB7XG4gICAgICB0aGlzLmV2ZW50UG9vbC5zZXQoY29uc3RydWN0b3IsIFtdKTtcbiAgICB9XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmV2ZW50UG9vbC5nZXQoY29uc3RydWN0b3IpLnBvcCgpIHx8IG5ldyBjb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICBldmVudC5ldmVudFBoYXNlID0gZXZlbnQuTk9ORTtcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICBldmVudC5wYXRoID0gbnVsbDtcbiAgICBldmVudC50YXJnZXQgPSBudWxsO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuICBmcmVlRXZlbnQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQubWFuYWdlciAhPT0gdGhpcylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkl0IGlzIGlsbGVnYWwgdG8gZnJlZSBhbiBldmVudCBub3QgbWFuYWdlZCBieSB0aGlzIEV2ZW50Qm91bmRhcnkhXCIpO1xuICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gZXZlbnQuY29uc3RydWN0b3I7XG4gICAgaWYgKCF0aGlzLmV2ZW50UG9vbC5oYXMoY29uc3RydWN0b3IpKSB7XG4gICAgICB0aGlzLmV2ZW50UG9vbC5zZXQoY29uc3RydWN0b3IsIFtdKTtcbiAgICB9XG4gICAgdGhpcy5ldmVudFBvb2wuZ2V0KGNvbnN0cnVjdG9yKS5wdXNoKGV2ZW50KTtcbiAgfVxuICBub3RpZnlMaXN0ZW5lcnMoZSwgdHlwZSkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IGUuY3VycmVudFRhcmdldC5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICghbGlzdGVuZXJzKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChcImZuXCIgaW4gbGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGogJiYgIWUucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQ7IGkrKykge1xuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEV2ZW50Qm91bmRhcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50Qm91bmRhcnkubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXZlbnRCb3VuZGFyeSB9IGZyb20gJy4vRXZlbnRCb3VuZGFyeS5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkUG9pbnRlckV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRQb2ludGVyRXZlbnQubWpzJztcbmltcG9ydCB7IEZlZGVyYXRlZFdoZWVsRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZFdoZWVsRXZlbnQubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY29uc3QgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5jb25zdCBUT1VDSF9UT19QT0lOVEVSID0ge1xuICB0b3VjaHN0YXJ0OiBcInBvaW50ZXJkb3duXCIsXG4gIHRvdWNoZW5kOiBcInBvaW50ZXJ1cFwiLFxuICB0b3VjaGVuZG91dHNpZGU6IFwicG9pbnRlcnVwb3V0c2lkZVwiLFxuICB0b3VjaG1vdmU6IFwicG9pbnRlcm1vdmVcIixcbiAgdG91Y2hjYW5jZWw6IFwicG9pbnRlcmNhbmNlbFwiXG59O1xuY2xhc3MgRXZlbnRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyA9IFwib250b3VjaHN0YXJ0XCIgaW4gZ2xvYmFsVGhpcztcbiAgICB0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyA9ICEhZ2xvYmFsVGhpcy5Qb2ludGVyRXZlbnQ7XG4gICAgdGhpcy5kb21FbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLnJvb3RCb3VuZGFyeSA9IG5ldyBFdmVudEJvdW5kYXJ5KG51bGwpO1xuICAgIHRoaXMuYXV0b1ByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcbiAgICB0aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgdGhpcy5yb290UG9pbnRlckV2ZW50ID0gbmV3IEZlZGVyYXRlZFBvaW50ZXJFdmVudChudWxsKTtcbiAgICB0aGlzLnJvb3RXaGVlbEV2ZW50ID0gbmV3IEZlZGVyYXRlZFdoZWVsRXZlbnQobnVsbCk7XG4gICAgdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICBkZWZhdWx0OiBcImluaGVyaXRcIixcbiAgICAgIHBvaW50ZXI6IFwicG9pbnRlclwiXG4gICAgfTtcbiAgICB0aGlzLm9uUG9pbnRlckRvd24gPSB0aGlzLm9uUG9pbnRlckRvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSB0aGlzLm9uUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uUG9pbnRlclVwID0gdGhpcy5vblBvaW50ZXJVcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Qb2ludGVyT3Zlck91dCA9IHRoaXMub25Qb2ludGVyT3Zlck91dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25XaGVlbCA9IHRoaXMub25XaGVlbC5iaW5kKHRoaXMpO1xuICB9XG4gIGluaXQoKSB7XG4gICAgY29uc3QgeyB2aWV3LCByZXNvbHV0aW9uIH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgIHRoaXMuc2V0VGFyZ2V0RWxlbWVudCh2aWV3KTtcbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICB9XG4gIHJlc29sdXRpb25DaGFuZ2UocmVzb2x1dGlvbikge1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnNldFRhcmdldEVsZW1lbnQobnVsbCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbiAgc2V0Q3Vyc29yKG1vZGUpIHtcbiAgICBtb2RlID0gbW9kZSB8fCBcImRlZmF1bHRcIjtcbiAgICBsZXQgYXBwbHlTdHlsZXMgPSB0cnVlO1xuICAgIGlmIChnbG9iYWxUaGlzLk9mZnNjcmVlbkNhbnZhcyAmJiB0aGlzLmRvbUVsZW1lbnQgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpIHtcbiAgICAgIGFwcGx5U3R5bGVzID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLmN1cnJlbnRDdXJzb3IgPT09IG1vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50Q3Vyc29yID0gbW9kZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgc3dpdGNoICh0eXBlb2Ygc3R5bGUpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGlmIChhcHBseVN0eWxlcykge1xuICAgICAgICAgICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLmN1cnNvciA9IHN0eWxlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgc3R5bGUobW9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICBpZiAoYXBwbHlTdHlsZXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5kb21FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXBwbHlTdHlsZXMgJiYgdHlwZW9mIG1vZGUgPT09IFwic3RyaW5nXCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnNvclN0eWxlcywgbW9kZSkpIHtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBtb2RlO1xuICAgIH1cbiAgfVxuICBvblBvaW50ZXJEb3duKG5hdGl2ZUV2ZW50KSB7XG4gICAgdGhpcy5yb290Qm91bmRhcnkucm9vdFRhcmdldCA9IHRoaXMucmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgbmF0aXZlRXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEobmF0aXZlRXZlbnQpO1xuICAgIGlmICh0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCAmJiBldmVudHNbMF0uaXNOb3JtYWxpemVkKSB7XG4gICAgICBjb25zdCBjYW5jZWxhYmxlID0gbmF0aXZlRXZlbnQuY2FuY2VsYWJsZSB8fCAhKFwiY2FuY2VsYWJsZVwiIGluIG5hdGl2ZUV2ZW50KTtcbiAgICAgIGlmIChjYW5jZWxhYmxlKSB7XG4gICAgICAgIG5hdGl2ZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBqID0gZXZlbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgY29uc3QgbmF0aXZlRXZlbnQyID0gZXZlbnRzW2ldO1xuICAgICAgY29uc3QgZmVkZXJhdGVkRXZlbnQgPSB0aGlzLmJvb3RzdHJhcEV2ZW50KHRoaXMucm9vdFBvaW50ZXJFdmVudCwgbmF0aXZlRXZlbnQyKTtcbiAgICAgIHRoaXMucm9vdEJvdW5kYXJ5Lm1hcEV2ZW50KGZlZGVyYXRlZEV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5zZXRDdXJzb3IodGhpcy5yb290Qm91bmRhcnkuY3Vyc29yKTtcbiAgfVxuICBvblBvaW50ZXJNb3ZlKG5hdGl2ZUV2ZW50KSB7XG4gICAgdGhpcy5yb290Qm91bmRhcnkucm9vdFRhcmdldCA9IHRoaXMucmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgbmF0aXZlRXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG5hdGl2ZUV2ZW50KTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IG5vcm1hbGl6ZWRFdmVudHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBjb25zdCBldmVudCA9IHRoaXMuYm9vdHN0cmFwRXZlbnQodGhpcy5yb290UG9pbnRlckV2ZW50LCBub3JtYWxpemVkRXZlbnRzW2ldKTtcbiAgICAgIHRoaXMucm9vdEJvdW5kYXJ5Lm1hcEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5zZXRDdXJzb3IodGhpcy5yb290Qm91bmRhcnkuY3Vyc29yKTtcbiAgfVxuICBvblBvaW50ZXJVcChuYXRpdmVFdmVudCkge1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG5hdGl2ZUV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpXG4gICAgICByZXR1cm47XG4gICAgbGV0IHRhcmdldCA9IG5hdGl2ZUV2ZW50LnRhcmdldDtcbiAgICBpZiAobmF0aXZlRXZlbnQuY29tcG9zZWRQYXRoICYmIG5hdGl2ZUV2ZW50LmNvbXBvc2VkUGF0aCgpLmxlbmd0aCA+IDApIHtcbiAgICAgIHRhcmdldCA9IG5hdGl2ZUV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdO1xuICAgIH1cbiAgICBjb25zdCBvdXRzaWRlID0gdGFyZ2V0ICE9PSB0aGlzLmRvbUVsZW1lbnQgPyBcIm91dHNpZGVcIiA6IFwiXCI7XG4gICAgY29uc3Qgbm9ybWFsaXplZEV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShuYXRpdmVFdmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBub3JtYWxpemVkRXZlbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmJvb3RzdHJhcEV2ZW50KHRoaXMucm9vdFBvaW50ZXJFdmVudCwgbm9ybWFsaXplZEV2ZW50c1tpXSk7XG4gICAgICBldmVudC50eXBlICs9IG91dHNpZGU7XG4gICAgICB0aGlzLnJvb3RCb3VuZGFyeS5tYXBFdmVudChldmVudCk7XG4gICAgfVxuICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMucm9vdEJvdW5kYXJ5LmN1cnNvcik7XG4gIH1cbiAgb25Qb2ludGVyT3Zlck91dChuYXRpdmVFdmVudCkge1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG5hdGl2ZUV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgbm9ybWFsaXplZEV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShuYXRpdmVFdmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBub3JtYWxpemVkRXZlbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmJvb3RzdHJhcEV2ZW50KHRoaXMucm9vdFBvaW50ZXJFdmVudCwgbm9ybWFsaXplZEV2ZW50c1tpXSk7XG4gICAgICB0aGlzLnJvb3RCb3VuZGFyeS5tYXBFdmVudChldmVudCk7XG4gICAgfVxuICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMucm9vdEJvdW5kYXJ5LmN1cnNvcik7XG4gIH1cbiAgb25XaGVlbChuYXRpdmVFdmVudCkge1xuICAgIGNvbnN0IHdoZWVsRXZlbnQgPSB0aGlzLm5vcm1hbGl6ZVdoZWVsRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICB0aGlzLnJvb3RCb3VuZGFyeS5tYXBFdmVudCh3aGVlbEV2ZW50KTtcbiAgfVxuICBzZXRUYXJnZXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuICAgIHRoaXMuZG9tRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgfVxuICBhZGRFdmVudHMoKSB7XG4gICAgaWYgKHRoaXMuZXZlbnRzQWRkZWQgfHwgIXRoaXMuZG9tRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuZG9tRWxlbWVudC5zdHlsZTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGlmIChnbG9iYWxUaGlzLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSBcIm5vbmVcIjtcbiAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsZWF2ZVwiLCB0aGlzLm9uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3ZlclwiLCB0aGlzLm9uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIHRoaXMub25Qb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCB0aGlzLm9uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCB0aGlzLm9uV2hlZWwsIHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5ldmVudHNBZGRlZCA9IHRydWU7XG4gIH1cbiAgcmVtb3ZlRXZlbnRzKCkge1xuICAgIGlmICghdGhpcy5ldmVudHNBZGRlZCB8fCAhdGhpcy5kb21FbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5kb21FbGVtZW50LnN0eWxlO1xuICAgIGlmIChnbG9iYWxUaGlzLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICBzdHlsZS5tc0NvbnRlbnRab29taW5nID0gXCJcIjtcbiAgICAgIHN0eWxlLm1zVG91Y2hBY3Rpb24gPSBcIlwiO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgIHN0eWxlLnRvdWNoQWN0aW9uID0gXCJcIjtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICBnbG9iYWxUaGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIiwgdGhpcy5vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm92ZXJcIiwgdGhpcy5vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCB0aGlzLm9uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgdGhpcy5vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy5vbldoZWVsLCB0cnVlKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgfVxuICBtYXBQb3NpdGlvblRvUG9pbnQocG9pbnQsIHgsIHkpIHtcbiAgICBsZXQgcmVjdDtcbiAgICBpZiAoIXRoaXMuZG9tRWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICByZWN0ID0ge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgICB3aWR0aDogdGhpcy5kb21FbGVtZW50LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuZG9tRWxlbWVudC5oZWlnaHQsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHRvcDogMFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjdCA9IHRoaXMuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSAxIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgIHBvaW50LnggPSAoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5kb21FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICBwb2ludC55ID0gKHkgLSByZWN0LnRvcCkgKiAodGhpcy5kb21FbGVtZW50LmhlaWdodCAvIHJlY3QuaGVpZ2h0KSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICB9XG4gIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGEoZXZlbnQpIHtcbiAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gW107XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspIHtcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2guYnV0dG9uID0gMDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b25zID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLmJ1dHRvbnMgPSAxO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09IFwidG91Y2hzdGFydFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gud2lkdGggPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gud2lkdGggPSB0b3VjaC5yYWRpdXNYIHx8IDE7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLmhlaWdodCA9IHRvdWNoLnJhZGl1c1kgfHwgMTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC50aWx0WCA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFkgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gudGlsdFkgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLnBvaW50ZXJUeXBlID0gXCJ0b3VjaFwiO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5wb2ludGVySWQgPSB0b3VjaC5pZGVudGlmaWVyIHx8IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gudHdpc3QgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gudHdpc3QgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5sYXllclggPSB0b3VjaC5vZmZzZXRYID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gubGF5ZXJZID0gdG91Y2gub2Zmc2V0WSA9IHRvdWNoLmNsaWVudFk7XG4gICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG4gICAgICAgIHRvdWNoLnR5cGUgPSBldmVudC50eXBlO1xuICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWdsb2JhbFRoaXMuTW91c2VFdmVudCB8fCBldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5Qb2ludGVyRXZlbnQpKSkge1xuICAgICAgY29uc3QgdGVtcEV2ZW50ID0gZXZlbnQ7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5pc1ByaW1hcnkgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQud2lkdGggPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC53aWR0aCA9IDE7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5oZWlnaHQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5oZWlnaHQgPSAxO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGlsdFggPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC50aWx0WCA9IDA7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LnRpbHRZID0gMDtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnBvaW50ZXJUeXBlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPSBcIm1vdXNlXCI7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVySWQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucHJlc3N1cmUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5wcmVzc3VyZSA9IDAuNTtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnR3aXN0ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQudHdpc3QgPSAwO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICAgIHRlbXBFdmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRlbXBFdmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICB9XG4gIG5vcm1hbGl6ZVdoZWVsRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMucm9vdFdoZWVsRXZlbnQ7XG4gICAgdGhpcy50cmFuc2Zlck1vdXNlRGF0YShldmVudCwgbmF0aXZlRXZlbnQpO1xuICAgIGV2ZW50LmRlbHRhTW9kZSA9IG5hdGl2ZUV2ZW50LmRlbHRhTW9kZTtcbiAgICBldmVudC5kZWx0YVggPSBuYXRpdmVFdmVudC5kZWx0YVg7XG4gICAgZXZlbnQuZGVsdGFZID0gbmF0aXZlRXZlbnQuZGVsdGFZO1xuICAgIGV2ZW50LmRlbHRhWiA9IG5hdGl2ZUV2ZW50LmRlbHRhWjtcbiAgICB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludChldmVudC5zY3JlZW4sIG5hdGl2ZUV2ZW50LmNsaWVudFgsIG5hdGl2ZUV2ZW50LmNsaWVudFkpO1xuICAgIGV2ZW50Lmdsb2JhbC5jb3B5RnJvbShldmVudC5zY3JlZW4pO1xuICAgIGV2ZW50Lm9mZnNldC5jb3B5RnJvbShldmVudC5zY3JlZW4pO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgZXZlbnQudHlwZSA9IG5hdGl2ZUV2ZW50LnR5cGU7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG4gIGJvb3RzdHJhcEV2ZW50KGV2ZW50LCBuYXRpdmVFdmVudCkge1xuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBudWxsO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgZXZlbnQucG9pbnRlcklkID0gbmF0aXZlRXZlbnQucG9pbnRlcklkO1xuICAgIGV2ZW50LndpZHRoID0gbmF0aXZlRXZlbnQud2lkdGg7XG4gICAgZXZlbnQuaGVpZ2h0ID0gbmF0aXZlRXZlbnQuaGVpZ2h0O1xuICAgIGV2ZW50LmlzUHJpbWFyeSA9IG5hdGl2ZUV2ZW50LmlzUHJpbWFyeTtcbiAgICBldmVudC5wb2ludGVyVHlwZSA9IG5hdGl2ZUV2ZW50LnBvaW50ZXJUeXBlO1xuICAgIGV2ZW50LnByZXNzdXJlID0gbmF0aXZlRXZlbnQucHJlc3N1cmU7XG4gICAgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gbmF0aXZlRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlO1xuICAgIGV2ZW50LnRpbHRYID0gbmF0aXZlRXZlbnQudGlsdFg7XG4gICAgZXZlbnQudGlsdFkgPSBuYXRpdmVFdmVudC50aWx0WTtcbiAgICBldmVudC50d2lzdCA9IG5hdGl2ZUV2ZW50LnR3aXN0O1xuICAgIHRoaXMudHJhbnNmZXJNb3VzZURhdGEoZXZlbnQsIG5hdGl2ZUV2ZW50KTtcbiAgICB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludChldmVudC5zY3JlZW4sIG5hdGl2ZUV2ZW50LmNsaWVudFgsIG5hdGl2ZUV2ZW50LmNsaWVudFkpO1xuICAgIGV2ZW50Lmdsb2JhbC5jb3B5RnJvbShldmVudC5zY3JlZW4pO1xuICAgIGV2ZW50Lm9mZnNldC5jb3B5RnJvbShldmVudC5zY3JlZW4pO1xuICAgIGV2ZW50LmlzVHJ1c3RlZCA9IG5hdGl2ZUV2ZW50LmlzVHJ1c3RlZDtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJwb2ludGVybGVhdmVcIikge1xuICAgICAgZXZlbnQudHlwZSA9IFwicG9pbnRlcm91dFwiO1xuICAgIH1cbiAgICBpZiAoZXZlbnQudHlwZS5zdGFydHNXaXRoKFwibW91c2VcIikpIHtcbiAgICAgIGV2ZW50LnR5cGUgPSBldmVudC50eXBlLnJlcGxhY2UoXCJtb3VzZVwiLCBcInBvaW50ZXJcIik7XG4gICAgfVxuICAgIGlmIChldmVudC50eXBlLnN0YXJ0c1dpdGgoXCJ0b3VjaFwiKSkge1xuICAgICAgZXZlbnQudHlwZSA9IFRPVUNIX1RPX1BPSU5URVJbZXZlbnQudHlwZV0gfHwgZXZlbnQudHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG4gIHRyYW5zZmVyTW91c2VEYXRhKGV2ZW50LCBuYXRpdmVFdmVudCkge1xuICAgIGV2ZW50LmlzVHJ1c3RlZCA9IG5hdGl2ZUV2ZW50LmlzVHJ1c3RlZDtcbiAgICBldmVudC5zcmNFbGVtZW50ID0gbmF0aXZlRXZlbnQuc3JjRWxlbWVudDtcbiAgICBldmVudC50aW1lU3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBldmVudC50eXBlID0gbmF0aXZlRXZlbnQudHlwZTtcbiAgICBldmVudC5hbHRLZXkgPSBuYXRpdmVFdmVudC5hbHRLZXk7XG4gICAgZXZlbnQuYnV0dG9uID0gbmF0aXZlRXZlbnQuYnV0dG9uO1xuICAgIGV2ZW50LmJ1dHRvbnMgPSBuYXRpdmVFdmVudC5idXR0b25zO1xuICAgIGV2ZW50LmNsaWVudC54ID0gbmF0aXZlRXZlbnQuY2xpZW50WDtcbiAgICBldmVudC5jbGllbnQueSA9IG5hdGl2ZUV2ZW50LmNsaWVudFk7XG4gICAgZXZlbnQuY3RybEtleSA9IG5hdGl2ZUV2ZW50LmN0cmxLZXk7XG4gICAgZXZlbnQubWV0YUtleSA9IG5hdGl2ZUV2ZW50Lm1ldGFLZXk7XG4gICAgZXZlbnQubW92ZW1lbnQueCA9IG5hdGl2ZUV2ZW50Lm1vdmVtZW50WDtcbiAgICBldmVudC5tb3ZlbWVudC55ID0gbmF0aXZlRXZlbnQubW92ZW1lbnRZO1xuICAgIGV2ZW50LnBhZ2UueCA9IG5hdGl2ZUV2ZW50LnBhZ2VYO1xuICAgIGV2ZW50LnBhZ2UueSA9IG5hdGl2ZUV2ZW50LnBhZ2VZO1xuICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPSBudWxsO1xuICAgIGV2ZW50LnNoaWZ0S2V5ID0gbmF0aXZlRXZlbnQuc2hpZnRLZXk7XG4gIH1cbn1cbkV2ZW50U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgbmFtZTogXCJldmVudHNcIixcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuUmVuZGVyZXJTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNSZW5kZXJlclN5c3RlbVxuICBdXG59O1xuZXh0ZW5zaW9ucy5hZGQoRXZlbnRTeXN0ZW0pO1xuXG5leHBvcnQgeyBFdmVudFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY2xhc3MgRmVkZXJhdGVkRXZlbnQge1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyKSB7XG4gICAgdGhpcy5idWJibGVzID0gdHJ1ZTtcbiAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgdGhpcy5jYW5jZWxhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5jb21wb3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuZXZlbnRQaGFzZSA9IEZlZGVyYXRlZEV2ZW50LnByb3RvdHlwZS5OT05FO1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMubGF5ZXIgPSBuZXcgUG9pbnQoKTtcbiAgICB0aGlzLnBhZ2UgPSBuZXcgUG9pbnQoKTtcbiAgICB0aGlzLkFUX1RBUkdFVCA9IDE7XG4gICAgdGhpcy5CVUJCTElOR19QSEFTRSA9IDI7XG4gICAgdGhpcy5DQVBUVVJJTkdfUEhBU0UgPSAzO1xuICAgIHRoaXMuTk9ORSA9IDA7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgfVxuICBnZXQgbGF5ZXJYKCkge1xuICAgIHJldHVybiB0aGlzLmxheWVyLng7XG4gIH1cbiAgZ2V0IGxheWVyWSgpIHtcbiAgICByZXR1cm4gdGhpcy5sYXllci55O1xuICB9XG4gIGdldCBwYWdlWCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlLng7XG4gIH1cbiAgZ2V0IHBhZ2VZKCkge1xuICAgIHJldHVybiB0aGlzLnBhZ2UueTtcbiAgfVxuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjb21wb3NlZFBhdGgoKSB7XG4gICAgaWYgKHRoaXMubWFuYWdlciAmJiAoIXRoaXMucGF0aCB8fCB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdICE9PSB0aGlzLnRhcmdldCkpIHtcbiAgICAgIHRoaXMucGF0aCA9IHRoaXMudGFyZ2V0ID8gdGhpcy5tYW5hZ2VyLnByb3BhZ2F0aW9uUGF0aCh0aGlzLnRhcmdldCkgOiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGF0aDtcbiAgfVxuICBpbml0RXZlbnQoX3R5cGUsIF9idWJibGVzLCBfY2FuY2VsYWJsZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImluaXRFdmVudCgpIGlzIGEgbGVnYWN5IERPTSBBUEkuIEl0IGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGUgRmVkZXJhdGVkIEV2ZW50cyBBUEkuXCIpO1xuICB9XG4gIGluaXRVSUV2ZW50KF90eXBlQXJnLCBfYnViYmxlc0FyZywgX2NhbmNlbGFibGVBcmcsIF92aWV3QXJnLCBfZGV0YWlsQXJnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW5pdFVJRXZlbnQoKSBpcyBhIGxlZ2FjeSBET00gQVBJLiBJdCBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIEZlZGVyYXRlZCBFdmVudHMgQVBJLlwiKTtcbiAgfVxuICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICBpZiAodGhpcy5uYXRpdmVFdmVudCBpbnN0YW5jZW9mIEV2ZW50ICYmIHRoaXMubmF0aXZlRXZlbnQuY2FuY2VsYWJsZSkge1xuICAgICAgdGhpcy5uYXRpdmVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICB9XG4gIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkID0gdHJ1ZTtcbiAgfVxuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCB7IEZlZGVyYXRlZEV2ZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWRlcmF0ZWRFdmVudC5tanMubWFwXG4iLCJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlZGVyYXRlZEV2ZW50TWFwLm1qcy5tYXBcbiIsImltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEZlZGVyYXRlZEV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRFdmVudC5tanMnO1xuXG5jb25zdCBGZWRlcmF0ZWREaXNwbGF5T2JqZWN0ID0ge1xuICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG4gIGhpdEFyZWE6IG51bGwsXG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjYXB0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiICYmIG9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5jYXB0dXJlO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiA/IHZvaWQgMCA6IGxpc3RlbmVyO1xuICAgIHR5cGUgPSBjYXB0dXJlID8gYCR7dHlwZX1jYXB0dXJlYCA6IHR5cGU7XG4gICAgbGlzdGVuZXIgPSB0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiA/IGxpc3RlbmVyIDogbGlzdGVuZXIuaGFuZGxlRXZlbnQ7XG4gICAgdGhpcy5vbih0eXBlLCBsaXN0ZW5lciwgY29udGV4dCk7XG4gIH0sXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjYXB0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiICYmIG9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5jYXB0dXJlO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiA/IHZvaWQgMCA6IGxpc3RlbmVyO1xuICAgIHR5cGUgPSBjYXB0dXJlID8gYCR7dHlwZX1jYXB0dXJlYCA6IHR5cGU7XG4gICAgbGlzdGVuZXIgPSB0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiA/IGxpc3RlbmVyIDogbGlzdGVuZXIuaGFuZGxlRXZlbnQ7XG4gICAgdGhpcy5vZmYodHlwZSwgbGlzdGVuZXIsIGNvbnRleHQpO1xuICB9LFxuICBkaXNwYXRjaEV2ZW50KGUpIHtcbiAgICBpZiAoIShlIGluc3RhbmNlb2YgRmVkZXJhdGVkRXZlbnQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaXNwbGF5T2JqZWN0IGNhbm5vdCBwcm9wYWdhdGUgZXZlbnRzIG91dHNpZGUgb2YgdGhlIEZlZGVyYXRlZCBFdmVudHMgQVBJXCIpO1xuICAgIH1cbiAgICBlLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICBlLnBhdGggPSBudWxsO1xuICAgIGUudGFyZ2V0ID0gdGhpcztcbiAgICBlLm1hbmFnZXIuZGlzcGF0Y2hFdmVudChlKTtcbiAgICByZXR1cm4gIWUuZGVmYXVsdFByZXZlbnRlZDtcbiAgfVxufTtcbkRpc3BsYXlPYmplY3QubWl4aW4oRmVkZXJhdGVkRGlzcGxheU9iamVjdCk7XG5cbmV4cG9ydCB7IEZlZGVyYXRlZERpc3BsYXlPYmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlZGVyYXRlZEV2ZW50VGFyZ2V0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEZlZGVyYXRlZEV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRFdmVudC5tanMnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY2xhc3MgRmVkZXJhdGVkTW91c2VFdmVudCBleHRlbmRzIEZlZGVyYXRlZEV2ZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmNsaWVudCA9IG5ldyBQb2ludCgpO1xuICAgIHRoaXMubW92ZW1lbnQgPSBuZXcgUG9pbnQoKTtcbiAgICB0aGlzLm9mZnNldCA9IG5ldyBQb2ludCgpO1xuICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG4gICAgdGhpcy5zY3JlZW4gPSBuZXcgUG9pbnQoKTtcbiAgfVxuICBnZXQgY2xpZW50WCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQueDtcbiAgfVxuICBnZXQgY2xpZW50WSgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQueTtcbiAgfVxuICBnZXQgeCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRYO1xuICB9XG4gIGdldCB5KCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudFk7XG4gIH1cbiAgZ2V0IG1vdmVtZW50WCgpIHtcbiAgICByZXR1cm4gdGhpcy5tb3ZlbWVudC54O1xuICB9XG4gIGdldCBtb3ZlbWVudFkoKSB7XG4gICAgcmV0dXJuIHRoaXMubW92ZW1lbnQueTtcbiAgfVxuICBnZXQgb2Zmc2V0WCgpIHtcbiAgICByZXR1cm4gdGhpcy5vZmZzZXQueDtcbiAgfVxuICBnZXQgb2Zmc2V0WSgpIHtcbiAgICByZXR1cm4gdGhpcy5vZmZzZXQueTtcbiAgfVxuICBnZXQgZ2xvYmFsWCgpIHtcbiAgICByZXR1cm4gdGhpcy5nbG9iYWwueDtcbiAgfVxuICBnZXQgZ2xvYmFsWSgpIHtcbiAgICByZXR1cm4gdGhpcy5nbG9iYWwueTtcbiAgfVxuICBnZXQgc2NyZWVuWCgpIHtcbiAgICByZXR1cm4gdGhpcy5zY3JlZW4ueDtcbiAgfVxuICBnZXQgc2NyZWVuWSgpIHtcbiAgICByZXR1cm4gdGhpcy5zY3JlZW4ueTtcbiAgfVxuICBnZXRNb2RpZmllclN0YXRlKGtleSkge1xuICAgIHJldHVybiBcImdldE1vZGlmaWVyU3RhdGVcIiBpbiB0aGlzLm5hdGl2ZUV2ZW50ICYmIHRoaXMubmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShrZXkpO1xuICB9XG4gIGluaXRNb3VzZUV2ZW50KF90eXBlQXJnLCBfY2FuQnViYmxlQXJnLCBfY2FuY2VsYWJsZUFyZywgX3ZpZXdBcmcsIF9kZXRhaWxBcmcsIF9zY3JlZW5YQXJnLCBfc2NyZWVuWUFyZywgX2NsaWVudFhBcmcsIF9jbGllbnRZQXJnLCBfY3RybEtleUFyZywgX2FsdEtleUFyZywgX3NoaWZ0S2V5QXJnLCBfbWV0YUtleUFyZywgX2J1dHRvbkFyZywgX3JlbGF0ZWRUYXJnZXRBcmcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxufVxuXG5leHBvcnQgeyBGZWRlcmF0ZWRNb3VzZUV2ZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWRlcmF0ZWRNb3VzZUV2ZW50Lm1qcy5tYXBcbiIsImltcG9ydCB7IEZlZGVyYXRlZE1vdXNlRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZE1vdXNlRXZlbnQubWpzJztcblxuY2xhc3MgRmVkZXJhdGVkUG9pbnRlckV2ZW50IGV4dGVuZHMgRmVkZXJhdGVkTW91c2VFdmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gIH1cbiAgZ2V0Q29hbGVzY2VkRXZlbnRzKCkge1xuICAgIGlmICh0aGlzLnR5cGUgPT09IFwicG9pbnRlcm1vdmVcIiB8fCB0aGlzLnR5cGUgPT09IFwibW91c2Vtb3ZlXCIgfHwgdGhpcy50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XG4gICAgICByZXR1cm4gW3RoaXNdO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbiAgZ2V0UHJlZGljdGVkRXZlbnRzKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImdldFByZWRpY3RlZEV2ZW50cyBpcyBub3Qgc3VwcG9ydGVkIVwiKTtcbiAgfVxufVxuXG5leHBvcnQgeyBGZWRlcmF0ZWRQb2ludGVyRXZlbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlZGVyYXRlZFBvaW50ZXJFdmVudC5tanMubWFwXG4iLCJpbXBvcnQgeyBGZWRlcmF0ZWRNb3VzZUV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRNb3VzZUV2ZW50Lm1qcyc7XG5cbmNsYXNzIEZlZGVyYXRlZFdoZWVsRXZlbnQgZXh0ZW5kcyBGZWRlcmF0ZWRNb3VzZUV2ZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLkRPTV9ERUxUQV9MSU5FID0gMDtcbiAgICB0aGlzLkRPTV9ERUxUQV9QQUdFID0gMTtcbiAgICB0aGlzLkRPTV9ERUxUQV9QSVhFTCA9IDI7XG4gIH1cbn1cblxuZXhwb3J0IHsgRmVkZXJhdGVkV2hlZWxFdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkV2hlZWxFdmVudC5tanMubWFwXG4iLCJleHBvcnQgeyBFdmVudEJvdW5kYXJ5IH0gZnJvbSAnLi9FdmVudEJvdW5kYXJ5Lm1qcyc7XG5leHBvcnQgeyBFdmVudFN5c3RlbSB9IGZyb20gJy4vRXZlbnRTeXN0ZW0ubWpzJztcbmV4cG9ydCB7IEZlZGVyYXRlZEV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRFdmVudC5tanMnO1xuaW1wb3J0ICcuL0ZlZGVyYXRlZEV2ZW50TWFwLm1qcyc7XG5leHBvcnQgeyBGZWRlcmF0ZWREaXNwbGF5T2JqZWN0IH0gZnJvbSAnLi9GZWRlcmF0ZWRFdmVudFRhcmdldC5tanMnO1xuZXhwb3J0IHsgRmVkZXJhdGVkTW91c2VFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkTW91c2VFdmVudC5tanMnO1xuZXhwb3J0IHsgRmVkZXJhdGVkUG9pbnRlckV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRQb2ludGVyRXZlbnQubWpzJztcbmV4cG9ydCB7IEZlZGVyYXRlZFdoZWVsRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZFdoZWVsRXZlbnQubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsInZhciBFeHRlbnNpb25UeXBlID0gLyogQF9fUFVSRV9fICovICgoRXh0ZW5zaW9uVHlwZTIpID0+IHtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJSZW5kZXJlclwiXSA9IFwicmVuZGVyZXJcIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJBcHBsaWNhdGlvblwiXSA9IFwiYXBwbGljYXRpb25cIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJSZW5kZXJlclN5c3RlbVwiXSA9IFwicmVuZGVyZXItd2ViZ2wtc3lzdGVtXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiUmVuZGVyZXJQbHVnaW5cIl0gPSBcInJlbmRlcmVyLXdlYmdsLXBsdWdpblwiO1xuICBFeHRlbnNpb25UeXBlMltcIkNhbnZhc1JlbmRlcmVyU3lzdGVtXCJdID0gXCJyZW5kZXJlci1jYW52YXMtc3lzdGVtXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiQ2FudmFzUmVuZGVyZXJQbHVnaW5cIl0gPSBcInJlbmRlcmVyLWNhbnZhcy1wbHVnaW5cIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJBc3NldFwiXSA9IFwiYXNzZXRcIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJMb2FkUGFyc2VyXCJdID0gXCJsb2FkLXBhcnNlclwiO1xuICBFeHRlbnNpb25UeXBlMltcIlJlc29sdmVQYXJzZXJcIl0gPSBcInJlc29sdmUtcGFyc2VyXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiQ2FjaGVQYXJzZXJcIl0gPSBcImNhY2hlLXBhcnNlclwiO1xuICBFeHRlbnNpb25UeXBlMltcIkRldGVjdGlvblBhcnNlclwiXSA9IFwiZGV0ZWN0aW9uLXBhcnNlclwiO1xuICByZXR1cm4gRXh0ZW5zaW9uVHlwZTI7XG59KShFeHRlbnNpb25UeXBlIHx8IHt9KTtcbmNvbnN0IG5vcm1hbGl6ZUV4dGVuc2lvbiA9IChleHQpID0+IHtcbiAgaWYgKHR5cGVvZiBleHQgPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgZXh0ID09PSBcIm9iamVjdFwiICYmIGV4dC5leHRlbnNpb24pIHtcbiAgICBpZiAoIWV4dC5leHRlbnNpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4dGVuc2lvbiBjbGFzcyBtdXN0IGhhdmUgYW4gZXh0ZW5zaW9uIG9iamVjdFwiKTtcbiAgICB9XG4gICAgY29uc3QgbWV0YWRhdGEgPSB0eXBlb2YgZXh0LmV4dGVuc2lvbiAhPT0gXCJvYmplY3RcIiA/IHsgdHlwZTogZXh0LmV4dGVuc2lvbiB9IDogZXh0LmV4dGVuc2lvbjtcbiAgICBleHQgPSB7IC4uLm1ldGFkYXRhLCByZWY6IGV4dCB9O1xuICB9XG4gIGlmICh0eXBlb2YgZXh0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgZXh0ID0geyAuLi5leHQgfTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGV4dGVuc2lvbiB0eXBlXCIpO1xuICB9XG4gIGlmICh0eXBlb2YgZXh0LnR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICBleHQudHlwZSA9IFtleHQudHlwZV07XG4gIH1cbiAgcmV0dXJuIGV4dDtcbn07XG5jb25zdCBub3JtYWxpemVQcmlvcml0eSA9IChleHQsIGRlZmF1bHRQcmlvcml0eSkgPT4gbm9ybWFsaXplRXh0ZW5zaW9uKGV4dCkucHJpb3JpdHkgPz8gZGVmYXVsdFByaW9yaXR5O1xuY29uc3QgZXh0ZW5zaW9ucyA9IHtcbiAgX2FkZEhhbmRsZXJzOiB7fSxcbiAgX3JlbW92ZUhhbmRsZXJzOiB7fSxcbiAgX3F1ZXVlOiB7fSxcbiAgcmVtb3ZlKC4uLmV4dGVuc2lvbnMyKSB7XG4gICAgZXh0ZW5zaW9uczIubWFwKG5vcm1hbGl6ZUV4dGVuc2lvbikuZm9yRWFjaCgoZXh0KSA9PiB7XG4gICAgICBleHQudHlwZS5mb3JFYWNoKCh0eXBlKSA9PiB0aGlzLl9yZW1vdmVIYW5kbGVyc1t0eXBlXT8uKGV4dCkpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGQoLi4uZXh0ZW5zaW9uczIpIHtcbiAgICBleHRlbnNpb25zMi5tYXAobm9ybWFsaXplRXh0ZW5zaW9uKS5mb3JFYWNoKChleHQpID0+IHtcbiAgICAgIGV4dC50eXBlLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLl9hZGRIYW5kbGVycztcbiAgICAgICAgY29uc3QgcXVldWUgPSB0aGlzLl9xdWV1ZTtcbiAgICAgICAgaWYgKCFoYW5kbGVyc1t0eXBlXSkge1xuICAgICAgICAgIHF1ZXVlW3R5cGVdID0gcXVldWVbdHlwZV0gfHwgW107XG4gICAgICAgICAgcXVldWVbdHlwZV0ucHVzaChleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZXJzW3R5cGVdKGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBoYW5kbGUodHlwZSwgb25BZGQsIG9uUmVtb3ZlKSB7XG4gICAgY29uc3QgYWRkSGFuZGxlcnMgPSB0aGlzLl9hZGRIYW5kbGVycztcbiAgICBjb25zdCByZW1vdmVIYW5kbGVycyA9IHRoaXMuX3JlbW92ZUhhbmRsZXJzO1xuICAgIGlmIChhZGRIYW5kbGVyc1t0eXBlXSB8fCByZW1vdmVIYW5kbGVyc1t0eXBlXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHRlbnNpb24gdHlwZSAke3R5cGV9IGFscmVhZHkgaGFzIGEgaGFuZGxlcmApO1xuICAgIH1cbiAgICBhZGRIYW5kbGVyc1t0eXBlXSA9IG9uQWRkO1xuICAgIHJlbW92ZUhhbmRsZXJzW3R5cGVdID0gb25SZW1vdmU7XG4gICAgY29uc3QgcXVldWUgPSB0aGlzLl9xdWV1ZTtcbiAgICBpZiAocXVldWVbdHlwZV0pIHtcbiAgICAgIHF1ZXVlW3R5cGVdLmZvckVhY2goKGV4dCkgPT4gb25BZGQoZXh0KSk7XG4gICAgICBkZWxldGUgcXVldWVbdHlwZV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBoYW5kbGVCeU1hcCh0eXBlLCBtYXApIHtcbiAgICByZXR1cm4gdGhpcy5oYW5kbGUodHlwZSwgKGV4dGVuc2lvbikgPT4ge1xuICAgICAgbWFwW2V4dGVuc2lvbi5uYW1lXSA9IGV4dGVuc2lvbi5yZWY7XG4gICAgfSwgKGV4dGVuc2lvbikgPT4ge1xuICAgICAgZGVsZXRlIG1hcFtleHRlbnNpb24ubmFtZV07XG4gICAgfSk7XG4gIH0sXG4gIGhhbmRsZUJ5TGlzdCh0eXBlLCBsaXN0LCBkZWZhdWx0UHJpb3JpdHkgPSAtMSkge1xuICAgIHJldHVybiB0aGlzLmhhbmRsZSh0eXBlLCAoZXh0ZW5zaW9uKSA9PiB7XG4gICAgICBpZiAobGlzdC5pbmNsdWRlcyhleHRlbnNpb24ucmVmKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goZXh0ZW5zaW9uLnJlZik7XG4gICAgICBsaXN0LnNvcnQoKGEsIGIpID0+IG5vcm1hbGl6ZVByaW9yaXR5KGIsIGRlZmF1bHRQcmlvcml0eSkgLSBub3JtYWxpemVQcmlvcml0eShhLCBkZWZhdWx0UHJpb3JpdHkpKTtcbiAgICB9LCAoZXh0ZW5zaW9uKSA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IGxpc3QuaW5kZXhPZihleHRlbnNpb24ucmVmKTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBSZWN0YW5nbGUsIFJlbmRlclRleHR1cmUsIHV0aWxzLCBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNvbnN0IFRFTVBfUkVDVCA9IG5ldyBSZWN0YW5nbGUoKTtcbmNvbnN0IEJZVEVTX1BFUl9QSVhFTCA9IDQ7XG5jb25zdCBfRXh0cmFjdCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgYXN5bmMgaW1hZ2UodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpIHtcbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLnNyYyA9IGF3YWl0IHRoaXMuYmFzZTY0KHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KTtcbiAgICByZXR1cm4gaW1hZ2U7XG4gIH1cbiAgYXN5bmMgYmFzZTY0KHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXModGFyZ2V0KTtcbiAgICBpZiAoY2FudmFzLnRvRGF0YVVSTCAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH1cbiAgICBpZiAoY2FudmFzLmNvbnZlcnRUb0Jsb2IgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGNhbnZhcy5jb252ZXJ0VG9CbG9iKHsgdHlwZTogZm9ybWF0LCBxdWFsaXR5IH0pO1xuICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHRyYWN0LmJhc2U2NCgpIHJlcXVpcmVzIElDYW52YXMudG9EYXRhVVJMIG9yIElDYW52YXMuY29udmVydFRvQmxvYiB0byBiZSBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICBjYW52YXModGFyZ2V0LCBmcmFtZSkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBsZXQgcmVzb2x1dGlvbjtcbiAgICBsZXQgZmxpcFkgPSBmYWxzZTtcbiAgICBsZXQgcmVuZGVyVGV4dHVyZTtcbiAgICBsZXQgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgIGZyYW1lID0gZnJhbWUgPz8gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgIGZsaXBZID0gZmFsc2U7XG4gICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgaWYgKCFmcmFtZSkge1xuICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgZnJhbWUud2lkdGggPSByZW5kZXJlci53aWR0aDtcbiAgICAgICAgZnJhbWUuaGVpZ2h0ID0gcmVuZGVyZXIuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgZmxpcFkgPSB0cnVlO1xuICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgIH1cbiAgICBjb25zdCB3aWR0aCA9IE1hdGgucm91bmQoZnJhbWUud2lkdGggKiByZXNvbHV0aW9uKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLnJvdW5kKGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24pO1xuICAgIGxldCBjYW52YXNCdWZmZXIgPSBuZXcgdXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIDEpO1xuICAgIGNvbnN0IHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgZ2wucmVhZFBpeGVscyhNYXRoLnJvdW5kKGZyYW1lLnggKiByZXNvbHV0aW9uKSwgTWF0aC5yb3VuZChmcmFtZS55ICogcmVzb2x1dGlvbiksIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHdlYmdsUGl4ZWxzKTtcbiAgICBjb25zdCBjYW52YXNEYXRhID0gY2FudmFzQnVmZmVyLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIF9FeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgY2FudmFzRGF0YS5kYXRhKTtcbiAgICBjYW52YXNCdWZmZXIuY29udGV4dC5wdXRJbWFnZURhdGEoY2FudmFzRGF0YSwgMCwgMCk7XG4gICAgaWYgKGZsaXBZKSB7XG4gICAgICBjb25zdCB0YXJnZXQyID0gbmV3IHV0aWxzLkNhbnZhc1JlbmRlclRhcmdldChjYW52YXNCdWZmZXIud2lkdGgsIGNhbnZhc0J1ZmZlci5oZWlnaHQsIDEpO1xuICAgICAgdGFyZ2V0Mi5jb250ZXh0LnNjYWxlKDEsIC0xKTtcbiAgICAgIHRhcmdldDIuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgICBjYW52YXNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgY2FudmFzQnVmZmVyID0gdGFyZ2V0MjtcbiAgICB9XG4gICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbiAgfVxuICBwaXhlbHModGFyZ2V0LCBmcmFtZSkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBsZXQgcmVzb2x1dGlvbjtcbiAgICBsZXQgcmVuZGVyVGV4dHVyZTtcbiAgICBsZXQgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgIGZyYW1lID0gZnJhbWUgPz8gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICBpZiAoIWZyYW1lKSB7XG4gICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICBmcmFtZS53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG4gICAgICB9XG4gICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5yb3VuZChmcmFtZS53aWR0aCAqIHJlc29sdXRpb24pO1xuICAgIGNvbnN0IGhlaWdodCA9IE1hdGgucm91bmQoZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbik7XG4gICAgY29uc3Qgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG4gICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcbiAgICBnbC5yZWFkUGl4ZWxzKE1hdGgucm91bmQoZnJhbWUueCAqIHJlc29sdXRpb24pLCBNYXRoLnJvdW5kKGZyYW1lLnkgKiByZXNvbHV0aW9uKSwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB9XG4gICAgX0V4dHJhY3QuYXJyYXlQb3N0RGl2aWRlKHdlYmdsUGl4ZWxzLCB3ZWJnbFBpeGVscyk7XG4gICAgcmV0dXJuIHdlYmdsUGl4ZWxzO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbiAgc3RhdGljIGFycmF5UG9zdERpdmlkZShwaXhlbHMsIG91dCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGl4ZWxzLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICBjb25zdCBhbHBoYSA9IG91dFtpICsgM10gPSBwaXhlbHNbaSArIDNdO1xuICAgICAgaWYgKGFscGhhICE9PSAwKSB7XG4gICAgICAgIG91dFtpXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2ldICogMjU1IC8gYWxwaGEsIDI1NSkpO1xuICAgICAgICBvdXRbaSArIDFdID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaSArIDFdICogMjU1IC8gYWxwaGEsIDI1NSkpO1xuICAgICAgICBvdXRbaSArIDJdID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaSArIDJdICogMjU1IC8gYWxwaGEsIDI1NSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0W2ldID0gcGl4ZWxzW2ldO1xuICAgICAgICBvdXRbaSArIDFdID0gcGl4ZWxzW2kgKyAxXTtcbiAgICAgICAgb3V0W2kgKyAyXSA9IHBpeGVsc1tpICsgMl07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xubGV0IEV4dHJhY3QgPSBfRXh0cmFjdDtcbkV4dHJhY3QuZXh0ZW5zaW9uID0ge1xuICBuYW1lOiBcImV4dHJhY3RcIixcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclN5c3RlbVxufTtcbmV4dGVuc2lvbnMuYWRkKEV4dHJhY3QpO1xuXG5leHBvcnQgeyBFeHRyYWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeHRyYWN0Lm1qcy5tYXBcbiIsImV4cG9ydCB7IEV4dHJhY3QgfSBmcm9tICcuL0V4dHJhY3QubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IEZpbHRlciwgZGVmYXVsdFZlcnRleCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vYWxwaGEubWpzJztcblxuY2xhc3MgQWxwaGFGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICBjb25zdHJ1Y3RvcihhbHBoYSA9IDEpIHtcbiAgICBzdXBlcihkZWZhdWx0VmVydGV4LCBmcmFnbWVudCwgeyB1QWxwaGE6IDEgfSk7XG4gICAgdGhpcy5hbHBoYSA9IGFscGhhO1xuICB9XG4gIGdldCBhbHBoYSgpIHtcbiAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gIH1cbiAgc2V0IGFscGhhKHZhbHVlKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBBbHBoYUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWxwaGFGaWx0ZXIubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVBbHBoYTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFscGhhLm1qcy5tYXBcbiIsImV4cG9ydCB7IEFscGhhRmlsdGVyIH0gZnJvbSAnLi9BbHBoYUZpbHRlci5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmlsdGVyLCBzZXR0aW5ncywgQ0xFQVJfTU9ERVMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEJsdXJGaWx0ZXJQYXNzIH0gZnJvbSAnLi9CbHVyRmlsdGVyUGFzcy5tanMnO1xuXG5jbGFzcyBCbHVyRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgY29uc3RydWN0b3Ioc3RyZW5ndGggPSA4LCBxdWFsaXR5ID0gNCwgcmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OLCBrZXJuZWxTaXplID0gNSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyh0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgdGhpcy5ibHVyWUZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyhmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgdGhpcy5xdWFsaXR5ID0gcXVhbGl0eTtcbiAgICB0aGlzLmJsdXIgPSBzdHJlbmd0aDtcbiAgICB0aGlzLnJlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgfVxuICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICBjb25zdCB4U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKTtcbiAgICBjb25zdCB5U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKTtcbiAgICBpZiAoeFN0cmVuZ3RoICYmIHlTdHJlbmd0aCkge1xuICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIENMRUFSX01PREVTLkNMRUFSKTtcbiAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgcmVuZGVyVGFyZ2V0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICB9IGVsc2UgaWYgKHlTdHJlbmd0aCkge1xuICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVBhZGRpbmcoKSB7XG4gICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpIHtcbiAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgIH1cbiAgfVxuICBnZXQgYmx1cigpIHtcbiAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICB9XG4gIHNldCBibHVyKHZhbHVlKSB7XG4gICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gIH1cbiAgZ2V0IHF1YWxpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgfVxuICBzZXQgcXVhbGl0eSh2YWx1ZSkge1xuICAgIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eSA9IHRoaXMuYmx1cllGaWx0ZXIucXVhbGl0eSA9IHZhbHVlO1xuICB9XG4gIGdldCBibHVyWCgpIHtcbiAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICB9XG4gIHNldCBibHVyWCh2YWx1ZSkge1xuICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICB9XG4gIGdldCBibHVyWSgpIHtcbiAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyO1xuICB9XG4gIHNldCBibHVyWSh2YWx1ZSkge1xuICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlO1xuICB9XG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZSA9IHZhbHVlO1xuICB9XG4gIGdldCByZXBlYXRFZGdlUGl4ZWxzKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzO1xuICB9XG4gIHNldCByZXBlYXRFZGdlUGl4ZWxzKHZhbHVlKSB7XG4gICAgdGhpcy5fcmVwZWF0RWRnZVBpeGVscyA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICB9XG59XG5cbmV4cG9ydCB7IEJsdXJGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJGaWx0ZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmlsdGVyLCBzZXR0aW5ncywgQ0xFQVJfTU9ERVMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGdlbmVyYXRlQmx1clZlcnRTb3VyY2UgfSBmcm9tICcuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlQmx1ckZyYWdTb3VyY2UgfSBmcm9tICcuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UubWpzJztcblxuY2xhc3MgQmx1ckZpbHRlclBhc3MgZXh0ZW5kcyBGaWx0ZXIge1xuICBjb25zdHJ1Y3Rvcihob3Jpem9udGFsLCBzdHJlbmd0aCA9IDgsIHF1YWxpdHkgPSA0LCByZXNvbHV0aW9uID0gc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT04sIGtlcm5lbFNpemUgPSA1KSB7XG4gICAgY29uc3QgdmVydFNyYyA9IGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgaG9yaXpvbnRhbCk7XG4gICAgY29uc3QgZnJhZ1NyYyA9IGdlbmVyYXRlQmx1ckZyYWdTb3VyY2Uoa2VybmVsU2l6ZSk7XG4gICAgc3VwZXIodmVydFNyYywgZnJhZ1NyYyk7XG4gICAgdGhpcy5ob3Jpem9udGFsID0gaG9yaXpvbnRhbDtcbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIHRoaXMuX3F1YWxpdHkgPSAwO1xuICAgIHRoaXMucXVhbGl0eSA9IHF1YWxpdHk7XG4gICAgdGhpcy5ibHVyID0gc3RyZW5ndGg7XG4gIH1cbiAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgaWYgKG91dHB1dCkge1xuICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIG91dHB1dC53aWR0aCAqIChvdXRwdXQud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIG91dHB1dC5oZWlnaHQgKiAob3V0cHV0LmhlaWdodCAvIGlucHV0LmhlaWdodCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9IDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLndpZHRoICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0ICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAqPSB0aGlzLnN0cmVuZ3RoO1xuICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG4gICAgaWYgKHRoaXMucGFzc2VzID09PSAxKSB7XG4gICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgY29uc3QgcmVuZGVyZXIgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyO1xuICAgICAgbGV0IGZsaXAgPSBpbnB1dDtcbiAgICAgIGxldCBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IGZhbHNlO1xuICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCBDTEVBUl9NT0RFUy5DTEVBUik7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgIGZpbHRlck1hbmFnZXIuYmluZEFuZENsZWFyKGZsaXAsIENMRUFSX01PREVTLkJMSVQpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gZmxvcDtcbiAgICAgICAgY29uc3QgdGVtcCA9IGZsb3A7XG4gICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICBmbGlwID0gdGVtcDtcbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoNSk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxvcCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgfVxuICB9XG4gIGdldCBibHVyKCkge1xuICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICB9XG4gIHNldCBibHVyKHZhbHVlKSB7XG4gICAgdGhpcy5wYWRkaW5nID0gMSArIE1hdGguYWJzKHZhbHVlKSAqIDI7XG4gICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICB9XG4gIGdldCBxdWFsaXR5KCkge1xuICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICB9XG4gIHNldCBxdWFsaXR5KHZhbHVlKSB7XG4gICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmx1ckZpbHRlclBhc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJGaWx0ZXJQYXNzLm1qcy5tYXBcbiIsImNvbnN0IEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgNTogWzAuMTUzMzg4LCAwLjIyMTQ2MSwgMC4yNTAzMDFdLFxuICA3OiBbMC4wNzEzMDMsIDAuMTMxNTE0LCAwLjE4OTg3OSwgMC4yMTQ2MDddLFxuICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAxMTogWzkzZS00LCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAxMzogWzI0MDZlLTYsIDkyNTVlLTYsIDAuMDI3ODY3LCAwLjA2NTY2NiwgMC4xMjExMTcsIDAuMTc0ODY4LCAwLjE5NzY0MV0sXG4gIDE1OiBbNDg5ZS02LCAyNDAzZS02LCA5MjQ2ZS02LCAwLjAyNzg0LCAwLjA2NTYwMiwgMC4xMjA5OTksIDAuMTc0Njk3LCAwLjE5NzQ0OF1cbn07XG5jb25zdCBmcmFnVGVtcGxhdGUgPSBbXG4gIFwidmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07XCIsXG4gIFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXG4gIFwidm9pZCBtYWluKHZvaWQpXCIsXG4gIFwie1wiLFxuICBcIiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7XCIsXG4gIFwiICAgICVibHVyJVwiLFxuICBcIn1cIlxuXS5qb2luKFwiXFxuXCIpO1xuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKSB7XG4gIGNvbnN0IGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgY29uc3QgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG4gIGxldCBmcmFnU291cmNlID0gZnJhZ1RlbXBsYXRlO1xuICBsZXQgYmx1ckxvb3AgPSBcIlwiO1xuICBjb25zdCB0ZW1wbGF0ZSA9IFwiZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdkJsdXJUZXhDb29yZHNbJWluZGV4JV0pICogJXZhbHVlJTtcIjtcbiAgbGV0IHZhbHVlO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgIGxldCBibHVyID0gdGVtcGxhdGUucmVwbGFjZShcIiVpbmRleCVcIiwgaS50b1N0cmluZygpKTtcbiAgICB2YWx1ZSA9IGk7XG4gICAgaWYgKGkgPj0gaGFsZkxlbmd0aCkge1xuICAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgfVxuICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoXCIldmFsdWUlXCIsIGtlcm5lbFt2YWx1ZV0udG9TdHJpbmcoKSk7XG4gICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICBibHVyTG9vcCArPSBcIlxcblwiO1xuICB9XG4gIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoXCIlYmx1ciVcIiwgYmx1ckxvb3ApO1xuICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKFwiJXNpemUlXCIsIGtlcm5lbFNpemUudG9TdHJpbmcoKSk7XG4gIHJldHVybiBmcmFnU291cmNlO1xufVxuXG5leHBvcnQgeyBnZW5lcmF0ZUJsdXJGcmFnU291cmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZUJsdXJGcmFnU291cmNlLm1qcy5tYXBcbiIsImNvbnN0IHZlcnRUZW1wbGF0ZSA9IGBcbiAgICBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XG5cbiAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcblxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XG5cbiAgICB2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTtcblxuICAgIHVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XG4gICAgdW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xuXG4gICAgdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gICAge1xuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcblxuICAgICAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG4gICAgfVxuXG4gICAgdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKHZvaWQpXG4gICAge1xuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XG5cbiAgICAgICAgdmVjMiB0ZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcbiAgICAgICAgJWJsdXIlXG4gICAgfWA7XG5mdW5jdGlvbiBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIHgpIHtcbiAgY29uc3QgaGFsZkxlbmd0aCA9IE1hdGguY2VpbChrZXJuZWxTaXplIC8gMik7XG4gIGxldCB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuICBsZXQgYmx1ckxvb3AgPSBcIlwiO1xuICBsZXQgdGVtcGxhdGU7XG4gIGlmICh4KSB7XG4gICAgdGVtcGxhdGUgPSBcInZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoLCAwLjApO1wiO1xuICB9IGVsc2Uge1xuICAgIHRlbXBsYXRlID0gXCJ2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKDAuMCwgJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoKTtcIjtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgIGxldCBibHVyID0gdGVtcGxhdGUucmVwbGFjZShcIiVpbmRleCVcIiwgaS50b1N0cmluZygpKTtcbiAgICBibHVyID0gYmx1ci5yZXBsYWNlKFwiJXNhbXBsZUluZGV4JVwiLCBgJHtpIC0gKGhhbGZMZW5ndGggLSAxKX0uMGApO1xuICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgYmx1ckxvb3AgKz0gXCJcXG5cIjtcbiAgfVxuICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKFwiJWJsdXIlXCIsIGJsdXJMb29wKTtcbiAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZShcIiVzaXplJVwiLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuICByZXR1cm4gdmVydFNvdXJjZTtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVCbHVyVmVydFNvdXJjZS5tanMubWFwXG4iLCJleHBvcnQgeyBCbHVyRmlsdGVyIH0gZnJvbSAnLi9CbHVyRmlsdGVyLm1qcyc7XG5leHBvcnQgeyBCbHVyRmlsdGVyUGFzcyB9IGZyb20gJy4vQmx1ckZpbHRlclBhc3MubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IEZpbHRlciwgZGVmYXVsdEZpbHRlclZlcnRleCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vY29sb3JNYXRyaXgubWpzJztcblxuY2xhc3MgQ29sb3JNYXRyaXhGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCB1bmlmb3JtcyA9IHtcbiAgICAgIG06IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwXG4gICAgICBdKSxcbiAgICAgIHVBbHBoYTogMVxuICAgIH07XG4gICAgc3VwZXIoZGVmYXVsdEZpbHRlclZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcbiAgICB0aGlzLmFscGhhID0gMTtcbiAgfVxuICBfbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5ID0gZmFsc2UpIHtcbiAgICBsZXQgbmV3TWF0cml4ID0gbWF0cml4O1xuICAgIGlmIChtdWx0aXBseSkge1xuICAgICAgdGhpcy5fbXVsdGlwbHkobmV3TWF0cml4LCB0aGlzLnVuaWZvcm1zLm0sIG1hdHJpeCk7XG4gICAgICBuZXdNYXRyaXggPSB0aGlzLl9jb2xvck1hdHJpeChuZXdNYXRyaXgpO1xuICAgIH1cbiAgICB0aGlzLnVuaWZvcm1zLm0gPSBuZXdNYXRyaXg7XG4gIH1cbiAgX211bHRpcGx5KG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbNV0gKyBhWzJdICogYlsxMF0gKyBhWzNdICogYlsxNV07XG4gICAgb3V0WzFdID0gYVswXSAqIGJbMV0gKyBhWzFdICogYls2XSArIGFbMl0gKiBiWzExXSArIGFbM10gKiBiWzE2XTtcbiAgICBvdXRbMl0gPSBhWzBdICogYlsyXSArIGFbMV0gKiBiWzddICsgYVsyXSAqIGJbMTJdICsgYVszXSAqIGJbMTddO1xuICAgIG91dFszXSA9IGFbMF0gKiBiWzNdICsgYVsxXSAqIGJbOF0gKyBhWzJdICogYlsxM10gKyBhWzNdICogYlsxOF07XG4gICAgb3V0WzRdID0gYVswXSAqIGJbNF0gKyBhWzFdICogYls5XSArIGFbMl0gKiBiWzE0XSArIGFbM10gKiBiWzE5XSArIGFbNF07XG4gICAgb3V0WzVdID0gYVs1XSAqIGJbMF0gKyBhWzZdICogYls1XSArIGFbN10gKiBiWzEwXSArIGFbOF0gKiBiWzE1XTtcbiAgICBvdXRbNl0gPSBhWzVdICogYlsxXSArIGFbNl0gKiBiWzZdICsgYVs3XSAqIGJbMTFdICsgYVs4XSAqIGJbMTZdO1xuICAgIG91dFs3XSA9IGFbNV0gKiBiWzJdICsgYVs2XSAqIGJbN10gKyBhWzddICogYlsxMl0gKyBhWzhdICogYlsxN107XG4gICAgb3V0WzhdID0gYVs1XSAqIGJbM10gKyBhWzZdICogYls4XSArIGFbN10gKiBiWzEzXSArIGFbOF0gKiBiWzE4XTtcbiAgICBvdXRbOV0gPSBhWzVdICogYls0XSArIGFbNl0gKiBiWzldICsgYVs3XSAqIGJbMTRdICsgYVs4XSAqIGJbMTldICsgYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF0gKiBiWzBdICsgYVsxMV0gKiBiWzVdICsgYVsxMl0gKiBiWzEwXSArIGFbMTNdICogYlsxNV07XG4gICAgb3V0WzExXSA9IGFbMTBdICogYlsxXSArIGFbMTFdICogYls2XSArIGFbMTJdICogYlsxMV0gKyBhWzEzXSAqIGJbMTZdO1xuICAgIG91dFsxMl0gPSBhWzEwXSAqIGJbMl0gKyBhWzExXSAqIGJbN10gKyBhWzEyXSAqIGJbMTJdICsgYVsxM10gKiBiWzE3XTtcbiAgICBvdXRbMTNdID0gYVsxMF0gKiBiWzNdICsgYVsxMV0gKiBiWzhdICsgYVsxMl0gKiBiWzEzXSArIGFbMTNdICogYlsxOF07XG4gICAgb3V0WzE0XSA9IGFbMTBdICogYls0XSArIGFbMTFdICogYls5XSArIGFbMTJdICogYlsxNF0gKyBhWzEzXSAqIGJbMTldICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdICogYlswXSArIGFbMTZdICogYls1XSArIGFbMTddICogYlsxMF0gKyBhWzE4XSAqIGJbMTVdO1xuICAgIG91dFsxNl0gPSBhWzE1XSAqIGJbMV0gKyBhWzE2XSAqIGJbNl0gKyBhWzE3XSAqIGJbMTFdICsgYVsxOF0gKiBiWzE2XTtcbiAgICBvdXRbMTddID0gYVsxNV0gKiBiWzJdICsgYVsxNl0gKiBiWzddICsgYVsxN10gKiBiWzEyXSArIGFbMThdICogYlsxN107XG4gICAgb3V0WzE4XSA9IGFbMTVdICogYlszXSArIGFbMTZdICogYls4XSArIGFbMTddICogYlsxM10gKyBhWzE4XSAqIGJbMThdO1xuICAgIG91dFsxOV0gPSBhWzE1XSAqIGJbNF0gKyBhWzE2XSAqIGJbOV0gKyBhWzE3XSAqIGJbMTRdICsgYVsxOF0gKiBiWzE5XSArIGFbMTldO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgX2NvbG9yTWF0cml4KG1hdHJpeCkge1xuICAgIGNvbnN0IG0gPSBuZXcgRmxvYXQzMkFycmF5KG1hdHJpeCk7XG4gICAgbVs0XSAvPSAyNTU7XG4gICAgbVs5XSAvPSAyNTU7XG4gICAgbVsxNF0gLz0gMjU1O1xuICAgIG1bMTldIC89IDI1NTtcbiAgICByZXR1cm4gbTtcbiAgfVxuICBicmlnaHRuZXNzKGIsIG11bHRpcGx5KSB7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgYixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgYixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgYixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgdGludChjb2xvciwgbXVsdGlwbHkpIHtcbiAgICBjb25zdCByID0gY29sb3IgPj4gMTYgJiAyNTU7XG4gICAgY29uc3QgZyA9IGNvbG9yID4+IDggJiAyNTU7XG4gICAgY29uc3QgYiA9IGNvbG9yICYgMjU1O1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIHIgLyAyNTUsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGcgLyAyNTUsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGIgLyAyNTUsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIGdyZXlzY2FsZShzY2FsZSwgbXVsdGlwbHkpIHtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICBzY2FsZSxcbiAgICAgIHNjYWxlLFxuICAgICAgc2NhbGUsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIHNjYWxlLFxuICAgICAgc2NhbGUsXG4gICAgICBzY2FsZSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgc2NhbGUsXG4gICAgICBzY2FsZSxcbiAgICAgIHNjYWxlLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICBibGFja0FuZFdoaXRlKG11bHRpcGx5KSB7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgMC4zLFxuICAgICAgMC42LFxuICAgICAgMC4xLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLjMsXG4gICAgICAwLjYsXG4gICAgICAwLjEsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAuMyxcbiAgICAgIDAuNixcbiAgICAgIDAuMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgaHVlKHJvdGF0aW9uLCBtdWx0aXBseSkge1xuICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcbiAgICBjb25zdCBjb3NSID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgIGNvbnN0IHNpblIgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgY29uc3Qgc3FydCA9IE1hdGguc3FydDtcbiAgICBjb25zdCB3ID0gMSAvIDM7XG4gICAgY29uc3Qgc3FyVyA9IHNxcnQodyk7XG4gICAgY29uc3QgYTAwID0gY29zUiArICgxIC0gY29zUikgKiB3O1xuICAgIGNvbnN0IGEwMSA9IHcgKiAoMSAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgY29uc3QgYTAyID0gdyAqICgxIC0gY29zUikgKyBzcXJXICogc2luUjtcbiAgICBjb25zdCBhMTAgPSB3ICogKDEgLSBjb3NSKSArIHNxclcgKiBzaW5SO1xuICAgIGNvbnN0IGExMSA9IGNvc1IgKyB3ICogKDEgLSBjb3NSKTtcbiAgICBjb25zdCBhMTIgPSB3ICogKDEgLSBjb3NSKSAtIHNxclcgKiBzaW5SO1xuICAgIGNvbnN0IGEyMCA9IHcgKiAoMSAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgY29uc3QgYTIxID0gdyAqICgxIC0gY29zUikgKyBzcXJXICogc2luUjtcbiAgICBjb25zdCBhMjIgPSBjb3NSICsgdyAqICgxIC0gY29zUik7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgYTAwLFxuICAgICAgYTAxLFxuICAgICAgYTAyLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBhMTAsXG4gICAgICBhMTEsXG4gICAgICBhMTIsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGEyMCxcbiAgICAgIGEyMSxcbiAgICAgIGEyMixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgY29udHJhc3QoYW1vdW50LCBtdWx0aXBseSkge1xuICAgIGNvbnN0IHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICBjb25zdCBvID0gLTAuNSAqICh2IC0gMSk7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgdixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIG8sXG4gICAgICAwLFxuICAgICAgdixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgbyxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgdixcbiAgICAgIDAsXG4gICAgICBvLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgc2F0dXJhdGUoYW1vdW50ID0gMCwgbXVsdGlwbHkpIHtcbiAgICBjb25zdCB4ID0gYW1vdW50ICogMiAvIDMgKyAxO1xuICAgIGNvbnN0IHkgPSAoeCAtIDEpICogLTAuNTtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHksXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIHksXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgeSxcbiAgICAgIHksXG4gICAgICB4LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICBkZXNhdHVyYXRlKCkge1xuICAgIHRoaXMuc2F0dXJhdGUoLTEpO1xuICB9XG4gIG5lZ2F0aXZlKG11bHRpcGx5KSB7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgLTEsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIC0xLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAtMSxcbiAgICAgIDEsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgc2VwaWEobXVsdGlwbHkpIHtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAwLjM5MyxcbiAgICAgIDAuNzY4OTk5OSxcbiAgICAgIDAuMTg4OTk5OTksXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAuMzQ5LFxuICAgICAgMC42ODU5OTk5LFxuICAgICAgMC4xNjc5OTk5OSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMC4yNzIsXG4gICAgICAwLjUzMzk5OTksXG4gICAgICAwLjEzMDk5OTk5LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICB0ZWNobmljb2xvcihtdWx0aXBseSkge1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIDEuOTEyNTI3Nzg5MTQ1NjA4MyxcbiAgICAgIC0wLjg1NDUzNDQ5NzY5NTE2NDUsXG4gICAgICAtMC4wOTE1NTUwODQ4Mjc1NTU4NSxcbiAgICAgIDAsXG4gICAgICAxMS43OTM2MDM0MzQzNzczMzcsXG4gICAgICAtMC4zMDg3ODMzMzg1OTI4MDk3LFxuICAgICAgMS43NjU4OTA4NTU1NDU4NDI4LFxuICAgICAgLTAuMTA2MDE3NDMwNzQ3MjIyNDUsXG4gICAgICAwLFxuICAgICAgLTcwLjM1MjA1MTYxNDYxMzk4LFxuICAgICAgLTAuMjMxMTAzMzc3NTQ4NjE2LFxuICAgICAgLTAuNzUwMTg5OTE5NzQ0MDIxMixcbiAgICAgIDEuODQ3NTk3ODE2MTA4MTg5LFxuICAgICAgMCxcbiAgICAgIDMwLjk1MDk0MDg2OTQ5MTEzOCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIHBvbGFyb2lkKG11bHRpcGx5KSB7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgMS40MzgsXG4gICAgICAtMC4wNjIsXG4gICAgICAtMC4wNjIsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIC0wLjEyMixcbiAgICAgIDEuMzc4LFxuICAgICAgLTAuMTIyLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAtMC4wMTYsXG4gICAgICAtMC4wMTYsXG4gICAgICAxLjQ4MyxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgdG9CR1IobXVsdGlwbHkpIHtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICBrb2RhY2hyb21lKG11bHRpcGx5KSB7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgMS4xMjg1NTgyMzk2NTkzNTI1LFxuICAgICAgLTAuMzk2NzM4MjI4MzYwMTM0OCxcbiAgICAgIC0wLjAzOTkyNTU5MTcyOTIxNzkzLFxuICAgICAgMCxcbiAgICAgIDYzLjcyOTU4NzYyMTk2NTAyLFxuICAgICAgLTAuMTY0MDQzMzk5NjIyNDQ2MTYsXG4gICAgICAxLjA4MzUyNTE1NjYyOTEzMDQsXG4gICAgICAtMC4wNTQ5ODgwNTExNTYzMzEzMixcbiAgICAgIDAsXG4gICAgICAyNC43MzI0MDc4OTY3MDYyMDMsXG4gICAgICAtMC4xNjc4NjAxMDcwNjE1NTc2MyxcbiAgICAgIC0wLjU2MDM0MTYyNzc2OTUyNDgsXG4gICAgICAxLjYwMTQ4NTA3NjE5NjQ5NDMsXG4gICAgICAwLFxuICAgICAgMzUuNjI5ODI4MDc0NjA5NDYsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICBicm93bmkobXVsdGlwbHkpIHtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAwLjU5OTcwMjM0OTgxNTk3MTUsXG4gICAgICAwLjM0NTUzMjQzMDQ4MzkxMjYzLFxuICAgICAgLTAuMjcwODI5ODY3NDUzODA0MixcbiAgICAgIDAsXG4gICAgICA0Ny40MzE5Mjg1NTYwMDg3MyxcbiAgICAgIC0wLjAzNzcwMzI0OTgzNzc4MzE1NyxcbiAgICAgIDAuODYwOTU3NzU4Nzk5MjY0MSxcbiAgICAgIDAuMTUwNTk1NTIzODg0NTk5MTMsXG4gICAgICAwLFxuICAgICAgLTM2Ljk2ODQxNDk4MzE5MTI3LFxuICAgICAgMC4yNDExMzYzNTEyODE1MzMzNSxcbiAgICAgIC0wLjA3NDQxMDM3OTA4NDIyNDkyLFxuICAgICAgMC40NDk3MjE4MjA2NDg3NzE1MyxcbiAgICAgIDAsXG4gICAgICAtNy41NjIwNzUyNzc1OTEyODMsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICB2aW50YWdlKG11bHRpcGx5KSB7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgMC42Mjc5MzQ1NjM1NjA1OTk0LFxuICAgICAgMC4zMjAyMTgzNDIwODE5MzY3LFxuICAgICAgLTAuMDM5NjU0MDgyMTEzMTI0NTMsXG4gICAgICAwLFxuICAgICAgOS42NTEyODU4MzUyOTQxMjMsXG4gICAgICAwLjAyNTc4Mzk3NzA0ODA4ODY4LFxuICAgICAgMC42NDQxMTg4NjQ0Mzc0NzcxLFxuICAgICAgMC4wMzI1OTEyNzYxNjE0OTI5NCxcbiAgICAgIDAsXG4gICAgICA3LjQ2MjgyOTE3NjQ3MDU5MSxcbiAgICAgIDAuMDQ2NjA1NTU1Njc4MjcxOSxcbiAgICAgIC0wLjA4NTEyMzI5ODcyNDc4OTEsXG4gICAgICAwLjUyNDE2NDgwMTg3MDA0NjUsXG4gICAgICAwLFxuICAgICAgNS4xNTkxOTA1ODgyMzUyOTYsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMFxuICAgIF07XG4gICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgfVxuICBjb2xvclRvbmUoZGVzYXR1cmF0aW9uLCB0b25lZCwgbGlnaHRDb2xvciwgZGFya0NvbG9yLCBtdWx0aXBseSkge1xuICAgIGRlc2F0dXJhdGlvbiA9IGRlc2F0dXJhdGlvbiB8fCAwLjI7XG4gICAgdG9uZWQgPSB0b25lZCB8fCAwLjE1O1xuICAgIGxpZ2h0Q29sb3IgPSBsaWdodENvbG9yIHx8IDE2NzcwNDMyO1xuICAgIGRhcmtDb2xvciA9IGRhcmtDb2xvciB8fCAzMzc1MTA0O1xuICAgIGNvbnN0IGxSID0gKGxpZ2h0Q29sb3IgPj4gMTYgJiAyNTUpIC8gMjU1O1xuICAgIGNvbnN0IGxHID0gKGxpZ2h0Q29sb3IgPj4gOCAmIDI1NSkgLyAyNTU7XG4gICAgY29uc3QgbEIgPSAobGlnaHRDb2xvciAmIDI1NSkgLyAyNTU7XG4gICAgY29uc3QgZFIgPSAoZGFya0NvbG9yID4+IDE2ICYgMjU1KSAvIDI1NTtcbiAgICBjb25zdCBkRyA9IChkYXJrQ29sb3IgPj4gOCAmIDI1NSkgLyAyNTU7XG4gICAgY29uc3QgZEIgPSAoZGFya0NvbG9yICYgMjU1KSAvIDI1NTtcbiAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAwLjMsXG4gICAgICAwLjU5LFxuICAgICAgMC4xMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgbFIsXG4gICAgICBsRyxcbiAgICAgIGxCLFxuICAgICAgZGVzYXR1cmF0aW9uLFxuICAgICAgMCxcbiAgICAgIGRSLFxuICAgICAgZEcsXG4gICAgICBkQixcbiAgICAgIHRvbmVkLFxuICAgICAgMCxcbiAgICAgIGxSIC0gZFIsXG4gICAgICBsRyAtIGRHLFxuICAgICAgbEIgLSBkQixcbiAgICAgIDAsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIG5pZ2h0KGludGVuc2l0eSwgbXVsdGlwbHkpIHtcbiAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIGludGVuc2l0eSAqIC0yLFxuICAgICAgLWludGVuc2l0eSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIC1pbnRlbnNpdHksXG4gICAgICAwLFxuICAgICAgaW50ZW5zaXR5LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgaW50ZW5zaXR5LFxuICAgICAgaW50ZW5zaXR5ICogMixcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgcHJlZGF0b3IoYW1vdW50LCBtdWx0aXBseSkge1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIDExLjIyNDEzMDYzMDQ5MzE2NCAqIGFtb3VudCxcbiAgICAgIC00Ljc5NDQ4Njk5OTUxMTcxOSAqIGFtb3VudCxcbiAgICAgIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsXG4gICAgICAwICogYW1vdW50LFxuICAgICAgMC40MDM0MjQzODIyMDk3Nzc4MyAqIGFtb3VudCxcbiAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsXG4gICAgICA5LjE5MzE1NzE5NjA0NDkyMiAqIGFtb3VudCxcbiAgICAgIC0yLjk1MTgxMDgzNjc5MTk5MiAqIGFtb3VudCxcbiAgICAgIDAgKiBhbW91bnQsXG4gICAgICAtMS4zMTYxMzUwNDg4NjYyNzIgKiBhbW91bnQsXG4gICAgICAtMy4yMTg0MTk3OTAyNjc5NDQzICogYW1vdW50LFxuICAgICAgLTQuMjM3NTAzMDUxNzU3ODEyNSAqIGFtb3VudCxcbiAgICAgIDcuNDc2NDQ4MDU5MDgyMDMxICogYW1vdW50LFxuICAgICAgMCAqIGFtb3VudCxcbiAgICAgIDAuODA0NDQ1OTIyMzc0NzI1MyAqIGFtb3VudCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAwXG4gICAgXTtcbiAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICB9XG4gIGxzZChtdWx0aXBseSkge1xuICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgIDIsXG4gICAgICAtMC40LFxuICAgICAgMC41LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAtMC41LFxuICAgICAgMixcbiAgICAgIC0wLjQsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIC0wLjQsXG4gICAgICAtMC41LFxuICAgICAgMyxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIDBcbiAgICBdO1xuICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBmYWxzZSk7XG4gIH1cbiAgZ2V0IG1hdHJpeCgpIHtcbiAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICB9XG4gIHNldCBtYXRyaXgodmFsdWUpIHtcbiAgICB0aGlzLnVuaWZvcm1zLm0gPSB2YWx1ZTtcbiAgfVxuICBnZXQgYWxwaGEoKSB7XG4gICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICB9XG4gIHNldCBhbHBoYSh2YWx1ZSkge1xuICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gIH1cbn1cbkNvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmF5c2NhbGUgPSBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlO1xuXG5leHBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sb3JNYXRyaXhGaWx0ZXIubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IG1bMjBdO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBjID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG5cXG4gICAgaWYgKHVBbHBoYSA9PSAwLjApIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IGM7XFxuICAgICAgICByZXR1cm47XFxuICAgIH1cXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGMuYSA+IDAuMCkge1xcbiAgICAgIGMucmdiIC89IGMuYTtcXG4gICAgfVxcblxcbiAgICB2ZWM0IHJlc3VsdDtcXG5cXG4gICAgcmVzdWx0LnIgPSAobVswXSAqIGMucik7XFxuICAgICAgICByZXN1bHQuciArPSAobVsxXSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuciArPSAobVsyXSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuciArPSAobVszXSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuciArPSBtWzRdO1xcblxcbiAgICByZXN1bHQuZyA9IChtWzVdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzZdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzddICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzhdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IG1bOV07XFxuXFxuICAgIHJlc3VsdC5iID0gKG1bMTBdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTFdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTJdICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTNdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gbVsxNF07XFxuXFxuICAgIHJlc3VsdC5hID0gKG1bMTVdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTZdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTddICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMThdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gbVsxOV07XFxuXFxuICAgIHZlYzMgcmdiID0gbWl4KGMucmdiLCByZXN1bHQucmdiLCB1QWxwaGEpO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgcmdiICo9IHJlc3VsdC5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHJnYiwgcmVzdWx0LmEpO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3JNYXRyaXgubWpzLm1hcFxuIiwiZXhwb3J0IHsgQ29sb3JNYXRyaXhGaWx0ZXIgfSBmcm9tICcuL0NvbG9yTWF0cml4RmlsdGVyLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBGaWx0ZXIsIE1hdHJpeCwgUG9pbnQgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL2Rpc3BsYWNlbWVudC5tanMnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL2Rpc3BsYWNlbWVudDIubWpzJztcblxuY2xhc3MgRGlzcGxhY2VtZW50RmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgY29uc3RydWN0b3Ioc3ByaXRlLCBzY2FsZSkge1xuICAgIGNvbnN0IG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICBzdXBlcih2ZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICBtYXBTYW1wbGVyOiBzcHJpdGUuX3RleHR1cmUsXG4gICAgICBmaWx0ZXJNYXRyaXg6IG1hc2tNYXRyaXgsXG4gICAgICBzY2FsZTogeyB4OiAxLCB5OiAxIH0sXG4gICAgICByb3RhdGlvbjogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMV0pXG4gICAgfSk7XG4gICAgdGhpcy5tYXNrU3ByaXRlID0gc3ByaXRlO1xuICAgIHRoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgaWYgKHNjYWxlID09PSBudWxsIHx8IHNjYWxlID09PSB2b2lkIDApIHtcbiAgICAgIHNjYWxlID0gMjA7XG4gICAgfVxuICAgIHRoaXMuc2NhbGUgPSBuZXcgUG9pbnQoc2NhbGUsIHNjYWxlKTtcbiAgfVxuICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgdGhpcy5tYXNrU3ByaXRlKTtcbiAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgdGhpcy51bmlmb3Jtcy5zY2FsZS55ID0gdGhpcy5zY2FsZS55O1xuICAgIGNvbnN0IHd0ID0gdGhpcy5tYXNrU3ByaXRlLndvcmxkVHJhbnNmb3JtO1xuICAgIGNvbnN0IGxlblggPSBNYXRoLnNxcnQod3QuYSAqIHd0LmEgKyB3dC5iICogd3QuYik7XG4gICAgY29uc3QgbGVuWSA9IE1hdGguc3FydCh3dC5jICogd3QuYyArIHd0LmQgKiB3dC5kKTtcbiAgICBpZiAobGVuWCAhPT0gMCAmJiBsZW5ZICE9PSAwKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzBdID0gd3QuYSAvIGxlblg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzFdID0gd3QuYiAvIGxlblg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzJdID0gd3QuYyAvIGxlblk7XG4gICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzNdID0gd3QuZCAvIGxlblk7XG4gICAgfVxuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgfVxuICBnZXQgbWFwKCkge1xuICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXI7XG4gIH1cbiAgc2V0IG1hcCh2YWx1ZSkge1xuICAgIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGlzcGxhY2VtZW50RmlsdGVyLm1qcy5tYXBcbiIsInZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzIgc2NhbGU7XFxudW5pZm9ybSBtYXQyIHJvdGF0aW9uO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hcFNhbXBsZXI7XFxuXFxudW5pZm9ybSBoaWdocCB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgaW5wdXRDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICB2ZWM0IG1hcCA9ICB0ZXh0dXJlMkQobWFwU2FtcGxlciwgdkZpbHRlckNvb3JkKTtcXG5cXG4gIG1hcCAtPSAwLjU7XFxuICBtYXAueHkgPSBzY2FsZSAqIGlucHV0U2l6ZS56dyAqIChyb3RhdGlvbiAqIG1hcC54eSk7XFxuXFxuICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKHZlYzIodlRleHR1cmVDb29yZC54ICsgbWFwLngsIHZUZXh0dXJlQ29vcmQueSArIG1hcC55KSwgaW5wdXRDbGFtcC54eSwgaW5wdXRDbGFtcC56dykpO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcGxhY2VtZW50Lm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcblxcdGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXHR2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxuXFx0dkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCB2VGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgdmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3BsYWNlbWVudDIubWpzLm1hcFxuIiwiZXhwb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH0gZnJvbSAnLi9EaXNwbGFjZW1lbnRGaWx0ZXIubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWRyb3Atc2hhZG93IC0gdjUuMC4wXG4gKiBDb21waWxlZCBGcmksIDIzIFNlcCAyMDIyIDIwOjQ4OjU2IFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1kcm9wLXNoYWRvdyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9pbXBvcnR7S2F3YXNlQmx1ckZpbHRlciBhcyBvfWZyb21cIkBwaXhpL2ZpbHRlci1rYXdhc2UtYmx1clwiO2ltcG9ydHtzZXR0aW5ncyBhcyBhLEZpbHRlciBhcyB1LFBvaW50IGFzIHgsREVHX1RPX1JBRCBhcyBoLHV0aWxzIGFzIHB9ZnJvbVwiQHBpeGkvY29yZVwiO3ZhciBTPWBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xuXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcblxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG5cbnZvaWQgbWFpbih2b2lkKVxue1xuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xufWAsdz1gdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XG51bmlmb3JtIHZlYzMgY29sb3I7XG5cbnVuaWZvcm0gdmVjMiBzaGlmdDtcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XG5cbnZvaWQgbWFpbih2b2lkKXtcbiAgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCAtIHNoaWZ0ICogaW5wdXRTaXplLnp3KTtcblxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhXG4gICAgc2FtcGxlLnJnYiA9IGNvbG9yLnJnYiAqIHNhbXBsZS5hO1xuXG4gICAgLy8gYWxwaGEgdXNlciBhbHBoYVxuICAgIHNhbXBsZSAqPSBhbHBoYTtcblxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZTtcbn1gLE89T2JqZWN0LmRlZmluZVByb3BlcnR5LGM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxUPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksUD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLGQ9KHQsaSxlKT0+aSBpbiB0P08odCxpLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6dFtpXT1lLF89KHQsaSk9Pntmb3IodmFyIGUgaW4gaXx8KGk9e30pKVQuY2FsbChpLGUpJiZkKHQsZSxpW2VdKTtpZihjKWZvcih2YXIgZSBvZiBjKGkpKVAuY2FsbChpLGUpJiZkKHQsZSxpW2VdKTtyZXR1cm4gdH07Y29uc3Qgbj1jbGFzcyBleHRlbmRzIHV7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmFuZ2xlPTQ1LHRoaXMuX2Rpc3RhbmNlPTUsdGhpcy5fcmVzb2x1dGlvbj1hLkZJTFRFUl9SRVNPTFVUSU9OO2NvbnN0IGk9dD9fKF8oe30sbi5kZWZhdWx0cyksdCk6bi5kZWZhdWx0cyx7a2VybmVsczplLGJsdXI6bCxxdWFsaXR5OnIscGl4ZWxTaXplOkYscmVzb2x1dGlvbjpzfT1pO3RoaXMuX3RpbnRGaWx0ZXI9bmV3IHUoUyx3KSx0aGlzLl90aW50RmlsdGVyLnVuaWZvcm1zLmNvbG9yPW5ldyBGbG9hdDMyQXJyYXkoNCksdGhpcy5fdGludEZpbHRlci51bmlmb3Jtcy5zaGlmdD1uZXcgeCx0aGlzLl90aW50RmlsdGVyLnJlc29sdXRpb249cyx0aGlzLl9ibHVyRmlsdGVyPWU/bmV3IG8oZSk6bmV3IG8obCxyKSx0aGlzLnBpeGVsU2l6ZT1GLHRoaXMucmVzb2x1dGlvbj1zO2NvbnN0e3NoYWRvd09ubHk6Zixyb3RhdGlvbjpnLGRpc3RhbmNlOm0sYWxwaGE6dixjb2xvcjp5fT1pO3RoaXMuc2hhZG93T25seT1mLHRoaXMucm90YXRpb249Zyx0aGlzLmRpc3RhbmNlPW0sdGhpcy5hbHBoYT12LHRoaXMuY29sb3I9eSx0aGlzLl91cGRhdGVQYWRkaW5nKCl9YXBwbHkodCxpLGUsbCl7Y29uc3Qgcj10LmdldEZpbHRlclRleHR1cmUoKTt0aGlzLl90aW50RmlsdGVyLmFwcGx5KHQsaSxyLDEpLHRoaXMuX2JsdXJGaWx0ZXIuYXBwbHkodCxyLGUsbCksdGhpcy5zaGFkb3dPbmx5IT09ITAmJnQuYXBwbHlGaWx0ZXIodGhpcyxpLGUsMCksdC5yZXR1cm5GaWx0ZXJUZXh0dXJlKHIpfV91cGRhdGVQYWRkaW5nKCl7dGhpcy5wYWRkaW5nPXRoaXMuZGlzdGFuY2UrdGhpcy5ibHVyKjJ9X3VwZGF0ZVNoaWZ0KCl7dGhpcy5fdGludEZpbHRlci51bmlmb3Jtcy5zaGlmdC5zZXQodGhpcy5kaXN0YW5jZSpNYXRoLmNvcyh0aGlzLmFuZ2xlKSx0aGlzLmRpc3RhbmNlKk1hdGguc2luKHRoaXMuYW5nbGUpKX1nZXQgcmVzb2x1dGlvbigpe3JldHVybiB0aGlzLl9yZXNvbHV0aW9ufXNldCByZXNvbHV0aW9uKHQpe3RoaXMuX3Jlc29sdXRpb249dCx0aGlzLl90aW50RmlsdGVyJiYodGhpcy5fdGludEZpbHRlci5yZXNvbHV0aW9uPXQpLHRoaXMuX2JsdXJGaWx0ZXImJih0aGlzLl9ibHVyRmlsdGVyLnJlc29sdXRpb249dCl9Z2V0IGRpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlfXNldCBkaXN0YW5jZSh0KXt0aGlzLl9kaXN0YW5jZT10LHRoaXMuX3VwZGF0ZVBhZGRpbmcoKSx0aGlzLl91cGRhdGVTaGlmdCgpfWdldCByb3RhdGlvbigpe3JldHVybiB0aGlzLmFuZ2xlL2h9c2V0IHJvdGF0aW9uKHQpe3RoaXMuYW5nbGU9dCpoLHRoaXMuX3VwZGF0ZVNoaWZ0KCl9Z2V0IGFscGhhKCl7cmV0dXJuIHRoaXMuX3RpbnRGaWx0ZXIudW5pZm9ybXMuYWxwaGF9c2V0IGFscGhhKHQpe3RoaXMuX3RpbnRGaWx0ZXIudW5pZm9ybXMuYWxwaGE9dH1nZXQgY29sb3IoKXtyZXR1cm4gcC5yZ2IyaGV4KHRoaXMuX3RpbnRGaWx0ZXIudW5pZm9ybXMuY29sb3IpfXNldCBjb2xvcih0KXtwLmhleDJyZ2IodCx0aGlzLl90aW50RmlsdGVyLnVuaWZvcm1zLmNvbG9yKX1nZXQga2VybmVscygpe3JldHVybiB0aGlzLl9ibHVyRmlsdGVyLmtlcm5lbHN9c2V0IGtlcm5lbHModCl7dGhpcy5fYmx1ckZpbHRlci5rZXJuZWxzPXR9Z2V0IGJsdXIoKXtyZXR1cm4gdGhpcy5fYmx1ckZpbHRlci5ibHVyfXNldCBibHVyKHQpe3RoaXMuX2JsdXJGaWx0ZXIuYmx1cj10LHRoaXMuX3VwZGF0ZVBhZGRpbmcoKX1nZXQgcXVhbGl0eSgpe3JldHVybiB0aGlzLl9ibHVyRmlsdGVyLnF1YWxpdHl9c2V0IHF1YWxpdHkodCl7dGhpcy5fYmx1ckZpbHRlci5xdWFsaXR5PXR9Z2V0IHBpeGVsU2l6ZSgpe3JldHVybiB0aGlzLl9ibHVyRmlsdGVyLnBpeGVsU2l6ZX1zZXQgcGl4ZWxTaXplKHQpe3RoaXMuX2JsdXJGaWx0ZXIucGl4ZWxTaXplPXR9fTtsZXQgYj1uO2IuZGVmYXVsdHM9e3JvdGF0aW9uOjQ1LGRpc3RhbmNlOjUsY29sb3I6MCxhbHBoYTouNSxzaGFkb3dPbmx5OiExLGtlcm5lbHM6bnVsbCxibHVyOjIscXVhbGl0eTozLHBpeGVsU2l6ZToxLHJlc29sdXRpb246YS5GSUxURVJfUkVTT0xVVElPTn07ZXhwb3J0e2IgYXMgRHJvcFNoYWRvd0ZpbHRlcn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItZHJvcC1zaGFkb3cubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vZnhhYS5tanMnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vZnhhYTIubWpzJztcblxuY2xhc3MgRlhBQUZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHZlcnRleCwgZnJhZ21lbnQpO1xuICB9XG59XG5cbmV4cG9ydCB7IEZYQUFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZYQUFGaWx0ZXIubWpzLm1hcFxuIiwidmFyIHZlcnRleCA9IFwiXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZGcmFnQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52b2lkIHRleGNvb3Jkcyh2ZWMyIGZyYWdDb29yZCwgdmVjMiBpbnZlcnNlVlAsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JOVywgb3V0IHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYlNXLCBvdXQgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTSkge1xcbiAgICB2X3JnYk5XID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk5FID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU1cgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTRSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTSA9IHZlYzIoZnJhZ0Nvb3JkICogaW52ZXJzZVZQKTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXG4gICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgdkZyYWdDb29yZCA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG91dHB1dEZyYW1lLnp3O1xcblxcbiAgIHRleGNvb3Jkcyh2RnJhZ0Nvb3JkLCBpbnB1dFNpemUuencsIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxufVxcblwiO1xuXG5leHBvcnQgeyB2ZXJ0ZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnhhYS5tanMubWFwXG4iLCJ2YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZGcmFnQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBoaWdocCB2ZWM0IGlucHV0U2l6ZTtcXG5cXG5cXG4vKipcXG4gQmFzaWMgRlhBQSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbSB3aXRoIHRoZVxcbiBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0J3NcXG4gdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXFxuXFxuIC0tXFxuXFxuIEZyb206XFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XFxuXFxuIENvcHlyaWdodCAoYykgMjAxMSBieSBBcm1pbiBSb25hY2hlci5cXG5cXG4gU29tZSByaWdodHMgcmVzZXJ2ZWQuXFxuXFxuIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxcbiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXFxuIG1ldDpcXG5cXG4gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxcbiBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXFxuXFxuICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxcbiBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xcbiBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcXG4gd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxcblxcbiAqIFRoZSBuYW1lcyBvZiB0aGUgY29udHJpYnV0b3JzIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yXFxuIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpY1xcbiBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXFxuXFxuIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcXG4gXFxcIkFTIElTXFxcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXFxuIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXFxuIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxcbiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxcbiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcXG4gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxcbiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcXG4gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cXG4gKi9cXG5cXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01JTlxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NVUxcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1NQQU5fTUFYXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXG4jZW5kaWZcXG5cXG4vL29wdGltaXplZCB2ZXJzaW9uIGZvciBtb2JpbGUsIHdoZXJlIGRlcGVuZGVudFxcbi8vdGV4dHVyZSByZWFkcyBjYW4gYmUgYSBib3R0bGVuZWNrXFxudmVjNCBmeGFhKHNhbXBsZXIyRCB0ZXgsIHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIGludmVyc2VWUCxcXG4gICAgICAgICAgdmVjMiB2X3JnYk5XLCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JTVywgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTSkge1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JOVykueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JORSkueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTVykueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTRSkueHl6O1xcbiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JNKTtcXG4gICAgdmVjMyByZ2JNICA9IHRleENvbG9yLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG5cXG4gICAgbWVkaXVtcCB2ZWMyIGRpcjtcXG4gICAgZGlyLnggPSAtKChsdW1hTlcgKyBsdW1hTkUpIC0gKGx1bWFTVyArIGx1bWFTRSkpO1xcbiAgICBkaXIueSA9ICAoKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKSk7XFxuXFxuICAgIGZsb2F0IGRpclJlZHVjZSA9IG1heCgobHVtYU5XICsgbHVtYU5FICsgbHVtYVNXICsgbHVtYVNFKSAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoMC4yNSAqIEZYQUFfUkVEVUNFX01VTCksIEZYQUFfUkVEVUNFX01JTik7XFxuXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcbiAgICBkaXIgPSBtaW4odmVjMihGWEFBX1NQQU5fTUFYLCBGWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIG1heCh2ZWMyKC1GWEFBX1NQQU5fTUFYLCAtRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiBpbnZlcnNlVlA7XFxuXFxuICAgIHZlYzMgcmdiQSA9IDAuNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgxLjAgLyAzLjAgLSAwLjUpKS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDIuMCAvIDMuMCAtIDAuNSkpLnh5eik7XFxuICAgIHZlYzMgcmdiQiA9IHJnYkEgKiAwLjUgKyAwLjI1ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAtMC41KS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAwLjUpLnh5eik7XFxuXFxuICAgIGZsb2F0IGx1bWFCID0gZG90KHJnYkIsIGx1bWEpO1xcbiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQSwgdGV4Q29sb3IuYSk7XFxuICAgIGVsc2VcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JCLCB0ZXhDb2xvci5hKTtcXG4gICAgcmV0dXJuIGNvbG9yO1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuICAgICAgdmVjNCBjb2xvcjtcXG5cXG4gICAgICBjb2xvciA9IGZ4YWEodVNhbXBsZXIsIHZGcmFnQ29vcmQsIGlucHV0U2l6ZS56dywgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG5cXG4gICAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZ4YWEyLm1qcy5tYXBcbiIsImV4cG9ydCB7IEZYQUFGaWx0ZXIgfSBmcm9tICcuL0ZYQUFGaWx0ZXIubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWthd2FzZS1ibHVyIC0gdjUuMC4wXG4gKiBDb21waWxlZCBGcmksIDIzIFNlcCAyMDIyIDIwOjQ4OjU2IFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1rYXdhc2UtYmx1ciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9pbXBvcnR7RmlsdGVyIGFzIG0sUG9pbnQgYXMgaH1mcm9tXCJAcGl4aS9jb3JlXCI7dmFyIGM9YGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XG5cbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xuXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcblxudm9pZCBtYWluKHZvaWQpXG57XG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XG59YCx2PWBcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG5cbnVuaWZvcm0gdmVjMiB1T2Zmc2V0O1xuXG52b2lkIG1haW4odm9pZClcbntcbiAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLjApO1xuXG4gICAgLy8gU2FtcGxlIHRvcCBsZWZ0IHBpeGVsXG4gICAgY29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2ZWMyKHZUZXh0dXJlQ29vcmQueCAtIHVPZmZzZXQueCwgdlRleHR1cmVDb29yZC55ICsgdU9mZnNldC55KSk7XG5cbiAgICAvLyBTYW1wbGUgdG9wIHJpZ2h0IHBpeGVsXG4gICAgY29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2ZWMyKHZUZXh0dXJlQ29vcmQueCArIHVPZmZzZXQueCwgdlRleHR1cmVDb29yZC55ICsgdU9mZnNldC55KSk7XG5cbiAgICAvLyBTYW1wbGUgYm90dG9tIHJpZ2h0IHBpeGVsXG4gICAgY29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2ZWMyKHZUZXh0dXJlQ29vcmQueCArIHVPZmZzZXQueCwgdlRleHR1cmVDb29yZC55IC0gdU9mZnNldC55KSk7XG5cbiAgICAvLyBTYW1wbGUgYm90dG9tIGxlZnQgcGl4ZWxcbiAgICBjb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC54IC0gdU9mZnNldC54LCB2VGV4dHVyZUNvb3JkLnkgLSB1T2Zmc2V0LnkpKTtcblxuICAgIC8vIEF2ZXJhZ2VcbiAgICBjb2xvciAqPSAwLjI1O1xuXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XG59YCx5PWBcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG5cbnVuaWZvcm0gdmVjMiB1T2Zmc2V0O1xudW5pZm9ybSB2ZWM0IGZpbHRlckNsYW1wO1xuXG52b2lkIG1haW4odm9pZClcbntcbiAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLjApO1xuXG4gICAgLy8gU2FtcGxlIHRvcCBsZWZ0IHBpeGVsXG4gICAgY29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCAtIHVPZmZzZXQueCwgdlRleHR1cmVDb29yZC55ICsgdU9mZnNldC55KSwgZmlsdGVyQ2xhbXAueHksIGZpbHRlckNsYW1wLnp3KSk7XG5cbiAgICAvLyBTYW1wbGUgdG9wIHJpZ2h0IHBpeGVsXG4gICAgY29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCArIHVPZmZzZXQueCwgdlRleHR1cmVDb29yZC55ICsgdU9mZnNldC55KSwgZmlsdGVyQ2xhbXAueHksIGZpbHRlckNsYW1wLnp3KSk7XG5cbiAgICAvLyBTYW1wbGUgYm90dG9tIHJpZ2h0IHBpeGVsXG4gICAgY29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCArIHVPZmZzZXQueCwgdlRleHR1cmVDb29yZC55IC0gdU9mZnNldC55KSwgZmlsdGVyQ2xhbXAueHksIGZpbHRlckNsYW1wLnp3KSk7XG5cbiAgICAvLyBTYW1wbGUgYm90dG9tIGxlZnQgcGl4ZWxcbiAgICBjb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKHZlYzIodlRleHR1cmVDb29yZC54IC0gdU9mZnNldC54LCB2VGV4dHVyZUNvb3JkLnkgLSB1T2Zmc2V0LnkpLCBmaWx0ZXJDbGFtcC54eSwgZmlsdGVyQ2xhbXAuencpKTtcblxuICAgIC8vIEF2ZXJhZ2VcbiAgICBjb2xvciAqPSAwLjI1O1xuXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XG59XG5gO2NsYXNzIF8gZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGU9NCx0PTMsaT0hMSl7c3VwZXIoYyxpP3k6diksdGhpcy5fa2VybmVscz1bXSx0aGlzLl9ibHVyPTQsdGhpcy5fcXVhbGl0eT0zLHRoaXMudW5pZm9ybXMudU9mZnNldD1uZXcgRmxvYXQzMkFycmF5KDIpLHRoaXMuX3BpeGVsU2l6ZT1uZXcgaCx0aGlzLnBpeGVsU2l6ZT0xLHRoaXMuX2NsYW1wPWksQXJyYXkuaXNBcnJheShlKT90aGlzLmtlcm5lbHM9ZToodGhpcy5fYmx1cj1lLHRoaXMucXVhbGl0eT10KX1hcHBseShlLHQsaSxvKXtjb25zdCBuPXRoaXMuX3BpeGVsU2l6ZS54L3QuX2ZyYW1lLndpZHRoLGw9dGhpcy5fcGl4ZWxTaXplLnkvdC5fZnJhbWUuaGVpZ2h0O2xldCByO2lmKHRoaXMuX3F1YWxpdHk9PT0xfHx0aGlzLl9ibHVyPT09MClyPXRoaXMuX2tlcm5lbHNbMF0rLjUsdGhpcy51bmlmb3Jtcy51T2Zmc2V0WzBdPXIqbix0aGlzLnVuaWZvcm1zLnVPZmZzZXRbMV09cipsLGUuYXBwbHlGaWx0ZXIodGhpcyx0LGksbyk7ZWxzZXtjb25zdCB4PWUuZ2V0RmlsdGVyVGV4dHVyZSgpO2xldCBzPXQsdT14LGY7Y29uc3QgcD10aGlzLl9xdWFsaXR5LTE7Zm9yKGxldCBhPTA7YTxwO2ErKylyPXRoaXMuX2tlcm5lbHNbYV0rLjUsdGhpcy51bmlmb3Jtcy51T2Zmc2V0WzBdPXIqbix0aGlzLnVuaWZvcm1zLnVPZmZzZXRbMV09cipsLGUuYXBwbHlGaWx0ZXIodGhpcyxzLHUsMSksZj1zLHM9dSx1PWY7cj10aGlzLl9rZXJuZWxzW3BdKy41LHRoaXMudW5pZm9ybXMudU9mZnNldFswXT1yKm4sdGhpcy51bmlmb3Jtcy51T2Zmc2V0WzFdPXIqbCxlLmFwcGx5RmlsdGVyKHRoaXMscyxpLG8pLGUucmV0dXJuRmlsdGVyVGV4dHVyZSh4KX19X3VwZGF0ZVBhZGRpbmcoKXt0aGlzLnBhZGRpbmc9TWF0aC5jZWlsKHRoaXMuX2tlcm5lbHMucmVkdWNlKChlLHQpPT5lK3QrLjUsMCkpfV9nZW5lcmF0ZUtlcm5lbHMoKXtjb25zdCBlPXRoaXMuX2JsdXIsdD10aGlzLl9xdWFsaXR5LGk9W2VdO2lmKGU+MCl7bGV0IG89ZTtjb25zdCBuPWUvdDtmb3IobGV0IGw9MTtsPHQ7bCsrKW8tPW4saS5wdXNoKG8pfXRoaXMuX2tlcm5lbHM9aSx0aGlzLl91cGRhdGVQYWRkaW5nKCl9Z2V0IGtlcm5lbHMoKXtyZXR1cm4gdGhpcy5fa2VybmVsc31zZXQga2VybmVscyhlKXtBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wPyh0aGlzLl9rZXJuZWxzPWUsdGhpcy5fcXVhbGl0eT1lLmxlbmd0aCx0aGlzLl9ibHVyPU1hdGgubWF4KC4uLmUpKToodGhpcy5fa2VybmVscz1bMF0sdGhpcy5fcXVhbGl0eT0xKX1nZXQgY2xhbXAoKXtyZXR1cm4gdGhpcy5fY2xhbXB9c2V0IHBpeGVsU2l6ZShlKXt0eXBlb2YgZT09XCJudW1iZXJcIj8odGhpcy5fcGl4ZWxTaXplLng9ZSx0aGlzLl9waXhlbFNpemUueT1lKTpBcnJheS5pc0FycmF5KGUpPyh0aGlzLl9waXhlbFNpemUueD1lWzBdLHRoaXMuX3BpeGVsU2l6ZS55PWVbMV0pOmUgaW5zdGFuY2VvZiBoPyh0aGlzLl9waXhlbFNpemUueD1lLngsdGhpcy5fcGl4ZWxTaXplLnk9ZS55KToodGhpcy5fcGl4ZWxTaXplLng9MSx0aGlzLl9waXhlbFNpemUueT0xKX1nZXQgcGl4ZWxTaXplKCl7cmV0dXJuIHRoaXMuX3BpeGVsU2l6ZX1nZXQgcXVhbGl0eSgpe3JldHVybiB0aGlzLl9xdWFsaXR5fXNldCBxdWFsaXR5KGUpe3RoaXMuX3F1YWxpdHk9TWF0aC5tYXgoMSxNYXRoLnJvdW5kKGUpKSx0aGlzLl9nZW5lcmF0ZUtlcm5lbHMoKX1nZXQgYmx1cigpe3JldHVybiB0aGlzLl9ibHVyfXNldCBibHVyKGUpe3RoaXMuX2JsdXI9ZSx0aGlzLl9nZW5lcmF0ZUtlcm5lbHMoKX19ZXhwb3J0e18gYXMgS2F3YXNlQmx1ckZpbHRlcn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXIta2F3YXNlLWJsdXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0RmlsdGVyVmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9ub2lzZS5tanMnO1xuXG5jbGFzcyBOb2lzZUZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKG5vaXNlID0gMC41LCBzZWVkID0gTWF0aC5yYW5kb20oKSkge1xuICAgIHN1cGVyKGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICB1Tm9pc2U6IDAsXG4gICAgICB1U2VlZDogMFxuICAgIH0pO1xuICAgIHRoaXMubm9pc2UgPSBub2lzZTtcbiAgICB0aGlzLnNlZWQgPSBzZWVkO1xuICB9XG4gIGdldCBub2lzZSgpIHtcbiAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51Tm9pc2U7XG4gIH1cbiAgc2V0IG5vaXNlKHZhbHVlKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51Tm9pc2UgPSB2YWx1ZTtcbiAgfVxuICBnZXQgc2VlZCgpIHtcbiAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZDtcbiAgfVxuICBzZXQgc2VlZCh2YWx1ZSkge1xuICAgIHRoaXMudW5pZm9ybXMudVNlZWQgPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBOb2lzZUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm9pc2VGaWx0ZXIubWpzLm1hcFxuIiwiZXhwb3J0IHsgTm9pc2VGaWx0ZXIgfSBmcm9tICcuL05vaXNlRmlsdGVyLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJ2YXIgZnJhZ21lbnQgPSBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgdU5vaXNlO1xcbnVuaWZvcm0gZmxvYXQgdVNlZWQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxuZmxvYXQgcmFuZCh2ZWMyIGNvKVxcbntcXG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7XFxufVxcblxcbnZvaWQgbWFpbigpXFxue1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZmxvYXQgcmFuZG9tVmFsdWUgPSByYW5kKGdsX0ZyYWdDb29yZC54eSAqIHVTZWVkKTtcXG4gICAgZmxvYXQgZGlmZiA9IChyYW5kb21WYWx1ZSAtIDAuNSkgKiB1Tm9pc2U7XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjb2xvci5hID4gMC4wKSB7XFxuICAgICAgICBjb2xvci5yZ2IgLz0gY29sb3IuYTtcXG4gICAgfVxcblxcbiAgICBjb2xvci5yICs9IGRpZmY7XFxuICAgIGNvbG9yLmcgKz0gZGlmZjtcXG4gICAgY29sb3IuYiArPSBkaWZmO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgY29sb3IucmdiICo9IGNvbG9yLmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9pc2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgU3RhdGUsIEJMRU5EX01PREVTLCBUZXh0dXJlLCBQb2x5Z29uLCBQSV8yLCBSZWN0YW5nbGUsIFJvdW5kZWRSZWN0YW5nbGUsIENpcmNsZSwgRWxsaXBzZSwgU0hBUEVTLCB1dGlscywgTWF0cml4LCBVbmlmb3JtR3JvdXAsIFNoYWRlciwgUG9pbnQgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCAnLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IHsgR3JhcGhpY3NHZW9tZXRyeSB9IGZyb20gJy4vR3JhcGhpY3NHZW9tZXRyeS5tanMnO1xuaW1wb3J0IHsgRmlsbFN0eWxlIH0gZnJvbSAnLi9zdHlsZXMvRmlsbFN0eWxlLm1qcyc7XG5pbXBvcnQgeyBMaW5lU3R5bGUgfSBmcm9tICcuL3N0eWxlcy9MaW5lU3R5bGUubWpzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTElORV9DQVAsIExJTkVfSk9JTiB9IGZyb20gJy4vY29uc3QubWpzJztcbmltcG9ydCB7IFF1YWRyYXRpY1V0aWxzIH0gZnJvbSAnLi91dGlscy9RdWFkcmF0aWNVdGlscy5tanMnO1xuaW1wb3J0IHsgQmV6aWVyVXRpbHMgfSBmcm9tICcuL3V0aWxzL0JlemllclV0aWxzLm1qcyc7XG5pbXBvcnQgeyBBcmNVdGlscyB9IGZyb20gJy4vdXRpbHMvQXJjVXRpbHMubWpzJztcblxuY29uc3QgdGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5jb25zdCBERUZBVUxUX1NIQURFUlMgPSB7fTtcbmNvbnN0IF9HcmFwaGljcyA9IGNsYXNzIGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgY29uc3RydWN0b3IoZ2VvbWV0cnkgPSBudWxsKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgdGhpcy5wbHVnaW5OYW1lID0gXCJiYXRjaFwiO1xuICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgIHRoaXMuYmF0Y2hlcyA9IFtdO1xuICAgIHRoaXMuYmF0Y2hUaW50ID0gLTE7XG4gICAgdGhpcy5iYXRjaERpcnR5ID0gLTE7XG4gICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICB0aGlzLl9maWxsU3R5bGUgPSBuZXcgRmlsbFN0eWxlKCk7XG4gICAgdGhpcy5fbGluZVN0eWxlID0gbmV3IExpbmVTdHlsZSgpO1xuICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICB0aGlzLl9nZW9tZXRyeSA9IGdlb21ldHJ5IHx8IG5ldyBHcmFwaGljc0dlb21ldHJ5KCk7XG4gICAgdGhpcy5fZ2VvbWV0cnkucmVmQ291bnQrKztcbiAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgIHRoaXMudGludCA9IDE2Nzc3MjE1O1xuICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICB9XG4gIGdldCBnZW9tZXRyeSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnk7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgcmV0dXJuIG5ldyBfR3JhcGhpY3ModGhpcy5fZ2VvbWV0cnkpO1xuICB9XG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICB9XG4gIGdldCB0aW50KCkge1xuICAgIHJldHVybiB0aGlzLl90aW50O1xuICB9XG4gIHNldCB0aW50KHZhbHVlKSB7XG4gICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICB9XG4gIGdldCBmaWxsKCkge1xuICAgIHJldHVybiB0aGlzLl9maWxsU3R5bGU7XG4gIH1cbiAgZ2V0IGxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVTdHlsZTtcbiAgfVxuICBsaW5lU3R5bGUob3B0aW9ucyA9IG51bGwsIGNvbG9yID0gMCwgYWxwaGEgPSAxLCBhbGlnbm1lbnQgPSAwLjUsIG5hdGl2ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiKSB7XG4gICAgICBvcHRpb25zID0geyB3aWR0aDogb3B0aW9ucywgY29sb3IsIGFscGhhLCBhbGlnbm1lbnQsIG5hdGl2ZSB9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5saW5lVGV4dHVyZVN0eWxlKG9wdGlvbnMpO1xuICB9XG4gIGxpbmVUZXh0dXJlU3R5bGUob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgdGV4dHVyZTogVGV4dHVyZS5XSElURSxcbiAgICAgIGNvbG9yOiBvcHRpb25zPy50ZXh0dXJlID8gMTY3NzcyMTUgOiAwLFxuICAgICAgYWxwaGE6IDEsXG4gICAgICBtYXRyaXg6IG51bGwsXG4gICAgICBhbGlnbm1lbnQ6IDAuNSxcbiAgICAgIG5hdGl2ZTogZmFsc2UsXG4gICAgICBjYXA6IExJTkVfQ0FQLkJVVFQsXG4gICAgICBqb2luOiBMSU5FX0pPSU4uTUlURVIsXG4gICAgICBtaXRlckxpbWl0OiAxMFxuICAgIH0sIG9wdGlvbnMpO1xuICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgIH1cbiAgICBjb25zdCB2aXNpYmxlID0gb3B0aW9ucy53aWR0aCA+IDAgJiYgb3B0aW9ucy5hbHBoYSA+IDA7XG4gICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9wdGlvbnMubWF0cml4KSB7XG4gICAgICAgIG9wdGlvbnMubWF0cml4ID0gb3B0aW9ucy5tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgb3B0aW9ucy5tYXRyaXguaW52ZXJ0KCk7XG4gICAgICB9XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2xpbmVTdHlsZSwgeyB2aXNpYmxlIH0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzdGFydFBvbHkoKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgY29uc3QgbGVuID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoO1xuICAgICAgaWYgKGxlbiA+IDIpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUodGhpcy5jdXJyZW50UGF0aCk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzLnB1c2gocG9pbnRzW2xlbiAtIDJdLCBwb2ludHNbbGVuIC0gMV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZmluaXNoUG9seSgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUodGhpcy5jdXJyZW50UGF0aCk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbW92ZVRvKHgsIHkpIHtcbiAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzWzBdID0geDtcbiAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1sxXSA9IHk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgbGluZVRvKHgsIHkpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgIH1cbiAgICBjb25zdCBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICBjb25zdCBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgY29uc3QgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSkge1xuICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIF9pbml0Q3VydmUoeCA9IDAsIHkgPSAwKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgPSBbeCwgeV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW92ZVRvKHgsIHkpO1xuICAgIH1cbiAgfVxuICBxdWFkcmF0aWNDdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICB9XG4gICAgUXVhZHJhdGljVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYmV6aWVyQ3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICB0aGlzLl9pbml0Q3VydmUoKTtcbiAgICBCZXppZXJVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGFyY1RvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpIHtcbiAgICB0aGlzLl9pbml0Q3VydmUoeDEsIHkxKTtcbiAgICBjb25zdCBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICBjb25zdCByZXN1bHQgPSBBcmNVdGlscy5jdXJ2ZVRvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMsIHBvaW50cyk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgY29uc3QgeyBjeCwgY3ksIHJhZGl1czogcmFkaXVzMiwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UgfSA9IHJlc3VsdDtcbiAgICAgIHRoaXMuYXJjKGN4LCBjeSwgcmFkaXVzMiwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBhcmMoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlID0gZmFsc2UpIHtcbiAgICBpZiAoc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSkge1xuICAgICAgZW5kQW5nbGUgKz0gUElfMjtcbiAgICB9IGVsc2UgaWYgKGFudGljbG9ja3dpc2UgJiYgc3RhcnRBbmdsZSA8PSBlbmRBbmdsZSkge1xuICAgICAgc3RhcnRBbmdsZSArPSBQSV8yO1xuICAgIH1cbiAgICBjb25zdCBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICBpZiAoc3dlZXAgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCBzdGFydFggPSBjeCArIE1hdGguY29zKHN0YXJ0QW5nbGUpICogcmFkaXVzO1xuICAgIGNvbnN0IHN0YXJ0WSA9IGN5ICsgTWF0aC5zaW4oc3RhcnRBbmdsZSkgKiByYWRpdXM7XG4gICAgY29uc3QgZXBzID0gdGhpcy5fZ2VvbWV0cnkuY2xvc2VQb2ludEVwcztcbiAgICBsZXQgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aCA/IHRoaXMuY3VycmVudFBhdGgucG9pbnRzIDogbnVsbDtcbiAgICBpZiAocG9pbnRzKSB7XG4gICAgICBjb25zdCB4RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gLSBzdGFydFgpO1xuICAgICAgY29uc3QgeURpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdIC0gc3RhcnRZKTtcbiAgICAgIGlmICh4RGlmZiA8IGVwcyAmJiB5RGlmZiA8IGVwcykge1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9pbnRzLnB1c2goc3RhcnRYLCBzdGFydFkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICB9XG4gICAgQXJjVXRpbHMuYXJjKHN0YXJ0WCwgc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UsIHBvaW50cyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYmVnaW5GaWxsKGNvbG9yID0gMCwgYWxwaGEgPSAxKSB7XG4gICAgcmV0dXJuIHRoaXMuYmVnaW5UZXh0dXJlRmlsbCh7IHRleHR1cmU6IFRleHR1cmUuV0hJVEUsIGNvbG9yLCBhbHBoYSB9KTtcbiAgfVxuICBiZWdpblRleHR1cmVGaWxsKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLFxuICAgICAgY29sb3I6IDE2Nzc3MjE1LFxuICAgICAgYWxwaGE6IDEsXG4gICAgICBtYXRyaXg6IG51bGxcbiAgICB9LCBvcHRpb25zKTtcbiAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICB9XG4gICAgY29uc3QgdmlzaWJsZSA9IG9wdGlvbnMuYWxwaGEgPiAwO1xuICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcHRpb25zLm1hdHJpeCkge1xuICAgICAgICBvcHRpb25zLm1hdHJpeCA9IG9wdGlvbnMubWF0cml4LmNsb25lKCk7XG4gICAgICAgIG9wdGlvbnMubWF0cml4LmludmVydCgpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9maWxsU3R5bGUsIHsgdmlzaWJsZSB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZW5kRmlsbCgpIHtcbiAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBkcmF3UmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuICB9XG4gIGRyYXdSb3VuZGVkUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpIHtcbiAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSk7XG4gIH1cbiAgZHJhd0NpcmNsZSh4LCB5LCByYWRpdXMpIHtcbiAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IENpcmNsZSh4LCB5LCByYWRpdXMpKTtcbiAgfVxuICBkcmF3RWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgfVxuICBkcmF3UG9seWdvbiguLi5wYXRoKSB7XG4gICAgbGV0IHBvaW50cztcbiAgICBsZXQgY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgIGNvbnN0IHBvbHkgPSBwYXRoWzBdO1xuICAgIGlmIChwb2x5LnBvaW50cykge1xuICAgICAgY2xvc2VTdHJva2UgPSBwb2x5LmNsb3NlU3Ryb2tlO1xuICAgICAgcG9pbnRzID0gcG9seS5wb2ludHM7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhdGhbMF0pKSB7XG4gICAgICBwb2ludHMgPSBwYXRoWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludHMgPSBwYXRoO1xuICAgIH1cbiAgICBjb25zdCBzaGFwZSA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgc2hhcGUuY2xvc2VTdHJva2UgPSBjbG9zZVN0cm9rZTtcbiAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZHJhd1NoYXBlKHNoYXBlKSB7XG4gICAgaWYgKCF0aGlzLl9ob2xlTW9kZSkge1xuICAgICAgdGhpcy5fZ2VvbWV0cnkuZHJhd1NoYXBlKHNoYXBlLCB0aGlzLl9maWxsU3R5bGUuY2xvbmUoKSwgdGhpcy5fbGluZVN0eWxlLmNsb25lKCksIHRoaXMuX21hdHJpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2dlb21ldHJ5LmRyYXdIb2xlKHNoYXBlLCB0aGlzLl9tYXRyaXgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9nZW9tZXRyeS5jbGVhcigpO1xuICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGlzRmFzdFJlY3QoKSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuX2dlb21ldHJ5LmdyYXBoaWNzRGF0YTtcbiAgICByZXR1cm4gZGF0YS5sZW5ndGggPT09IDEgJiYgZGF0YVswXS5zaGFwZS50eXBlID09PSBTSEFQRVMuUkVDVCAmJiAhZGF0YVswXS5tYXRyaXggJiYgIWRhdGFbMF0uaG9sZXMubGVuZ3RoICYmICEoZGF0YVswXS5saW5lU3R5bGUudmlzaWJsZSAmJiBkYXRhWzBdLmxpbmVTdHlsZS53aWR0aCk7XG4gIH1cbiAgX3JlbmRlcihyZW5kZXJlcikge1xuICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcygpO1xuICAgIGlmIChnZW9tZXRyeS5iYXRjaGFibGUpIHtcbiAgICAgIGlmICh0aGlzLmJhdGNoRGlydHkgIT09IGdlb21ldHJ5LmJhdGNoRGlydHkpIHtcbiAgICAgICAgdGhpcy5fcG9wdWxhdGVCYXRjaGVzKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9yZW5kZXJCYXRjaGVkKHJlbmRlcmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgIHRoaXMuX3JlbmRlckRpcmVjdChyZW5kZXJlcik7XG4gICAgfVxuICB9XG4gIF9wb3B1bGF0ZUJhdGNoZXMoKSB7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICBjb25zdCBibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcbiAgICBjb25zdCBsZW4gPSBnZW9tZXRyeS5iYXRjaGVzLmxlbmd0aDtcbiAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgdGhpcy5iYXRjaERpcnR5ID0gZ2VvbWV0cnkuYmF0Y2hEaXJ0eTtcbiAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gbGVuO1xuICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkucG9pbnRzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG4gICAgICBjb25zdCBjb2xvciA9IGdJLnN0eWxlLmNvbG9yO1xuICAgICAgY29uc3QgdmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0ZXhEYXRhLmJ1ZmZlciwgZ0kuYXR0cmliU3RhcnQgKiA0ICogMiwgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuICAgICAgY29uc3QgdXZzID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS51dnNGbG9hdDMyLmJ1ZmZlciwgZ0kuYXR0cmliU3RhcnQgKiA0ICogMiwgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuICAgICAgY29uc3QgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShnZW9tZXRyeS5pbmRpY2VzVWludDE2LmJ1ZmZlciwgZ0kuc3RhcnQgKiAyLCBnSS5zaXplKTtcbiAgICAgIGNvbnN0IGJhdGNoID0ge1xuICAgICAgICB2ZXJ0ZXhEYXRhLFxuICAgICAgICBibGVuZE1vZGUsXG4gICAgICAgIGluZGljZXMsXG4gICAgICAgIHV2cyxcbiAgICAgICAgX2JhdGNoUkdCOiB1dGlscy5oZXgycmdiKGNvbG9yKSxcbiAgICAgICAgX3RpbnRSR0I6IGNvbG9yLFxuICAgICAgICBfdGV4dHVyZTogZ0kuc3R5bGUudGV4dHVyZSxcbiAgICAgICAgYWxwaGE6IGdJLnN0eWxlLmFscGhhLFxuICAgICAgICB3b3JsZEFscGhhOiAxXG4gICAgICB9O1xuICAgICAgdGhpcy5iYXRjaGVzW2ldID0gYmF0Y2g7XG4gICAgfVxuICB9XG4gIF9yZW5kZXJCYXRjaGVkKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLmJhdGNoZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgIHRoaXMuY2FsY3VsYXRlVGludHMoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgYmF0Y2gud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYSAqIGJhdGNoLmFscGhhO1xuICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcihiYXRjaCk7XG4gICAgfVxuICB9XG4gIF9yZW5kZXJEaXJlY3QocmVuZGVyZXIpIHtcbiAgICBjb25zdCBzaGFkZXIgPSB0aGlzLl9yZXNvbHZlRGlyZWN0U2hhZGVyKHJlbmRlcmVyKTtcbiAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuX2dlb21ldHJ5O1xuICAgIGNvbnN0IHRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgY29uc3Qgd29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICBjb25zdCB1bmlmb3JtcyA9IHNoYWRlci51bmlmb3JtcztcbiAgICBjb25zdCBkcmF3Q2FsbHMgPSBnZW9tZXRyeS5kcmF3Q2FsbHM7XG4gICAgdW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB1bmlmb3Jtcy50aW50WzBdID0gKHRpbnQgPj4gMTYgJiAyNTUpIC8gMjU1ICogd29ybGRBbHBoYTtcbiAgICB1bmlmb3Jtcy50aW50WzFdID0gKHRpbnQgPj4gOCAmIDI1NSkgLyAyNTUgKiB3b3JsZEFscGhhO1xuICAgIHVuaWZvcm1zLnRpbnRbMl0gPSAodGludCAmIDI1NSkgLyAyNTUgKiB3b3JsZEFscGhhO1xuICAgIHVuaWZvcm1zLnRpbnRbM10gPSB3b3JsZEFscGhhO1xuICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChnZW9tZXRyeSwgc2hhZGVyKTtcbiAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBkcmF3Q2FsbHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB0aGlzLl9yZW5kZXJEcmF3Q2FsbERpcmVjdChyZW5kZXJlciwgZ2VvbWV0cnkuZHJhd0NhbGxzW2ldKTtcbiAgICB9XG4gIH1cbiAgX3JlbmRlckRyYXdDYWxsRGlyZWN0KHJlbmRlcmVyLCBkcmF3Q2FsbCkge1xuICAgIGNvbnN0IHsgdGV4QXJyYXksIHR5cGUsIHNpemUsIHN0YXJ0IH0gPSBkcmF3Q2FsbDtcbiAgICBjb25zdCBncm91cFRleHR1cmVDb3VudCA9IHRleEFycmF5LmNvdW50O1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKykge1xuICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCBqKTtcbiAgICB9XG4gICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0eXBlLCBzaXplLCBzdGFydCk7XG4gIH1cbiAgX3Jlc29sdmVEaXJlY3RTaGFkZXIocmVuZGVyZXIpIHtcbiAgICBsZXQgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgY29uc3QgcGx1Z2luTmFtZSA9IHRoaXMucGx1Z2luTmFtZTtcbiAgICBpZiAoIXNoYWRlcikge1xuICAgICAgaWYgKCFERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0pIHtcbiAgICAgICAgY29uc3QgeyBNQVhfVEVYVFVSRVMgfSA9IHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgICAgIGNvbnN0IHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KE1BWF9URVhUVVJFUyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTUFYX1RFWFRVUkVTOyBpKyspIHtcbiAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuaWZvcm1zID0ge1xuICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgIGRlZmF1bHQ6IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0uX3NoYWRlci5wcm9ncmFtO1xuICAgICAgICBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0gPSBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICAgIH1cbiAgICAgIHNoYWRlciA9IERFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWRlcjtcbiAgfVxuICBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgaWYgKCFnZW9tZXRyeS5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgbWluWCwgbWluWSwgbWF4WCwgbWF4WSB9ID0gZ2VvbWV0cnkuYm91bmRzO1xuICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gIH1cbiAgY29udGFpbnNQb2ludChwb2ludCkge1xuICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCBfR3JhcGhpY3MuX1RFTVBfUE9JTlQpO1xuICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeS5jb250YWluc1BvaW50KF9HcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gIH1cbiAgY2FsY3VsYXRlVGludHMoKSB7XG4gICAgaWYgKHRoaXMuYmF0Y2hUaW50ICE9PSB0aGlzLnRpbnQpIHtcbiAgICAgIHRoaXMuYmF0Y2hUaW50ID0gdGhpcy50aW50O1xuICAgICAgY29uc3QgdGludFJHQiA9IHV0aWxzLmhleDJyZ2IodGhpcy50aW50LCB0ZW1wKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICBjb25zdCBiYXRjaFRpbnQgPSBiYXRjaC5fYmF0Y2hSR0I7XG4gICAgICAgIGNvbnN0IHIgPSB0aW50UkdCWzBdICogYmF0Y2hUaW50WzBdICogMjU1O1xuICAgICAgICBjb25zdCBnID0gdGludFJHQlsxXSAqIGJhdGNoVGludFsxXSAqIDI1NTtcbiAgICAgICAgY29uc3QgYiA9IHRpbnRSR0JbMl0gKiBiYXRjaFRpbnRbMl0gKiAyNTU7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gKHIgPDwgMTYpICsgKGcgPDwgOCkgKyAoYiB8IDApO1xuICAgICAgICBiYXRjaC5fdGludFJHQiA9IChjb2xvciA+PiAxNikgKyAoY29sb3IgJiA2NTI4MCkgKyAoKGNvbG9yICYgMjU1KSA8PCAxNik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNhbGN1bGF0ZVZlcnRpY2VzKCkge1xuICAgIGNvbnN0IHd0SUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHd0SUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB3dElEO1xuICAgIGNvbnN0IHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY29uc3QgYSA9IHd0LmE7XG4gICAgY29uc3QgYiA9IHd0LmI7XG4gICAgY29uc3QgYyA9IHd0LmM7XG4gICAgY29uc3QgZCA9IHd0LmQ7XG4gICAgY29uc3QgdHggPSB3dC50eDtcbiAgICBjb25zdCB0eSA9IHd0LnR5O1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9nZW9tZXRyeS5wb2ludHM7XG4gICAgY29uc3QgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgY29uc3QgeCA9IGRhdGFbaV07XG4gICAgICBjb25zdCB5ID0gZGF0YVtpICsgMV07XG4gICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gYSAqIHggKyBjICogeSArIHR4O1xuICAgICAgdmVydGV4RGF0YVtjb3VudCsrXSA9IGQgKiB5ICsgYiAqIHggKyB0eTtcbiAgICB9XG4gIH1cbiAgY2xvc2VQYXRoKCkge1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gdGhpcy5jdXJyZW50UGF0aDtcbiAgICBpZiAoY3VycmVudFBhdGgpIHtcbiAgICAgIGN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gdHJ1ZTtcbiAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzZXRNYXRyaXgobWF0cml4KSB7XG4gICAgdGhpcy5fbWF0cml4ID0gbWF0cml4O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGJlZ2luSG9sZSgpIHtcbiAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICB0aGlzLl9ob2xlTW9kZSA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZW5kSG9sZSgpIHtcbiAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50LS07XG4gICAgaWYgKHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50ID09PSAwKSB7XG4gICAgICB0aGlzLl9nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgfVxuICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgdGhpcy5fbGluZVN0eWxlLmRlc3Ryb3koKTtcbiAgICB0aGlzLl9saW5lU3R5bGUgPSBudWxsO1xuICAgIHRoaXMuX2ZpbGxTdHlsZS5kZXN0cm95KCk7XG4gICAgdGhpcy5fZmlsbFN0eWxlID0gbnVsbDtcbiAgICB0aGlzLl9nZW9tZXRyeSA9IG51bGw7XG4gICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5iYXRjaGVzID0gbnVsbDtcbiAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuICB9XG59O1xubGV0IEdyYXBoaWNzID0gX0dyYXBoaWNzO1xuR3JhcGhpY3MuX1RFTVBfUE9JTlQgPSBuZXcgUG9pbnQoKTtcblxuZXhwb3J0IHsgR3JhcGhpY3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNzLm1qcy5tYXBcbiIsImNsYXNzIEdyYXBoaWNzRGF0YSB7XG4gIGNvbnN0cnVjdG9yKHNoYXBlLCBmaWxsU3R5bGUgPSBudWxsLCBsaW5lU3R5bGUgPSBudWxsLCBtYXRyaXggPSBudWxsKSB7XG4gICAgdGhpcy5wb2ludHMgPSBbXTtcbiAgICB0aGlzLmhvbGVzID0gW107XG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuICAgIHRoaXMubGluZVN0eWxlID0gbGluZVN0eWxlO1xuICAgIHRoaXMuZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgIHRoaXMudHlwZSA9IHNoYXBlLnR5cGU7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBHcmFwaGljc0RhdGEodGhpcy5zaGFwZSwgdGhpcy5maWxsU3R5bGUsIHRoaXMubGluZVN0eWxlLCB0aGlzLm1hdHJpeCk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICB0aGlzLmhvbGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5saW5lU3R5bGUgPSBudWxsO1xuICAgIHRoaXMuZmlsbFN0eWxlID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBHcmFwaGljc0RhdGEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNzRGF0YS5tanMubWFwXG4iLCJpbXBvcnQgeyBEUkFXX0NBTExfUE9PTCwgQkFUQ0hfUE9PTCwgRklMTF9DT01NQU5EUyB9IGZyb20gJy4vdXRpbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFBvaW50LCBCYXRjaEdlb21ldHJ5LCBXUkFQX01PREVTLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hUZXh0dXJlQXJyYXksIERSQVdfTU9ERVMsIHV0aWxzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBHcmFwaGljc0RhdGEgfSBmcm9tICcuL0dyYXBoaWNzRGF0YS5tanMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBCYXRjaFBhcnQgfSBmcm9tICcuL3V0aWxzL0JhdGNoUGFydC5tanMnO1xuaW1wb3J0IHsgYnVpbGRQb2x5IH0gZnJvbSAnLi91dGlscy9idWlsZFBvbHkubWpzJztcbmltcG9ydCB7IGJ1aWxkTGluZSB9IGZyb20gJy4vdXRpbHMvYnVpbGRMaW5lLm1qcyc7XG5cbmNvbnN0IHRtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5jb25zdCBfR3JhcGhpY3NHZW9tZXRyeSA9IGNsYXNzIGV4dGVuZHMgQmF0Y2hHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jbG9zZVBvaW50RXBzID0gMWUtNDtcbiAgICB0aGlzLmJvdW5kc1BhZGRpbmcgPSAwO1xuICAgIHRoaXMudXZzRmxvYXQzMiA9IG51bGw7XG4gICAgdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcbiAgICB0aGlzLmJhdGNoYWJsZSA9IGZhbHNlO1xuICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgdGhpcy5jb2xvcnMgPSBbXTtcbiAgICB0aGlzLnV2cyA9IFtdO1xuICAgIHRoaXMuaW5kaWNlcyA9IFtdO1xuICAgIHRoaXMudGV4dHVyZUlkcyA9IFtdO1xuICAgIHRoaXMuZ3JhcGhpY3NEYXRhID0gW107XG4gICAgdGhpcy5kcmF3Q2FsbHMgPSBbXTtcbiAgICB0aGlzLmJhdGNoRGlydHkgPSAtMTtcbiAgICB0aGlzLmJhdGNoZXMgPSBbXTtcbiAgICB0aGlzLmRpcnR5ID0gMDtcbiAgICB0aGlzLmNhY2hlRGlydHkgPSAtMTtcbiAgICB0aGlzLmNsZWFyRGlydHkgPSAwO1xuICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG4gICAgdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgIHRoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgfVxuICBnZXQgYm91bmRzKCkge1xuICAgIHRoaXMudXBkYXRlQmF0Y2hlcygpO1xuICAgIGlmICh0aGlzLmJvdW5kc0RpcnR5ICE9PSB0aGlzLmRpcnR5KSB7XG4gICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9ib3VuZHM7XG4gIH1cbiAgaW52YWxpZGF0ZSgpIHtcbiAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgdGhpcy5kaXJ0eSsrO1xuICAgIHRoaXMuYmF0Y2hEaXJ0eSsrO1xuICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG4gICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmNvbG9ycy5sZW5ndGggPSAwO1xuICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy50ZXh0dXJlSWRzLmxlbmd0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgIH1cbiAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiYXRjaFBhcnQgPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICBiYXRjaFBhcnQucmVzZXQoKTtcbiAgICAgIEJBVENIX1BPT0wucHVzaChiYXRjaFBhcnQpO1xuICAgIH1cbiAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgfVxuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICB0aGlzLmNsZWFyRGlydHkrKztcbiAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRyYXdTaGFwZShzaGFwZSwgZmlsbFN0eWxlID0gbnVsbCwgbGluZVN0eWxlID0gbnVsbCwgbWF0cml4ID0gbnVsbCkge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KTtcbiAgICB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGRhdGEpO1xuICAgIHRoaXMuZGlydHkrKztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBkcmF3SG9sZShzaGFwZSwgbWF0cml4ID0gbnVsbCkge1xuICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIG51bGwsIG51bGwsIG1hdHJpeCk7XG4gICAgY29uc3QgbGFzdFNoYXBlID0gdGhpcy5ncmFwaGljc0RhdGFbdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG4gICAgZGF0YS5saW5lU3R5bGUgPSBsYXN0U2hhcGUubGluZVN0eWxlO1xuICAgIGxhc3RTaGFwZS5ob2xlcy5wdXNoKGRhdGEpO1xuICAgIHRoaXMuZGlydHkrKztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICB0aGlzLmdyYXBoaWNzRGF0YVtpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5jb2xvcnMgPSBudWxsO1xuICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy51dnMgPSBudWxsO1xuICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG4gICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmRyYXdDYWxscyA9IG51bGw7XG4gICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5iYXRjaGVzID0gbnVsbDtcbiAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICB9XG4gIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICBjb25zdCBncmFwaGljc0RhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcbiAgICAgIGlmICghZGF0YS5maWxsU3R5bGUudmlzaWJsZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhLnNoYXBlKSB7XG4gICAgICAgIGlmIChkYXRhLm1hdHJpeCkge1xuICAgICAgICAgIGRhdGEubWF0cml4LmFwcGx5SW52ZXJzZShwb2ludCwgdG1wUG9pbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRtcFBvaW50LmNvcHlGcm9tKHBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSkge1xuICAgICAgICAgIGxldCBoaXRIb2xlID0gZmFsc2U7XG4gICAgICAgICAgaWYgKGRhdGEuaG9sZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaTIrKykge1xuICAgICAgICAgICAgICBjb25zdCBob2xlID0gZGF0YS5ob2xlc1tpMl07XG4gICAgICAgICAgICAgIGlmIChob2xlLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgaGl0SG9sZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFoaXRIb2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHVwZGF0ZUJhdGNoZXMoKSB7XG4gICAgaWYgKCF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnZhbGlkYXRlQmF0Y2hpbmcoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNhY2hlRGlydHkgPSB0aGlzLmRpcnR5O1xuICAgIGNvbnN0IHV2cyA9IHRoaXMudXZzO1xuICAgIGNvbnN0IGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuICAgIGxldCBiYXRjaFBhcnQgPSBudWxsO1xuICAgIGxldCBjdXJyZW50U3R5bGUgPSBudWxsO1xuICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgICAgIGN1cnJlbnRTdHlsZSA9IGJhdGNoUGFydC5zdHlsZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuc2hhcGVJbmRleDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zaGFwZUluZGV4Kys7XG4gICAgICBjb25zdCBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgY29uc3QgZmlsbFN0eWxlID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICBjb25zdCBsaW5lU3R5bGUgPSBkYXRhLmxpbmVTdHlsZTtcbiAgICAgIGNvbnN0IGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG4gICAgICBjb21tYW5kLmJ1aWxkKGRhdGEpO1xuICAgICAgaWYgKGRhdGEubWF0cml4KSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGRhdGEucG9pbnRzLCBkYXRhLm1hdHJpeCk7XG4gICAgICB9XG4gICAgICBpZiAoZmlsbFN0eWxlLnZpc2libGUgfHwgbGluZVN0eWxlLnZpc2libGUpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzSG9sZXMoZGF0YS5ob2xlcyk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDI7IGorKykge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGogPT09IDAgPyBmaWxsU3R5bGUgOiBsaW5lU3R5bGU7XG4gICAgICAgIGlmICghc3R5bGUudmlzaWJsZSlcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICBjb25zdCBpbmRleDIgPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBhdHRyaWJJbmRleCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5wcm9jZXNzRmlsbChkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnByb2Nlc3NMaW5lKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyIC0gYXR0cmliSW5kZXg7XG4gICAgICAgIGlmIChzaXplID09PSAwKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoYmF0Y2hQYXJ0ICYmICF0aGlzLl9jb21wYXJlU3R5bGVzKGN1cnJlbnRTdHlsZSwgc3R5bGUpKSB7XG4gICAgICAgICAgYmF0Y2hQYXJ0LmVuZChpbmRleDIsIGF0dHJpYkluZGV4KTtcbiAgICAgICAgICBiYXRjaFBhcnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYmF0Y2hQYXJ0KSB7XG4gICAgICAgICAgYmF0Y2hQYXJ0ID0gQkFUQ0hfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hQYXJ0KCk7XG4gICAgICAgICAgYmF0Y2hQYXJ0LmJlZ2luKHN0eWxlLCBpbmRleDIsIGF0dHJpYkluZGV4KTtcbiAgICAgICAgICB0aGlzLmJhdGNoZXMucHVzaChiYXRjaFBhcnQpO1xuICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IHN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkVXZzKHRoaXMucG9pbnRzLCB1dnMsIHN0eWxlLnRleHR1cmUsIGF0dHJpYkluZGV4LCBzaXplLCBzdHlsZS5tYXRyaXgpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgY29uc3QgYXR0cmliID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICBpZiAoYmF0Y2hQYXJ0KSB7XG4gICAgICBiYXRjaFBhcnQuZW5kKGluZGV4LCBhdHRyaWIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5iYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5iYXRjaGFibGUgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZWVkMzIgPSBhdHRyaWIgPiA2NTUzNTtcbiAgICBpZiAodGhpcy5pbmRpY2VzVWludDE2ICYmIHRoaXMuaW5kaWNlcy5sZW5ndGggPT09IHRoaXMuaW5kaWNlc1VpbnQxNi5sZW5ndGggJiYgbmVlZDMyID09PSB0aGlzLmluZGljZXNVaW50MTYuQllURVNfUEVSX0VMRU1FTlQgPiAyKSB7XG4gICAgICB0aGlzLmluZGljZXNVaW50MTYuc2V0KHRoaXMuaW5kaWNlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG5lZWQzMiA/IG5ldyBVaW50MzJBcnJheSh0aGlzLmluZGljZXMpIDogbmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyk7XG4gICAgfVxuICAgIHRoaXMuYmF0Y2hhYmxlID0gdGhpcy5pc0JhdGNoYWJsZSgpO1xuICAgIGlmICh0aGlzLmJhdGNoYWJsZSkge1xuICAgICAgdGhpcy5wYWNrQmF0Y2hlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKCk7XG4gICAgfVxuICB9XG4gIF9jb21wYXJlU3R5bGVzKHN0eWxlQSwgc3R5bGVCKSB7XG4gICAgaWYgKCFzdHlsZUEgfHwgIXN0eWxlQikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoc3R5bGVBLnRleHR1cmUuYmFzZVRleHR1cmUgIT09IHN0eWxlQi50ZXh0dXJlLmJhc2VUZXh0dXJlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChzdHlsZUEuY29sb3IgKyBzdHlsZUEuYWxwaGEgIT09IHN0eWxlQi5jb2xvciArIHN0eWxlQi5hbHBoYSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoISFzdHlsZUEubmF0aXZlICE9PSAhIXN0eWxlQi5uYXRpdmUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFsaWRhdGVCYXRjaGluZygpIHtcbiAgICBpZiAodGhpcy5kaXJ0eSA9PT0gdGhpcy5jYWNoZURpcnR5IHx8ICF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgIGNvbnN0IGZpbGwgPSBkYXRhLmZpbGxTdHlsZTtcbiAgICAgIGNvbnN0IGxpbmUgPSBkYXRhLmxpbmVTdHlsZTtcbiAgICAgIGlmIChmaWxsICYmICFmaWxsLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChsaW5lICYmICFsaW5lLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcGFja0JhdGNoZXMoKSB7XG4gICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgdGhpcy51dnNGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnV2cyk7XG4gICAgY29uc3QgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBiYXRjaCA9IGJhdGNoZXNbaV07XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJhdGNoLnNpemU7IGorKykge1xuICAgICAgICBjb25zdCBpbmRleCA9IGJhdGNoLnN0YXJ0ICsgajtcbiAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2W2luZGV4XSA9IHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gLSBiYXRjaC5hdHRyaWJTdGFydDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaXNCYXRjaGFibGUoKSB7XG4gICAgaWYgKHRoaXMucG9pbnRzLmxlbmd0aCA+IDY1NTM1ICogMikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBiYXRjaGVzID0gdGhpcy5iYXRjaGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGJhdGNoZXNbaV0uc3R5bGUubmF0aXZlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucG9pbnRzLmxlbmd0aCA8IF9HcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFICogMjtcbiAgfVxuICBidWlsZERyYXdDYWxscygpIHtcbiAgICBsZXQgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleEFycmF5LmNsZWFyKCk7XG4gICAgICBEUkFXX0NBTExfUE9PTC5wdXNoKHRoaXMuZHJhd0NhbGxzW2ldKTtcbiAgICB9XG4gICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcbiAgICBjb25zdCBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICBjb25zdCB0ZXh0dXJlSWRzID0gdGhpcy50ZXh0dXJlSWRzO1xuICAgIGxldCBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICBpZiAoIWN1cnJlbnRHcm91cCkge1xuICAgICAgY3VycmVudEdyb3VwID0gbmV3IEJhdGNoRHJhd0NhbGwoKTtcbiAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheSA9IG5ldyBCYXRjaFRleHR1cmVBcnJheSgpO1xuICAgIH1cbiAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQgPSAwO1xuICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IDA7XG4gICAgY3VycmVudEdyb3VwLnNpemUgPSAwO1xuICAgIGN1cnJlbnRHcm91cC50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgbGV0IHRleHR1cmVDb3VudCA9IDA7XG4gICAgbGV0IGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICBsZXQgdGV4dHVyZUlkID0gMDtcbiAgICBsZXQgbmF0aXZlID0gZmFsc2U7XG4gICAgbGV0IGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICB0aGlzLmRyYXdDYWxscy5wdXNoKGN1cnJlbnRHcm91cCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICBjb25zdCBNQVhfVEVYVFVSRVMgPSA4O1xuICAgICAgY29uc3Qgc3R5bGUgPSBkYXRhLnN0eWxlO1xuICAgICAgY29uc3QgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgaWYgKG5hdGl2ZSAhPT0gISFzdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgbmF0aXZlID0gISFzdHlsZS5uYXRpdmU7XG4gICAgICAgIGRyYXdNb2RlID0gbmF0aXZlID8gRFJBV19NT0RFUy5MSU5FUyA6IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRleHR1cmVDb3VudCA9IE1BWF9URVhUVVJFUztcbiAgICAgICAgVElDSysrO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSkge1xuICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuICAgICAgICBpZiAobmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCAhPT0gVElDSykge1xuICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgIGlmIChjdXJyZW50R3JvdXAuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gRFJBV19DQUxMX1BPT0wucG9wKCk7XG4gICAgICAgICAgICAgIGlmICghY3VycmVudEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gbmV3IEJhdGNoRHJhd0NhbGwoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLmRyYXdDYWxscy5wdXNoKGN1cnJlbnRHcm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSBpbmRleDtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gMDtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCA9IDA7XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAudHlwZSA9IGRyYXdNb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gMTtcbiAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hMb2NhdGlvbiA9IHRleHR1cmVDb3VudDtcbiAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5lbGVtZW50c1tjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VycmVudEdyb3VwLnNpemUgKz0gZGF0YS5zaXplO1xuICAgICAgaW5kZXggKz0gZGF0YS5zaXplO1xuICAgICAgdGV4dHVyZUlkID0gbmV4dFRleHR1cmUuX2JhdGNoTG9jYXRpb247XG4gICAgICB0aGlzLmFkZENvbG9ycyhjb2xvcnMsIHN0eWxlLmNvbG9yLCBzdHlsZS5hbHBoYSwgZGF0YS5hdHRyaWJTaXplLCBkYXRhLmF0dHJpYlN0YXJ0KTtcbiAgICAgIHRoaXMuYWRkVGV4dHVyZUlkcyh0ZXh0dXJlSWRzLCB0ZXh0dXJlSWQsIGRhdGEuYXR0cmliU2l6ZSwgZGF0YS5hdHRyaWJTdGFydCk7XG4gICAgfVxuICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IFRJQ0s7XG4gICAgdGhpcy5wYWNrQXR0cmlidXRlcygpO1xuICB9XG4gIHBhY2tBdHRyaWJ1dGVzKCkge1xuICAgIGNvbnN0IHZlcnRzID0gdGhpcy5wb2ludHM7XG4gICAgY29uc3QgdXZzID0gdGhpcy51dnM7XG4gICAgY29uc3QgY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgY29uc3QgdGV4dHVyZUlkcyA9IHRoaXMudGV4dHVyZUlkcztcbiAgICBjb25zdCBnbFBvaW50cyA9IG5ldyBBcnJheUJ1ZmZlcih2ZXJ0cy5sZW5ndGggKiAzICogNCk7XG4gICAgY29uc3QgZjMyID0gbmV3IEZsb2F0MzJBcnJheShnbFBvaW50cyk7XG4gICAgY29uc3QgdTMyID0gbmV3IFVpbnQzMkFycmF5KGdsUG9pbnRzKTtcbiAgICBsZXQgcCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0cy5sZW5ndGggLyAyOyBpKyspIHtcbiAgICAgIGYzMltwKytdID0gdmVydHNbaSAqIDJdO1xuICAgICAgZjMyW3ArK10gPSB2ZXJ0c1tpICogMiArIDFdO1xuICAgICAgZjMyW3ArK10gPSB1dnNbaSAqIDJdO1xuICAgICAgZjMyW3ArK10gPSB1dnNbaSAqIDIgKyAxXTtcbiAgICAgIHUzMltwKytdID0gY29sb3JzW2ldO1xuICAgICAgZjMyW3ArK10gPSB0ZXh0dXJlSWRzW2ldO1xuICAgIH1cbiAgICB0aGlzLl9idWZmZXIudXBkYXRlKGdsUG9pbnRzKTtcbiAgICB0aGlzLl9pbmRleEJ1ZmZlci51cGRhdGUodGhpcy5pbmRpY2VzVWludDE2KTtcbiAgfVxuICBwcm9jZXNzRmlsbChkYXRhKSB7XG4gICAgaWYgKGRhdGEuaG9sZXMubGVuZ3RoKSB7XG4gICAgICBidWlsZFBvbHkudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG4gICAgICBjb21tYW5kLnRyaWFuZ3VsYXRlKGRhdGEsIHRoaXMpO1xuICAgIH1cbiAgfVxuICBwcm9jZXNzTGluZShkYXRhKSB7XG4gICAgYnVpbGRMaW5lKGRhdGEsIHRoaXMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgYnVpbGRMaW5lKGRhdGEuaG9sZXNbaV0sIHRoaXMpO1xuICAgIH1cbiAgfVxuICBwcm9jZXNzSG9sZXMoaG9sZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBob2xlID0gaG9sZXNbaV07XG4gICAgICBjb25zdCBjb21tYW5kID0gRklMTF9DT01NQU5EU1tob2xlLnR5cGVdO1xuICAgICAgY29tbWFuZC5idWlsZChob2xlKTtcbiAgICAgIGlmIChob2xlLm1hdHJpeCkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhob2xlLnBvaW50cywgaG9sZS5tYXRyaXgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgY29uc3QgYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIGJvdW5kcy5jbGVhcigpO1xuICAgIGJvdW5kcy5hZGRWZXJ0ZXhEYXRhKHRoaXMucG9pbnRzLCAwLCB0aGlzLnBvaW50cy5sZW5ndGgpO1xuICAgIGJvdW5kcy5wYWQodGhpcy5ib3VuZHNQYWRkaW5nLCB0aGlzLmJvdW5kc1BhZGRpbmcpO1xuICB9XG4gIHRyYW5zZm9ybVBvaW50cyhwb2ludHMsIG1hdHJpeCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgY29uc3QgeCA9IHBvaW50c1tpICogMl07XG4gICAgICBjb25zdCB5ID0gcG9pbnRzW2kgKiAyICsgMV07XG4gICAgICBwb2ludHNbaSAqIDJdID0gbWF0cml4LmEgKiB4ICsgbWF0cml4LmMgKiB5ICsgbWF0cml4LnR4O1xuICAgICAgcG9pbnRzW2kgKiAyICsgMV0gPSBtYXRyaXguYiAqIHggKyBtYXRyaXguZCAqIHkgKyBtYXRyaXgudHk7XG4gICAgfVxuICB9XG4gIGFkZENvbG9ycyhjb2xvcnMsIGNvbG9yLCBhbHBoYSwgc2l6ZSwgb2Zmc2V0ID0gMCkge1xuICAgIGNvbnN0IHJnYiA9IChjb2xvciA+PiAxNikgKyAoY29sb3IgJiA2NTI4MCkgKyAoKGNvbG9yICYgMjU1KSA8PCAxNik7XG4gICAgY29uc3QgcmdiYSA9IHV0aWxzLnByZW11bHRpcGx5VGludChyZ2IsIGFscGhhKTtcbiAgICBjb2xvcnMubGVuZ3RoID0gTWF0aC5tYXgoY29sb3JzLmxlbmd0aCwgb2Zmc2V0ICsgc2l6ZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgIGNvbG9yc1tvZmZzZXQgKyBpXSA9IHJnYmE7XG4gICAgfVxuICB9XG4gIGFkZFRleHR1cmVJZHModGV4dHVyZUlkcywgaWQsIHNpemUsIG9mZnNldCA9IDApIHtcbiAgICB0ZXh0dXJlSWRzLmxlbmd0aCA9IE1hdGgubWF4KHRleHR1cmVJZHMubGVuZ3RoLCBvZmZzZXQgKyBzaXplKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgdGV4dHVyZUlkc1tvZmZzZXQgKyBpXSA9IGlkO1xuICAgIH1cbiAgfVxuICBhZGRVdnModmVydHMsIHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUsIG1hdHJpeCA9IG51bGwpIHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGNvbnN0IHV2c1N0YXJ0ID0gdXZzLmxlbmd0aDtcbiAgICBjb25zdCBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgd2hpbGUgKGluZGV4IDwgc2l6ZSkge1xuICAgICAgbGV0IHggPSB2ZXJ0c1soc3RhcnQgKyBpbmRleCkgKiAyXTtcbiAgICAgIGxldCB5ID0gdmVydHNbKHN0YXJ0ICsgaW5kZXgpICogMiArIDFdO1xuICAgICAgaWYgKG1hdHJpeCkge1xuICAgICAgICBjb25zdCBueCA9IG1hdHJpeC5hICogeCArIG1hdHJpeC5jICogeSArIG1hdHJpeC50eDtcbiAgICAgICAgeSA9IG1hdHJpeC5iICogeCArIG1hdHJpeC5kICogeSArIG1hdHJpeC50eTtcbiAgICAgICAgeCA9IG54O1xuICAgICAgfVxuICAgICAgaW5kZXgrKztcbiAgICAgIHV2cy5wdXNoKHggLyBmcmFtZS53aWR0aCwgeSAvIGZyYW1lLmhlaWdodCk7XG4gICAgfVxuICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICBpZiAoZnJhbWUud2lkdGggPCBiYXNlVGV4dHVyZS53aWR0aCB8fCBmcmFtZS5oZWlnaHQgPCBiYXNlVGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgIHRoaXMuYWRqdXN0VXZzKHV2cywgdGV4dHVyZSwgdXZzU3RhcnQsIHNpemUpO1xuICAgIH1cbiAgfVxuICBhZGp1c3RVdnModXZzLCB0ZXh0dXJlLCBzdGFydCwgc2l6ZSkge1xuICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICBjb25zdCBlcHMgPSAxZS02O1xuICAgIGNvbnN0IGZpbmlzaCA9IHN0YXJ0ICsgc2l6ZSAqIDI7XG4gICAgY29uc3QgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgIGNvbnN0IHNjYWxlWCA9IGZyYW1lLndpZHRoIC8gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgY29uc3Qgc2NhbGVZID0gZnJhbWUuaGVpZ2h0IC8gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgIGxldCBvZmZzZXRYID0gZnJhbWUueCAvIGZyYW1lLndpZHRoO1xuICAgIGxldCBvZmZzZXRZID0gZnJhbWUueSAvIGZyYW1lLmhlaWdodDtcbiAgICBsZXQgbWluWCA9IE1hdGguZmxvb3IodXZzW3N0YXJ0XSArIGVwcyk7XG4gICAgbGV0IG1pblkgPSBNYXRoLmZsb29yKHV2c1tzdGFydCArIDFdICsgZXBzKTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQgKyAyOyBpIDwgZmluaXNoOyBpICs9IDIpIHtcbiAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBNYXRoLmZsb29yKHV2c1tpXSArIGVwcykpO1xuICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIE1hdGguZmxvb3IodXZzW2kgKyAxXSArIGVwcykpO1xuICAgIH1cbiAgICBvZmZzZXRYIC09IG1pblg7XG4gICAgb2Zmc2V0WSAtPSBtaW5ZO1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgaSArPSAyKSB7XG4gICAgICB1dnNbaV0gPSAodXZzW2ldICsgb2Zmc2V0WCkgKiBzY2FsZVg7XG4gICAgICB1dnNbaSArIDFdID0gKHV2c1tpICsgMV0gKyBvZmZzZXRZKSAqIHNjYWxlWTtcbiAgICB9XG4gIH1cbn07XG5sZXQgR3JhcGhpY3NHZW9tZXRyeSA9IF9HcmFwaGljc0dlb21ldHJ5O1xuR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSA9IDEwMDtcblxuZXhwb3J0IHsgR3JhcGhpY3NHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3NHZW9tZXRyeS5tanMubWFwXG4iLCJ2YXIgTElORV9KT0lOID0gLyogQF9fUFVSRV9fICovICgoTElORV9KT0lOMikgPT4ge1xuICBMSU5FX0pPSU4yW1wiTUlURVJcIl0gPSBcIm1pdGVyXCI7XG4gIExJTkVfSk9JTjJbXCJCRVZFTFwiXSA9IFwiYmV2ZWxcIjtcbiAgTElORV9KT0lOMltcIlJPVU5EXCJdID0gXCJyb3VuZFwiO1xuICByZXR1cm4gTElORV9KT0lOMjtcbn0pKExJTkVfSk9JTiB8fCB7fSk7XG52YXIgTElORV9DQVAgPSAvKiBAX19QVVJFX18gKi8gKChMSU5FX0NBUDIpID0+IHtcbiAgTElORV9DQVAyW1wiQlVUVFwiXSA9IFwiYnV0dFwiO1xuICBMSU5FX0NBUDJbXCJST1VORFwiXSA9IFwicm91bmRcIjtcbiAgTElORV9DQVAyW1wiU1FVQVJFXCJdID0gXCJzcXVhcmVcIjtcbiAgcmV0dXJuIExJTkVfQ0FQMjtcbn0pKExJTkVfQ0FQIHx8IHt9KTtcbmNvbnN0IEdSQVBISUNTX0NVUlZFUyA9IHtcbiAgYWRhcHRpdmU6IHRydWUsXG4gIG1heExlbmd0aDogMTAsXG4gIG1pblNlZ21lbnRzOiA4LFxuICBtYXhTZWdtZW50czogMjA0OCxcbiAgZXBzaWxvbjogMWUtNCxcbiAgX3NlZ21lbnRzQ291bnQobGVuZ3RoLCBkZWZhdWx0U2VnbWVudHMgPSAyMCkge1xuICAgIGlmICghdGhpcy5hZGFwdGl2ZSB8fCAhbGVuZ3RoIHx8IGlzTmFOKGxlbmd0aCkpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0U2VnbWVudHM7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBNYXRoLmNlaWwobGVuZ3RoIC8gdGhpcy5tYXhMZW5ndGgpO1xuICAgIGlmIChyZXN1bHQgPCB0aGlzLm1pblNlZ21lbnRzKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLm1pblNlZ21lbnRzO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0ID4gdGhpcy5tYXhTZWdtZW50cykge1xuICAgICAgcmVzdWx0ID0gdGhpcy5tYXhTZWdtZW50cztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcblxuZXhwb3J0IHsgR1JBUEhJQ1NfQ1VSVkVTLCBMSU5FX0NBUCwgTElORV9KT0lOIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdC5tanMubWFwXG4iLCJleHBvcnQgeyBHUkFQSElDU19DVVJWRVMsIExJTkVfQ0FQLCBMSU5FX0pPSU4gfSBmcm9tICcuL2NvbnN0Lm1qcyc7XG5leHBvcnQgeyBGaWxsU3R5bGUgfSBmcm9tICcuL3N0eWxlcy9GaWxsU3R5bGUubWpzJztcbmV4cG9ydCB7IEdyYXBoaWNzIH0gZnJvbSAnLi9HcmFwaGljcy5tanMnO1xuZXhwb3J0IHsgR3JhcGhpY3NEYXRhIH0gZnJvbSAnLi9HcmFwaGljc0RhdGEubWpzJztcbmV4cG9ydCB7IEdyYXBoaWNzR2VvbWV0cnkgfSBmcm9tICcuL0dyYXBoaWNzR2VvbWV0cnkubWpzJztcbmV4cG9ydCB7IExpbmVTdHlsZSB9IGZyb20gJy4vc3R5bGVzL0xpbmVTdHlsZS5tanMnO1xuaW1wb3J0IHsgRklMTF9DT01NQU5EUywgQkFUQ0hfUE9PTCwgRFJBV19DQUxMX1BPT0wgfSBmcm9tICcuL3V0aWxzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBidWlsZFBvbHkgfSBmcm9tICcuL3V0aWxzL2J1aWxkUG9seS5tanMnO1xuaW1wb3J0IHsgYnVpbGRDaXJjbGUgfSBmcm9tICcuL3V0aWxzL2J1aWxkQ2lyY2xlLm1qcyc7XG5pbXBvcnQgeyBidWlsZFJlY3RhbmdsZSB9IGZyb20gJy4vdXRpbHMvYnVpbGRSZWN0YW5nbGUubWpzJztcbmltcG9ydCB7IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSB9IGZyb20gJy4vdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBidWlsZExpbmUgfSBmcm9tICcuL3V0aWxzL2J1aWxkTGluZS5tanMnO1xuaW1wb3J0IHsgQXJjVXRpbHMgfSBmcm9tICcuL3V0aWxzL0FyY1V0aWxzLm1qcyc7XG5pbXBvcnQgeyBCZXppZXJVdGlscyB9IGZyb20gJy4vdXRpbHMvQmV6aWVyVXRpbHMubWpzJztcbmltcG9ydCB7IFF1YWRyYXRpY1V0aWxzIH0gZnJvbSAnLi91dGlscy9RdWFkcmF0aWNVdGlscy5tanMnO1xuaW1wb3J0IHsgQmF0Y2hQYXJ0IH0gZnJvbSAnLi91dGlscy9CYXRjaFBhcnQubWpzJztcblxuY29uc3QgZ3JhcGhpY3NVdGlscyA9IHtcbiAgYnVpbGRQb2x5LFxuICBidWlsZENpcmNsZSxcbiAgYnVpbGRSZWN0YW5nbGUsXG4gIGJ1aWxkUm91bmRlZFJlY3RhbmdsZSxcbiAgYnVpbGRMaW5lLFxuICBBcmNVdGlscyxcbiAgQmV6aWVyVXRpbHMsXG4gIFF1YWRyYXRpY1V0aWxzLFxuICBCYXRjaFBhcnQsXG4gIEZJTExfQ09NTUFORFMsXG4gIEJBVENIX1BPT0wsXG4gIERSQVdfQ0FMTF9QT09MXG59O1xuXG5leHBvcnQgeyBncmFwaGljc1V0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNsYXNzIEZpbGxTdHlsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29sb3IgPSAxNjc3NzIxNTtcbiAgICB0aGlzLmFscGhhID0gMTtcbiAgICB0aGlzLnRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgY29uc3Qgb2JqID0gbmV3IEZpbGxTdHlsZSgpO1xuICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICBvYmoudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLmNvbG9yID0gMTY3NzcyMTU7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgdGhpcy50ZXh0dXJlID0gVGV4dHVyZS5XSElURTtcbiAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBGaWxsU3R5bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbGxTdHlsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBGaWxsU3R5bGUgfSBmcm9tICcuL0ZpbGxTdHlsZS5tanMnO1xuaW1wb3J0IHsgTElORV9DQVAsIExJTkVfSk9JTiB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5cbmNsYXNzIExpbmVTdHlsZSBleHRlbmRzIEZpbGxTdHlsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5hbGlnbm1lbnQgPSAwLjU7XG4gICAgdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmNhcCA9IExJTkVfQ0FQLkJVVFQ7XG4gICAgdGhpcy5qb2luID0gTElORV9KT0lOLk1JVEVSO1xuICAgIHRoaXMubWl0ZXJMaW1pdCA9IDEwO1xuICB9XG4gIGNsb25lKCkge1xuICAgIGNvbnN0IG9iaiA9IG5ldyBMaW5lU3R5bGUoKTtcbiAgICBvYmouY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgb2JqLm1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgIG9iai53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgb2JqLmFsaWdubWVudCA9IHRoaXMuYWxpZ25tZW50O1xuICAgIG9iai5uYXRpdmUgPSB0aGlzLm5hdGl2ZTtcbiAgICBvYmouY2FwID0gdGhpcy5jYXA7XG4gICAgb2JqLmpvaW4gPSB0aGlzLmpvaW47XG4gICAgb2JqLm1pdGVyTGltaXQgPSB0aGlzLm1pdGVyTGltaXQ7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuICAgIHRoaXMuY29sb3IgPSAwO1xuICAgIHRoaXMuYWxpZ25tZW50ID0gMC41O1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIHRoaXMubmF0aXZlID0gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IHsgTGluZVN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaW5lU3R5bGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgR1JBUEhJQ1NfQ1VSVkVTIH0gZnJvbSAnLi4vY29uc3QubWpzJztcbmltcG9ydCB7IFBJXzIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY2xhc3MgQXJjVXRpbHMge1xuICBzdGF0aWMgY3VydmVUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpIHtcbiAgICBjb25zdCBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgY29uc3QgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGExID0gZnJvbVkgLSB5MTtcbiAgICBjb25zdCBiMSA9IGZyb21YIC0geDE7XG4gICAgY29uc3QgYTIgPSB5MiAtIHkxO1xuICAgIGNvbnN0IGIyID0geDIgLSB4MTtcbiAgICBjb25zdCBtbSA9IE1hdGguYWJzKGExICogYjIgLSBiMSAqIGEyKTtcbiAgICBpZiAobW0gPCAxZS04IHx8IHJhZGl1cyA9PT0gMCkge1xuICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKSB7XG4gICAgICAgIHBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZGQgPSBhMSAqIGExICsgYjEgKiBiMTtcbiAgICBjb25zdCBjYyA9IGEyICogYTIgKyBiMiAqIGIyO1xuICAgIGNvbnN0IHR0ID0gYTEgKiBhMiArIGIxICogYjI7XG4gICAgY29uc3QgazEgPSByYWRpdXMgKiBNYXRoLnNxcnQoZGQpIC8gbW07XG4gICAgY29uc3QgazIgPSByYWRpdXMgKiBNYXRoLnNxcnQoY2MpIC8gbW07XG4gICAgY29uc3QgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgY29uc3QgajIgPSBrMiAqIHR0IC8gY2M7XG4gICAgY29uc3QgY3ggPSBrMSAqIGIyICsgazIgKiBiMTtcbiAgICBjb25zdCBjeSA9IGsxICogYTIgKyBrMiAqIGExO1xuICAgIGNvbnN0IHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgY29uc3QgcHkgPSBhMSAqIChrMiArIGoxKTtcbiAgICBjb25zdCBxeCA9IGIyICogKGsxICsgajIpO1xuICAgIGNvbnN0IHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgY29uc3Qgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIocHkgLSBjeSwgcHggLSBjeCk7XG4gICAgY29uc3QgZW5kQW5nbGUgPSBNYXRoLmF0YW4yKHF5IC0gY3ksIHF4IC0gY3gpO1xuICAgIHJldHVybiB7XG4gICAgICBjeDogY3ggKyB4MSxcbiAgICAgIGN5OiBjeSArIHkxLFxuICAgICAgcmFkaXVzLFxuICAgICAgc3RhcnRBbmdsZSxcbiAgICAgIGVuZEFuZ2xlLFxuICAgICAgYW50aWNsb2Nrd2lzZTogYjEgKiBhMiA+IGIyICogYTFcbiAgICB9O1xuICB9XG4gIHN0YXRpYyBhcmMoX3N0YXJ0WCwgX3N0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBfYW50aWNsb2Nrd2lzZSwgcG9pbnRzKSB7XG4gICAgY29uc3Qgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgY29uc3QgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChNYXRoLmFicyhzd2VlcCkgKiByYWRpdXMsIE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBQSV8yKSAqIDQwKTtcbiAgICBjb25zdCB0aGV0YSA9IHN3ZWVwIC8gKG4gKiAyKTtcbiAgICBjb25zdCB0aGV0YTIgPSB0aGV0YSAqIDI7XG4gICAgY29uc3QgY1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xuICAgIGNvbnN0IHNUaGV0YSA9IE1hdGguc2luKHRoZXRhKTtcbiAgICBjb25zdCBzZWdNaW51cyA9IG4gLSAxO1xuICAgIGNvbnN0IHJlbWFpbmRlciA9IHNlZ01pbnVzICUgMSAvIHNlZ01pbnVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHNlZ01pbnVzOyArK2kpIHtcbiAgICAgIGNvbnN0IHJlYWwgPSBpICsgcmVtYWluZGVyICogaTtcbiAgICAgIGNvbnN0IGFuZ2xlID0gdGhldGEgKyBzdGFydEFuZ2xlICsgdGhldGEyICogcmVhbDtcbiAgICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICBjb25zdCBzID0gLU1hdGguc2luKGFuZ2xlKTtcbiAgICAgIHBvaW50cy5wdXNoKChjVGhldGEgKiBjICsgc1RoZXRhICogcykgKiByYWRpdXMgKyBjeCwgKGNUaGV0YSAqIC1zICsgc1RoZXRhICogYykgKiByYWRpdXMgKyBjeSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEFyY1V0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcmNVdGlscy5tanMubWFwXG4iLCJjbGFzcyBCYXRjaFBhcnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cbiAgYmVnaW4oc3R5bGUsIHN0YXJ0SW5kZXgsIGF0dHJpYlN0YXJ0KSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICB0aGlzLnN0YXJ0ID0gc3RhcnRJbmRleDtcbiAgICB0aGlzLmF0dHJpYlN0YXJ0ID0gYXR0cmliU3RhcnQ7XG4gIH1cbiAgZW5kKGVuZEluZGV4LCBlbmRBdHRyaWIpIHtcbiAgICB0aGlzLmF0dHJpYlNpemUgPSBlbmRBdHRyaWIgLSB0aGlzLmF0dHJpYlN0YXJ0O1xuICAgIHRoaXMuc2l6ZSA9IGVuZEluZGV4IC0gdGhpcy5zdGFydDtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnN0eWxlID0gbnVsbDtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuYXR0cmliU3RhcnQgPSAwO1xuICAgIHRoaXMuYXR0cmliU2l6ZSA9IDA7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hQYXJ0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaFBhcnQubWpzLm1hcFxuIiwiaW1wb3J0IHsgR1JBUEhJQ1NfQ1VSVkVTIH0gZnJvbSAnLi4vY29uc3QubWpzJztcblxuY2xhc3MgQmV6aWVyVXRpbHMge1xuICBzdGF0aWMgY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICBjb25zdCBuID0gMTA7XG4gICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgbGV0IHQgPSAwO1xuICAgIGxldCB0MiA9IDA7XG4gICAgbGV0IHQzID0gMDtcbiAgICBsZXQgbnQgPSAwO1xuICAgIGxldCBudDIgPSAwO1xuICAgIGxldCBudDMgPSAwO1xuICAgIGxldCB4ID0gMDtcbiAgICBsZXQgeSA9IDA7XG4gICAgbGV0IGR4ID0gMDtcbiAgICBsZXQgZHkgPSAwO1xuICAgIGxldCBwcmV2WCA9IGZyb21YO1xuICAgIGxldCBwcmV2WSA9IGZyb21ZO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgdCA9IGkgLyBuO1xuICAgICAgdDIgPSB0ICogdDtcbiAgICAgIHQzID0gdDIgKiB0O1xuICAgICAgbnQgPSAxIC0gdDtcbiAgICAgIG50MiA9IG50ICogbnQ7XG4gICAgICBudDMgPSBudDIgKiBudDtcbiAgICAgIHggPSBudDMgKiBmcm9tWCArIDMgKiBudDIgKiB0ICogY3BYICsgMyAqIG50ICogdDIgKiBjcFgyICsgdDMgKiB0b1g7XG4gICAgICB5ID0gbnQzICogZnJvbVkgKyAzICogbnQyICogdCAqIGNwWSArIDMgKiBudCAqIHQyICogY3BZMiArIHQzICogdG9ZO1xuICAgICAgZHggPSBwcmV2WCAtIHg7XG4gICAgICBkeSA9IHByZXZZIC0geTtcbiAgICAgIHByZXZYID0geDtcbiAgICAgIHByZXZZID0geTtcbiAgICAgIHJlc3VsdCArPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIHN0YXRpYyBjdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgcG9pbnRzKSB7XG4gICAgY29uc3QgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgIGNvbnN0IGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICBwb2ludHMubGVuZ3RoIC09IDI7XG4gICAgY29uc3QgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChCZXppZXJVdGlscy5jdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkpO1xuICAgIGxldCBkdCA9IDA7XG4gICAgbGV0IGR0MiA9IDA7XG4gICAgbGV0IGR0MyA9IDA7XG4gICAgbGV0IHQyID0gMDtcbiAgICBsZXQgdDMgPSAwO1xuICAgIHBvaW50cy5wdXNoKGZyb21YLCBmcm9tWSk7XG4gICAgZm9yIChsZXQgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSkge1xuICAgICAgaiA9IGkgLyBuO1xuICAgICAgZHQgPSAxIC0gajtcbiAgICAgIGR0MiA9IGR0ICogZHQ7XG4gICAgICBkdDMgPSBkdDIgKiBkdDtcbiAgICAgIHQyID0gaiAqIGo7XG4gICAgICB0MyA9IHQyICogajtcbiAgICAgIHBvaW50cy5wdXNoKGR0MyAqIGZyb21YICsgMyAqIGR0MiAqIGogKiBjcFggKyAzICogZHQgKiB0MiAqIGNwWDIgKyB0MyAqIHRvWCwgZHQzICogZnJvbVkgKyAzICogZHQyICogaiAqIGNwWSArIDMgKiBkdCAqIHQyICogY3BZMiArIHQzICogdG9ZKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgQmV6aWVyVXRpbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJlemllclV0aWxzLm1qcy5tYXBcbiIsImltcG9ydCB7IEdSQVBISUNTX0NVUlZFUyB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5cbmNsYXNzIFF1YWRyYXRpY1V0aWxzIHtcbiAgc3RhdGljIGN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgY29uc3QgYXggPSBmcm9tWCAtIDIgKiBjcFggKyB0b1g7XG4gICAgY29uc3QgYXkgPSBmcm9tWSAtIDIgKiBjcFkgKyB0b1k7XG4gICAgY29uc3QgYnggPSAyICogY3BYIC0gMiAqIGZyb21YO1xuICAgIGNvbnN0IGJ5ID0gMiAqIGNwWSAtIDIgKiBmcm9tWTtcbiAgICBjb25zdCBhID0gNCAqIChheCAqIGF4ICsgYXkgKiBheSk7XG4gICAgY29uc3QgYiA9IDQgKiAoYXggKiBieCArIGF5ICogYnkpO1xuICAgIGNvbnN0IGMgPSBieCAqIGJ4ICsgYnkgKiBieTtcbiAgICBjb25zdCBzID0gMiAqIE1hdGguc3FydChhICsgYiArIGMpO1xuICAgIGNvbnN0IGEyID0gTWF0aC5zcXJ0KGEpO1xuICAgIGNvbnN0IGEzMiA9IDIgKiBhICogYTI7XG4gICAgY29uc3QgYzIgPSAyICogTWF0aC5zcXJ0KGMpO1xuICAgIGNvbnN0IGJhID0gYiAvIGEyO1xuICAgIHJldHVybiAoYTMyICogcyArIGEyICogYiAqIChzIC0gYzIpICsgKDQgKiBjICogYSAtIGIgKiBiKSAqIE1hdGgubG9nKCgyICogYTIgKyBiYSArIHMpIC8gKGJhICsgYzIpKSkgLyAoNCAqIGEzMik7XG4gIH1cbiAgc3RhdGljIGN1cnZlVG8oY3BYLCBjcFksIHRvWCwgdG9ZLCBwb2ludHMpIHtcbiAgICBjb25zdCBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgY29uc3QgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoUXVhZHJhdGljVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpKTtcbiAgICBsZXQgeGEgPSAwO1xuICAgIGxldCB5YSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gbjsgKytpKSB7XG4gICAgICBjb25zdCBqID0gaSAvIG47XG4gICAgICB4YSA9IGZyb21YICsgKGNwWCAtIGZyb21YKSAqIGo7XG4gICAgICB5YSA9IGZyb21ZICsgKGNwWSAtIGZyb21ZKSAqIGo7XG4gICAgICBwb2ludHMucHVzaCh4YSArIChjcFggKyAodG9YIC0gY3BYKSAqIGogLSB4YSkgKiBqLCB5YSArIChjcFkgKyAodG9ZIC0gY3BZKSAqIGogLSB5YSkgKiBqKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgUXVhZHJhdGljVXRpbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1YWRyYXRpY1V0aWxzLm1qcy5tYXBcbiIsImltcG9ydCB7IFNIQVBFUyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBidWlsZENpcmNsZSA9IHtcbiAgYnVpbGQoZ3JhcGhpY3NEYXRhKSB7XG4gICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICBsZXQgeDtcbiAgICBsZXQgeTtcbiAgICBsZXQgZHg7XG4gICAgbGV0IGR5O1xuICAgIGxldCByeDtcbiAgICBsZXQgcnk7XG4gICAgaWYgKGdyYXBoaWNzRGF0YS50eXBlID09PSBTSEFQRVMuQ0lSQykge1xuICAgICAgY29uc3QgY2lyY2xlID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgeCA9IGNpcmNsZS54O1xuICAgICAgeSA9IGNpcmNsZS55O1xuICAgICAgcnggPSByeSA9IGNpcmNsZS5yYWRpdXM7XG4gICAgICBkeCA9IGR5ID0gMDtcbiAgICB9IGVsc2UgaWYgKGdyYXBoaWNzRGF0YS50eXBlID09PSBTSEFQRVMuRUxJUCkge1xuICAgICAgY29uc3QgZWxsaXBzZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgIHggPSBlbGxpcHNlLng7XG4gICAgICB5ID0gZWxsaXBzZS55O1xuICAgICAgcnggPSBlbGxpcHNlLndpZHRoO1xuICAgICAgcnkgPSBlbGxpcHNlLmhlaWdodDtcbiAgICAgIGR4ID0gZHkgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByb3VuZGVkUmVjdCA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHJvdW5kZWRSZWN0LndpZHRoIC8gMjtcbiAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSByb3VuZGVkUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgeCA9IHJvdW5kZWRSZWN0LnggKyBoYWxmV2lkdGg7XG4gICAgICB5ID0gcm91bmRlZFJlY3QueSArIGhhbGZIZWlnaHQ7XG4gICAgICByeCA9IHJ5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocm91bmRlZFJlY3QucmFkaXVzLCBNYXRoLm1pbihoYWxmV2lkdGgsIGhhbGZIZWlnaHQpKSk7XG4gICAgICBkeCA9IGhhbGZXaWR0aCAtIHJ4O1xuICAgICAgZHkgPSBoYWxmSGVpZ2h0IC0gcnk7XG4gICAgfVxuICAgIGlmICghKHJ4ID49IDAgJiYgcnkgPj0gMCAmJiBkeCA+PSAwICYmIGR5ID49IDApKSB7XG4gICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbiA9IE1hdGguY2VpbCgyLjMgKiBNYXRoLnNxcnQocnggKyByeSkpO1xuICAgIGNvbnN0IG0gPSBuICogOCArIChkeCA/IDQgOiAwKSArIChkeSA/IDQgOiAwKTtcbiAgICBwb2ludHMubGVuZ3RoID0gbTtcbiAgICBpZiAobSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgcG9pbnRzLmxlbmd0aCA9IDg7XG4gICAgICBwb2ludHNbMF0gPSBwb2ludHNbNl0gPSB4ICsgZHg7XG4gICAgICBwb2ludHNbMV0gPSBwb2ludHNbM10gPSB5ICsgZHk7XG4gICAgICBwb2ludHNbMl0gPSBwb2ludHNbNF0gPSB4IC0gZHg7XG4gICAgICBwb2ludHNbNV0gPSBwb2ludHNbN10gPSB5IC0gZHk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBqMSA9IDA7XG4gICAgbGV0IGoyID0gbiAqIDQgKyAoZHggPyAyIDogMCkgKyAyO1xuICAgIGxldCBqMyA9IGoyO1xuICAgIGxldCBqNCA9IG07XG4gICAge1xuICAgICAgY29uc3QgeDAgPSBkeCArIHJ4O1xuICAgICAgY29uc3QgeTAgPSBkeTtcbiAgICAgIGNvbnN0IHgxID0geCArIHgwO1xuICAgICAgY29uc3QgeDIgPSB4IC0geDA7XG4gICAgICBjb25zdCB5MSA9IHkgKyB5MDtcbiAgICAgIHBvaW50c1tqMSsrXSA9IHgxO1xuICAgICAgcG9pbnRzW2oxKytdID0geTE7XG4gICAgICBwb2ludHNbLS1qMl0gPSB5MTtcbiAgICAgIHBvaW50c1stLWoyXSA9IHgyO1xuICAgICAgaWYgKGR5KSB7XG4gICAgICAgIGNvbnN0IHkyID0geSAtIHkwO1xuICAgICAgICBwb2ludHNbajMrK10gPSB4MjtcbiAgICAgICAgcG9pbnRzW2ozKytdID0geTI7XG4gICAgICAgIHBvaW50c1stLWo0XSA9IHkyO1xuICAgICAgICBwb2ludHNbLS1qNF0gPSB4MTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBuOyBpKyspIHtcbiAgICAgIGNvbnN0IGEgPSBNYXRoLlBJIC8gMiAqIChpIC8gbik7XG4gICAgICBjb25zdCB4MCA9IGR4ICsgTWF0aC5jb3MoYSkgKiByeDtcbiAgICAgIGNvbnN0IHkwID0gZHkgKyBNYXRoLnNpbihhKSAqIHJ5O1xuICAgICAgY29uc3QgeDEgPSB4ICsgeDA7XG4gICAgICBjb25zdCB4MiA9IHggLSB4MDtcbiAgICAgIGNvbnN0IHkxID0geSArIHkwO1xuICAgICAgY29uc3QgeTIgPSB5IC0geTA7XG4gICAgICBwb2ludHNbajErK10gPSB4MTtcbiAgICAgIHBvaW50c1tqMSsrXSA9IHkxO1xuICAgICAgcG9pbnRzWy0tajJdID0geTE7XG4gICAgICBwb2ludHNbLS1qMl0gPSB4MjtcbiAgICAgIHBvaW50c1tqMysrXSA9IHgyO1xuICAgICAgcG9pbnRzW2ozKytdID0geTI7XG4gICAgICBwb2ludHNbLS1qNF0gPSB5MjtcbiAgICAgIHBvaW50c1stLWo0XSA9IHgxO1xuICAgIH1cbiAgICB7XG4gICAgICBjb25zdCB4MCA9IGR4O1xuICAgICAgY29uc3QgeTAgPSBkeSArIHJ5O1xuICAgICAgY29uc3QgeDEgPSB4ICsgeDA7XG4gICAgICBjb25zdCB4MiA9IHggLSB4MDtcbiAgICAgIGNvbnN0IHkxID0geSArIHkwO1xuICAgICAgY29uc3QgeTIgPSB5IC0geTA7XG4gICAgICBwb2ludHNbajErK10gPSB4MTtcbiAgICAgIHBvaW50c1tqMSsrXSA9IHkxO1xuICAgICAgcG9pbnRzWy0tajRdID0geTI7XG4gICAgICBwb2ludHNbLS1qNF0gPSB4MTtcbiAgICAgIGlmIChkeCkge1xuICAgICAgICBwb2ludHNbajErK10gPSB4MjtcbiAgICAgICAgcG9pbnRzW2oxKytdID0geTE7XG4gICAgICAgIHBvaW50c1stLWo0XSA9IHkyO1xuICAgICAgICBwb2ludHNbLS1qNF0gPSB4MjtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIGNvbnN0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgY29uc3QgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICBjb25zdCBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICBjb25zdCBjZW50ZXIgPSB2ZXJ0UG9zO1xuICAgIGxldCB4O1xuICAgIGxldCB5O1xuICAgIGlmIChncmFwaGljc0RhdGEudHlwZSAhPT0gU0hBUEVTLlJSRUMpIHtcbiAgICAgIGNvbnN0IGNpcmNsZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgIHggPSBjaXJjbGUueDtcbiAgICAgIHkgPSBjaXJjbGUueTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgcm91bmRlZFJlY3QgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICB4ID0gcm91bmRlZFJlY3QueCArIHJvdW5kZWRSZWN0LndpZHRoIC8gMjtcbiAgICAgIHkgPSByb3VuZGVkUmVjdC55ICsgcm91bmRlZFJlY3QuaGVpZ2h0IC8gMjtcbiAgICB9XG4gICAgY29uc3QgbWF0cml4ID0gZ3JhcGhpY3NEYXRhLm1hdHJpeDtcbiAgICB2ZXJ0cy5wdXNoKGdyYXBoaWNzRGF0YS5tYXRyaXggPyBtYXRyaXguYSAqIHggKyBtYXRyaXguYyAqIHkgKyBtYXRyaXgudHggOiB4LCBncmFwaGljc0RhdGEubWF0cml4ID8gbWF0cml4LmIgKiB4ICsgbWF0cml4LmQgKiB5ICsgbWF0cml4LnR5IDogeSk7XG4gICAgdmVydFBvcysrO1xuICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIGZvciAobGV0IGkgPSAyOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSk7XG4gICAgICBpbmRpY2VzLnB1c2godmVydFBvcysrLCBjZW50ZXIsIHZlcnRQb3MpO1xuICAgIH1cbiAgICBpbmRpY2VzLnB1c2goY2VudGVyICsgMSwgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgfVxufTtcblxuZXhwb3J0IHsgYnVpbGRDaXJjbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkQ2lyY2xlLm1qcy5tYXBcbiIsImltcG9ydCB7IFBvaW50LCBTSEFQRVMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IExJTkVfQ0FQLCBMSU5FX0pPSU4sIEdSQVBISUNTX0NVUlZFUyB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5cbmZ1bmN0aW9uIHNxdWFyZSh4LCB5LCBueCwgbnksIGlubmVyV2VpZ2h0LCBvdXRlcldlaWdodCwgY2xvY2t3aXNlLCB2ZXJ0cykge1xuICBjb25zdCBpeCA9IHggLSBueCAqIGlubmVyV2VpZ2h0O1xuICBjb25zdCBpeSA9IHkgLSBueSAqIGlubmVyV2VpZ2h0O1xuICBjb25zdCBveCA9IHggKyBueCAqIG91dGVyV2VpZ2h0O1xuICBjb25zdCBveSA9IHkgKyBueSAqIG91dGVyV2VpZ2h0O1xuICBsZXQgZXh4O1xuICBsZXQgZXl5O1xuICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgZXh4ID0gbnk7XG4gICAgZXl5ID0gLW54O1xuICB9IGVsc2Uge1xuICAgIGV4eCA9IC1ueTtcbiAgICBleXkgPSBueDtcbiAgfVxuICBjb25zdCBlaXggPSBpeCArIGV4eDtcbiAgY29uc3QgZWl5ID0gaXkgKyBleXk7XG4gIGNvbnN0IGVveCA9IG94ICsgZXh4O1xuICBjb25zdCBlb3kgPSBveSArIGV5eTtcbiAgdmVydHMucHVzaChlaXgsIGVpeSk7XG4gIHZlcnRzLnB1c2goZW94LCBlb3kpO1xuICByZXR1cm4gMjtcbn1cbmZ1bmN0aW9uIHJvdW5kKGN4LCBjeSwgc3gsIHN5LCBleCwgZXksIHZlcnRzLCBjbG9ja3dpc2UpIHtcbiAgY29uc3QgY3gycDB4ID0gc3ggLSBjeDtcbiAgY29uc3QgY3kycDB5ID0gc3kgLSBjeTtcbiAgbGV0IGFuZ2xlMCA9IE1hdGguYXRhbjIoY3gycDB4LCBjeTJwMHkpO1xuICBsZXQgYW5nbGUxID0gTWF0aC5hdGFuMihleCAtIGN4LCBleSAtIGN5KTtcbiAgaWYgKGNsb2Nrd2lzZSAmJiBhbmdsZTAgPCBhbmdsZTEpIHtcbiAgICBhbmdsZTAgKz0gTWF0aC5QSSAqIDI7XG4gIH0gZWxzZSBpZiAoIWNsb2Nrd2lzZSAmJiBhbmdsZTAgPiBhbmdsZTEpIHtcbiAgICBhbmdsZTEgKz0gTWF0aC5QSSAqIDI7XG4gIH1cbiAgbGV0IHN0YXJ0QW5nbGUgPSBhbmdsZTA7XG4gIGNvbnN0IGFuZ2xlRGlmZiA9IGFuZ2xlMSAtIGFuZ2xlMDtcbiAgY29uc3QgYWJzQW5nbGVEaWZmID0gTWF0aC5hYnMoYW5nbGVEaWZmKTtcbiAgY29uc3QgcmFkaXVzID0gTWF0aC5zcXJ0KGN4MnAweCAqIGN4MnAweCArIGN5MnAweSAqIGN5MnAweSk7XG4gIGNvbnN0IHNlZ0NvdW50ID0gKDE1ICogYWJzQW5nbGVEaWZmICogTWF0aC5zcXJ0KHJhZGl1cykgLyBNYXRoLlBJID4+IDApICsgMTtcbiAgY29uc3QgYW5nbGVJbmMgPSBhbmdsZURpZmYgLyBzZWdDb3VudDtcbiAgc3RhcnRBbmdsZSArPSBhbmdsZUluYztcbiAgaWYgKGNsb2Nrd2lzZSkge1xuICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICB2ZXJ0cy5wdXNoKHN4LCBzeSk7XG4gICAgZm9yIChsZXQgaSA9IDEsIGFuZ2xlID0gc3RhcnRBbmdsZTsgaSA8IHNlZ0NvdW50OyBpKyssIGFuZ2xlICs9IGFuZ2xlSW5jKSB7XG4gICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICB2ZXJ0cy5wdXNoKGN4ICsgTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzLCBjeSArIE1hdGguY29zKGFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgfVxuICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICB2ZXJ0cy5wdXNoKGV4LCBleSk7XG4gIH0gZWxzZSB7XG4gICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICBmb3IgKGxldCBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpIHtcbiAgICAgIHZlcnRzLnB1c2goY3ggKyBNYXRoLnNpbihhbmdsZSkgKiByYWRpdXMsIGN5ICsgTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzKTtcbiAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICB9XG4gICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgfVxuICByZXR1cm4gc2VnQ291bnQgKiAyO1xufVxuZnVuY3Rpb24gYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICBjb25zdCBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgbGV0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gIGNvbnN0IGVwcyA9IGdyYXBoaWNzR2VvbWV0cnkuY2xvc2VQb2ludEVwcztcbiAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc3R5bGUgPSBncmFwaGljc0RhdGEubGluZVN0eWxlO1xuICBjb25zdCBmaXJzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgY29uc3QgbGFzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICBjb25zdCBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICBjb25zdCBjbG9zZWRQYXRoID0gTWF0aC5hYnMoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpIDwgZXBzICYmIE1hdGguYWJzKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSA8IGVwcztcbiAgaWYgKGNsb3NlZFNoYXBlKSB7XG4gICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG4gICAgaWYgKGNsb3NlZFBhdGgpIHtcbiAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgIGxhc3RQb2ludC5zZXQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgfVxuICAgIGNvbnN0IG1pZFBvaW50WCA9IChmaXJzdFBvaW50LnggKyBsYXN0UG9pbnQueCkgKiAwLjU7XG4gICAgY29uc3QgbWlkUG9pbnRZID0gKGxhc3RQb2ludC55ICsgZmlyc3RQb2ludC55KSAqIDAuNTtcbiAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgcG9pbnRzLnB1c2gobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICB9XG4gIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICBsZXQgaW5kZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gIGNvbnN0IGluZGV4U3RhcnQgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICBjb25zdCB3aWR0aCA9IHN0eWxlLndpZHRoIC8gMjtcbiAgY29uc3Qgd2lkdGhTcXVhcmVkID0gd2lkdGggKiB3aWR0aDtcbiAgY29uc3QgbWl0ZXJMaW1pdFNxdWFyZWQgPSBzdHlsZS5taXRlckxpbWl0ICogc3R5bGUubWl0ZXJMaW1pdDtcbiAgbGV0IHgwID0gcG9pbnRzWzBdO1xuICBsZXQgeTAgPSBwb2ludHNbMV07XG4gIGxldCB4MSA9IHBvaW50c1syXTtcbiAgbGV0IHkxID0gcG9pbnRzWzNdO1xuICBsZXQgeDIgPSAwO1xuICBsZXQgeTIgPSAwO1xuICBsZXQgcGVycHggPSAtKHkwIC0geTEpO1xuICBsZXQgcGVycHkgPSB4MCAtIHgxO1xuICBsZXQgcGVycDF4ID0gMDtcbiAgbGV0IHBlcnAxeSA9IDA7XG4gIGxldCBkaXN0ID0gTWF0aC5zcXJ0KHBlcnB4ICogcGVycHggKyBwZXJweSAqIHBlcnB5KTtcbiAgcGVycHggLz0gZGlzdDtcbiAgcGVycHkgLz0gZGlzdDtcbiAgcGVycHggKj0gd2lkdGg7XG4gIHBlcnB5ICo9IHdpZHRoO1xuICBjb25zdCByYXRpbyA9IHN0eWxlLmFsaWdubWVudDtcbiAgY29uc3QgaW5uZXJXZWlnaHQgPSAoMSAtIHJhdGlvKSAqIDI7XG4gIGNvbnN0IG91dGVyV2VpZ2h0ID0gcmF0aW8gKiAyO1xuICBpZiAoIWNsb3NlZFNoYXBlKSB7XG4gICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDAgLSBwZXJweCAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSwgeTAgLSBwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSwgeDAgLSBwZXJweCAqIGlubmVyV2VpZ2h0LCB5MCAtIHBlcnB5ICogaW5uZXJXZWlnaHQsIHgwICsgcGVycHggKiBvdXRlcldlaWdodCwgeTAgKyBwZXJweSAqIG91dGVyV2VpZ2h0LCB2ZXJ0cywgdHJ1ZSkgKyAyO1xuICAgIH0gZWxzZSBpZiAoc3R5bGUuY2FwID09PSBMSU5FX0NBUC5TUVVBUkUpIHtcbiAgICAgIGluZGV4Q291bnQgKz0gc3F1YXJlKHgwLCB5MCwgcGVycHgsIHBlcnB5LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIHRydWUsIHZlcnRzKTtcbiAgICB9XG4gIH1cbiAgdmVydHMucHVzaCh4MCAtIHBlcnB4ICogaW5uZXJXZWlnaHQsIHkwIC0gcGVycHkgKiBpbm5lcldlaWdodCk7XG4gIHZlcnRzLnB1c2goeDAgKyBwZXJweCAqIG91dGVyV2VpZ2h0LCB5MCArIHBlcnB5ICogb3V0ZXJXZWlnaHQpO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSkge1xuICAgIHgwID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICB5MCA9IHBvaW50c1soaSAtIDEpICogMiArIDFdO1xuICAgIHgxID0gcG9pbnRzW2kgKiAyXTtcbiAgICB5MSA9IHBvaW50c1tpICogMiArIDFdO1xuICAgIHgyID0gcG9pbnRzWyhpICsgMSkgKiAyXTtcbiAgICB5MiA9IHBvaW50c1soaSArIDEpICogMiArIDFdO1xuICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICBwZXJweSA9IHgwIC0geDE7XG4gICAgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuICAgIHBlcnAxeCA9IC0oeTEgLSB5Mik7XG4gICAgcGVycDF5ID0geDEgLSB4MjtcbiAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnAxeCAqIHBlcnAxeCArIHBlcnAxeSAqIHBlcnAxeSk7XG4gICAgcGVycDF4IC89IGRpc3Q7XG4gICAgcGVycDF5IC89IGRpc3Q7XG4gICAgcGVycDF4ICo9IHdpZHRoO1xuICAgIHBlcnAxeSAqPSB3aWR0aDtcbiAgICBjb25zdCBkeDAgPSB4MSAtIHgwO1xuICAgIGNvbnN0IGR5MCA9IHkwIC0geTE7XG4gICAgY29uc3QgZHgxID0geDEgLSB4MjtcbiAgICBjb25zdCBkeTEgPSB5MiAtIHkxO1xuICAgIGNvbnN0IGRvdCA9IGR4MCAqIGR4MSArIGR5MCAqIGR5MTtcbiAgICBjb25zdCBjcm9zcyA9IGR5MCAqIGR4MSAtIGR5MSAqIGR4MDtcbiAgICBjb25zdCBjbG9ja3dpc2UgPSBjcm9zcyA8IDA7XG4gICAgaWYgKE1hdGguYWJzKGNyb3NzKSA8IDFlLTMgKiBNYXRoLmFicyhkb3QpKSB7XG4gICAgICB2ZXJ0cy5wdXNoKHgxIC0gcGVycHggKiBpbm5lcldlaWdodCwgeTEgLSBwZXJweSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgIHZlcnRzLnB1c2goeDEgKyBwZXJweCAqIG91dGVyV2VpZ2h0LCB5MSArIHBlcnB5ICogb3V0ZXJXZWlnaHQpO1xuICAgICAgaWYgKGRvdCA+PSAwKSB7XG4gICAgICAgIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uUk9VTkQpIHtcbiAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgLSBwZXJweCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnB5ICogaW5uZXJXZWlnaHQsIHgxIC0gcGVycDF4ICogaW5uZXJXZWlnaHQsIHkxIC0gcGVycDF5ICogaW5uZXJXZWlnaHQsIHZlcnRzLCBmYWxzZSkgKyA0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgfVxuICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gcGVycDF4ICogb3V0ZXJXZWlnaHQsIHkxIC0gcGVycDF5ICogb3V0ZXJXZWlnaHQpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgcGVycDF4ICogaW5uZXJXZWlnaHQsIHkxICsgcGVycDF5ICogaW5uZXJXZWlnaHQpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGMxID0gKC1wZXJweCArIHgwKSAqICgtcGVycHkgKyB5MSkgLSAoLXBlcnB4ICsgeDEpICogKC1wZXJweSArIHkwKTtcbiAgICBjb25zdCBjMiA9ICgtcGVycDF4ICsgeDIpICogKC1wZXJwMXkgKyB5MSkgLSAoLXBlcnAxeCArIHgxKSAqICgtcGVycDF5ICsgeTIpO1xuICAgIGNvbnN0IHB4ID0gKGR4MCAqIGMyIC0gZHgxICogYzEpIC8gY3Jvc3M7XG4gICAgY29uc3QgcHkgPSAoZHkxICogYzEgLSBkeTAgKiBjMikgLyBjcm9zcztcbiAgICBjb25zdCBwZGlzdCA9IChweCAtIHgxKSAqIChweCAtIHgxKSArIChweSAtIHkxKSAqIChweSAtIHkxKTtcbiAgICBjb25zdCBpbXggPSB4MSArIChweCAtIHgxKSAqIGlubmVyV2VpZ2h0O1xuICAgIGNvbnN0IGlteSA9IHkxICsgKHB5IC0geTEpICogaW5uZXJXZWlnaHQ7XG4gICAgY29uc3Qgb214ID0geDEgLSAocHggLSB4MSkgKiBvdXRlcldlaWdodDtcbiAgICBjb25zdCBvbXkgPSB5MSAtIChweSAtIHkxKSAqIG91dGVyV2VpZ2h0O1xuICAgIGNvbnN0IHNtYWxsZXJJbnNpZGVTZWdtZW50U3EgPSBNYXRoLm1pbihkeDAgKiBkeDAgKyBkeTAgKiBkeTAsIGR4MSAqIGR4MSArIGR5MSAqIGR5MSk7XG4gICAgY29uc3QgaW5zaWRlV2VpZ2h0ID0gY2xvY2t3aXNlID8gaW5uZXJXZWlnaHQgOiBvdXRlcldlaWdodDtcbiAgICBjb25zdCBzbWFsbGVySW5zaWRlRGlhZ29uYWxTcSA9IHNtYWxsZXJJbnNpZGVTZWdtZW50U3EgKyBpbnNpZGVXZWlnaHQgKiBpbnNpZGVXZWlnaHQgKiB3aWR0aFNxdWFyZWQ7XG4gICAgY29uc3QgaW5zaWRlTWl0ZXJPayA9IHBkaXN0IDw9IHNtYWxsZXJJbnNpZGVEaWFnb25hbFNxO1xuICAgIGlmIChpbnNpZGVNaXRlck9rKSB7XG4gICAgICBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLkJFVkVMIHx8IHBkaXN0IC8gd2lkdGhTcXVhcmVkID4gbWl0ZXJMaW1pdFNxdWFyZWQpIHtcbiAgICAgICAgaWYgKGNsb2Nrd2lzZSkge1xuICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyBwZXJweCAqIG91dGVyV2VpZ2h0LCB5MSArIHBlcnB5ICogb3V0ZXJXZWlnaHQpO1xuICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyBwZXJwMXggKiBvdXRlcldlaWdodCwgeTEgKyBwZXJwMXkgKiBvdXRlcldlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmVydHMucHVzaCh4MSAtIHBlcnB4ICogaW5uZXJXZWlnaHQsIHkxIC0gcGVycHkgKiBpbm5lcldlaWdodCk7XG4gICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICAgICAgdmVydHMucHVzaCh4MSAtIHBlcnAxeCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnAxeSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleENvdW50ICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5ST1VORCkge1xuICAgICAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgdmVydHMucHVzaCh4MSArIHBlcnB4ICogb3V0ZXJXZWlnaHQsIHkxICsgcGVycHkgKiBvdXRlcldlaWdodCk7XG4gICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxICsgcGVycHggKiBvdXRlcldlaWdodCwgeTEgKyBwZXJweSAqIG91dGVyV2VpZ2h0LCB4MSArIHBlcnAxeCAqIG91dGVyV2VpZ2h0LCB5MSArIHBlcnAxeSAqIG91dGVyV2VpZ2h0LCB2ZXJ0cywgdHJ1ZSkgKyA0O1xuICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyBwZXJwMXggKiBvdXRlcldlaWdodCwgeTEgKyBwZXJwMXkgKiBvdXRlcldlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmVydHMucHVzaCh4MSAtIHBlcnB4ICogaW5uZXJXZWlnaHQsIHkxIC0gcGVycHkgKiBpbm5lcldlaWdodCk7XG4gICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxIC0gcGVycHggKiBpbm5lcldlaWdodCwgeTEgLSBwZXJweSAqIGlubmVyV2VpZ2h0LCB4MSAtIHBlcnAxeCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnAxeSAqIGlubmVyV2VpZ2h0LCB2ZXJ0cywgZmFsc2UpICsgNDtcbiAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gcGVycDF4ICogaW5uZXJXZWlnaHQsIHkxIC0gcGVycDF5ICogaW5uZXJXZWlnaHQpO1xuICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlcnRzLnB1c2goeDEgLSBwZXJweCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnB5ICogaW5uZXJXZWlnaHQpO1xuICAgICAgdmVydHMucHVzaCh4MSArIHBlcnB4ICogb3V0ZXJXZWlnaHQsIHkxICsgcGVycHkgKiBvdXRlcldlaWdodCk7XG4gICAgICBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLlJPVU5EKSB7XG4gICAgICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgKyBwZXJweCAqIG91dGVyV2VpZ2h0LCB5MSArIHBlcnB5ICogb3V0ZXJXZWlnaHQsIHgxICsgcGVycDF4ICogb3V0ZXJXZWlnaHQsIHkxICsgcGVycDF5ICogb3V0ZXJXZWlnaHQsIHZlcnRzLCB0cnVlKSArIDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxIC0gcGVycHggKiBpbm5lcldlaWdodCwgeTEgLSBwZXJweSAqIGlubmVyV2VpZ2h0LCB4MSAtIHBlcnAxeCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnAxeSAqIGlubmVyV2VpZ2h0LCB2ZXJ0cywgZmFsc2UpICsgMjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uTUlURVIgJiYgcGRpc3QgLyB3aWR0aFNxdWFyZWQgPD0gbWl0ZXJMaW1pdFNxdWFyZWQpIHtcbiAgICAgICAgaWYgKGNsb2Nrd2lzZSkge1xuICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgIH1cbiAgICAgIHZlcnRzLnB1c2goeDEgLSBwZXJwMXggKiBpbm5lcldlaWdodCwgeTEgLSBwZXJwMXkgKiBpbm5lcldlaWdodCk7XG4gICAgICB2ZXJ0cy5wdXNoKHgxICsgcGVycDF4ICogb3V0ZXJXZWlnaHQsIHkxICsgcGVycDF5ICogb3V0ZXJXZWlnaHQpO1xuICAgICAgaW5kZXhDb3VudCArPSAyO1xuICAgIH1cbiAgfVxuICB4MCA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyXTtcbiAgeTAgPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMiArIDFdO1xuICB4MSA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyXTtcbiAgeTEgPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMiArIDFdO1xuICBwZXJweCA9IC0oeTAgLSB5MSk7XG4gIHBlcnB5ID0geDAgLSB4MTtcbiAgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG4gIHBlcnB4IC89IGRpc3Q7XG4gIHBlcnB5IC89IGRpc3Q7XG4gIHBlcnB4ICo9IHdpZHRoO1xuICBwZXJweSAqPSB3aWR0aDtcbiAgdmVydHMucHVzaCh4MSAtIHBlcnB4ICogaW5uZXJXZWlnaHQsIHkxIC0gcGVycHkgKiBpbm5lcldlaWdodCk7XG4gIHZlcnRzLnB1c2goeDEgKyBwZXJweCAqIG91dGVyV2VpZ2h0LCB5MSArIHBlcnB5ICogb3V0ZXJXZWlnaHQpO1xuICBpZiAoIWNsb3NlZFNoYXBlKSB7XG4gICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEgLSBwZXJweCAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSwgeTEgLSBwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSwgeDEgLSBwZXJweCAqIGlubmVyV2VpZ2h0LCB5MSAtIHBlcnB5ICogaW5uZXJXZWlnaHQsIHgxICsgcGVycHggKiBvdXRlcldlaWdodCwgeTEgKyBwZXJweSAqIG91dGVyV2VpZ2h0LCB2ZXJ0cywgZmFsc2UpICsgMjtcbiAgICB9IGVsc2UgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuU1FVQVJFKSB7XG4gICAgICBpbmRleENvdW50ICs9IHNxdWFyZSh4MSwgeTEsIHBlcnB4LCBwZXJweSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCBmYWxzZSwgdmVydHMpO1xuICAgIH1cbiAgfVxuICBjb25zdCBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICBjb25zdCBlcHMyID0gR1JBUEhJQ1NfQ1VSVkVTLmVwc2lsb24gKiBHUkFQSElDU19DVVJWRVMuZXBzaWxvbjtcbiAgZm9yIChsZXQgaSA9IGluZGV4U3RhcnQ7IGkgPCBpbmRleENvdW50ICsgaW5kZXhTdGFydCAtIDI7ICsraSkge1xuICAgIHgwID0gdmVydHNbaSAqIDJdO1xuICAgIHkwID0gdmVydHNbaSAqIDIgKyAxXTtcbiAgICB4MSA9IHZlcnRzWyhpICsgMSkgKiAyXTtcbiAgICB5MSA9IHZlcnRzWyhpICsgMSkgKiAyICsgMV07XG4gICAgeDIgPSB2ZXJ0c1soaSArIDIpICogMl07XG4gICAgeTIgPSB2ZXJ0c1soaSArIDIpICogMiArIDFdO1xuICAgIGlmIChNYXRoLmFicyh4MCAqICh5MSAtIHkyKSArIHgxICogKHkyIC0geTApICsgeDIgKiAoeTAgLSB5MSkpIDwgZXBzMikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGluZGljZXMucHVzaChpLCBpICsgMSwgaSArIDIpO1xuICB9XG59XG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gIGxldCBpID0gMDtcbiAgY29uc3Qgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gIGNvbnN0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzO1xuICBjb25zdCBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm47XG4gIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICBjb25zdCBzdGFydEluZGV4ID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgbGV0IGN1cnJlbnRJbmRleCA9IHN0YXJ0SW5kZXg7XG4gIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpICogMl0sIHBvaW50c1tpICogMiArIDFdKTtcbiAgICBpbmRpY2VzLnB1c2goY3VycmVudEluZGV4LCBjdXJyZW50SW5kZXggKyAxKTtcbiAgICBjdXJyZW50SW5kZXgrKztcbiAgfVxuICBpZiAoY2xvc2VkU2hhcGUpIHtcbiAgICBpbmRpY2VzLnB1c2goY3VycmVudEluZGV4LCBzdGFydEluZGV4KTtcbiAgfVxufVxuZnVuY3Rpb24gYnVpbGRMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZS5uYXRpdmUpIHtcbiAgICBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgfSBlbHNlIHtcbiAgICBidWlsZE5vbk5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgfVxufVxuXG5leHBvcnQgeyBidWlsZExpbmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkTGluZS5tanMubWFwXG4iLCJpbXBvcnQgeyB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5mdW5jdGlvbiBmaXhPcmllbnRhdGlvbihwb2ludHMsIGhvbGUgPSBmYWxzZSkge1xuICBjb25zdCBtID0gcG9pbnRzLmxlbmd0aDtcbiAgaWYgKG0gPCA2KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBhcmVhID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIHgxID0gcG9pbnRzW20gLSAyXSwgeTEgPSBwb2ludHNbbSAtIDFdOyBpIDwgbTsgaSArPSAyKSB7XG4gICAgY29uc3QgeDIgPSBwb2ludHNbaV07XG4gICAgY29uc3QgeTIgPSBwb2ludHNbaSArIDFdO1xuICAgIGFyZWEgKz0gKHgyIC0geDEpICogKHkyICsgeTEpO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICBpZiAoIWhvbGUgJiYgYXJlYSA+IDAgfHwgaG9sZSAmJiBhcmVhIDw9IDApIHtcbiAgICBjb25zdCBuID0gbSAvIDI7XG4gICAgZm9yIChsZXQgaSA9IG4gKyBuICUgMjsgaSA8IG07IGkgKz0gMikge1xuICAgICAgY29uc3QgaTEgPSBtIC0gaSAtIDI7XG4gICAgICBjb25zdCBpMiA9IG0gLSBpIC0gMTtcbiAgICAgIGNvbnN0IGkzID0gaTtcbiAgICAgIGNvbnN0IGk0ID0gaSArIDE7XG4gICAgICBbcG9pbnRzW2kxXSwgcG9pbnRzW2kzXV0gPSBbcG9pbnRzW2kzXSwgcG9pbnRzW2kxXV07XG4gICAgICBbcG9pbnRzW2kyXSwgcG9pbnRzW2k0XV0gPSBbcG9pbnRzW2k0XSwgcG9pbnRzW2kyXV07XG4gICAgfVxuICB9XG59XG5jb25zdCBidWlsZFBvbHkgPSB7XG4gIGJ1aWxkKGdyYXBoaWNzRGF0YSkge1xuICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBncmFwaGljc0RhdGEuc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gIH0sXG4gIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIGxldCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgIGNvbnN0IGhvbGVzID0gZ3JhcGhpY3NEYXRhLmhvbGVzO1xuICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgY29uc3QgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICBmaXhPcmllbnRhdGlvbihwb2ludHMsIGZhbHNlKTtcbiAgICAgIGNvbnN0IGhvbGVBcnJheSA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBob2xlID0gaG9sZXNbaV07XG4gICAgICAgIGZpeE9yaWVudGF0aW9uKGhvbGUucG9pbnRzLCB0cnVlKTtcbiAgICAgICAgaG9sZUFycmF5LnB1c2gocG9pbnRzLmxlbmd0aCAvIDIpO1xuICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyaWFuZ2xlcyA9IHV0aWxzLmVhcmN1dChwb2ludHMsIGhvbGVBcnJheSwgMik7XG4gICAgICBpZiAoIXRyaWFuZ2xlcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZXJ0UG9zKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCB7IGJ1aWxkUG9seSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRQb2x5Lm1qcy5tYXBcbiIsImNvbnN0IGJ1aWxkUmVjdGFuZ2xlID0ge1xuICBidWlsZChncmFwaGljc0RhdGEpIHtcbiAgICBjb25zdCByZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICBjb25zdCB4ID0gcmVjdERhdGEueDtcbiAgICBjb25zdCB5ID0gcmVjdERhdGEueTtcbiAgICBjb25zdCB3aWR0aCA9IHJlY3REYXRhLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcbiAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgIGlmICghKHdpZHRoID49IDAgJiYgaGVpZ2h0ID49IDApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBvaW50cy5wdXNoKHgsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0KTtcbiAgfSxcbiAgdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICBjb25zdCB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdLCBwb2ludHNbNl0sIHBvaW50c1s3XSwgcG9pbnRzWzRdLCBwb2ludHNbNV0pO1xuICAgIGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcy5wdXNoKHZlcnRQb3MsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMyk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGJ1aWxkUmVjdGFuZ2xlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFJlY3RhbmdsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBidWlsZENpcmNsZSB9IGZyb20gJy4vYnVpbGRDaXJjbGUubWpzJztcblxuY29uc3QgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlID0ge1xuICBidWlsZChncmFwaGljc0RhdGEpIHtcbiAgICBidWlsZENpcmNsZS5idWlsZChncmFwaGljc0RhdGEpO1xuICB9LFxuICB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICBidWlsZENpcmNsZS50cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICB9XG59O1xuXG5leHBvcnQgeyBidWlsZFJvdW5kZWRSZWN0YW5nbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUm91bmRlZFJlY3RhbmdsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBidWlsZFBvbHkgfSBmcm9tICcuL2J1aWxkUG9seS5tanMnO1xuZXhwb3J0IHsgYnVpbGRQb2x5IH0gZnJvbSAnLi9idWlsZFBvbHkubWpzJztcbmltcG9ydCB7IGJ1aWxkQ2lyY2xlIH0gZnJvbSAnLi9idWlsZENpcmNsZS5tanMnO1xuZXhwb3J0IHsgYnVpbGRDaXJjbGUgfSBmcm9tICcuL2J1aWxkQ2lyY2xlLm1qcyc7XG5pbXBvcnQgeyBidWlsZFJlY3RhbmdsZSB9IGZyb20gJy4vYnVpbGRSZWN0YW5nbGUubWpzJztcbmV4cG9ydCB7IGJ1aWxkUmVjdGFuZ2xlIH0gZnJvbSAnLi9idWlsZFJlY3RhbmdsZS5tanMnO1xuaW1wb3J0IHsgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlIH0gZnJvbSAnLi9idWlsZFJvdW5kZWRSZWN0YW5nbGUubWpzJztcbmV4cG9ydCB7IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSB9IGZyb20gJy4vYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLm1qcyc7XG5leHBvcnQgeyBidWlsZExpbmUgfSBmcm9tICcuL2J1aWxkTGluZS5tanMnO1xuZXhwb3J0IHsgQXJjVXRpbHMgfSBmcm9tICcuL0FyY1V0aWxzLm1qcyc7XG5leHBvcnQgeyBCZXppZXJVdGlscyB9IGZyb20gJy4vQmV6aWVyVXRpbHMubWpzJztcbmV4cG9ydCB7IFF1YWRyYXRpY1V0aWxzIH0gZnJvbSAnLi9RdWFkcmF0aWNVdGlscy5tanMnO1xuZXhwb3J0IHsgQmF0Y2hQYXJ0IH0gZnJvbSAnLi9CYXRjaFBhcnQubWpzJztcbmltcG9ydCB7IFNIQVBFUyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBGSUxMX0NPTU1BTkRTID0ge1xuICBbU0hBUEVTLlBPTFldOiBidWlsZFBvbHksXG4gIFtTSEFQRVMuQ0lSQ106IGJ1aWxkQ2lyY2xlLFxuICBbU0hBUEVTLkVMSVBdOiBidWlsZENpcmNsZSxcbiAgW1NIQVBFUy5SRUNUXTogYnVpbGRSZWN0YW5nbGUsXG4gIFtTSEFQRVMuUlJFQ106IGJ1aWxkUm91bmRlZFJlY3RhbmdsZVxufTtcbmNvbnN0IEJBVENIX1BPT0wgPSBbXTtcbmNvbnN0IERSQVdfQ0FMTF9QT09MID0gW107XG5cbmV4cG9ydCB7IEJBVENIX1BPT0wsIERSQVdfQ0FMTF9QT09MLCBGSUxMX0NPTU1BTkRTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlQb2ludC5tanMubWFwXG4iLCJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlQb2ludERhdGEubWpzLm1hcFxuIiwiaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuL1BvaW50Lm1qcyc7XG5pbXBvcnQgeyBQSV8yIH0gZnJvbSAnLi9jb25zdC5tanMnO1xuXG5jbGFzcyBNYXRyaXgge1xuICBjb25zdHJ1Y3RvcihhID0gMSwgYiA9IDAsIGMgPSAwLCBkID0gMSwgdHggPSAwLCB0eSA9IDApIHtcbiAgICB0aGlzLmFycmF5ID0gbnVsbDtcbiAgICB0aGlzLmEgPSBhO1xuICAgIHRoaXMuYiA9IGI7XG4gICAgdGhpcy5jID0gYztcbiAgICB0aGlzLmQgPSBkO1xuICAgIHRoaXMudHggPSB0eDtcbiAgICB0aGlzLnR5ID0gdHk7XG4gIH1cbiAgZnJvbUFycmF5KGFycmF5KSB7XG4gICAgdGhpcy5hID0gYXJyYXlbMF07XG4gICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgdGhpcy5jID0gYXJyYXlbM107XG4gICAgdGhpcy5kID0gYXJyYXlbNF07XG4gICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgIHRoaXMudHkgPSBhcnJheVs1XTtcbiAgfVxuICBzZXQoYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gICAgdGhpcy5hID0gYTtcbiAgICB0aGlzLmIgPSBiO1xuICAgIHRoaXMuYyA9IGM7XG4gICAgdGhpcy5kID0gZDtcbiAgICB0aGlzLnR4ID0gdHg7XG4gICAgdGhpcy50eSA9IHR5O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRvQXJyYXkodHJhbnNwb3NlLCBvdXQpIHtcbiAgICBpZiAoIXRoaXMuYXJyYXkpIHtcbiAgICAgIHRoaXMuYXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KDkpO1xuICAgIH1cbiAgICBjb25zdCBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuICAgIGlmICh0cmFuc3Bvc2UpIHtcbiAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICBhcnJheVsyXSA9IDA7XG4gICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgYXJyYXlbOF0gPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgIGFycmF5WzFdID0gdGhpcy5jO1xuICAgICAgYXJyYXlbMl0gPSB0aGlzLnR4O1xuICAgICAgYXJyYXlbM10gPSB0aGlzLmI7XG4gICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgIGFycmF5WzVdID0gdGhpcy50eTtcbiAgICAgIGFycmF5WzZdID0gMDtcbiAgICAgIGFycmF5WzddID0gMDtcbiAgICAgIGFycmF5WzhdID0gMTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIGFwcGx5KHBvcywgbmV3UG9zKSB7XG4gICAgbmV3UG9zID0gbmV3UG9zIHx8IG5ldyBQb2ludCgpO1xuICAgIGNvbnN0IHggPSBwb3MueDtcbiAgICBjb25zdCB5ID0gcG9zLnk7XG4gICAgbmV3UG9zLnggPSB0aGlzLmEgKiB4ICsgdGhpcy5jICogeSArIHRoaXMudHg7XG4gICAgbmV3UG9zLnkgPSB0aGlzLmIgKiB4ICsgdGhpcy5kICogeSArIHRoaXMudHk7XG4gICAgcmV0dXJuIG5ld1BvcztcbiAgfVxuICBhcHBseUludmVyc2UocG9zLCBuZXdQb3MpIHtcbiAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IFBvaW50KCk7XG4gICAgY29uc3QgaWQgPSAxIC8gKHRoaXMuYSAqIHRoaXMuZCArIHRoaXMuYyAqIC10aGlzLmIpO1xuICAgIGNvbnN0IHggPSBwb3MueDtcbiAgICBjb25zdCB5ID0gcG9zLnk7XG4gICAgbmV3UG9zLnggPSB0aGlzLmQgKiBpZCAqIHggKyAtdGhpcy5jICogaWQgKiB5ICsgKHRoaXMudHkgKiB0aGlzLmMgLSB0aGlzLnR4ICogdGhpcy5kKSAqIGlkO1xuICAgIG5ld1Bvcy55ID0gdGhpcy5hICogaWQgKiB5ICsgLXRoaXMuYiAqIGlkICogeCArICgtdGhpcy50eSAqIHRoaXMuYSArIHRoaXMudHggKiB0aGlzLmIpICogaWQ7XG4gICAgcmV0dXJuIG5ld1BvcztcbiAgfVxuICB0cmFuc2xhdGUoeCwgeSkge1xuICAgIHRoaXMudHggKz0geDtcbiAgICB0aGlzLnR5ICs9IHk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2NhbGUoeCwgeSkge1xuICAgIHRoaXMuYSAqPSB4O1xuICAgIHRoaXMuZCAqPSB5O1xuICAgIHRoaXMuYyAqPSB4O1xuICAgIHRoaXMuYiAqPSB5O1xuICAgIHRoaXMudHggKj0geDtcbiAgICB0aGlzLnR5ICo9IHk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcm90YXRlKGFuZ2xlKSB7XG4gICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICBjb25zdCBhMSA9IHRoaXMuYTtcbiAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICBjb25zdCB0eDEgPSB0aGlzLnR4O1xuICAgIHRoaXMuYSA9IGExICogY29zIC0gdGhpcy5iICogc2luO1xuICAgIHRoaXMuYiA9IGExICogc2luICsgdGhpcy5iICogY29zO1xuICAgIHRoaXMuYyA9IGMxICogY29zIC0gdGhpcy5kICogc2luO1xuICAgIHRoaXMuZCA9IGMxICogc2luICsgdGhpcy5kICogY29zO1xuICAgIHRoaXMudHggPSB0eDEgKiBjb3MgLSB0aGlzLnR5ICogc2luO1xuICAgIHRoaXMudHkgPSB0eDEgKiBzaW4gKyB0aGlzLnR5ICogY29zO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGFwcGVuZChtYXRyaXgpIHtcbiAgICBjb25zdCBhMSA9IHRoaXMuYTtcbiAgICBjb25zdCBiMSA9IHRoaXMuYjtcbiAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICBjb25zdCBkMSA9IHRoaXMuZDtcbiAgICB0aGlzLmEgPSBtYXRyaXguYSAqIGExICsgbWF0cml4LmIgKiBjMTtcbiAgICB0aGlzLmIgPSBtYXRyaXguYSAqIGIxICsgbWF0cml4LmIgKiBkMTtcbiAgICB0aGlzLmMgPSBtYXRyaXguYyAqIGExICsgbWF0cml4LmQgKiBjMTtcbiAgICB0aGlzLmQgPSBtYXRyaXguYyAqIGIxICsgbWF0cml4LmQgKiBkMTtcbiAgICB0aGlzLnR4ID0gbWF0cml4LnR4ICogYTEgKyBtYXRyaXgudHkgKiBjMSArIHRoaXMudHg7XG4gICAgdGhpcy50eSA9IG1hdHJpeC50eCAqIGIxICsgbWF0cml4LnR5ICogZDEgKyB0aGlzLnR5O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldFRyYW5zZm9ybSh4LCB5LCBwaXZvdFgsIHBpdm90WSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1kpIHtcbiAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICB0aGlzLmIgPSBNYXRoLnNpbihyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICB0aGlzLmMgPSAtTWF0aC5zaW4ocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgdGhpcy50eCA9IHggLSAocGl2b3RYICogdGhpcy5hICsgcGl2b3RZICogdGhpcy5jKTtcbiAgICB0aGlzLnR5ID0geSAtIChwaXZvdFggKiB0aGlzLmIgKyBwaXZvdFkgKiB0aGlzLmQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHByZXBlbmQobWF0cml4KSB7XG4gICAgY29uc3QgdHgxID0gdGhpcy50eDtcbiAgICBpZiAobWF0cml4LmEgIT09IDEgfHwgbWF0cml4LmIgIT09IDAgfHwgbWF0cml4LmMgIT09IDAgfHwgbWF0cml4LmQgIT09IDEpIHtcbiAgICAgIGNvbnN0IGExID0gdGhpcy5hO1xuICAgICAgY29uc3QgYzEgPSB0aGlzLmM7XG4gICAgICB0aGlzLmEgPSBhMSAqIG1hdHJpeC5hICsgdGhpcy5iICogbWF0cml4LmM7XG4gICAgICB0aGlzLmIgPSBhMSAqIG1hdHJpeC5iICsgdGhpcy5iICogbWF0cml4LmQ7XG4gICAgICB0aGlzLmMgPSBjMSAqIG1hdHJpeC5hICsgdGhpcy5kICogbWF0cml4LmM7XG4gICAgICB0aGlzLmQgPSBjMSAqIG1hdHJpeC5iICsgdGhpcy5kICogbWF0cml4LmQ7XG4gICAgfVxuICAgIHRoaXMudHggPSB0eDEgKiBtYXRyaXguYSArIHRoaXMudHkgKiBtYXRyaXguYyArIG1hdHJpeC50eDtcbiAgICB0aGlzLnR5ID0gdHgxICogbWF0cml4LmIgKyB0aGlzLnR5ICogbWF0cml4LmQgKyBtYXRyaXgudHk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZGVjb21wb3NlKHRyYW5zZm9ybSkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBjID0gdGhpcy5jO1xuICAgIGNvbnN0IGQgPSB0aGlzLmQ7XG4gICAgY29uc3QgcGl2b3QgPSB0cmFuc2Zvcm0ucGl2b3Q7XG4gICAgY29uc3Qgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgY29uc3Qgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuICAgIGNvbnN0IGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG4gICAgaWYgKGRlbHRhIDwgMWUtNSB8fCBNYXRoLmFicyhQSV8yIC0gZGVsdGEpIDwgMWUtNSkge1xuICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG4gICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IDA7XG4gICAgICB0cmFuc2Zvcm0uc2tldy54ID0gc2tld1g7XG4gICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgfVxuICAgIHRyYW5zZm9ybS5zY2FsZS54ID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xuICAgIHRyYW5zZm9ybS5zY2FsZS55ID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xuICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eCArIChwaXZvdC54ICogYSArIHBpdm90LnkgKiBjKTtcbiAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMudHkgKyAocGl2b3QueCAqIGIgKyBwaXZvdC55ICogZCk7XG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgfVxuICBpbnZlcnQoKSB7XG4gICAgY29uc3QgYTEgPSB0aGlzLmE7XG4gICAgY29uc3QgYjEgPSB0aGlzLmI7XG4gICAgY29uc3QgYzEgPSB0aGlzLmM7XG4gICAgY29uc3QgZDEgPSB0aGlzLmQ7XG4gICAgY29uc3QgdHgxID0gdGhpcy50eDtcbiAgICBjb25zdCBuID0gYTEgKiBkMSAtIGIxICogYzE7XG4gICAgdGhpcy5hID0gZDEgLyBuO1xuICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgdGhpcy5jID0gLWMxIC8gbjtcbiAgICB0aGlzLmQgPSBhMSAvIG47XG4gICAgdGhpcy50eCA9IChjMSAqIHRoaXMudHkgLSBkMSAqIHR4MSkgLyBuO1xuICAgIHRoaXMudHkgPSAtKGExICogdGhpcy50eSAtIGIxICogdHgxKSAvIG47XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgaWRlbnRpdHkoKSB7XG4gICAgdGhpcy5hID0gMTtcbiAgICB0aGlzLmIgPSAwO1xuICAgIHRoaXMuYyA9IDA7XG4gICAgdGhpcy5kID0gMTtcbiAgICB0aGlzLnR4ID0gMDtcbiAgICB0aGlzLnR5ID0gMDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjbG9uZSgpIHtcbiAgICBjb25zdCBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgIHJldHVybiBtYXRyaXg7XG4gIH1cbiAgY29weVRvKG1hdHJpeCkge1xuICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgbWF0cml4LnR5ID0gdGhpcy50eTtcbiAgICByZXR1cm4gbWF0cml4O1xuICB9XG4gIGNvcHlGcm9tKG1hdHJpeCkge1xuICAgIHRoaXMuYSA9IG1hdHJpeC5hO1xuICAgIHRoaXMuYiA9IG1hdHJpeC5iO1xuICAgIHRoaXMuYyA9IG1hdHJpeC5jO1xuICAgIHRoaXMuZCA9IG1hdHJpeC5kO1xuICAgIHRoaXMudHggPSBtYXRyaXgudHg7XG4gICAgdGhpcy50eSA9IG1hdHJpeC50eTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtAcGl4aS9tYXRoOk1hdHJpeCBhPSR7dGhpcy5hfSBiPSR7dGhpcy5ifSBjPSR7dGhpcy5jfSBkPSR7dGhpcy5kfSB0eD0ke3RoaXMudHh9IHR5PSR7dGhpcy50eX1dYDtcbiAgfVxuICBzdGF0aWMgZ2V0IElERU5USVRZKCkge1xuICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gIH1cbiAgc3RhdGljIGdldCBURU1QX01BVFJJWCgpIHtcbiAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICB9XG59XG5cbmV4cG9ydCB7IE1hdHJpeCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWF0cml4Lm1qcy5tYXBcbiIsImNsYXNzIE9ic2VydmFibGVQb2ludCB7XG4gIGNvbnN0cnVjdG9yKGNiLCBzY29wZSwgeCA9IDAsIHkgPSAwKSB7XG4gICAgdGhpcy5feCA9IHg7XG4gICAgdGhpcy5feSA9IHk7XG4gICAgdGhpcy5jYiA9IGNiO1xuICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgfVxuICBjbG9uZShjYiA9IHRoaXMuY2IsIHNjb3BlID0gdGhpcy5zY29wZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSwgdGhpcy5feCwgdGhpcy5feSk7XG4gIH1cbiAgc2V0KHggPSAwLCB5ID0geCkge1xuICAgIGlmICh0aGlzLl94ICE9PSB4IHx8IHRoaXMuX3kgIT09IHkpIHtcbiAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgdGhpcy5feSA9IHk7XG4gICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGNvcHlGcm9tKHApIHtcbiAgICBpZiAodGhpcy5feCAhPT0gcC54IHx8IHRoaXMuX3kgIT09IHAueSkge1xuICAgICAgdGhpcy5feCA9IHAueDtcbiAgICAgIHRoaXMuX3kgPSBwLnk7XG4gICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGNvcHlUbyhwKSB7XG4gICAgcC5zZXQodGhpcy5feCwgdGhpcy5feSk7XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgZXF1YWxzKHApIHtcbiAgICByZXR1cm4gcC54ID09PSB0aGlzLl94ICYmIHAueSA9PT0gdGhpcy5feTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtAcGl4aS9tYXRoOk9ic2VydmFibGVQb2ludCB4PSR7MH0geT0kezB9IHNjb3BlPSR7dGhpcy5zY29wZX1dYDtcbiAgfVxuICBnZXQgeCgpIHtcbiAgICByZXR1cm4gdGhpcy5feDtcbiAgfVxuICBzZXQgeCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl94ICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5feCA9IHZhbHVlO1xuICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgIH1cbiAgfVxuICBnZXQgeSgpIHtcbiAgICByZXR1cm4gdGhpcy5feTtcbiAgfVxuICBzZXQgeSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBPYnNlcnZhYmxlUG9pbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGVQb2ludC5tanMubWFwXG4iLCJjbGFzcyBQb2ludCB7XG4gIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCkge1xuICAgIHRoaXMueCA9IDA7XG4gICAgdGhpcy55ID0gMDtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gIH1cbiAgY29weUZyb20ocCkge1xuICAgIHRoaXMuc2V0KHAueCwgcC55KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjb3B5VG8ocCkge1xuICAgIHAuc2V0KHRoaXMueCwgdGhpcy55KTtcbiAgICByZXR1cm4gcDtcbiAgfVxuICBlcXVhbHMocCkge1xuICAgIHJldHVybiBwLnggPT09IHRoaXMueCAmJiBwLnkgPT09IHRoaXMueTtcbiAgfVxuICBzZXQoeCA9IDAsIHkgPSB4KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgW0BwaXhpL21hdGg6UG9pbnQgeD0ke3RoaXMueH0geT0ke3RoaXMueX1dYDtcbiAgfVxufVxuXG5leHBvcnQgeyBQb2ludCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9pbnQubWpzLm1hcFxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZVBvaW50IH0gZnJvbSAnLi9PYnNlcnZhYmxlUG9pbnQubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4vTWF0cml4Lm1qcyc7XG5cbmNvbnN0IF9UcmFuc2Zvcm0gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMud29ybGRUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG4gICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcbiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICB0aGlzLnNjYWxlID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAxLCAxKTtcbiAgICB0aGlzLnBpdm90ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICB0aGlzLnNrZXcgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMudXBkYXRlU2tldywgdGhpcywgMCwgMCk7XG4gICAgdGhpcy5fcm90YXRpb24gPSAwO1xuICAgIHRoaXMuX2N4ID0gMTtcbiAgICB0aGlzLl9zeCA9IDA7XG4gICAgdGhpcy5fY3kgPSAwO1xuICAgIHRoaXMuX3N5ID0gMTtcbiAgICB0aGlzLl9sb2NhbElEID0gMDtcbiAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IDA7XG4gICAgdGhpcy5fd29ybGRJRCA9IDA7XG4gICAgdGhpcy5fcGFyZW50SUQgPSAwO1xuICB9XG4gIG9uQ2hhbmdlKCkge1xuICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgfVxuICB1cGRhdGVTa2V3KCkge1xuICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgdGhpcy5fc3ggPSBNYXRoLnNpbih0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy55KTtcbiAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy54KTtcbiAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3LngpO1xuICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtAcGl4aS9tYXRoOlRyYW5zZm9ybSBwb3NpdGlvbj0oJHt0aGlzLnBvc2l0aW9uLnh9LCAke3RoaXMucG9zaXRpb24ueX0pIHJvdGF0aW9uPSR7dGhpcy5yb3RhdGlvbn0gc2NhbGU9KCR7dGhpcy5zY2FsZS54fSwgJHt0aGlzLnNjYWxlLnl9KSBza2V3PSgke3RoaXMuc2tldy54fSwgJHt0aGlzLnNrZXcueX0pIF1gO1xuICB9XG4gIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCkge1xuICAgIGNvbnN0IGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcbiAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKHRoaXMucGl2b3QueCAqIGx0LmEgKyB0aGlzLnBpdm90LnkgKiBsdC5jKTtcbiAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKHRoaXMucGl2b3QueCAqIGx0LmIgKyB0aGlzLnBpdm90LnkgKiBsdC5kKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcbiAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICBjb25zdCBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG4gICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICh0aGlzLnBpdm90LnggKiBsdC5hICsgdGhpcy5waXZvdC55ICogbHQuYyk7XG4gICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICh0aGlzLnBpdm90LnggKiBsdC5iICsgdGhpcy5waXZvdC55ICogbHQuZCk7XG4gICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG4gICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgIH1cbiAgICBpZiAodGhpcy5fcGFyZW50SUQgIT09IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRCkge1xuICAgICAgY29uc3QgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICBjb25zdCB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICB3dC5hID0gbHQuYSAqIHB0LmEgKyBsdC5iICogcHQuYztcbiAgICAgIHd0LmIgPSBsdC5hICogcHQuYiArIGx0LmIgKiBwdC5kO1xuICAgICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgICB3dC5kID0gbHQuYyAqIHB0LmIgKyBsdC5kICogcHQuZDtcbiAgICAgIHd0LnR4ID0gbHQudHggKiBwdC5hICsgbHQudHkgKiBwdC5jICsgcHQudHg7XG4gICAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuICAgICAgdGhpcy5fcGFyZW50SUQgPSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICB0aGlzLl93b3JsZElEKys7XG4gICAgfVxuICB9XG4gIHNldEZyb21NYXRyaXgobWF0cml4KSB7XG4gICAgbWF0cml4LmRlY29tcG9zZSh0aGlzKTtcbiAgICB0aGlzLl9sb2NhbElEKys7XG4gIH1cbiAgZ2V0IHJvdGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgfVxuICBzZXQgcm90YXRpb24odmFsdWUpIHtcbiAgICBpZiAodGhpcy5fcm90YXRpb24gIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgfVxuICB9XG59O1xubGV0IFRyYW5zZm9ybSA9IF9UcmFuc2Zvcm07XG5UcmFuc2Zvcm0uSURFTlRJVFkgPSBuZXcgX1RyYW5zZm9ybSgpO1xuXG5leHBvcnQgeyBUcmFuc2Zvcm0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zZm9ybS5tanMubWFwXG4iLCJjb25zdCBQSV8yID0gTWF0aC5QSSAqIDI7XG5jb25zdCBSQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcbmNvbnN0IERFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xudmFyIFNIQVBFUyA9IC8qIEBfX1BVUkVfXyAqLyAoKFNIQVBFUzIpID0+IHtcbiAgU0hBUEVTMltTSEFQRVMyW1wiUE9MWVwiXSA9IDBdID0gXCJQT0xZXCI7XG4gIFNIQVBFUzJbU0hBUEVTMltcIlJFQ1RcIl0gPSAxXSA9IFwiUkVDVFwiO1xuICBTSEFQRVMyW1NIQVBFUzJbXCJDSVJDXCJdID0gMl0gPSBcIkNJUkNcIjtcbiAgU0hBUEVTMltTSEFQRVMyW1wiRUxJUFwiXSA9IDNdID0gXCJFTElQXCI7XG4gIFNIQVBFUzJbU0hBUEVTMltcIlJSRUNcIl0gPSA0XSA9IFwiUlJFQ1wiO1xuICByZXR1cm4gU0hBUEVTMjtcbn0pKFNIQVBFUyB8fCB7fSk7XG5cbmV4cG9ydCB7IERFR19UT19SQUQsIFBJXzIsIFJBRF9UT19ERUcsIFNIQVBFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3QubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi9NYXRyaXgubWpzJztcblxuY29uc3QgdXggPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMV07XG5jb25zdCB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbmNvbnN0IHZ4ID0gWzAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xuY29uc3QgdnkgPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMV07XG5jb25zdCByb3RhdGlvbkNheWxleSA9IFtdO1xuY29uc3Qgcm90YXRpb25NYXRyaWNlcyA9IFtdO1xuY29uc3Qgc2lnbnVtID0gTWF0aC5zaWduO1xuZnVuY3Rpb24gaW5pdCgpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgY29uc3Qgcm93ID0gW107XG4gICAgcm90YXRpb25DYXlsZXkucHVzaChyb3cpO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTY7IGorKykge1xuICAgICAgY29uc3QgX3V4ID0gc2lnbnVtKHV4W2ldICogdXhbal0gKyB2eFtpXSAqIHV5W2pdKTtcbiAgICAgIGNvbnN0IF91eSA9IHNpZ251bSh1eVtpXSAqIHV4W2pdICsgdnlbaV0gKiB1eVtqXSk7XG4gICAgICBjb25zdCBfdnggPSBzaWdudW0odXhbaV0gKiB2eFtqXSArIHZ4W2ldICogdnlbal0pO1xuICAgICAgY29uc3QgX3Z5ID0gc2lnbnVtKHV5W2ldICogdnhbal0gKyB2eVtpXSAqIHZ5W2pdKTtcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgMTY7IGsrKykge1xuICAgICAgICBpZiAodXhba10gPT09IF91eCAmJiB1eVtrXSA9PT0gX3V5ICYmIHZ4W2tdID09PSBfdnggJiYgdnlba10gPT09IF92eSkge1xuICAgICAgICAgIHJvdy5wdXNoKGspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgIGNvbnN0IG1hdCA9IG5ldyBNYXRyaXgoKTtcbiAgICBtYXQuc2V0KHV4W2ldLCB1eVtpXSwgdnhbaV0sIHZ5W2ldLCAwLCAwKTtcbiAgICByb3RhdGlvbk1hdHJpY2VzLnB1c2gobWF0KTtcbiAgfVxufVxuaW5pdCgpO1xuY29uc3QgZ3JvdXBEOCA9IHtcbiAgRTogMCxcbiAgU0U6IDEsXG4gIFM6IDIsXG4gIFNXOiAzLFxuICBXOiA0LFxuICBOVzogNSxcbiAgTjogNixcbiAgTkU6IDcsXG4gIE1JUlJPUl9WRVJUSUNBTDogOCxcbiAgTUFJTl9ESUFHT05BTDogMTAsXG4gIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcbiAgUkVWRVJTRV9ESUFHT05BTDogMTQsXG4gIHVYOiAoaW5kKSA9PiB1eFtpbmRdLFxuICB1WTogKGluZCkgPT4gdXlbaW5kXSxcbiAgdlg6IChpbmQpID0+IHZ4W2luZF0sXG4gIHZZOiAoaW5kKSA9PiB2eVtpbmRdLFxuICBpbnY6IChyb3RhdGlvbikgPT4ge1xuICAgIGlmIChyb3RhdGlvbiAmIDgpIHtcbiAgICAgIHJldHVybiByb3RhdGlvbiAmIDE1O1xuICAgIH1cbiAgICByZXR1cm4gLXJvdGF0aW9uICYgNztcbiAgfSxcbiAgYWRkOiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpID0+IHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtyb3RhdGlvbkZpcnN0XSxcbiAgc3ViOiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpID0+IHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtncm91cEQ4Lmludihyb3RhdGlvbkZpcnN0KV0sXG4gIHJvdGF0ZTE4MDogKHJvdGF0aW9uKSA9PiByb3RhdGlvbiBeIDQsXG4gIGlzVmVydGljYWw6IChyb3RhdGlvbikgPT4gKHJvdGF0aW9uICYgMykgPT09IDIsXG4gIGJ5RGlyZWN0aW9uOiAoZHgsIGR5KSA9PiB7XG4gICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKSB7XG4gICAgICBpZiAoZHkgPj0gMCkge1xuICAgICAgICByZXR1cm4gZ3JvdXBEOC5TO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdyb3VwRDguTjtcbiAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKSB7XG4gICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgIHJldHVybiBncm91cEQ4LkU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JvdXBEOC5XO1xuICAgIH0gZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgIHJldHVybiBncm91cEQ4LlNFO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdyb3VwRDguU1c7XG4gICAgfSBlbHNlIGlmIChkeCA+IDApIHtcbiAgICAgIHJldHVybiBncm91cEQ4Lk5FO1xuICAgIH1cbiAgICByZXR1cm4gZ3JvdXBEOC5OVztcbiAgfSxcbiAgbWF0cml4QXBwZW5kUm90YXRpb25JbnY6IChtYXRyaXgsIHJvdGF0aW9uLCB0eCA9IDAsIHR5ID0gMCkgPT4ge1xuICAgIGNvbnN0IG1hdCA9IHJvdGF0aW9uTWF0cmljZXNbZ3JvdXBEOC5pbnYocm90YXRpb24pXTtcbiAgICBtYXQudHggPSB0eDtcbiAgICBtYXQudHkgPSB0eTtcbiAgICBtYXRyaXguYXBwZW5kKG1hdCk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGdyb3VwRDggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb3VwRDgubWpzLm1hcFxuIiwiZXhwb3J0IHsgQ2lyY2xlIH0gZnJvbSAnLi9zaGFwZXMvQ2lyY2xlLm1qcyc7XG5leHBvcnQgeyBFbGxpcHNlIH0gZnJvbSAnLi9zaGFwZXMvRWxsaXBzZS5tanMnO1xuZXhwb3J0IHsgUG9seWdvbiB9IGZyb20gJy4vc2hhcGVzL1BvbHlnb24ubWpzJztcbmV4cG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4vc2hhcGVzL1JlY3RhbmdsZS5tanMnO1xuZXhwb3J0IHsgUm91bmRlZFJlY3RhbmdsZSB9IGZyb20gJy4vc2hhcGVzL1JvdW5kZWRSZWN0YW5nbGUubWpzJztcbmltcG9ydCAnLi9JUG9pbnREYXRhLm1qcyc7XG5pbXBvcnQgJy4vSVBvaW50Lm1qcyc7XG5leHBvcnQgeyBQb2ludCB9IGZyb20gJy4vUG9pbnQubWpzJztcbmV4cG9ydCB7IE9ic2VydmFibGVQb2ludCB9IGZyb20gJy4vT2JzZXJ2YWJsZVBvaW50Lm1qcyc7XG5leHBvcnQgeyBNYXRyaXggfSBmcm9tICcuL01hdHJpeC5tanMnO1xuZXhwb3J0IHsgZ3JvdXBEOCB9IGZyb20gJy4vZ3JvdXBEOC5tanMnO1xuZXhwb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSAnLi9UcmFuc2Zvcm0ubWpzJztcbmV4cG9ydCB7IERFR19UT19SQUQsIFBJXzIsIFJBRF9UT19ERUcsIFNIQVBFUyB9IGZyb20gJy4vY29uc3QubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuL1JlY3RhbmdsZS5tanMnO1xuXG5jbGFzcyBDaXJjbGUge1xuICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIHJhZGl1cyA9IDApIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgdGhpcy50eXBlID0gU0hBUEVTLkNJUkM7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgfVxuICBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgIGxldCBkeCA9IHRoaXMueCAtIHg7XG4gICAgbGV0IGR5ID0gdGhpcy55IC0geTtcbiAgICBkeCAqPSBkeDtcbiAgICBkeSAqPSBkeTtcbiAgICByZXR1cm4gZHggKyBkeSA8PSByMjtcbiAgfVxuICBnZXRCb3VuZHMoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy5yYWRpdXMsIHRoaXMueSAtIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cyAqIDIsIHRoaXMucmFkaXVzICogMik7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBbQHBpeGkvbWF0aDpDaXJjbGUgeD0ke3RoaXMueH0geT0ke3RoaXMueX0gcmFkaXVzPSR7dGhpcy5yYWRpdXN9XWA7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2lyY2xlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaXJjbGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnLi9SZWN0YW5nbGUubWpzJztcbmltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5cbmNsYXNzIEVsbGlwc2Uge1xuICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIGhhbGZXaWR0aCA9IDAsIGhhbGZIZWlnaHQgPSAwKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMud2lkdGggPSBoYWxmV2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoYWxmSGVpZ2h0O1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5FTElQO1xuICB9XG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG4gIGNvbnRhaW5zKHgsIHkpIHtcbiAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IG5vcm14ID0gKHggLSB0aGlzLngpIC8gdGhpcy53aWR0aDtcbiAgICBsZXQgbm9ybXkgPSAoeSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodDtcbiAgICBub3JteCAqPSBub3JteDtcbiAgICBub3JteSAqPSBub3JteTtcbiAgICByZXR1cm4gbm9ybXggKyBub3JteSA8PSAxO1xuICB9XG4gIGdldEJvdW5kcygpIHtcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgW0BwaXhpL21hdGg6RWxsaXBzZSB4PSR7dGhpcy54fSB5PSR7dGhpcy55fSB3aWR0aD0ke3RoaXMud2lkdGh9IGhlaWdodD0ke3RoaXMuaGVpZ2h0fV1gO1xuICB9XG59XG5cbmV4cG9ydCB7IEVsbGlwc2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVsbGlwc2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnLi4vY29uc3QubWpzJztcblxuY2xhc3MgUG9seWdvbiB7XG4gIGNvbnN0cnVjdG9yKC4uLnBvaW50cykge1xuICAgIGxldCBmbGF0ID0gQXJyYXkuaXNBcnJheShwb2ludHNbMF0pID8gcG9pbnRzWzBdIDogcG9pbnRzO1xuICAgIGlmICh0eXBlb2YgZmxhdFswXSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3QgcCA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlsID0gZmxhdC5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIHAucHVzaChmbGF0W2ldLngsIGZsYXRbaV0ueSk7XG4gICAgICB9XG4gICAgICBmbGF0ID0gcDtcbiAgICB9XG4gICAgdGhpcy5wb2ludHMgPSBmbGF0O1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5QT0xZO1xuICAgIHRoaXMuY2xvc2VTdHJva2UgPSB0cnVlO1xuICB9XG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzLnNsaWNlKCk7XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgcG9seWdvbi5jbG9zZVN0cm9rZSA9IHRoaXMuY2xvc2VTdHJva2U7XG4gICAgcmV0dXJuIHBvbHlnb247XG4gIH1cbiAgY29udGFpbnMoeCwgeSkge1xuICAgIGxldCBpbnNpZGUgPSBmYWxzZTtcbiAgICBjb25zdCBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgY29uc3QgeGkgPSB0aGlzLnBvaW50c1tpICogMl07XG4gICAgICBjb25zdCB5aSA9IHRoaXMucG9pbnRzW2kgKiAyICsgMV07XG4gICAgICBjb25zdCB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgIGNvbnN0IHlqID0gdGhpcy5wb2ludHNbaiAqIDIgKyAxXTtcbiAgICAgIGNvbnN0IGludGVyc2VjdCA9IHlpID4geSAhPT0geWogPiB5ICYmIHggPCAoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpICsgeGk7XG4gICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnNpZGU7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBbQHBpeGkvbWF0aDpQb2x5Z29uY2xvc2VTdHJva2U9JHt0aGlzLmNsb3NlU3Ryb2tlfXBvaW50cz0ke3RoaXMucG9pbnRzLnJlZHVjZSgocG9pbnRzRGVzYywgY3VycmVudFBvaW50KSA9PiBgJHtwb2ludHNEZXNjfSwgJHtjdXJyZW50UG9pbnR9YCwgXCJcIil9XWA7XG4gIH1cbn1cblxuZXhwb3J0IHsgUG9seWdvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9seWdvbi5tanMubWFwXG4iLCJpbXBvcnQgeyBTSEFQRVMgfSBmcm9tICcuLi9jb25zdC5tanMnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9Qb2ludC5tanMnO1xuXG5jb25zdCB0ZW1wUG9pbnRzID0gW25ldyBQb2ludCgpLCBuZXcgUG9pbnQoKSwgbmV3IFBvaW50KCksIG5ldyBQb2ludCgpXTtcbmNsYXNzIFJlY3RhbmdsZSB7XG4gIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKSB7XG4gICAgdGhpcy54ID0gTnVtYmVyKHgpO1xuICAgIHRoaXMueSA9IE51bWJlcih5KTtcbiAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcbiAgICB0aGlzLmhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SRUNUO1xuICB9XG4gIGdldCBsZWZ0KCkge1xuICAgIHJldHVybiB0aGlzLng7XG4gIH1cbiAgZ2V0IHJpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLnggKyB0aGlzLndpZHRoO1xuICB9XG4gIGdldCB0b3AoKSB7XG4gICAgcmV0dXJuIHRoaXMueTtcbiAgfVxuICBnZXQgYm90dG9tKCkge1xuICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbiAgfVxuICBzdGF0aWMgZ2V0IEVNUFRZKCkge1xuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xuICB9XG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cbiAgY29weUZyb20ocmVjdGFuZ2xlKSB7XG4gICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgdGhpcy55ID0gcmVjdGFuZ2xlLnk7XG4gICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY29weVRvKHJlY3RhbmdsZSkge1xuICAgIHJlY3RhbmdsZS54ID0gdGhpcy54O1xuICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgIHJlY3RhbmdsZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgcmVjdGFuZ2xlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgIHJldHVybiByZWN0YW5nbGU7XG4gIH1cbiAgY29udGFpbnMoeCwgeSkge1xuICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpbnRlcnNlY3RzKG90aGVyLCB0cmFuc2Zvcm0pIHtcbiAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgY29uc3QgeDAyID0gdGhpcy54IDwgb3RoZXIueCA/IG90aGVyLnggOiB0aGlzLng7XG4gICAgICBjb25zdCB4MTIgPSB0aGlzLnJpZ2h0ID4gb3RoZXIucmlnaHQgPyBvdGhlci5yaWdodCA6IHRoaXMucmlnaHQ7XG4gICAgICBpZiAoeDEyIDw9IHgwMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCB5MDIgPSB0aGlzLnkgPCBvdGhlci55ID8gb3RoZXIueSA6IHRoaXMueTtcbiAgICAgIGNvbnN0IHkxMiA9IHRoaXMuYm90dG9tID4gb3RoZXIuYm90dG9tID8gb3RoZXIuYm90dG9tIDogdGhpcy5ib3R0b207XG4gICAgICByZXR1cm4geTEyID4geTAyO1xuICAgIH1cbiAgICBjb25zdCB4MCA9IHRoaXMubGVmdDtcbiAgICBjb25zdCB4MSA9IHRoaXMucmlnaHQ7XG4gICAgY29uc3QgeTAgPSB0aGlzLnRvcDtcbiAgICBjb25zdCB5MSA9IHRoaXMuYm90dG9tO1xuICAgIGlmICh4MSA8PSB4MCB8fCB5MSA8PSB5MCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBsdCA9IHRlbXBQb2ludHNbMF0uc2V0KG90aGVyLmxlZnQsIG90aGVyLnRvcCk7XG4gICAgY29uc3QgbGIgPSB0ZW1wUG9pbnRzWzFdLnNldChvdGhlci5sZWZ0LCBvdGhlci5ib3R0b20pO1xuICAgIGNvbnN0IHJ0ID0gdGVtcFBvaW50c1syXS5zZXQob3RoZXIucmlnaHQsIG90aGVyLnRvcCk7XG4gICAgY29uc3QgcmIgPSB0ZW1wUG9pbnRzWzNdLnNldChvdGhlci5yaWdodCwgb3RoZXIuYm90dG9tKTtcbiAgICBpZiAocnQueCA8PSBsdC54IHx8IGxiLnkgPD0gbHQueSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzID0gTWF0aC5zaWduKHRyYW5zZm9ybS5hICogdHJhbnNmb3JtLmQgLSB0cmFuc2Zvcm0uYiAqIHRyYW5zZm9ybS5jKTtcbiAgICBpZiAocyA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0uYXBwbHkobHQsIGx0KTtcbiAgICB0cmFuc2Zvcm0uYXBwbHkobGIsIGxiKTtcbiAgICB0cmFuc2Zvcm0uYXBwbHkocnQsIHJ0KTtcbiAgICB0cmFuc2Zvcm0uYXBwbHkocmIsIHJiKTtcbiAgICBpZiAoTWF0aC5tYXgobHQueCwgbGIueCwgcnQueCwgcmIueCkgPD0geDAgfHwgTWF0aC5taW4obHQueCwgbGIueCwgcnQueCwgcmIueCkgPj0geDEgfHwgTWF0aC5tYXgobHQueSwgbGIueSwgcnQueSwgcmIueSkgPD0geTAgfHwgTWF0aC5taW4obHQueSwgbGIueSwgcnQueSwgcmIueSkgPj0geTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgbnggPSBzICogKGxiLnkgLSBsdC55KTtcbiAgICBjb25zdCBueSA9IHMgKiAobHQueCAtIGxiLngpO1xuICAgIGNvbnN0IG4wMCA9IG54ICogeDAgKyBueSAqIHkwO1xuICAgIGNvbnN0IG4xMCA9IG54ICogeDEgKyBueSAqIHkwO1xuICAgIGNvbnN0IG4wMSA9IG54ICogeDAgKyBueSAqIHkxO1xuICAgIGNvbnN0IG4xMSA9IG54ICogeDEgKyBueSAqIHkxO1xuICAgIGlmIChNYXRoLm1heChuMDAsIG4xMCwgbjAxLCBuMTEpIDw9IG54ICogbHQueCArIG55ICogbHQueSB8fCBNYXRoLm1pbihuMDAsIG4xMCwgbjAxLCBuMTEpID49IG54ICogcmIueCArIG55ICogcmIueSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBteCA9IHMgKiAobHQueSAtIHJ0LnkpO1xuICAgIGNvbnN0IG15ID0gcyAqIChydC54IC0gbHQueCk7XG4gICAgY29uc3QgbTAwID0gbXggKiB4MCArIG15ICogeTA7XG4gICAgY29uc3QgbTEwID0gbXggKiB4MSArIG15ICogeTA7XG4gICAgY29uc3QgbTAxID0gbXggKiB4MCArIG15ICogeTE7XG4gICAgY29uc3QgbTExID0gbXggKiB4MSArIG15ICogeTE7XG4gICAgaWYgKE1hdGgubWF4KG0wMCwgbTEwLCBtMDEsIG0xMSkgPD0gbXggKiBsdC54ICsgbXkgKiBsdC55IHx8IE1hdGgubWluKG0wMCwgbTEwLCBtMDEsIG0xMSkgPj0gbXggKiByYi54ICsgbXkgKiByYi55KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHBhZChwYWRkaW5nWCA9IDAsIHBhZGRpbmdZID0gcGFkZGluZ1gpIHtcbiAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgdGhpcy55IC09IHBhZGRpbmdZO1xuICAgIHRoaXMud2lkdGggKz0gcGFkZGluZ1ggKiAyO1xuICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBmaXQocmVjdGFuZ2xlKSB7XG4gICAgY29uc3QgeDEgPSBNYXRoLm1heCh0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICBjb25zdCB4MiA9IE1hdGgubWluKHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICBjb25zdCB5MSA9IE1hdGgubWF4KHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgIGNvbnN0IHkyID0gTWF0aC5taW4odGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgdGhpcy54ID0geDE7XG4gICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHgyIC0geDEsIDApO1xuICAgIHRoaXMueSA9IHkxO1xuICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoeTIgLSB5MSwgMCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY2VpbChyZXNvbHV0aW9uID0gMSwgZXBzID0gMWUtMykge1xuICAgIGNvbnN0IHgyID0gTWF0aC5jZWlsKCh0aGlzLnggKyB0aGlzLndpZHRoIC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICBjb25zdCB5MiA9IE1hdGguY2VpbCgodGhpcy55ICsgdGhpcy5oZWlnaHQgLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgIHRoaXMueCA9IE1hdGguZmxvb3IoKHRoaXMueCArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgdGhpcy55ID0gTWF0aC5mbG9vcigodGhpcy55ICsgZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICB0aGlzLndpZHRoID0geDIgLSB0aGlzLng7XG4gICAgdGhpcy5oZWlnaHQgPSB5MiAtIHRoaXMueTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBlbmxhcmdlKHJlY3RhbmdsZSkge1xuICAgIGNvbnN0IHgxID0gTWF0aC5taW4odGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgY29uc3QgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgY29uc3QgeTEgPSBNYXRoLm1pbih0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICBjb25zdCB5MiA9IE1hdGgubWF4KHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgIHRoaXMueCA9IHgxO1xuICAgIHRoaXMud2lkdGggPSB4MiAtIHgxO1xuICAgIHRoaXMueSA9IHkxO1xuICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB5MTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtAcGl4aS9tYXRoOlJlY3RhbmdsZSB4PSR7dGhpcy54fSB5PSR7dGhpcy55fSB3aWR0aD0ke3RoaXMud2lkdGh9IGhlaWdodD0ke3RoaXMuaGVpZ2h0fV1gO1xuICB9XG59XG5cbmV4cG9ydCB7IFJlY3RhbmdsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVjdGFuZ2xlLm1qcy5tYXBcbiIsImltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5cbmNsYXNzIFJvdW5kZWRSZWN0YW5nbGUge1xuICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgcmFkaXVzID0gMjApIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SUkVDO1xuICB9XG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgfVxuICBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMucmFkaXVzLCBNYXRoLm1pbih0aGlzLndpZHRoLCB0aGlzLmhlaWdodCkgLyAyKSk7XG4gICAgICAgIGlmICh5ID49IHRoaXMueSArIHJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gcmFkaXVzIHx8IHggPj0gdGhpcy54ICsgcmFkaXVzICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCAtIHJhZGl1cykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkeCA9IHggLSAodGhpcy54ICsgcmFkaXVzKTtcbiAgICAgICAgbGV0IGR5ID0geSAtICh0aGlzLnkgKyByYWRpdXMpO1xuICAgICAgICBjb25zdCByYWRpdXMyID0gcmFkaXVzICogcmFkaXVzO1xuICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gcmFkaXVzKTtcbiAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5oZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0geCAtICh0aGlzLnggKyByYWRpdXMpO1xuICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtAcGl4aS9tYXRoOlJvdW5kZWRSZWN0YW5nbGUgeD0ke3RoaXMueH0geT0ke3RoaXMueX13aWR0aD0ke3RoaXMud2lkdGh9IGhlaWdodD0ke3RoaXMuaGVpZ2h0fSByYWRpdXM9JHt0aGlzLnJhZGl1c31dYDtcbiAgfVxufVxuXG5leHBvcnQgeyBSb3VuZGVkUmVjdGFuZ2xlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb3VuZGVkUmVjdGFuZ2xlLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNpbXBsZVBsYW5lIH0gZnJvbSAnLi9TaW1wbGVQbGFuZS5tanMnO1xuXG5jb25zdCBERUZBVUxUX0JPUkRFUl9TSVpFID0gMTA7XG5jbGFzcyBOaW5lU2xpY2VQbGFuZSBleHRlbmRzIFNpbXBsZVBsYW5lIHtcbiAgY29uc3RydWN0b3IodGV4dHVyZSwgbGVmdFdpZHRoID0gREVGQVVMVF9CT1JERVJfU0laRSwgdG9wSGVpZ2h0ID0gREVGQVVMVF9CT1JERVJfU0laRSwgcmlnaHRXaWR0aCA9IERFRkFVTFRfQk9SREVSX1NJWkUsIGJvdHRvbUhlaWdodCA9IERFRkFVTFRfQk9SREVSX1NJWkUpIHtcbiAgICBzdXBlcihUZXh0dXJlLldISVRFLCA0LCA0KTtcbiAgICB0aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgdGhpcy5fd2lkdGggPSB0aGlzLl9vcmlnV2lkdGg7XG4gICAgdGhpcy5faGVpZ2h0ID0gdGhpcy5fb3JpZ0hlaWdodDtcbiAgICB0aGlzLl9sZWZ0V2lkdGggPSBsZWZ0V2lkdGg7XG4gICAgdGhpcy5fcmlnaHRXaWR0aCA9IHJpZ2h0V2lkdGg7XG4gICAgdGhpcy5fdG9wSGVpZ2h0ID0gdG9wSGVpZ2h0O1xuICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IGJvdHRvbUhlaWdodDtcbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICB9XG4gIHRleHR1cmVVcGRhdGVkKCkge1xuICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfVxuICBnZXQgdmVydGljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKFwiYVZlcnRleFBvc2l0aW9uXCIpLmRhdGE7XG4gIH1cbiAgc2V0IHZlcnRpY2VzKHZhbHVlKSB7XG4gICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoXCJhVmVydGV4UG9zaXRpb25cIikuZGF0YSA9IHZhbHVlO1xuICB9XG4gIHVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpIHtcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9nZXRNaW5TY2FsZSgpO1xuICAgIHZlcnRpY2VzWzldID0gdmVydGljZXNbMTFdID0gdmVydGljZXNbMTNdID0gdmVydGljZXNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0ICogc2NhbGU7XG4gICAgdmVydGljZXNbMTddID0gdmVydGljZXNbMTldID0gdmVydGljZXNbMjFdID0gdmVydGljZXNbMjNdID0gdGhpcy5faGVpZ2h0IC0gdGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGU7XG4gICAgdmVydGljZXNbMjVdID0gdmVydGljZXNbMjddID0gdmVydGljZXNbMjldID0gdmVydGljZXNbMzFdID0gdGhpcy5faGVpZ2h0O1xuICB9XG4gIHVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKSB7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5fZ2V0TWluU2NhbGUoKTtcbiAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzEwXSA9IHZlcnRpY2VzWzE4XSA9IHZlcnRpY2VzWzI2XSA9IHRoaXMuX2xlZnRXaWR0aCAqIHNjYWxlO1xuICAgIHZlcnRpY2VzWzRdID0gdmVydGljZXNbMTJdID0gdmVydGljZXNbMjBdID0gdmVydGljZXNbMjhdID0gdGhpcy5fd2lkdGggLSB0aGlzLl9yaWdodFdpZHRoICogc2NhbGU7XG4gICAgdmVydGljZXNbNl0gPSB2ZXJ0aWNlc1sxNF0gPSB2ZXJ0aWNlc1syMl0gPSB2ZXJ0aWNlc1szMF0gPSB0aGlzLl93aWR0aDtcbiAgfVxuICBfZ2V0TWluU2NhbGUoKSB7XG4gICAgY29uc3QgdyA9IHRoaXMuX2xlZnRXaWR0aCArIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgY29uc3Qgc2NhbGVXID0gdGhpcy5fd2lkdGggPiB3ID8gMSA6IHRoaXMuX3dpZHRoIC8gdztcbiAgICBjb25zdCBoID0gdGhpcy5fdG9wSGVpZ2h0ICsgdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgIGNvbnN0IHNjYWxlSCA9IHRoaXMuX2hlaWdodCA+IGggPyAxIDogdGhpcy5faGVpZ2h0IC8gaDtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHNjYWxlVywgc2NhbGVIKTtcbiAgICByZXR1cm4gc2NhbGU7XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgfVxuICBzZXQgd2lkdGgodmFsdWUpIHtcbiAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfVxuICBnZXQgaGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gIH1cbiAgc2V0IGhlaWdodCh2YWx1ZSkge1xuICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfVxuICBnZXQgbGVmdFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl9sZWZ0V2lkdGg7XG4gIH1cbiAgc2V0IGxlZnRXaWR0aCh2YWx1ZSkge1xuICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgfVxuICBnZXQgcmlnaHRXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmlnaHRXaWR0aDtcbiAgfVxuICBzZXQgcmlnaHRXaWR0aCh2YWx1ZSkge1xuICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB2YWx1ZTtcbiAgICB0aGlzLl9yZWZyZXNoKCk7XG4gIH1cbiAgZ2V0IHRvcEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICB9XG4gIHNldCB0b3BIZWlnaHQodmFsdWUpIHtcbiAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICB0aGlzLl9yZWZyZXNoKCk7XG4gIH1cbiAgZ2V0IGJvdHRvbUhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICB9XG4gIHNldCBib3R0b21IZWlnaHQodmFsdWUpIHtcbiAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB2YWx1ZTtcbiAgICB0aGlzLl9yZWZyZXNoKCk7XG4gIH1cbiAgX3JlZnJlc2goKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICBjb25zdCB1dnMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0uZGF0YTtcbiAgICB0aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgY29uc3QgX3V2dyA9IDEgLyB0aGlzLl9vcmlnV2lkdGg7XG4gICAgY29uc3QgX3V2aCA9IDEgLyB0aGlzLl9vcmlnSGVpZ2h0O1xuICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICB1dnNbMV0gPSB1dnNbM10gPSB1dnNbNV0gPSB1dnNbN10gPSAwO1xuICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG4gICAgdXZzWzJdID0gdXZzWzEwXSA9IHV2c1sxOF0gPSB1dnNbMjZdID0gX3V2dyAqIHRoaXMuX2xlZnRXaWR0aDtcbiAgICB1dnNbNF0gPSB1dnNbMTJdID0gdXZzWzIwXSA9IHV2c1syOF0gPSAxIC0gX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgdXZzWzldID0gdXZzWzExXSA9IHV2c1sxM10gPSB1dnNbMTVdID0gX3V2aCAqIHRoaXMuX3RvcEhlaWdodDtcbiAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIF91dmggKiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgdGhpcy51cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKTtcbiAgICB0aGlzLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKTtcbiAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICB9XG59XG5cbmV4cG9ydCB7IE5pbmVTbGljZVBsYW5lIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OaW5lU2xpY2VQbGFuZS5tanMubWFwXG4iLCJpbXBvcnQgeyBNZXNoLCBNZXNoR2VvbWV0cnksIE1lc2hNYXRlcmlhbCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jbGFzcyBTaW1wbGVNZXNoIGV4dGVuZHMgTWVzaCB7XG4gIGNvbnN0cnVjdG9yKHRleHR1cmUgPSBUZXh0dXJlLkVNUFRZLCB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSh2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzKTtcbiAgICBnZW9tZXRyeS5nZXRCdWZmZXIoXCJhVmVydGV4UG9zaXRpb25cIikuc3RhdGljID0gZmFsc2U7XG4gICAgY29uc3QgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcbiAgICBzdXBlcihnZW9tZXRyeSwgbWVzaE1hdGVyaWFsLCBudWxsLCBkcmF3TW9kZSk7XG4gICAgdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgfVxuICBnZXQgdmVydGljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKFwiYVZlcnRleFBvc2l0aW9uXCIpLmRhdGE7XG4gIH1cbiAgc2V0IHZlcnRpY2VzKHZhbHVlKSB7XG4gICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoXCJhVmVydGV4UG9zaXRpb25cIikuZGF0YSA9IHZhbHVlO1xuICB9XG4gIF9yZW5kZXIocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5hdXRvVXBkYXRlKSB7XG4gICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcihcImFWZXJ0ZXhQb3NpdGlvblwiKS51cGRhdGUoKTtcbiAgICB9XG4gICAgc3VwZXIuX3JlbmRlcihyZW5kZXJlcik7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2ltcGxlTWVzaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2ltcGxlTWVzaC5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNZXNoLCBNZXNoTWF0ZXJpYWwgfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IFBsYW5lR2VvbWV0cnkgfSBmcm9tICcuL2dlb21ldHJ5L1BsYW5lR2VvbWV0cnkubWpzJztcblxuY2xhc3MgU2ltcGxlUGxhbmUgZXh0ZW5kcyBNZXNoIHtcbiAgY29uc3RydWN0b3IodGV4dHVyZSwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpIHtcbiAgICBjb25zdCBwbGFuZUdlb21ldHJ5ID0gbmV3IFBsYW5lR2VvbWV0cnkodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQsIHZlcnRpY2VzWCwgdmVydGljZXNZKTtcbiAgICBjb25zdCBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuV0hJVEUpO1xuICAgIHN1cGVyKHBsYW5lR2VvbWV0cnksIG1lc2hNYXRlcmlhbCk7XG4gICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICB0aGlzLmF1dG9SZXNpemUgPSB0cnVlO1xuICB9XG4gIHRleHR1cmVVcGRhdGVkKCkge1xuICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgaWYgKHRoaXMuYXV0b1Jlc2l6ZSAmJiAoZ2VvbWV0cnkud2lkdGggIT09IHdpZHRoIHx8IGdlb21ldHJ5LmhlaWdodCAhPT0gaGVpZ2h0KSkge1xuICAgICAgZ2VvbWV0cnkud2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLndpZHRoO1xuICAgICAgZ2VvbWV0cnkuaGVpZ2h0ID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG4gICAgICBnZW9tZXRyeS5idWlsZCgpO1xuICAgIH1cbiAgfVxuICBzZXQgdGV4dHVyZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLnNoYWRlci50ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICB0aGlzLnRleHR1cmVVcGRhdGVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlLm9uY2UoXCJ1cGRhdGVcIiwgdGhpcy50ZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgfVxuICB9XG4gIGdldCB0ZXh0dXJlKCkge1xuICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICB9XG4gIF9yZW5kZXIocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgIH1cbiAgICBzdXBlci5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgfVxuICBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICB0aGlzLnNoYWRlci50ZXh0dXJlLm9mZihcInVwZGF0ZVwiLCB0aGlzLnRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCB7IFNpbXBsZVBsYW5lIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaW1wbGVQbGFuZS5tanMubWFwXG4iLCJpbXBvcnQgeyBNZXNoLCBNZXNoTWF0ZXJpYWwgfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFJvcGVHZW9tZXRyeSB9IGZyb20gJy4vZ2VvbWV0cnkvUm9wZUdlb21ldHJ5Lm1qcyc7XG5cbmNsYXNzIFNpbXBsZVJvcGUgZXh0ZW5kcyBNZXNoIHtcbiAgY29uc3RydWN0b3IodGV4dHVyZSwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUgPSAwKSB7XG4gICAgY29uc3Qgcm9wZUdlb21ldHJ5ID0gbmV3IFJvcGVHZW9tZXRyeSh0ZXh0dXJlLmhlaWdodCwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpO1xuICAgIGNvbnN0IG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG4gICAgaWYgKHRleHR1cmVTY2FsZSA+IDApIHtcbiAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICB9XG4gICAgc3VwZXIocm9wZUdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwpO1xuICAgIHRoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG4gIH1cbiAgX3JlbmRlcihyZW5kZXJlcikge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICBpZiAodGhpcy5hdXRvVXBkYXRlIHx8IGdlb21ldHJ5Ll93aWR0aCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgIGdlb21ldHJ5Ll93aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgZ2VvbWV0cnkudXBkYXRlKCk7XG4gICAgfVxuICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICB9XG59XG5cbmV4cG9ydCB7IFNpbXBsZVJvcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbXBsZVJvcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWVzaEdlb21ldHJ5IH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5cbmNsYXNzIFBsYW5lR2VvbWV0cnkgZXh0ZW5kcyBNZXNoR2VvbWV0cnkge1xuICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDEwMCwgaGVpZ2h0ID0gMTAwLCBzZWdXaWR0aCA9IDEwLCBzZWdIZWlnaHQgPSAxMCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zZWdXaWR0aCA9IHNlZ1dpZHRoO1xuICAgIHRoaXMuc2VnSGVpZ2h0ID0gc2VnSGVpZ2h0O1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmJ1aWxkKCk7XG4gIH1cbiAgYnVpbGQoKSB7XG4gICAgY29uc3QgdG90YWwgPSB0aGlzLnNlZ1dpZHRoICogdGhpcy5zZWdIZWlnaHQ7XG4gICAgY29uc3QgdmVydHMgPSBbXTtcbiAgICBjb25zdCB1dnMgPSBbXTtcbiAgICBjb25zdCBpbmRpY2VzID0gW107XG4gICAgY29uc3Qgc2VnbWVudHNYID0gdGhpcy5zZWdXaWR0aCAtIDE7XG4gICAgY29uc3Qgc2VnbWVudHNZID0gdGhpcy5zZWdIZWlnaHQgLSAxO1xuICAgIGNvbnN0IHNpemVYID0gdGhpcy53aWR0aCAvIHNlZ21lbnRzWDtcbiAgICBjb25zdCBzaXplWSA9IHRoaXMuaGVpZ2h0IC8gc2VnbWVudHNZO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgY29uc3QgeCA9IGkgJSB0aGlzLnNlZ1dpZHRoO1xuICAgICAgY29uc3QgeSA9IGkgLyB0aGlzLnNlZ1dpZHRoIHwgMDtcbiAgICAgIHZlcnRzLnB1c2goeCAqIHNpemVYLCB5ICogc2l6ZVkpO1xuICAgICAgdXZzLnB1c2goeCAvIHNlZ21lbnRzWCwgeSAvIHNlZ21lbnRzWSk7XG4gICAgfVxuICAgIGNvbnN0IHRvdGFsU3ViID0gc2VnbWVudHNYICogc2VnbWVudHNZO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxTdWI7IGkrKykge1xuICAgICAgY29uc3QgeHBvcyA9IGkgJSBzZWdtZW50c1g7XG4gICAgICBjb25zdCB5cG9zID0gaSAvIHNlZ21lbnRzWCB8IDA7XG4gICAgICBjb25zdCB2YWx1ZSA9IHlwb3MgKiB0aGlzLnNlZ1dpZHRoICsgeHBvcztcbiAgICAgIGNvbnN0IHZhbHVlMiA9IHlwb3MgKiB0aGlzLnNlZ1dpZHRoICsgeHBvcyArIDE7XG4gICAgICBjb25zdCB2YWx1ZTMgPSAoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCArIHhwb3M7XG4gICAgICBjb25zdCB2YWx1ZTQgPSAoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCArIHhwb3MgKyAxO1xuICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMywgdmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgfVxuICAgIHRoaXMuYnVmZmVyc1swXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgdGhpcy5idWZmZXJzWzFdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHV2cyk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICB0aGlzLmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgfVxufVxuXG5leHBvcnQgeyBQbGFuZUdlb21ldHJ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QbGFuZUdlb21ldHJ5Lm1qcy5tYXBcbiIsImltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJ0BwaXhpL21lc2gnO1xuXG5jbGFzcyBSb3BlR2VvbWV0cnkgZXh0ZW5kcyBNZXNoR2VvbWV0cnkge1xuICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDIwMCwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUgPSAwKSB7XG4gICAgc3VwZXIobmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLCBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpKTtcbiAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMudGV4dHVyZVNjYWxlID0gdGV4dHVyZVNjYWxlO1xuICAgIHRoaXMuYnVpbGQoKTtcbiAgfVxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICB9XG4gIGJ1aWxkKCkge1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIGlmICghcG9pbnRzKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHZlcnRleEJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKFwiYVZlcnRleFBvc2l0aW9uXCIpO1xuICAgIGNvbnN0IHV2QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoXCJhVGV4dHVyZUNvb3JkXCIpO1xuICAgIGNvbnN0IGluZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleCgpO1xuICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodmVydGV4QnVmZmVyLmRhdGEubGVuZ3RoIC8gNCAhPT0gcG9pbnRzLmxlbmd0aCkge1xuICAgICAgdmVydGV4QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgIHV2QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpO1xuICAgIH1cbiAgICBjb25zdCB1dnMgPSB1dkJ1ZmZlci5kYXRhO1xuICAgIGNvbnN0IGluZGljZXMgPSBpbmRleEJ1ZmZlci5kYXRhO1xuICAgIHV2c1swXSA9IDA7XG4gICAgdXZzWzFdID0gMDtcbiAgICB1dnNbMl0gPSAwO1xuICAgIHV2c1szXSA9IDE7XG4gICAgbGV0IGFtb3VudCA9IDA7XG4gICAgbGV0IHByZXYgPSBwb2ludHNbMF07XG4gICAgY29uc3QgdGV4dHVyZVdpZHRoID0gdGhpcy5fd2lkdGggKiB0aGlzLnRleHR1cmVTY2FsZTtcbiAgICBjb25zdCB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGkgKiA0O1xuICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICBjb25zdCBkeCA9IHByZXYueCAtIHBvaW50c1tpXS54O1xuICAgICAgICBjb25zdCBkeSA9IHByZXYueSAtIHBvaW50c1tpXS55O1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIHByZXYgPSBwb2ludHNbaV07XG4gICAgICAgIGFtb3VudCArPSBkaXN0YW5jZSAvIHRleHR1cmVXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFtb3VudCA9IGkgLyAodG90YWwgLSAxKTtcbiAgICAgIH1cbiAgICAgIHV2c1tpbmRleF0gPSBhbW91bnQ7XG4gICAgICB1dnNbaW5kZXggKyAxXSA9IDA7XG4gICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcbiAgICB9XG4gICAgbGV0IGluZGV4Q291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWwgLSAxOyBpKyspIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaSAqIDI7XG4gICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleDtcbiAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcbiAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcbiAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMztcbiAgICB9XG4gICAgdXZCdWZmZXIudXBkYXRlKCk7XG4gICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICB9XG4gIHVwZGF0ZVZlcnRpY2VzKCkge1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbGFzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgIGxldCBuZXh0UG9pbnQ7XG4gICAgbGV0IHBlcnBYID0gMDtcbiAgICBsZXQgcGVycFkgPSAwO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy5idWZmZXJzWzBdLmRhdGE7XG4gICAgY29uc3QgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICBjb25zdCBpbmRleCA9IGkgKiA0O1xuICAgICAgaWYgKGkgPCBwb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaSArIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICB9XG4gICAgICBwZXJwWSA9IC0obmV4dFBvaW50LnggLSBsYXN0UG9pbnQueCk7XG4gICAgICBwZXJwWCA9IG5leHRQb2ludC55IC0gbGFzdFBvaW50Lnk7XG4gICAgICBsZXQgcmF0aW8gPSAoMSAtIGkgLyAodG90YWwgLSAxKSkgKiAxMDtcbiAgICAgIGlmIChyYXRpbyA+IDEpIHtcbiAgICAgICAgcmF0aW8gPSAxO1xuICAgICAgfVxuICAgICAgY29uc3QgcGVycExlbmd0aCA9IE1hdGguc3FydChwZXJwWCAqIHBlcnBYICsgcGVycFkgKiBwZXJwWSk7XG4gICAgICBjb25zdCBudW0gPSB0aGlzLnRleHR1cmVTY2FsZSA+IDAgPyB0aGlzLnRleHR1cmVTY2FsZSAqIHRoaXMuX3dpZHRoIC8gMiA6IHRoaXMuX3dpZHRoIC8gMjtcbiAgICAgIHBlcnBYIC89IHBlcnBMZW5ndGg7XG4gICAgICBwZXJwWSAvPSBwZXJwTGVuZ3RoO1xuICAgICAgcGVycFggKj0gbnVtO1xuICAgICAgcGVycFkgKj0gbnVtO1xuICAgICAgdmVydGljZXNbaW5kZXhdID0gcG9pbnQueCArIHBlcnBYO1xuICAgICAgdmVydGljZXNbaW5kZXggKyAxXSA9IHBvaW50LnkgKyBwZXJwWTtcbiAgICAgIHZlcnRpY2VzW2luZGV4ICsgMl0gPSBwb2ludC54IC0gcGVycFg7XG4gICAgICB2ZXJ0aWNlc1tpbmRleCArIDNdID0gcG9pbnQueSAtIHBlcnBZO1xuICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7XG4gICAgfVxuICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgdGhpcy5idWlsZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFJvcGVHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um9wZUdlb21ldHJ5Lm1qcy5tYXBcbiIsImV4cG9ydCB7IFBsYW5lR2VvbWV0cnkgfSBmcm9tICcuL2dlb21ldHJ5L1BsYW5lR2VvbWV0cnkubWpzJztcbmV4cG9ydCB7IFJvcGVHZW9tZXRyeSB9IGZyb20gJy4vZ2VvbWV0cnkvUm9wZUdlb21ldHJ5Lm1qcyc7XG5leHBvcnQgeyBTaW1wbGVSb3BlIH0gZnJvbSAnLi9TaW1wbGVSb3BlLm1qcyc7XG5leHBvcnQgeyBTaW1wbGVQbGFuZSB9IGZyb20gJy4vU2ltcGxlUGxhbmUubWpzJztcbmV4cG9ydCB7IFNpbXBsZU1lc2ggfSBmcm9tICcuL1NpbXBsZU1lc2gubWpzJztcbmV4cG9ydCB7IE5pbmVTbGljZVBsYW5lIH0gZnJvbSAnLi9OaW5lU2xpY2VQbGFuZS5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgUG9pbnQsIFBvbHlnb24sIFN0YXRlLCBzZXR0aW5ncywgRFJBV19NT0RFUyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBNZXNoQmF0Y2hVdnMgfSBmcm9tICcuL01lc2hCYXRjaFV2cy5tanMnO1xuXG5jb25zdCB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbmNvbnN0IHRlbXBQb2x5Z29uID0gbmV3IFBvbHlnb24oKTtcbmNvbnN0IF9NZXNoID0gY2xhc3MgZXh0ZW5kcyBDb250YWluZXIge1xuICBjb25zdHJ1Y3RvcihnZW9tZXRyeSwgc2hhZGVyLCBzdGF0ZSwgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZSB8fCBTdGF0ZS5mb3IyZCgpO1xuICAgIHRoaXMuZHJhd01vZGUgPSBkcmF3TW9kZTtcbiAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG4gICAgdGhpcy52ZXJ0ZXhEaXJ0eSA9IC0xO1xuICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgdGhpcy5iYXRjaFV2cyA9IG51bGw7XG4gIH1cbiAgZ2V0IGdlb21ldHJ5KCkge1xuICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeTtcbiAgfVxuICBzZXQgZ2VvbWV0cnkodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fZ2VvbWV0cnkgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9nZW9tZXRyeSkge1xuICAgICAgdGhpcy5fZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgIGlmICh0aGlzLl9nZW9tZXRyeS5yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICB0aGlzLl9nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2dlb21ldHJ5ID0gdmFsdWU7XG4gICAgaWYgKHRoaXMuX2dlb21ldHJ5KSB7XG4gICAgICB0aGlzLl9nZW9tZXRyeS5yZWZDb3VudCsrO1xuICAgIH1cbiAgICB0aGlzLnZlcnRleERpcnR5ID0gLTE7XG4gIH1cbiAgZ2V0IHV2QnVmZmVyKCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG4gIH1cbiAgZ2V0IHZlcnRpY2VzQnVmZmVyKCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF07XG4gIH1cbiAgc2V0IG1hdGVyaWFsKHZhbHVlKSB7XG4gICAgdGhpcy5zaGFkZXIgPSB2YWx1ZTtcbiAgfVxuICBnZXQgbWF0ZXJpYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hhZGVyO1xuICB9XG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICB9XG4gIHNldCByb3VuZFBpeGVscyh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgfVxuICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gIH1cbiAgZ2V0IHJvdW5kUGl4ZWxzKCkge1xuICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgfVxuICBnZXQgdGludCgpIHtcbiAgICByZXR1cm4gXCJ0aW50XCIgaW4gdGhpcy5zaGFkZXIgPyB0aGlzLnNoYWRlci50aW50IDogbnVsbDtcbiAgfVxuICBzZXQgdGludCh2YWx1ZSkge1xuICAgIHRoaXMuc2hhZGVyLnRpbnQgPSB2YWx1ZTtcbiAgfVxuICBnZXQgdGV4dHVyZSgpIHtcbiAgICByZXR1cm4gXCJ0ZXh0dXJlXCIgaW4gdGhpcy5zaGFkZXIgPyB0aGlzLnNoYWRlci50ZXh0dXJlIDogbnVsbDtcbiAgfVxuICBzZXQgdGV4dHVyZSh2YWx1ZSkge1xuICAgIHRoaXMuc2hhZGVyLnRleHR1cmUgPSB2YWx1ZTtcbiAgfVxuICBfcmVuZGVyKHJlbmRlcmVyKSB7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICBpZiAoc2hhZGVyLmJhdGNoYWJsZSAmJiB0aGlzLmRyYXdNb2RlID09PSBEUkFXX01PREVTLlRSSUFOR0xFUyAmJiB2ZXJ0aWNlcy5sZW5ndGggPCBfTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgIHRoaXMuX3JlbmRlclRvQmF0Y2gocmVuZGVyZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW5kZXJEZWZhdWx0KHJlbmRlcmVyKTtcbiAgICB9XG4gIH1cbiAgX3JlbmRlckRlZmF1bHQocmVuZGVyZXIpIHtcbiAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICBzaGFkZXIuYWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgaWYgKHNoYWRlci51cGRhdGUpIHtcbiAgICAgIHNoYWRlci51cGRhdGUoKTtcbiAgICB9XG4gICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5nZW9tZXRyeSwgc2hhZGVyKTtcbiAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMuZHJhd01vZGUsIHRoaXMuc2l6ZSwgdGhpcy5zdGFydCwgdGhpcy5nZW9tZXRyeS5pbnN0YW5jZUNvdW50KTtcbiAgfVxuICBfcmVuZGVyVG9CYXRjaChyZW5kZXJlcikge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICBpZiAoc2hhZGVyLnV2TWF0cml4KSB7XG4gICAgICBzaGFkZXIudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICB0aGlzLmNhbGN1bGF0ZVV2cygpO1xuICAgIH1cbiAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgdGhpcy5pbmRpY2VzID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YTtcbiAgICB0aGlzLl90aW50UkdCID0gc2hhZGVyLl90aW50UkdCO1xuICAgIHRoaXMuX3RleHR1cmUgPSBzaGFkZXIudGV4dHVyZTtcbiAgICBjb25zdCBwbHVnaW5OYW1lID0gdGhpcy5tYXRlcmlhbC5wbHVnaW5OYW1lO1xuICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0pO1xuICAgIHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICB9XG4gIGNhbGN1bGF0ZVZlcnRpY2VzKCkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICBjb25zdCB2ZXJ0aWNlc0J1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbMF07XG4gICAgY29uc3QgdmVydGljZXMgPSB2ZXJ0aWNlc0J1ZmZlci5kYXRhO1xuICAgIGNvbnN0IHZlcnRleERpcnR5SWQgPSB2ZXJ0aWNlc0J1ZmZlci5fdXBkYXRlSUQ7XG4gICAgaWYgKHZlcnRleERpcnR5SWQgPT09IHRoaXMudmVydGV4RGlydHkgJiYgdGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgaWYgKHRoaXMudmVydGV4RGF0YS5sZW5ndGggIT09IHZlcnRpY2VzLmxlbmd0aCkge1xuICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBjb25zdCB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgY29uc3QgdHkgPSB3dC50eTtcbiAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGggLyAyOyBpKyspIHtcbiAgICAgIGNvbnN0IHggPSB2ZXJ0aWNlc1tpICogMl07XG4gICAgICBjb25zdCB5ID0gdmVydGljZXNbaSAqIDIgKyAxXTtcbiAgICAgIHZlcnRleERhdGFbaSAqIDJdID0gYSAqIHggKyBjICogeSArIHR4O1xuICAgICAgdmVydGV4RGF0YVtpICogMiArIDFdID0gYiAqIHggKyBkICogeSArIHR5O1xuICAgIH1cbiAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpIHtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKHZlcnRleERhdGFbaV0gKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudmVydGV4RGlydHkgPSB2ZXJ0ZXhEaXJ0eUlkO1xuICB9XG4gIGNhbGN1bGF0ZVV2cygpIHtcbiAgICBjb25zdCBnZW9tVXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgIGNvbnN0IHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuICAgIGlmICghc2hhZGVyLnV2TWF0cml4LmlzU2ltcGxlKSB7XG4gICAgICBpZiAoIXRoaXMuYmF0Y2hVdnMpIHtcbiAgICAgICAgdGhpcy5iYXRjaFV2cyA9IG5ldyBNZXNoQmF0Y2hVdnMoZ2VvbVV2cywgc2hhZGVyLnV2TWF0cml4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYmF0Y2hVdnMudXBkYXRlKCk7XG4gICAgICB0aGlzLnV2cyA9IHRoaXMuYmF0Y2hVdnMuZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51dnMgPSBnZW9tVXZzLmRhdGE7XG4gICAgfVxuICB9XG4gIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgIHRoaXMuX2JvdW5kcy5hZGRWZXJ0ZXhEYXRhKHRoaXMudmVydGV4RGF0YSwgMCwgdGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCk7XG4gIH1cbiAgY29udGFpbnNQb2ludChwb2ludCkge1xuICAgIGlmICghdGhpcy5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludC54LCBwb2ludC55KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKFwiYVZlcnRleFBvc2l0aW9uXCIpLmRhdGE7XG4gICAgY29uc3QgcG9pbnRzID0gdGVtcFBvbHlnb24ucG9pbnRzO1xuICAgIGNvbnN0IGluZGljZXMgPSB0aGlzLmdlb21ldHJ5LmdldEluZGV4KCkuZGF0YTtcbiAgICBjb25zdCBsZW4gPSBpbmRpY2VzLmxlbmd0aDtcbiAgICBjb25zdCBzdGVwID0gdGhpcy5kcmF3TW9kZSA9PT0gNCA/IDMgOiAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpICsgMiA8IGxlbjsgaSArPSBzdGVwKSB7XG4gICAgICBjb25zdCBpbmQwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICBjb25zdCBpbmQxID0gaW5kaWNlc1tpICsgMV0gKiAyO1xuICAgICAgY29uc3QgaW5kMiA9IGluZGljZXNbaSArIDJdICogMjtcbiAgICAgIHBvaW50c1swXSA9IHZlcnRpY2VzW2luZDBdO1xuICAgICAgcG9pbnRzWzFdID0gdmVydGljZXNbaW5kMCArIDFdO1xuICAgICAgcG9pbnRzWzJdID0gdmVydGljZXNbaW5kMV07XG4gICAgICBwb2ludHNbM10gPSB2ZXJ0aWNlc1tpbmQxICsgMV07XG4gICAgICBwb2ludHNbNF0gPSB2ZXJ0aWNlc1tpbmQyXTtcbiAgICAgIHBvaW50c1s1XSA9IHZlcnRpY2VzW2luZDIgKyAxXTtcbiAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZGVzdHJveShvcHRpb25zKSB7XG4gICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcbiAgICBpZiAodGhpcy5fY2FjaGVkVGV4dHVyZSkge1xuICAgICAgdGhpcy5fY2FjaGVkVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9jYWNoZWRUZXh0dXJlID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gIH1cbn07XG5sZXQgTWVzaCA9IF9NZXNoO1xuTWVzaC5CQVRDSEFCTEVfU0laRSA9IDEwMDtcblxuZXhwb3J0IHsgTWVzaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaC5tanMubWFwXG4iLCJjbGFzcyBNZXNoQmF0Y2hVdnMge1xuICBjb25zdHJ1Y3Rvcih1dkJ1ZmZlciwgdXZNYXRyaXgpIHtcbiAgICB0aGlzLnV2QnVmZmVyID0gdXZCdWZmZXI7XG4gICAgdGhpcy51dk1hdHJpeCA9IHV2TWF0cml4O1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSAtMTtcbiAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSAtMTtcbiAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gIH1cbiAgdXBkYXRlKGZvcmNlVXBkYXRlKSB7XG4gICAgaWYgKCFmb3JjZVVwZGF0ZSAmJiB0aGlzLl9idWZmZXJVcGRhdGVJZCA9PT0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQgJiYgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID09PSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9idWZmZXJVcGRhdGVJZCA9IHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEO1xuICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEO1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLnV2QnVmZmVyLmRhdGE7XG4gICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5kYXRhLmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgIH1cbiAgICB0aGlzLnV2TWF0cml4Lm11bHRpcGx5VXZzKGRhdGEsIHRoaXMuZGF0YSk7XG4gICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgfVxufVxuXG5leHBvcnQgeyBNZXNoQmF0Y2hVdnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc2hCYXRjaFV2cy5tanMubWFwXG4iLCJpbXBvcnQgeyBHZW9tZXRyeSwgQnVmZmVyLCBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jbGFzcyBNZXNoR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKHZlcnRpY2VzLCB1dnMsIGluZGV4KSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCB2ZXJ0aWNlc0J1ZmZlciA9IG5ldyBCdWZmZXIodmVydGljZXMpO1xuICAgIGNvbnN0IHV2c0J1ZmZlciA9IG5ldyBCdWZmZXIodXZzLCB0cnVlKTtcbiAgICBjb25zdCBpbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoaW5kZXgsIHRydWUsIHRydWUpO1xuICAgIHRoaXMuYWRkQXR0cmlidXRlKFwiYVZlcnRleFBvc2l0aW9uXCIsIHZlcnRpY2VzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpLmFkZEF0dHJpYnV0ZShcImFUZXh0dXJlQ29vcmRcIiwgdXZzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpLmFkZEluZGV4KGluZGV4QnVmZmVyKTtcbiAgICB0aGlzLl91cGRhdGVJZCA9IC0xO1xuICB9XG4gIGdldCB2ZXJ0ZXhEaXJ0eUlkKCkge1xuICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbMF0uX3VwZGF0ZUlEO1xuICB9XG59XG5cbmV4cG9ydCB7IE1lc2hHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaEdlb21ldHJ5Lm1qcy5tYXBcbiIsImltcG9ydCB7IFNoYWRlciwgTWF0cml4LCBQcm9ncmFtLCBUZXh0dXJlTWF0cml4LCB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vc2hhZGVyL21lc2gubWpzJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9zaGFkZXIvbWVzaDIubWpzJztcblxuY2xhc3MgTWVzaE1hdGVyaWFsIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IodVNhbXBsZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB1bmlmb3JtcyA9IHtcbiAgICAgIHVTYW1wbGVyLFxuICAgICAgYWxwaGE6IDEsXG4gICAgICB1VGV4dHVyZU1hdHJpeDogTWF0cml4LklERU5USVRZLFxuICAgICAgdUNvbG9yOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSlcbiAgICB9O1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHRpbnQ6IDE2Nzc3MjE1LFxuICAgICAgYWxwaGE6IDEsXG4gICAgICBwbHVnaW5OYW1lOiBcImJhdGNoXCJcbiAgICB9LCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy51bmlmb3Jtcykge1xuICAgICAgT2JqZWN0LmFzc2lnbih1bmlmb3Jtcywgb3B0aW9ucy51bmlmb3Jtcyk7XG4gICAgfVxuICAgIHN1cGVyKG9wdGlvbnMucHJvZ3JhbSB8fCBQcm9ncmFtLmZyb20odmVydGV4LCBmcmFnbWVudCksIHVuaWZvcm1zKTtcbiAgICB0aGlzLl9jb2xvckRpcnR5ID0gZmFsc2U7XG4gICAgdGhpcy51dk1hdHJpeCA9IG5ldyBUZXh0dXJlTWF0cml4KHVTYW1wbGVyKTtcbiAgICB0aGlzLmJhdGNoYWJsZSA9IG9wdGlvbnMucHJvZ3JhbSA9PT0gdm9pZCAwO1xuICAgIHRoaXMucGx1Z2luTmFtZSA9IG9wdGlvbnMucGx1Z2luTmFtZTtcbiAgICB0aGlzLnRpbnQgPSBvcHRpb25zLnRpbnQ7XG4gICAgdGhpcy5hbHBoYSA9IG9wdGlvbnMuYWxwaGE7XG4gIH1cbiAgZ2V0IHRleHR1cmUoKSB7XG4gICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNhbXBsZXI7XG4gIH1cbiAgc2V0IHRleHR1cmUodmFsdWUpIHtcbiAgICBpZiAodGhpcy51bmlmb3Jtcy51U2FtcGxlciAhPT0gdmFsdWUpIHtcbiAgICAgIGlmICghdGhpcy51bmlmb3Jtcy51U2FtcGxlci5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgIT09ICF2YWx1ZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUpIHtcbiAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gdmFsdWU7XG4gICAgICB0aGlzLnV2TWF0cml4LnRleHR1cmUgPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgc2V0IGFscGhhKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB0aGlzLl9hbHBoYSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLl9hbHBoYSA9IHZhbHVlO1xuICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICB9XG4gIGdldCBhbHBoYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWxwaGE7XG4gIH1cbiAgc2V0IHRpbnQodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IHRoaXMuX3RpbnQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgNjUyODApICsgKCh2YWx1ZSAmIDI1NSkgPDwgMTYpO1xuICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICB9XG4gIGdldCB0aW50KCkge1xuICAgIHJldHVybiB0aGlzLl90aW50O1xuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5fY29sb3JEaXJ0eSkge1xuICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSB0aGlzLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICB1dGlscy5wcmVtdWx0aXBseVRpbnRUb1JnYmEodGhpcy5fdGludCwgdGhpcy5fYWxwaGEsIHRoaXMudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUpO1xuICAgIH1cbiAgICBpZiAodGhpcy51dk1hdHJpeC51cGRhdGUoKSkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51VGV4dHVyZU1hdHJpeCA9IHRoaXMudXZNYXRyaXgubWFwQ29vcmQ7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IE1lc2hNYXRlcmlhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaE1hdGVyaWFsLm1qcy5tYXBcbiIsImV4cG9ydCB7IE1lc2ggfSBmcm9tICcuL01lc2gubWpzJztcbmV4cG9ydCB7IE1lc2hCYXRjaFV2cyB9IGZyb20gJy4vTWVzaEJhdGNoVXZzLm1qcyc7XG5leHBvcnQgeyBNZXNoTWF0ZXJpYWwgfSBmcm9tICcuL01lc2hNYXRlcmlhbC5tanMnO1xuZXhwb3J0IHsgTWVzaEdlb21ldHJ5IH0gZnJvbSAnLi9NZXNoR2VvbWV0cnkubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsInZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxufVxcblwiO1xuXG5leHBvcnQgeyBmcmFnbWVudCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHZlcnRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoMi5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXgsIHNldHRpbmdzLCBSZW5kZXJUZXh0dXJlLCB1dGlscywgQmFzZVRleHR1cmUsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbmNvbnN0IF90ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBudWxsO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBSZXNvbHV0aW9uID0gbnVsbDtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwTXVsdGlzYW1wbGUgPSBudWxsO1xuY2xhc3MgQ2FjaGVEYXRhIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbFJlbmRlciA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsRGVzdHJveSA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbE1hc2sgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxGaWx0ZXJBcmVhID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IG51bGw7XG4gICAgdGhpcy5zcHJpdGUgPSBudWxsO1xuICB9XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwge1xuICBjYWNoZUFzQml0bWFwUmVzb2x1dGlvbjoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwUmVzb2x1dGlvbjtcbiAgICB9LFxuICAgIHNldChyZXNvbHV0aW9uKSB7XG4gICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdGhpcy5fY2FjaGVBc0JpdG1hcFJlc29sdXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcFJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgaWYgKHRoaXMuY2FjaGVBc0JpdG1hcCkge1xuICAgICAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYWNoZUFzQml0bWFwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNhY2hlQXNCaXRtYXBNdWx0aXNhbXBsZToge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwTXVsdGlzYW1wbGU7XG4gICAgfSxcbiAgICBzZXQobXVsdGlzYW1wbGUpIHtcbiAgICAgIGlmIChtdWx0aXNhbXBsZSA9PT0gdGhpcy5fY2FjaGVBc0JpdG1hcE11bHRpc2FtcGxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NhY2hlQXNCaXRtYXBNdWx0aXNhbXBsZSA9IG11bHRpc2FtcGxlO1xuICAgICAgaWYgKHRoaXMuY2FjaGVBc0JpdG1hcCkge1xuICAgICAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYWNoZUFzQml0bWFwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNhY2hlQXNCaXRtYXA6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FjaGVBc0JpdG1hcDtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NhY2hlQXNCaXRtYXAgPSB2YWx1ZTtcbiAgICAgIGxldCBkYXRhO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVEYXRhKSB7XG4gICAgICAgICAgdGhpcy5fY2FjaGVEYXRhID0gbmV3IENhY2hlRGF0YSgpO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG4gICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXIgPSB0aGlzLnJlbmRlcjtcbiAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IHRoaXMucmVuZGVyQ2FudmFzO1xuICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgIGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSB0aGlzLmNhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcztcbiAgICAgICAgZGF0YS5vcmlnaW5hbERlc3Ryb3kgPSB0aGlzLmRlc3Ryb3k7XG4gICAgICAgIGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50ID0gdGhpcy5jb250YWluc1BvaW50O1xuICAgICAgICBkYXRhLm9yaWdpbmFsTWFzayA9IHRoaXMuX21hc2s7XG4gICAgICAgIGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhID0gdGhpcy5maWx0ZXJBcmVhO1xuICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMuX3JlbmRlckNhY2hlZDtcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcbiAgICAgICAgaWYgKGRhdGEuc3ByaXRlKSB7XG4gICAgICAgICAgdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlciA9IGRhdGEub3JpZ2luYWxSZW5kZXI7XG4gICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzO1xuICAgICAgICB0aGlzLmdldExvY2FsQm91bmRzID0gZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzO1xuICAgICAgICB0aGlzLmRlc3Ryb3kgPSBkYXRhLm9yaWdpbmFsRGVzdHJveTtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludDtcbiAgICAgICAgdGhpcy5fbWFzayA9IGRhdGEub3JpZ2luYWxNYXNrO1xuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZCA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWQocmVuZGVyZXIpIHtcbiAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcik7XG4gIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyKHJlbmRlcmVyKTtcbn07XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpIHtcbiAgaWYgKHRoaXMuX2NhY2hlRGF0YT8uc3ByaXRlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuICB0aGlzLmFscGhhID0gMTtcbiAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgY29uc3QgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKS5jbG9uZSgpO1xuICBpZiAodGhpcy5maWx0ZXJzPy5sZW5ndGgpIHtcbiAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5maWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgYm91bmRzLnBhZChwYWRkaW5nKTtcbiAgfVxuICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcbiAgY29uc3QgY2FjaGVkUmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgY29uc3QgY2FjaGVkU291cmNlRnJhbWUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lLmNsb25lKCk7XG4gIGNvbnN0IGNhY2hlZERlc3RpbmF0aW9uRnJhbWUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmRlc3RpbmF0aW9uRnJhbWUuY2xvbmUoKTtcbiAgY29uc3QgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuICBjb25zdCByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoe1xuICAgIHdpZHRoOiBib3VuZHMud2lkdGgsXG4gICAgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0LFxuICAgIHJlc29sdXRpb246IHRoaXMuY2FjaGVBc0JpdG1hcFJlc29sdXRpb24gfHwgcmVuZGVyZXIucmVzb2x1dGlvbixcbiAgICBtdWx0aXNhbXBsZTogdGhpcy5jYWNoZUFzQml0bWFwTXVsdGlzYW1wbGUgPz8gcmVuZGVyZXIubXVsdGlzYW1wbGVcbiAgfSk7XG4gIGNvbnN0IHRleHR1cmVDYWNoZUlkID0gYGNhY2hlQXNCaXRtYXBfJHt1dGlscy51aWQoKX1gO1xuICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcbiAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gIGNvbnN0IG0gPSB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5VG8oX3RlbXBNYXRyaXgpLmludmVydCgpLnRyYW5zbGF0ZSgtYm91bmRzLngsIC1ib3VuZHMueSk7XG4gIHRoaXMucmVuZGVyID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyO1xuICByZW5kZXJlci5yZW5kZXIodGhpcywgeyByZW5kZXJUZXh0dXJlLCBjbGVhcjogdHJ1ZSwgdHJhbnNmb3JtOiBtLCBza2lwVXBkYXRlVHJhbnNmb3JtOiBmYWxzZSB9KTtcbiAgcmVuZGVyZXIuZnJhbWVidWZmZXIuYmxpdCgpO1xuICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm07XG4gIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChjYWNoZWRSZW5kZXJUZXh0dXJlLCBjYWNoZWRTb3VyY2VGcmFtZSwgY2FjaGVkRGVzdGluYXRpb25GcmFtZSk7XG4gIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcbiAgdGhpcy5fbWFzayA9IG51bGw7XG4gIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gIHRoaXMuYWxwaGEgPSBjYWNoZUFscGhhO1xuICBjb25zdCBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgIHRoaXMuZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgdGhpcy5kaXNhYmxlVGVtcFBhcmVudChudWxsKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICB9XG4gIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZENhbnZhcyhyZW5kZXJlcikge1xuICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKTtcbiAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xufTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcikge1xuICBpZiAodGhpcy5fY2FjaGVEYXRhPy5zcHJpdGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKTtcbiAgY29uc3QgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG4gIHRoaXMuYWxwaGEgPSAxO1xuICBjb25zdCBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5jYW52YXNDb250ZXh0LmFjdGl2ZUNvbnRleHQ7XG4gIGNvbnN0IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0gPSByZW5kZXJlci5fcHJvalRyYW5zZm9ybTtcbiAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG4gIGNvbnN0IHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiBib3VuZHMud2lkdGgsIGhlaWdodDogYm91bmRzLmhlaWdodCB9KTtcbiAgY29uc3QgdGV4dHVyZUNhY2hlSWQgPSBgY2FjaGVBc0JpdG1hcF8ke3V0aWxzLnVpZCgpfWA7XG4gIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgY29uc3QgbSA9IF90ZW1wTWF0cml4O1xuICB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5VG8obSk7XG4gIG0uaW52ZXJ0KCk7XG4gIG0udHggLT0gYm91bmRzLng7XG4gIG0udHkgLT0gYm91bmRzLnk7XG4gIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICByZW5kZXJlci5yZW5kZXIodGhpcywgeyByZW5kZXJUZXh0dXJlLCBjbGVhcjogdHJ1ZSwgdHJhbnNmb3JtOiBtLCBza2lwVXBkYXRlVHJhbnNmb3JtOiBmYWxzZSB9KTtcbiAgcmVuZGVyZXIuY2FudmFzQ29udGV4dC5hY3RpdmVDb250ZXh0ID0gY2FjaGVkUmVuZGVyVGFyZ2V0O1xuICByZW5kZXJlci5fcHJvalRyYW5zZm9ybSA9IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm07XG4gIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcbiAgdGhpcy5fbWFzayA9IG51bGw7XG4gIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gIHRoaXMuYWxwaGEgPSBjYWNoZUFscGhhO1xuICBjb25zdCBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgIHRoaXMucGFyZW50ID0gcmVuZGVyZXIuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gIH1cbiAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQ2FjaGVkQm91bmRzKCkge1xuICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fY2FsY3VsYXRlQm91bmRzKCk7XG4gIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xufTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9nZXRDYWNoZWRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIF9nZXRDYWNoZWRMb2NhbEJvdW5kcygpIHtcbiAgcmV0dXJuIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuZ2V0TG9jYWxCb3VuZHMobnVsbCk7XG59O1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCkge1xuICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl90ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBudWxsO1xuICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcbiAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcbiAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbn07XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcERlc3Ryb3kgPSBmdW5jdGlvbiBfY2FjaGVBc0JpdG1hcERlc3Ryb3kob3B0aW9ucykge1xuICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgdGhpcy5kZXN0cm95KG9wdGlvbnMpO1xufTtcblxuZXhwb3J0IHsgQ2FjaGVEYXRhIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBEaXNwbGF5T2JqZWN0LCBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuRGlzcGxheU9iamVjdC5wcm90b3R5cGUubmFtZSA9IG51bGw7XG5Db250YWluZXIucHJvdG90eXBlLmdldENoaWxkQnlOYW1lID0gZnVuY3Rpb24gZ2V0Q2hpbGRCeU5hbWUobmFtZSwgZGVlcCkge1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgaWYgKHRoaXMuY2hpbGRyZW5baV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baV07XG4gICAgfVxuICB9XG4gIGlmIChkZWVwKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKCFjaGlsZC5nZXRDaGlsZEJ5TmFtZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRhcmdldCA9IGNoaWxkLmdldENoaWxkQnlOYW1lKG5hbWUsIHRydWUpO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRHbG9iYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldEdsb2JhbFBvc2l0aW9uKHBvaW50ID0gbmV3IFBvaW50KCksIHNraXBVcGRhdGUgPSBmYWxzZSkge1xuICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICB0aGlzLnBhcmVudC50b0dsb2JhbCh0aGlzLnBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgcG9pbnQueCA9IHRoaXMucG9zaXRpb24ueDtcbiAgICBwb2ludC55ID0gdGhpcy5wb3NpdGlvbi55O1xuICB9XG4gIHJldHVybiBwb2ludDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBHZW9tZXRyeSwgVFlQRVMsIEJ1ZmZlciwgdXRpbHMgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuY2xhc3MgUGFydGljbGVCdWZmZXIge1xuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgc2l6ZSkge1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBbXTtcbiAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxldCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICBwcm9wZXJ0eSA9IHtcbiAgICAgICAgYXR0cmlidXRlTmFtZTogcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgdXBsb2FkRnVuY3Rpb246IHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uLFxuICAgICAgICB0eXBlOiBwcm9wZXJ0eS50eXBlIHx8IFRZUEVTLkZMT0FULFxuICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldFxuICAgICAgfTtcbiAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSkge1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgIHRoaXMuaW5pdEJ1ZmZlcnMoKTtcbiAgfVxuICBpbml0QnVmZmVycygpIHtcbiAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgbGV0IGR5bmFtaWNPZmZzZXQgPSAwO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKHV0aWxzLmNyZWF0ZUluZGljZXNGb3JRdWFkcyh0aGlzLnNpemUpLCB0cnVlLCB0cnVlKTtcbiAgICBnZW9tZXRyeS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgcHJvcGVydHkub2Zmc2V0ID0gZHluYW1pY09mZnNldDtcbiAgICAgIGR5bmFtaWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgIH1cbiAgICBjb25zdCBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShkeW5CdWZmZXIpO1xuICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5keW5hbWljRGF0YSwgZmFsc2UsIGZhbHNlKTtcbiAgICBsZXQgc3RhdGljT2Zmc2V0ID0gMDtcbiAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgcHJvcGVydHkub2Zmc2V0ID0gc3RhdGljT2Zmc2V0O1xuICAgICAgc3RhdGljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICB0aGlzLnN0YXRpY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgIH1cbiAgICBjb25zdCBzdGF0QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuc3RhdGljU3RyaWRlICogNCAqIDQpO1xuICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnN0YXRpY0RhdGEsIHRydWUsIGZhbHNlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcbiAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLCB0aGlzLmR5bmFtaWNCdWZmZXIsIDAsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsIHByb3BlcnR5LnR5cGUsIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsIHByb3BlcnR5Lm9mZnNldCAqIDQpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG4gICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUocHJvcGVydHkuYXR0cmlidXRlTmFtZSwgdGhpcy5zdGF0aWNCdWZmZXIsIDAsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsIHByb3BlcnR5LnR5cGUsIHRoaXMuc3RhdGljU3RyaWRlICogNCwgcHJvcGVydHkub2Zmc2V0ICogNCk7XG4gICAgfVxuICB9XG4gIHVwbG9hZER5bmFtaWMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuZHluYW1pY0RhdGFVaW50MzIgOiB0aGlzLmR5bmFtaWNEYXRhLCB0aGlzLmR5bmFtaWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgfVxuICAgIHRoaXMuZHluYW1pY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgfVxuICB1cGxvYWRTdGF0aWMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcbiAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLnN0YXRpY0RhdGFVaW50MzIgOiB0aGlzLnN0YXRpY0RhdGEsIHRoaXMuc3RhdGljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgIH1cbiAgICB0aGlzLnN0YXRpY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgIHRoaXMuZ2VvbWV0cnkuZGVzdHJveSgpO1xuICB9XG59XG5cbmV4cG9ydCB7IFBhcnRpY2xlQnVmZmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZUJ1ZmZlci5tanMubWFwXG4iLCJpbXBvcnQgeyBCTEVORF9NT0RFUywgdXRpbHMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG5jbGFzcyBQYXJ0aWNsZUNvbnRhaW5lciBleHRlbmRzIENvbnRhaW5lciB7XG4gIGNvbnN0cnVjdG9yKG1heFNpemUgPSAxNTAwLCBwcm9wZXJ0aWVzLCBiYXRjaFNpemUgPSAxNjM4NCwgYXV0b1Jlc2l6ZSA9IGZhbHNlKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCBtYXhCYXRjaFNpemUgPSAxNjM4NDtcbiAgICBpZiAoYmF0Y2hTaXplID4gbWF4QmF0Y2hTaXplKSB7XG4gICAgICBiYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgfVxuICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBbZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xuICAgIHRoaXMuX21heFNpemUgPSBtYXhTaXplO1xuICAgIHRoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcbiAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBbXTtcbiAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgdGhpcy5hdXRvUmVzaXplID0gYXV0b1Jlc2l6ZTtcbiAgICB0aGlzLnJvdW5kUGl4ZWxzID0gdHJ1ZTtcbiAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgdGhpcy5fdGludCA9IDA7XG4gICAgdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICB0aGlzLnRpbnQgPSAxNjc3NzIxNTtcbiAgfVxuICBzZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpIHtcbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgdGhpcy5fcHJvcGVydGllc1swXSA9IFwidmVydGljZXNcIiBpbiBwcm9wZXJ0aWVzIHx8IFwic2NhbGVcIiBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnZlcnRpY2VzIHx8ICEhcHJvcGVydGllcy5zY2FsZSA6IHRoaXMuX3Byb3BlcnRpZXNbMF07XG4gICAgICB0aGlzLl9wcm9wZXJ0aWVzWzFdID0gXCJwb3NpdGlvblwiIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucG9zaXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzFdO1xuICAgICAgdGhpcy5fcHJvcGVydGllc1syXSA9IFwicm90YXRpb25cIiBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnJvdGF0aW9uIDogdGhpcy5fcHJvcGVydGllc1syXTtcbiAgICAgIHRoaXMuX3Byb3BlcnRpZXNbM10gPSBcInV2c1wiIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudXZzIDogdGhpcy5fcHJvcGVydGllc1szXTtcbiAgICAgIHRoaXMuX3Byb3BlcnRpZXNbNF0gPSBcInRpbnRcIiBpbiBwcm9wZXJ0aWVzIHx8IFwiYWxwaGFcIiBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICB9XG4gIGdldCB0aW50KCkge1xuICAgIHJldHVybiB0aGlzLl90aW50O1xuICB9XG4gIHNldCB0aW50KHZhbHVlKSB7XG4gICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgIHV0aWxzLmhleDJyZ2IodmFsdWUsIHRoaXMudGludFJnYik7XG4gIH1cbiAgcmVuZGVyKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoXCJ1cGRhdGVcIiwgKCkgPT4gdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKDApKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZSk7XG4gICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gIH1cbiAgb25DaGlsZHJlbkNoYW5nZShzbWFsbGVzdENoaWxkSW5kZXgpIHtcbiAgICBjb25zdCBidWZmZXJJbmRleCA9IE1hdGguZmxvb3Ioc21hbGxlc3RDaGlsZEluZGV4IC8gdGhpcy5fYmF0Y2hTaXplKTtcbiAgICB3aGlsZSAodGhpcy5fYnVmZmVyVXBkYXRlSURzLmxlbmd0aCA8IGJ1ZmZlckluZGV4KSB7XG4gICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICB9XG4gICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzW2J1ZmZlckluZGV4XSA9ICsrdGhpcy5fdXBkYXRlSUQ7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5fYnVmZmVycykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVDb250YWluZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgT2JqZWN0UmVuZGVyZXIsIE1hdHJpeCwgVFlQRVMsIFNoYWRlciwgU3RhdGUsIHV0aWxzLCBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBQYXJ0aWNsZUJ1ZmZlciB9IGZyb20gJy4vUGFydGljbGVCdWZmZXIubWpzJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL3BhcnRpY2xlcy5tanMnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL3BhcnRpY2xlczIubWpzJztcblxuY2xhc3MgUGFydGljbGVSZW5kZXJlciBleHRlbmRzIE9iamVjdFJlbmRlcmVyIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICBzdXBlcihyZW5kZXJlcik7XG4gICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIHRoaXMucHJvcGVydGllcyA9IG51bGw7XG4gICAgdGhpcy50ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgIHRoaXMucHJvcGVydGllcyA9IFtcbiAgICAgIHtcbiAgICAgICAgYXR0cmlidXRlTmFtZTogXCJhVmVydGV4UG9zaXRpb25cIixcbiAgICAgICAgc2l6ZTogMixcbiAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVmVydGljZXMsXG4gICAgICAgIG9mZnNldDogMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYXR0cmlidXRlTmFtZTogXCJhUG9zaXRpb25Db29yZFwiLFxuICAgICAgICBzaXplOiAyLFxuICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgb2Zmc2V0OiAwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhdHRyaWJ1dGVOYW1lOiBcImFSb3RhdGlvblwiLFxuICAgICAgICBzaXplOiAxLFxuICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRSb3RhdGlvbixcbiAgICAgICAgb2Zmc2V0OiAwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhdHRyaWJ1dGVOYW1lOiBcImFUZXh0dXJlQ29vcmRcIixcbiAgICAgICAgc2l6ZTogMixcbiAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVXZzLFxuICAgICAgICBvZmZzZXQ6IDBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGF0dHJpYnV0ZU5hbWU6IFwiYUNvbG9yXCIsXG4gICAgICAgIHNpemU6IDEsXG4gICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFRpbnQsXG4gICAgICAgIG9mZnNldDogMFxuICAgICAgfVxuICAgIF07XG4gICAgdGhpcy5zaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50LCB7fSk7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gIH1cbiAgcmVuZGVyKGNvbnRhaW5lcikge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgIGNvbnN0IG1heFNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgY29uc3QgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGxldCB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGlmICh0b3RhbENoaWxkcmVuID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmICh0b3RhbENoaWxkcmVuID4gbWF4U2l6ZSAmJiAhY29udGFpbmVyLmF1dG9SZXNpemUpIHtcbiAgICAgIHRvdGFsQ2hpbGRyZW4gPSBtYXhTaXplO1xuICAgIH1cbiAgICBsZXQgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycztcbiAgICBpZiAoIWJ1ZmZlcnMpIHtcbiAgICAgIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnMgPSB0aGlzLmdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpO1xuICAgIH1cbiAgICBjb25zdCBiYXNlVGV4dHVyZSA9IGNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgIGNvbnN0IHByZW11bHRpcGxpZWQgPSBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPiAwO1xuICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdXRpbHMuY29ycmVjdEJsZW5kTW9kZShjb250YWluZXIuYmxlbmRNb2RlLCBwcmVtdWx0aXBsaWVkKTtcbiAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcbiAgICBjb25zdCBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0aGlzLnRlbXBNYXRyaXgpO1xuICAgIG0ucHJlcGVuZChyZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4KTtcbiAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IG0udG9BcnJheSh0cnVlKTtcbiAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSB1dGlscy5wcmVtdWx0aXBseVJnYmEoY29udGFpbmVyLnRpbnRSZ2IsIGNvbnRhaW5lci53b3JsZEFscGhhLCB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IsIHByZW11bHRpcGxpZWQpO1xuICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gYmFzZVRleHR1cmU7XG4gICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLnNoYWRlcik7XG4gICAgbGV0IHVwZGF0ZVN0YXRpYyA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpIHtcbiAgICAgIGxldCBhbW91bnQgPSB0b3RhbENoaWxkcmVuIC0gaTtcbiAgICAgIGlmIChhbW91bnQgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgfVxuICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgYnVmZmVycy5wdXNoKHRoaXMuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG4gICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgIGNvbnN0IGJpZCA9IGNvbnRhaW5lci5fYnVmZmVyVXBkYXRlSURzW2pdIHx8IDA7XG4gICAgICB1cGRhdGVTdGF0aWMgPSB1cGRhdGVTdGF0aWMgfHwgYnVmZmVyLl91cGRhdGVJRCA8IGJpZDtcbiAgICAgIGlmICh1cGRhdGVTdGF0aWMpIHtcbiAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICB9XG4gICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGJ1ZmZlci5nZW9tZXRyeSk7XG4gICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBhbW91bnQgKiA2LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgfVxuICB9XG4gIGdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpIHtcbiAgICBjb25zdCBidWZmZXJzID0gW107XG4gICAgY29uc3Qgc2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICBjb25zdCBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICBjb25zdCBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICBidWZmZXJzLnB1c2gobmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gYnVmZmVycztcbiAgfVxuICBfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikge1xuICAgIGNvbnN0IGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgIGNvbnN0IGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuICAgIHJldHVybiBuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgfVxuICB1cGxvYWRWZXJ0aWNlcyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICBsZXQgdzAgPSAwO1xuICAgIGxldCB3MSA9IDA7XG4gICAgbGV0IGgwID0gMDtcbiAgICBsZXQgaDEgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgIGNvbnN0IHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICBjb25zdCBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgY29uc3Qgc3kgPSBzcHJpdGUuc2NhbGUueTtcbiAgICAgIGNvbnN0IHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICBjb25zdCBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgdzEgPSB0cmltLnggLSBzcHJpdGUuYW5jaG9yLnggKiBvcmlnLndpZHRoO1xuICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcbiAgICAgICAgaDEgPSB0cmltLnkgLSBzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdzAgPSBvcmlnLndpZHRoICogKDEgLSBzcHJpdGUuYW5jaG9yLngpO1xuICAgICAgICB3MSA9IG9yaWcud2lkdGggKiAtc3ByaXRlLmFuY2hvci54O1xuICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICBoMSA9IG9yaWcuaGVpZ2h0ICogLXNwcml0ZS5hbmNob3IueTtcbiAgICAgIH1cbiAgICAgIGFycmF5W29mZnNldF0gPSB3MSAqIHN4O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBoMSAqIHN5O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHcwICogc3g7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSBoMCAqIHN5O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSB3MSAqIHN4O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gaDAgKiBzeTtcbiAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgIH1cbiAgfVxuICB1cGxvYWRQb3NpdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcbiAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgIH1cbiAgfVxuICB1cGxvYWRSb3RhdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBzcHJpdGVSb3RhdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5yb3RhdGlvbjtcbiAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gc3ByaXRlUm90YXRpb247XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgfVxuICB9XG4gIHVwbG9hZFV2cyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICBjb25zdCB0ZXh0dXJlVXZzID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLl90ZXh0dXJlLl91dnM7XG4gICAgICBpZiAodGV4dHVyZVV2cykge1xuICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IHRleHR1cmVVdnMueTI7XG4gICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gdGV4dHVyZVV2cy55MztcbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAwO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gMDtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IDA7XG4gICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IDA7XG4gICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gMDtcbiAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gMDtcbiAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHVwbG9hZFRpbnQoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgY29uc3Qgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgY29uc3QgcHJlbXVsdGlwbGllZCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPiAwO1xuICAgICAgY29uc3QgYWxwaGEgPSBzcHJpdGUuYWxwaGE7XG4gICAgICBjb25zdCBhcmdiID0gYWxwaGEgPCAxICYmIHByZW11bHRpcGxpZWQgPyB1dGlscy5wcmVtdWx0aXBseVRpbnQoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gYXJnYjtcbiAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gYXJnYjtcbiAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICBpZiAodGhpcy5zaGFkZXIpIHtcbiAgICAgIHRoaXMuc2hhZGVyLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgfVxufVxuUGFydGljbGVSZW5kZXJlci5leHRlbnNpb24gPSB7XG4gIG5hbWU6IFwicGFydGljbGVcIixcbiAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclBsdWdpblxufTtcbmV4dGVuc2lvbnMuYWRkKFBhcnRpY2xlUmVuZGVyZXIpO1xuXG5leHBvcnQgeyBQYXJ0aWNsZVJlbmRlcmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZVJlbmRlcmVyLm1qcy5tYXBcbiIsImV4cG9ydCB7IFBhcnRpY2xlQ29udGFpbmVyIH0gZnJvbSAnLi9QYXJ0aWNsZUNvbnRhaW5lci5tanMnO1xuZXhwb3J0IHsgUGFydGljbGVSZW5kZXJlciB9IGZyb20gJy4vUGFydGljbGVSZW5kZXJlci5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7XFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGVzLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb25Db29yZDtcXG5hdHRyaWJ1dGUgZmxvYXQgYVJvdGF0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBmbG9hdCB4ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIGNvcyhhUm90YXRpb24pIC0gKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIHNpbihhUm90YXRpb24pO1xcbiAgICBmbG9hdCB5ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIHNpbihhUm90YXRpb24pICsgKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIGNvcyhhUm90YXRpb24pO1xcblxcbiAgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpO1xcbiAgICB2ID0gdiArIGFQb3NpdGlvbkNvb3JkO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yICogdUNvbG9yO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgdmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlczIubWpzLm1hcFxuIiwiaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUsIHNldHRpbmdzLCBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBUZXh0LCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgeyBDb3VudExpbWl0ZXIgfSBmcm9tICcuL0NvdW50TGltaXRlci5tanMnO1xuXG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpIHtcbiAgbGV0IHJlc3VsdCA9IGZhbHNlO1xuICBpZiAoaXRlbT8uX3RleHR1cmVzPy5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW0uX3RleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaXRlbS5fdGV4dHVyZXNbaV0gaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG4gICAgICAgIGlmICghcXVldWUuaW5jbHVkZXMoYmFzZVRleHR1cmUpKSB7XG4gICAgICAgICAgcXVldWUucHVzaChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZmluZEJhc2VUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gIGlmIChpdGVtLmJhc2VUZXh0dXJlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gaXRlbS5iYXNlVGV4dHVyZTtcbiAgICBpZiAoIXF1ZXVlLmluY2x1ZGVzKHRleHR1cmUpKSB7XG4gICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBmaW5kVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICBpZiAoaXRlbS5fdGV4dHVyZSAmJiBpdGVtLl90ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgIGNvbnN0IHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgIGlmICghcXVldWUuaW5jbHVkZXModGV4dHVyZSkpIHtcbiAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGRyYXdUZXh0KF9oZWxwZXIsIGl0ZW0pIHtcbiAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgaXRlbS51cGRhdGVUZXh0KHRydWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRleHRTdHlsZShfaGVscGVyLCBpdGVtKSB7XG4gIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgY29uc3QgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG4gICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZmluZFRleHQoaXRlbSwgcXVldWUpIHtcbiAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgaWYgKCFxdWV1ZS5pbmNsdWRlcyhpdGVtLnN0eWxlKSkge1xuICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICB9XG4gICAgaWYgKCFxdWV1ZS5pbmNsdWRlcyhpdGVtKSkge1xuICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICB9XG4gICAgY29uc3QgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgaWYgKCFxdWV1ZS5pbmNsdWRlcyh0ZXh0dXJlKSkge1xuICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZmluZFRleHRTdHlsZShpdGVtLCBxdWV1ZSkge1xuICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgIGlmICghcXVldWUuaW5jbHVkZXMoaXRlbSkpIHtcbiAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmNsYXNzIEJhc2VQcmVwYXJlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLmxpbWl0ZXIgPSBuZXcgQ291bnRMaW1pdGVyKHNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgdGhpcy5hZGRIb29rcyA9IFtdO1xuICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcbiAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgIHRoaXMuZGVsYXllZFRpY2sgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMucXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5wcmVwYXJlSXRlbXMoKTtcbiAgICB9O1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dCk7XG4gICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0U3R5bGUpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kQmFzZVRleHR1cmUpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dHVyZSk7XG4gICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soZHJhd1RleHQpO1xuICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG4gIH1cbiAgdXBsb2FkKGl0ZW0pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2gocmVzb2x2ZSk7XG4gICAgICAgIGlmICghdGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB0aWNrKCkge1xuICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG4gIH1cbiAgcHJlcGFyZUl0ZW1zKCkge1xuICAgIHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7XG4gICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoICYmIHRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKSkge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMucXVldWVbMF07XG4gICAgICBsZXQgdXBsb2FkZWQgPSBmYWxzZTtcbiAgICAgIGlmIChpdGVtICYmICFpdGVtLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAodGhpcy51cGxvYWRIb29rc1tpXSh0aGlzLnVwbG9hZEhvb2tIZWxwZXIsIGl0ZW0pKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB1cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdXBsb2FkZWQpIHtcbiAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGNvbXBsZXRlcyA9IHRoaXMuY29tcGxldGVzLnNsaWNlKDApO1xuICAgICAgdGhpcy5jb21wbGV0ZXMubGVuZ3RoID0gMDtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjb21wbGV0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29tcGxldGVzW2ldKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIFRpY2tlci5zeXN0ZW0uYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICB9XG4gIH1cbiAgcmVnaXN0ZXJGaW5kSG9vayhhZGRIb29rKSB7XG4gICAgaWYgKGFkZEhvb2spIHtcbiAgICAgIHRoaXMuYWRkSG9va3MucHVzaChhZGRIb29rKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEhvb2spIHtcbiAgICBpZiAodXBsb2FkSG9vaykge1xuICAgICAgdGhpcy51cGxvYWRIb29rcy5wdXNoKHVwbG9hZEhvb2spO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBhZGQoaXRlbSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmFkZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5hZGRIb29rc1tpXShpdGVtLCB0aGlzLnF1ZXVlKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBDb250YWluZXIpIHtcbiAgICAgIGZvciAobGV0IGkgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHRoaXMuYWRkKGl0ZW0uY2hpbGRyZW5baV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLnRpY2tpbmcpIHtcbiAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgfVxuICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgIHRoaXMudXBsb2FkSG9va3MgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICB0aGlzLnF1ZXVlID0gbnVsbDtcbiAgICB0aGlzLmxpbWl0ZXIgPSBudWxsO1xuICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmFzZVByZXBhcmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VQcmVwYXJlLm1qcy5tYXBcbiIsImNsYXNzIENvdW50TGltaXRlciB7XG4gIGNvbnN0cnVjdG9yKG1heEl0ZW1zUGVyRnJhbWUpIHtcbiAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbiAgfVxuICBiZWdpbkZyYW1lKCkge1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gdGhpcy5tYXhJdGVtc1BlckZyYW1lO1xuICB9XG4gIGFsbG93ZWRUb1VwbG9hZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtc0xlZnQtLSA+IDA7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ291bnRMaW1pdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3VudExpbWl0ZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgQmFzZVRleHR1cmUsIEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuaW1wb3J0IHsgQmFzZVByZXBhcmUgfSBmcm9tICcuL0Jhc2VQcmVwYXJlLm1qcyc7XG5cbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgaXRlbSkge1xuICBpZiAoaXRlbSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKSB7XG4gICAgaWYgKCFpdGVtLl9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB1cGxvYWRHcmFwaGljcyhyZW5kZXJlciwgaXRlbSkge1xuICBpZiAoIShpdGVtIGluc3RhbmNlb2YgR3JhcGhpY3MpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHsgZ2VvbWV0cnkgfSA9IGl0ZW07XG4gIGl0ZW0uZmluaXNoUG9seSgpO1xuICBnZW9tZXRyeS51cGRhdGVCYXRjaGVzKCk7XG4gIGNvbnN0IHsgYmF0Y2hlcyB9ID0gZ2VvbWV0cnk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHsgdGV4dHVyZSB9ID0gYmF0Y2hlc1tpXS5zdHlsZTtcbiAgICBpZiAodGV4dHVyZSkge1xuICAgICAgdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCB0ZXh0dXJlLmJhc2VUZXh0dXJlKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFnZW9tZXRyeS5iYXRjaGFibGUpIHtcbiAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBpdGVtLl9yZXNvbHZlRGlyZWN0U2hhZGVyKHJlbmRlcmVyKSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbSwgcXVldWUpIHtcbiAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcykge1xuICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuY2xhc3MgUHJlcGFyZSBleHRlbmRzIEJhc2VQcmVwYXJlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICBzdXBlcihyZW5kZXJlcik7XG4gICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEdyYXBoaWNzKTtcbiAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEdyYXBoaWNzKTtcbiAgfVxufVxuUHJlcGFyZS5leHRlbnNpb24gPSB7XG4gIG5hbWU6IFwicHJlcGFyZVwiLFxuICB0eXBlOiBFeHRlbnNpb25UeXBlLlJlbmRlcmVyU3lzdGVtXG59O1xuZXh0ZW5zaW9ucy5hZGQoUHJlcGFyZSk7XG5cbmV4cG9ydCB7IFByZXBhcmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByZXBhcmUubWpzLm1hcFxuIiwiY2xhc3MgVGltZUxpbWl0ZXIge1xuICBjb25zdHJ1Y3RvcihtYXhNaWxsaXNlY29uZHMpIHtcbiAgICB0aGlzLm1heE1pbGxpc2Vjb25kcyA9IG1heE1pbGxpc2Vjb25kcztcbiAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xuICB9XG4gIGJlZ2luRnJhbWUoKSB7XG4gICAgdGhpcy5mcmFtZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgfVxuICBhbGxvd2VkVG9VcGxvYWQoKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLmZyYW1lU3RhcnQgPCB0aGlzLm1heE1pbGxpc2Vjb25kcztcbiAgfVxufVxuXG5leHBvcnQgeyBUaW1lTGltaXRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZUxpbWl0ZXIubWpzLm1hcFxuIiwiaW1wb3J0ICcuL3NldHRpbmdzLm1qcyc7XG5leHBvcnQgeyBQcmVwYXJlIH0gZnJvbSAnLi9QcmVwYXJlLm1qcyc7XG5leHBvcnQgeyBCYXNlUHJlcGFyZSB9IGZyb20gJy4vQmFzZVByZXBhcmUubWpzJztcbmV4cG9ydCB7IENvdW50TGltaXRlciB9IGZyb20gJy4vQ291bnRMaW1pdGVyLm1qcyc7XG5leHBvcnQgeyBUaW1lTGltaXRlciB9IGZyb20gJy4vVGltZUxpbWl0ZXIubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5leHBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSA9IDQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5tanMubWFwXG4iLCJjbGFzcyBSdW5uZXIge1xuICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICB9XG4gIGVtaXQoYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiA4KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYXggYXJndW1lbnRzIHJlYWNoZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IHsgbmFtZSwgaXRlbXMgfSA9IHRoaXM7XG4gICAgdGhpcy5fYWxpYXNDb3VudCsrO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaXRlbXNbaV1bbmFtZV0oYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KTtcbiAgICB9XG4gICAgaWYgKGl0ZW1zID09PSB0aGlzLml0ZW1zKSB7XG4gICAgICB0aGlzLl9hbGlhc0NvdW50LS07XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGVuc3VyZU5vbkFsaWFzZWRJdGVtcygpIHtcbiAgICBpZiAodGhpcy5fYWxpYXNDb3VudCA+IDAgJiYgdGhpcy5pdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLl9hbGlhc0NvdW50ID0gMDtcbiAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLnNsaWNlKDApO1xuICAgIH1cbiAgfVxuICBhZGQoaXRlbSkge1xuICAgIGlmIChpdGVtW3RoaXMuX25hbWVdKSB7XG4gICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XG4gICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZShpdGVtKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY29udGFpbnMoaXRlbSkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmluY2x1ZGVzKGl0ZW0pO1xuICB9XG4gIHJlbW92ZUFsbCgpIHtcbiAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgIHRoaXMuaXRlbXMubGVuZ3RoID0gMDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVtb3ZlQWxsKCk7XG4gICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgdGhpcy5fbmFtZSA9IG51bGw7XG4gIH1cbiAgZ2V0IGVtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgfVxuICBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgfVxufVxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUnVubmVyLnByb3RvdHlwZSwge1xuICBkaXNwYXRjaDogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG4gIHJ1bjogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH1cbn0pO1xuXG5leHBvcnQgeyBSdW5uZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJ1bm5lci5tanMubWFwXG4iLCJleHBvcnQgeyBSdW5uZXIgfSBmcm9tICcuL1J1bm5lci5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JQ2FudmFzLm1qcy5tYXBcbiIsIlxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SUNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5tanMubWFwXG4iLCJjb25zdCBCcm93c2VyQWRhcHRlciA9IHtcbiAgY3JlYXRlQ2FudmFzOiAod2lkdGgsIGhlaWdodCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICByZXR1cm4gY2FudmFzO1xuICB9LFxuICBnZXRXZWJHTFJlbmRlcmluZ0NvbnRleHQ6ICgpID0+IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcbiAgZ2V0TmF2aWdhdG9yOiAoKSA9PiBuYXZpZ2F0b3IsXG4gIGdldEJhc2VVcmw6ICgpID0+IGRvY3VtZW50LmJhc2VVUkkgPz8gd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gIGdldEZvbnRGYWNlU2V0OiAoKSA9PiBkb2N1bWVudC5mb250cyxcbiAgZmV0Y2g6ICh1cmwsIG9wdGlvbnMpID0+IGZldGNoKHVybCwgb3B0aW9ucyksXG4gIHBhcnNlWE1MOiAoeG1sKSA9PiB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgIHJldHVybiBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbCwgXCJ0ZXh0L3htbFwiKTtcbiAgfVxufTtcblxuZXhwb3J0IHsgQnJvd3NlckFkYXB0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkYXB0ZXIubWpzLm1hcFxuIiwiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vaXNNb2JpbGUubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsInZhciBhcHBsZUlwaG9uZSA9IC9pUGhvbmUvaTtcbnZhciBhcHBsZUlwb2QgPSAvaVBvZC9pO1xudmFyIGFwcGxlVGFibGV0ID0gL2lQYWQvaTtcbnZhciBhcHBsZVVuaXZlcnNhbCA9IC9cXGJpT1MtdW5pdmVyc2FsKD86LispTWFjXFxiL2k7XG52YXIgYW5kcm9pZFBob25lID0gL1xcYkFuZHJvaWQoPzouKylNb2JpbGVcXGIvaTtcbnZhciBhbmRyb2lkVGFibGV0ID0gL0FuZHJvaWQvaTtcbnZhciBhbWF6b25QaG9uZSA9IC8oPzpTRDQ5MzBVUnxcXGJTaWxrKD86LispTW9iaWxlXFxiKS9pO1xudmFyIGFtYXpvblRhYmxldCA9IC9TaWxrL2k7XG52YXIgd2luZG93c1Bob25lID0gL1dpbmRvd3MgUGhvbmUvaTtcbnZhciB3aW5kb3dzVGFibGV0ID0gL1xcYldpbmRvd3MoPzouKylBUk1cXGIvaTtcbnZhciBvdGhlckJsYWNrQmVycnkgPSAvQmxhY2tCZXJyeS9pO1xudmFyIG90aGVyQmxhY2tCZXJyeTEwID0gL0JCMTAvaTtcbnZhciBvdGhlck9wZXJhID0gL09wZXJhIE1pbmkvaTtcbnZhciBvdGhlckNocm9tZSA9IC9cXGIoQ3JpT1N8Q2hyb21lKSg/Oi4rKU1vYmlsZS9pO1xudmFyIG90aGVyRmlyZWZveCA9IC9Nb2JpbGUoPzouKylGaXJlZm94XFxiL2k7XG52YXIgaXNBcHBsZVRhYmxldE9uSW9zMTMgPSBmdW5jdGlvbiAobmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBuYXZpZ2F0b3IucGxhdGZvcm0gPT09ICdNYWNJbnRlbCcgJiZcbiAgICAgICAgdHlwZW9mIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMSAmJlxuICAgICAgICB0eXBlb2YgTVNTdHJlYW0gPT09ICd1bmRlZmluZWQnKTtcbn07XG5mdW5jdGlvbiBjcmVhdGVNYXRjaCh1c2VyQWdlbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlZ2V4KSB7IHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7IH07XG59XG5mdW5jdGlvbiBpc01vYmlsZShwYXJhbSkge1xuICAgIHZhciBuYXYgPSB7XG4gICAgICAgIHVzZXJBZ2VudDogJycsXG4gICAgICAgIHBsYXRmb3JtOiAnJyxcbiAgICAgICAgbWF4VG91Y2hQb2ludHM6IDBcbiAgICB9O1xuICAgIGlmICghcGFyYW0gJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmF2ID0ge1xuICAgICAgICAgICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgcGxhdGZvcm06IG5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgIG1heFRvdWNoUG9pbnRzOiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcGFyYW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG5hdi51c2VyQWdlbnQgPSBwYXJhbTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGFyYW0gJiYgcGFyYW0udXNlckFnZW50KSB7XG4gICAgICAgIG5hdiA9IHtcbiAgICAgICAgICAgIHVzZXJBZ2VudDogcGFyYW0udXNlckFnZW50LFxuICAgICAgICAgICAgcGxhdGZvcm06IHBhcmFtLnBsYXRmb3JtLFxuICAgICAgICAgICAgbWF4VG91Y2hQb2ludHM6IHBhcmFtLm1heFRvdWNoUG9pbnRzIHx8IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdi51c2VyQWdlbnQ7XG4gICAgdmFyIHRtcCA9IHVzZXJBZ2VudC5zcGxpdCgnW0ZCQU4nKTtcbiAgICBpZiAodHlwZW9mIHRtcFsxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXNlckFnZW50ID0gdG1wWzBdO1xuICAgIH1cbiAgICB0bXAgPSB1c2VyQWdlbnQuc3BsaXQoJ1R3aXR0ZXInKTtcbiAgICBpZiAodHlwZW9mIHRtcFsxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXNlckFnZW50ID0gdG1wWzBdO1xuICAgIH1cbiAgICB2YXIgbWF0Y2ggPSBjcmVhdGVNYXRjaCh1c2VyQWdlbnQpO1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIGFwcGxlOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2goYXBwbGVJcGhvbmUpICYmICFtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgaXBvZDogbWF0Y2goYXBwbGVJcG9kKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFwcGxlSXBob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhcHBsZVRhYmxldCkgfHwgaXNBcHBsZVRhYmxldE9uSW9zMTMobmF2KSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIHVuaXZlcnNhbDogbWF0Y2goYXBwbGVVbml2ZXJzYWwpLFxuICAgICAgICAgICAgZGV2aWNlOiAobWF0Y2goYXBwbGVJcGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVJcG9kKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlVGFibGV0KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlVW5pdmVyc2FsKSB8fFxuICAgICAgICAgICAgICAgIGlzQXBwbGVUYWJsZXRPbklvczEzKG5hdikpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKHdpbmRvd3NQaG9uZSlcbiAgICAgICAgfSxcbiAgICAgICAgYW1hem9uOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2goYW1hem9uUGhvbmUpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uUGhvbmUpICYmIG1hdGNoKGFtYXpvblRhYmxldCksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFtYXpvblBob25lKSB8fCBtYXRjaChhbWF6b25UYWJsZXQpXG4gICAgICAgIH0sXG4gICAgICAgIGFuZHJvaWQ6IHtcbiAgICAgICAgICAgIHBob25lOiAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiYgbWF0Y2goYW1hem9uUGhvbmUpKSB8fFxuICAgICAgICAgICAgICAgICghbWF0Y2god2luZG93c1Bob25lKSAmJiBtYXRjaChhbmRyb2lkUGhvbmUpKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2goYW1hem9uUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKGFuZHJvaWRQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYW1hem9uVGFibGV0KSB8fCBtYXRjaChhbmRyb2lkVGFibGV0KSksXG4gICAgICAgICAgICBkZXZpY2U6ICghbWF0Y2god2luZG93c1Bob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhbWF6b25QaG9uZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW1hem9uVGFibGV0KSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbmRyb2lkUGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFuZHJvaWRUYWJsZXQpKSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaCgvXFxib2todHRwXFxiL2kpXG4gICAgICAgIH0sXG4gICAgICAgIHdpbmRvd3M6IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgdGFibGV0OiBtYXRjaCh3aW5kb3dzVGFibGV0KSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2god2luZG93c1Bob25lKSB8fCBtYXRjaCh3aW5kb3dzVGFibGV0KVxuICAgICAgICB9LFxuICAgICAgICBvdGhlcjoge1xuICAgICAgICAgICAgYmxhY2tiZXJyeTogbWF0Y2gob3RoZXJCbGFja0JlcnJ5KSxcbiAgICAgICAgICAgIGJsYWNrYmVycnkxMDogbWF0Y2gob3RoZXJCbGFja0JlcnJ5MTApLFxuICAgICAgICAgICAgb3BlcmE6IG1hdGNoKG90aGVyT3BlcmEpLFxuICAgICAgICAgICAgZmlyZWZveDogbWF0Y2gob3RoZXJGaXJlZm94KSxcbiAgICAgICAgICAgIGNocm9tZTogbWF0Y2gob3RoZXJDaHJvbWUpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChvdGhlckJsYWNrQmVycnkpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJCbGFja0JlcnJ5MTApIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJPcGVyYSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckZpcmVmb3gpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJDaHJvbWUpXG4gICAgICAgIH0sXG4gICAgICAgIGFueTogZmFsc2UsXG4gICAgICAgIHBob25lOiBmYWxzZSxcbiAgICAgICAgdGFibGV0OiBmYWxzZVxuICAgIH07XG4gICAgcmVzdWx0LmFueSA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC5hbmRyb2lkLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0LndpbmRvd3MuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQub3RoZXIuZGV2aWNlO1xuICAgIHJlc3VsdC5waG9uZSA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS5waG9uZSB8fCByZXN1bHQuYW5kcm9pZC5waG9uZSB8fCByZXN1bHQud2luZG93cy5waG9uZTtcbiAgICByZXN1bHQudGFibGV0ID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLnRhYmxldCB8fCByZXN1bHQuYW5kcm9pZC50YWJsZXQgfHwgcmVzdWx0LndpbmRvd3MudGFibGV0O1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCB7IGlzTW9iaWxlIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzTW9iaWxlLm1qcy5tYXBcbiIsImV4cG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncy5tanMnO1xuZXhwb3J0IHsgaXNNb2JpbGUgfSBmcm9tICcuL3V0aWxzL2lzTW9iaWxlLm1qcyc7XG5leHBvcnQgeyBCcm93c2VyQWRhcHRlciB9IGZyb20gJy4vYWRhcHRlci5tanMnO1xuaW1wb3J0ICcuL0lDYW52YXMubWpzJztcbmltcG9ydCAnLi9JQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBNSVBNQVBfTU9ERVMsIE1TQUFfUVVBTElUWSwgR0NfTU9ERVMsIFdSQVBfTU9ERVMsIFNDQUxFX01PREVTLCBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQnJvd3NlckFkYXB0ZXIgfSBmcm9tICcuL2FkYXB0ZXIubWpzJztcbmltcG9ydCB7IGNhblVwbG9hZFNhbWVCdWZmZXIgfSBmcm9tICcuL3V0aWxzL2NhblVwbG9hZFNhbWVCdWZmZXIubWpzJztcbmltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnLi91dGlscy9pc01vYmlsZS5tanMnO1xuaW1wb3J0IHsgbWF4UmVjb21tZW5kZWRUZXh0dXJlcyB9IGZyb20gJy4vdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlcy5tanMnO1xuXG5jb25zdCBzZXR0aW5ncyA9IHtcbiAgQURBUFRFUjogQnJvd3NlckFkYXB0ZXIsXG4gIE1JUE1BUF9URVhUVVJFUzogTUlQTUFQX01PREVTLlBPVzIsXG4gIEFOSVNPVFJPUElDX0xFVkVMOiAwLFxuICBSRVNPTFVUSU9OOiAxLFxuICBGSUxURVJfUkVTT0xVVElPTjogMSxcbiAgRklMVEVSX01VTFRJU0FNUExFOiBNU0FBX1FVQUxJVFkuTk9ORSxcbiAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG4gIFNQUklURV9CQVRDSF9TSVpFOiA0MDk2LFxuICBSRU5ERVJfT1BUSU9OUzoge1xuICAgIHZpZXc6IG51bGwsXG4gICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICBhdXRvRGVuc2l0eTogZmFsc2UsXG4gICAgYmFja2dyb3VuZENvbG9yOiAwLFxuICAgIGJhY2tncm91bmRBbHBoYTogMSxcbiAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IHRydWUsXG4gICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBmYWxzZSxcbiAgICB3aWR0aDogODAwLFxuICAgIGhlaWdodDogNjAwLFxuICAgIGxlZ2FjeTogZmFsc2UsXG4gICAgaGVsbG86IGZhbHNlXG4gIH0sXG4gIEdDX01PREU6IEdDX01PREVTLkFVVE8sXG4gIEdDX01BWF9JRExFOiA2MCAqIDYwLFxuICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG4gIFdSQVBfTU9ERTogV1JBUF9NT0RFUy5DTEFNUCxcbiAgU0NBTEVfTU9ERTogU0NBTEVfTU9ERVMuTElORUFSLFxuICBQUkVDSVNJT05fVkVSVEVYOiBQUkVDSVNJT04uSElHSCxcbiAgUFJFQ0lTSU9OX0ZSQUdNRU5UOiBpc01vYmlsZS5hcHBsZS5kZXZpY2UgPyBQUkVDSVNJT04uSElHSCA6IFBSRUNJU0lPTi5NRURJVU0sXG4gIENBTl9VUExPQURfU0FNRV9CVUZGRVI6IGNhblVwbG9hZFNhbWVCdWZmZXIoKSxcbiAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG4gIFJPVU5EX1BJWEVMUzogZmFsc2Vcbn07XG5cbmV4cG9ydCB7IHNldHRpbmdzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5tanMubWFwXG4iLCJpbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gJy4vaXNNb2JpbGUubWpzJztcblxuZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpIHtcbiAgcmV0dXJuICFpc01vYmlsZS5hcHBsZS5kZXZpY2U7XG59XG5cbmV4cG9ydCB7IGNhblVwbG9hZFNhbWVCdWZmZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblVwbG9hZFNhbWVCdWZmZXIubWpzLm1hcFxuIiwiaW1wb3J0ICcuLy4uL2V4dGVybmFsL2lzbW9iaWxlanMvZXNtL2luZGV4Lm1qcyc7XG5pbXBvcnQgaXNNb2JpbGUkMSBmcm9tICcuLy4uL2V4dGVybmFsL2lzbW9iaWxlanMvZXNtL2lzTW9iaWxlLm1qcyc7XG5cbmNvbnN0IGlzTW9iaWxlID0gaXNNb2JpbGUkMShnbG9iYWxUaGlzLm5hdmlnYXRvcik7XG5cbmV4cG9ydCB7IGlzTW9iaWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc01vYmlsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gJy4vaXNNb2JpbGUubWpzJztcblxuZnVuY3Rpb24gbWF4UmVjb21tZW5kZWRUZXh0dXJlcyhtYXgpIHtcbiAgbGV0IGFsbG93TWF4ID0gdHJ1ZTtcbiAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSkge1xuICAgIGlmIChpc01vYmlsZS5hcHBsZS5kZXZpY2UpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKT8vKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjb25zdCBtYWpvclZlcnNpb24gPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICBpZiAobWFqb3JWZXJzaW9uIDwgMTEpIHtcbiAgICAgICAgICBhbGxvd01heCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc01vYmlsZS5hbmRyb2lkLmRldmljZSkge1xuICAgICAgY29uc3QgbWF0Y2ggPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkXFxzKFswLTkuXSopLyk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgY29uc3QgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA8IDcpIHtcbiAgICAgICAgICBhbGxvd01heCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhbGxvd01heCA/IG1heCA6IDQ7XG59XG5cbmV4cG9ydCB7IG1heFJlY29tbWVuZGVkVGV4dHVyZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1heFJlY29tbWVuZGVkVGV4dHVyZXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRleHR1cmUsIFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNsYXNzIEFuaW1hdGVkU3ByaXRlIGV4dGVuZHMgU3ByaXRlIHtcbiAgY29uc3RydWN0b3IodGV4dHVyZXMsIGF1dG9VcGRhdGUgPSB0cnVlKSB7XG4gICAgc3VwZXIodGV4dHVyZXNbMF0gaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc1swXS50ZXh0dXJlKTtcbiAgICB0aGlzLl90ZXh0dXJlcyA9IG51bGw7XG4gICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICB0aGlzLl9hdXRvVXBkYXRlID0gYXV0b1VwZGF0ZTtcbiAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgdGhpcy5hbmltYXRpb25TcGVlZCA9IDE7XG4gICAgdGhpcy5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLnVwZGF0ZUFuY2hvciA9IGZhbHNlO1xuICAgIHRoaXMub25Db21wbGV0ZSA9IG51bGw7XG4gICAgdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcbiAgICB0aGlzLm9uTG9vcCA9IG51bGw7XG4gICAgdGhpcy5fY3VycmVudFRpbWUgPSAwO1xuICAgIHRoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9wcmV2aW91c0ZyYW1lID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmVzID0gdGV4dHVyZXM7XG4gIH1cbiAgc3RvcCgpIHtcbiAgICBpZiAoIXRoaXMuX3BsYXlpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcGxheSgpIHtcbiAgICBpZiAodGhpcy5fcGxheWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9wbGF5aW5nID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBnb3RvQW5kU3RvcChmcmFtZU51bWJlcikge1xuICAgIHRoaXMuc3RvcCgpO1xuICAgIHRoaXMuY3VycmVudEZyYW1lID0gZnJhbWVOdW1iZXI7XG4gIH1cbiAgZ290b0FuZFBsYXkoZnJhbWVOdW1iZXIpIHtcbiAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IGZyYW1lTnVtYmVyO1xuICAgIHRoaXMucGxheSgpO1xuICB9XG4gIHVwZGF0ZShkZWx0YVRpbWUpIHtcbiAgICBpZiAoIXRoaXMuX3BsYXlpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZWxhcHNlZCA9IHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgY29uc3QgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgIGlmICh0aGlzLl9kdXJhdGlvbnMgIT09IG51bGwpIHtcbiAgICAgIGxldCBsYWcgPSB0aGlzLl9jdXJyZW50VGltZSAlIDEgKiB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDFlMztcbiAgICAgIHdoaWxlIChsYWcgPCAwKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lLS07XG4gICAgICAgIGxhZyArPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2lnbiA9IE1hdGguc2lnbih0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7XG4gICAgICB3aGlsZSAobGFnID49IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0pIHtcbiAgICAgICAgbGFnIC09IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0gKiBzaWduO1xuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBzaWduO1xuICAgICAgfVxuICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gbGFnIC8gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gZWxhcHNlZDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRUaW1lIDwgMCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRUaW1lID49IHRoaXMuX3RleHR1cmVzLmxlbmd0aCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICB0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aCAtIDEpO1xuICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICBpZiAodGhpcy5sb29wICYmIHRoaXMub25Mb29wKSB7XG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkID4gMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA8IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwICYmIHRoaXMuY3VycmVudEZyYW1lID4gcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH1cbiAgfVxuICB1cGRhdGVUZXh0dXJlKCkge1xuICAgIGNvbnN0IGN1cnJlbnRGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgIGlmICh0aGlzLl9wcmV2aW91c0ZyYW1lID09PSBjdXJyZW50RnJhbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcHJldmlvdXNGcmFtZSA9IGN1cnJlbnRGcmFtZTtcbiAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5fdGV4dHVyZXNbY3VycmVudEZyYW1lXTtcbiAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgdGhpcy5fY2FjaGVkVGludCA9IDE2Nzc3MjE1O1xuICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG4gICAgaWYgKHRoaXMudXBkYXRlQW5jaG9yKSB7XG4gICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odGhpcy5fdGV4dHVyZS5kZWZhdWx0QW5jaG9yKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub25GcmFtZUNoYW5nZSkge1xuICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlKHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveShvcHRpb25zKSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcbiAgICB0aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG4gICAgdGhpcy5vbkxvb3AgPSBudWxsO1xuICB9XG4gIHN0YXRpYyBmcm9tRnJhbWVzKGZyYW1lcykge1xuICAgIGNvbnN0IHRleHR1cmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGZyYW1lc1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgfVxuICBzdGF0aWMgZnJvbUltYWdlcyhpbWFnZXMpIHtcbiAgICBjb25zdCB0ZXh0dXJlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShpbWFnZXNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gIH1cbiAgZ2V0IHRvdGFsRnJhbWVzKCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gIH1cbiAgZ2V0IHRleHR1cmVzKCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcztcbiAgfVxuICBzZXQgdGV4dHVyZXModmFsdWUpIHtcbiAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICB0aGlzLl90ZXh0dXJlcyA9IHZhbHVlO1xuICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdGV4dHVyZXMgPSBbXTtcbiAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLl90ZXh0dXJlcy5wdXNoKHZhbHVlW2ldLnRleHR1cmUpO1xuICAgICAgICB0aGlzLl9kdXJhdGlvbnMucHVzaCh2YWx1ZVtpXS50aW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fcHJldmlvdXNGcmFtZSA9IG51bGw7XG4gICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgfVxuICBnZXQgY3VycmVudEZyYW1lKCkge1xuICAgIGxldCBjdXJyZW50RnJhbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKSAlIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICBpZiAoY3VycmVudEZyYW1lIDwgMCkge1xuICAgICAgY3VycmVudEZyYW1lICs9IHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRGcmFtZTtcbiAgfVxuICBzZXQgY3VycmVudEZyYW1lKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IHRoaXMudG90YWxGcmFtZXMgLSAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFtBbmltYXRlZFNwcml0ZV06IEludmFsaWQgZnJhbWUgaW5kZXggdmFsdWUgJHt2YWx1ZX0sIGV4cGVjdGVkIHRvIGJlIGJldHdlZW4gMCBhbmQgdG90YWxGcmFtZXMgJHt0aGlzLnRvdGFsRnJhbWVzfS5gKTtcbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gdmFsdWU7XG4gICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9XG4gIH1cbiAgZ2V0IHBsYXlpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BsYXlpbmc7XG4gIH1cbiAgZ2V0IGF1dG9VcGRhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gIH1cbiAgc2V0IGF1dG9VcGRhdGUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcbiAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyICYmIHRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgQW5pbWF0ZWRTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFuaW1hdGVkU3ByaXRlLm1qcy5tYXBcbiIsImV4cG9ydCB7IEFuaW1hdGVkU3ByaXRlIH0gZnJvbSAnLi9BbmltYXRlZFNwcml0ZS5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgUG9pbnQsIFRyYW5zZm9ybSwgVGV4dHVyZU1hdHJpeCwgUmVjdGFuZ2xlLCBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuXG5jb25zdCB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbmNsYXNzIFRpbGluZ1Nwcml0ZSBleHRlbmRzIFNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKHRleHR1cmUsIHdpZHRoID0gMTAwLCBoZWlnaHQgPSAxMDApIHtcbiAgICBzdXBlcih0ZXh0dXJlKTtcbiAgICB0aGlzLnRpbGVUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG4gICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy51dk1hdHJpeCA9IHRoaXMudGV4dHVyZS51dk1hdHJpeCB8fCBuZXcgVGV4dHVyZU1hdHJpeCh0ZXh0dXJlKTtcbiAgICB0aGlzLnBsdWdpbk5hbWUgPSBcInRpbGluZ1Nwcml0ZVwiO1xuICAgIHRoaXMudXZSZXNwZWN0QW5jaG9yID0gZmFsc2U7XG4gIH1cbiAgZ2V0IGNsYW1wTWFyZ2luKCkge1xuICAgIHJldHVybiB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luO1xuICB9XG4gIHNldCBjbGFtcE1hcmdpbih2YWx1ZSkge1xuICAgIHRoaXMudXZNYXRyaXguY2xhbXBNYXJnaW4gPSB2YWx1ZTtcbiAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSh0cnVlKTtcbiAgfVxuICBnZXQgdGlsZVNjYWxlKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGU7XG4gIH1cbiAgc2V0IHRpbGVTY2FsZSh2YWx1ZSkge1xuICAgIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gIH1cbiAgZ2V0IHRpbGVQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uO1xuICB9XG4gIHNldCB0aWxlUG9zaXRpb24odmFsdWUpIHtcbiAgICB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICB9XG4gIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgaWYgKHRoaXMudXZNYXRyaXgpIHtcbiAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgfVxuICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAxNjc3NzIxNTtcbiAgfVxuICBfcmVuZGVyKHJlbmRlcmVyKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgaWYgKCF0ZXh0dXJlIHx8ICF0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICB9XG4gIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgY29uc3QgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICBjb25zdCBtaW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICBjb25zdCBtYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgY29uc3QgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcbiAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICB9XG4gIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gIH1cbiAgY29udGFpbnNQb2ludChwb2ludCkge1xuICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fd2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgIGNvbnN0IHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IuX3g7XG4gICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgY29uc3QgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IuX3k7XG4gICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcbiAgfVxuICBzdGF0aWMgZnJvbShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSA/IHNvdXJjZSA6IFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpO1xuICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKHRleHR1cmUsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcbiAgfVxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICB9XG4gIHNldCB3aWR0aCh2YWx1ZSkge1xuICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICB9XG4gIHNldCBoZWlnaHQodmFsdWUpIHtcbiAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBUaWxpbmdTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGluZ1Nwcml0ZS5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXgsIE9iamVjdFJlbmRlcmVyLCBRdWFkVXYsIFN0YXRlLCBTaGFkZXIsIFdSQVBfTU9ERVMsIHV0aWxzLCBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgZnJhZ21lbnRTaW1wbGVTcmMgZnJvbSAnLi9zcHJpdGUtdGlsaW5nLXNpbXBsZS5tanMnO1xuaW1wb3J0IGdsMVZlcnRleFNyYyBmcm9tICcuL3Nwcml0ZS10aWxpbmctZmFsbGJhY2subWpzJztcbmltcG9ydCBnbDFGcmFnbWVudFNyYyBmcm9tICcuL3Nwcml0ZS10aWxpbmctZmFsbGJhY2syLm1qcyc7XG5pbXBvcnQgZ2wyVmVydGV4U3JjIGZyb20gJy4vc3ByaXRlLXRpbGluZy5tanMnO1xuaW1wb3J0IGdsMkZyYWdtZW50U3JjIGZyb20gJy4vc3ByaXRlLXRpbGluZzIubWpzJztcblxuY29uc3QgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcbmNsYXNzIFRpbGluZ1Nwcml0ZVJlbmRlcmVyIGV4dGVuZHMgT2JqZWN0UmVuZGVyZXIge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHN1cGVyKHJlbmRlcmVyKTtcbiAgICByZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuYWRkKHRoaXMpO1xuICAgIHRoaXMucXVhZCA9IG5ldyBRdWFkVXYoKTtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgfVxuICBjb250ZXh0Q2hhbmdlKCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCB1bmlmb3JtcyA9IHsgZ2xvYmFsczogcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMgfTtcbiAgICB0aGlzLnNpbXBsZVNoYWRlciA9IFNoYWRlci5mcm9tKGdsMVZlcnRleFNyYywgZnJhZ21lbnRTaW1wbGVTcmMsIHVuaWZvcm1zKTtcbiAgICB0aGlzLnNoYWRlciA9IHJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID4gMSA/IFNoYWRlci5mcm9tKGdsMlZlcnRleFNyYywgZ2wyRnJhZ21lbnRTcmMsIHVuaWZvcm1zKSA6IFNoYWRlci5mcm9tKGdsMVZlcnRleFNyYywgZ2wxRnJhZ21lbnRTcmMsIHVuaWZvcm1zKTtcbiAgfVxuICByZW5kZXIodHMpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgcXVhZCA9IHRoaXMucXVhZDtcbiAgICBsZXQgdmVydGljZXMgPSBxdWFkLnZlcnRpY2VzO1xuICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSB0cy5fd2lkdGggKiAtdHMuYW5jaG9yLng7XG4gICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IHRzLl9oZWlnaHQgKiAtdHMuYW5jaG9yLnk7XG4gICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9IHRzLl93aWR0aCAqICgxIC0gdHMuYW5jaG9yLngpO1xuICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSB0cy5faGVpZ2h0ICogKDEgLSB0cy5hbmNob3IueSk7XG4gICAgY29uc3QgYW5jaG9yWCA9IHRzLnV2UmVzcGVjdEFuY2hvciA/IHRzLmFuY2hvci54IDogMDtcbiAgICBjb25zdCBhbmNob3JZID0gdHMudXZSZXNwZWN0QW5jaG9yID8gdHMuYW5jaG9yLnkgOiAwO1xuICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG4gICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IC1hbmNob3JYO1xuICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSAtYW5jaG9yWTtcbiAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMSAtIGFuY2hvclg7XG4gICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IDEgLSBhbmNob3JZO1xuICAgIHF1YWQuaW52YWxpZGF0ZSgpO1xuICAgIGNvbnN0IHRleCA9IHRzLl90ZXh0dXJlO1xuICAgIGNvbnN0IGJhc2VUZXggPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgY29uc3QgcHJlbXVsdGlwbGllZCA9IGJhc2VUZXguYWxwaGFNb2RlID4gMDtcbiAgICBjb25zdCBsdCA9IHRzLnRpbGVUcmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgY29uc3QgdXYgPSB0cy51dk1hdHJpeDtcbiAgICBsZXQgaXNTaW1wbGUgPSBiYXNlVGV4LmlzUG93ZXJPZlR3byAmJiB0ZXguZnJhbWUud2lkdGggPT09IGJhc2VUZXgud2lkdGggJiYgdGV4LmZyYW1lLmhlaWdodCA9PT0gYmFzZVRleC5oZWlnaHQ7XG4gICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBXUkFQX01PREVTLkNMQU1QKSB7XG4gICAgICAgICAgYmFzZVRleC53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcbiAgICBjb25zdCB3ID0gdGV4LndpZHRoO1xuICAgIGNvbnN0IGggPSB0ZXguaGVpZ2h0O1xuICAgIGNvbnN0IFcgPSB0cy5fd2lkdGg7XG4gICAgY29uc3QgSCA9IHRzLl9oZWlnaHQ7XG4gICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLCBsdC5iICogdyAvIEgsIGx0LmMgKiBoIC8gVywgbHQuZCAqIGggLyBILCBsdC50eCAvIFcsIGx0LnR5IC8gSCk7XG4gICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICBpZiAoaXNTaW1wbGUpIHtcbiAgICAgIHRlbXBNYXQucHJlcGVuZCh1di5tYXBDb29yZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNoYWRlci51bmlmb3Jtcy51TWFwQ29vcmQgPSB1di5tYXBDb29yZC50b0FycmF5KHRydWUpO1xuICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdXYudUNsYW1wRnJhbWU7XG4gICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wT2Zmc2V0ID0gdXYudUNsYW1wT2Zmc2V0O1xuICAgIH1cbiAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICBzaGFkZXIudW5pZm9ybXMudUNvbG9yID0gdXRpbHMucHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRzLnRpbnQsIHRzLndvcmxkQWxwaGEsIHNoYWRlci51bmlmb3Jtcy51Q29sb3IsIHByZW11bHRpcGxpZWQpO1xuICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHRleDtcbiAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocXVhZCk7XG4gICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB1dGlscy5jb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZCk7XG4gICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuICB9XG59XG5UaWxpbmdTcHJpdGVSZW5kZXJlci5leHRlbnNpb24gPSB7XG4gIG5hbWU6IFwidGlsaW5nU3ByaXRlXCIsXG4gIHR5cGU6IEV4dGVuc2lvblR5cGUuUmVuZGVyZXJQbHVnaW5cbn07XG5leHRlbnNpb25zLmFkZChUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZVJlbmRlcmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxpbmdTcHJpdGVSZW5kZXJlci5tanMubWFwXG4iLCJleHBvcnQgeyBUaWxpbmdTcHJpdGUgfSBmcm9tICcuL1RpbGluZ1Nwcml0ZS5tanMnO1xuZXhwb3J0IHsgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfSBmcm9tICcuL1RpbGluZ1Nwcml0ZVJlbmRlcmVyLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJ2YXIgZ2wxVmVydGV4U3JjID0gXCIjdmVyc2lvbiAxMDBcXG4jZGVmaW5lIFNIQURFUl9OQU1FIFRpbGluZy1TcHJpdGUtMTAwXFxuXFxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IGdsMVZlcnRleFNyYyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUtdGlsaW5nLWZhbGxiYWNrLm1qcy5tYXBcbiIsInZhciBnbDFGcmFnbWVudFNyYyA9IFwiI3ZlcnNpb24gMTAwXFxuI2lmZGVmIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2RcXG4gICAgI2V4dGVuc2lvbiBHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kIDogZW5hYmxlXFxuI2VuZGlmXFxuI2RlZmluZSBTSEFERVJfTkFNRSBUaWxpbmctU3ByaXRlLTEwMFxcblxcbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSB2VGV4dHVyZUNvb3JkICsgY2VpbCh1Q2xhbXBPZmZzZXQgLSB2VGV4dHVyZUNvb3JkKTtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIHZlYzIgdW5jbGFtcGVkID0gY29vcmQ7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgICNpZmRlZiBHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kXFxuICAgICAgICB2ZWM0IHRleFNhbXBsZSA9IHVuY2xhbXBlZCA9PSBjb29yZFxcbiAgICAgICAgICAgID8gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCkgXFxuICAgICAgICAgICAgOiB0ZXh0dXJlMkRMb2RFWFQodVNhbXBsZXIsIGNvb3JkLCAwKTtcXG4gICAgI2Vsc2VcXG4gICAgICAgIHZlYzQgdGV4U2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxuICAgICNlbmRpZlxcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXhTYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG5leHBvcnQgeyBnbDFGcmFnbWVudFNyYyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUtdGlsaW5nLWZhbGxiYWNrMi5tanMubWFwXG4iLCJ2YXIgZnJhZ21lbnRTaW1wbGVTcmMgPSBcIiN2ZXJzaW9uIDEwMFxcbiNkZWZpbmUgU0hBREVSX05BTUUgVGlsaW5nLVNwcml0ZS1TaW1wbGUtMTAwXFxuXFxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgdGV4U2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4U2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnRTaW1wbGVTcmMgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLXRpbGluZy1zaW1wbGUubWpzLm1hcFxuIiwidmFyIGdsMlZlcnRleFNyYyA9IFwiI3ZlcnNpb24gMzAwIGVzXFxuI2RlZmluZSBTSEFERVJfTkFNRSBUaWxpbmctU3ByaXRlLTMwMFxcblxcbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbmluIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmluIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxuXFxub3V0IHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG5leHBvcnQgeyBnbDJWZXJ0ZXhTcmMgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLXRpbGluZy5tanMubWFwXG4iLCJ2YXIgZ2wyRnJhZ21lbnRTcmMgPSBcIiN2ZXJzaW9uIDMwMCBlc1xcbiNkZWZpbmUgU0hBREVSX05BTUUgVGlsaW5nLVNwcml0ZS0xMDBcXG5cXG5wcmVjaXNpb24gbG93cCBmbG9hdDtcXG5cXG5pbiB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxub3V0IHZlYzQgZnJhZ21lbnRDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcbnVuaWZvcm0gbWF0MyB1TWFwQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xcbnVuaWZvcm0gdmVjMiB1Q2xhbXBPZmZzZXQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWMyIGNvb3JkID0gdlRleHR1cmVDb29yZCArIGNlaWwodUNsYW1wT2Zmc2V0IC0gdlRleHR1cmVDb29yZCk7XFxuICAgIGNvb3JkID0gKHVNYXBDb29yZCAqIHZlYzMoY29vcmQsIDEuMCkpLnh5O1xcbiAgICB2ZWMyIHVuY2xhbXBlZCA9IGNvb3JkO1xcbiAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB1Q2xhbXBGcmFtZS54eSwgdUNsYW1wRnJhbWUuencpO1xcblxcbiAgICB2ZWM0IHRleFNhbXBsZSA9IHRleHR1cmUodVNhbXBsZXIsIGNvb3JkLCB1bmNsYW1wZWQgPT0gY29vcmQgPyAwLjBmIDogLTMyLjBmKTsvLyBsb2QtYmlhcyB2ZXJ5IG5lZ2F0aXZlIHRvIGZvcmNlIGxvZCAwXFxuXFxuICAgIGZyYWdtZW50Q29sb3IgPSB0ZXhTYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG5leHBvcnQgeyBnbDJGcmFnbWVudFNyYyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUtdGlsaW5nMi5tanMubWFwXG4iLCJpbXBvcnQgeyBQb2ludCwgT2JzZXJ2YWJsZVBvaW50LCBCTEVORF9NT0RFUywgVGV4dHVyZSwgc2V0dGluZ3MsIHV0aWxzLCBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENvbnRhaW5lciwgQm91bmRzIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbmNvbnN0IHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuY29uc3QgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShbMCwgMSwgMiwgMCwgMiwgM10pO1xuY2xhc3MgU3ByaXRlIGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgY29uc3RydWN0b3IodGV4dHVyZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLl9vbkFuY2hvclVwZGF0ZSwgdGhpcywgdGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci54IDogMCwgdGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci55IDogMCk7XG4gICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5fd2lkdGggPSAwO1xuICAgIHRoaXMuX2hlaWdodCA9IDA7XG4gICAgdGhpcy5fdGludCA9IG51bGw7XG4gICAgdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgdGhpcy50aW50ID0gMTY3NzcyMTU7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgdGhpcy5fY2FjaGVkVGludCA9IDE2Nzc3MjE1O1xuICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbnVsbDtcbiAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICB0aGlzLmluZGljZXMgPSBpbmRpY2VzO1xuICAgIHRoaXMucGx1Z2luTmFtZSA9IFwiYmF0Y2hcIjtcbiAgICB0aGlzLmlzU3ByaXRlID0gdHJ1ZTtcbiAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgfVxuICBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICB0aGlzLl9jYWNoZWRUaW50ID0gMTY3NzcyMTU7XG4gICAgaWYgKHRoaXMuX3dpZHRoKSB7XG4gICAgICB0aGlzLnNjYWxlLnggPSB1dGlscy5zaWduKHRoaXMuc2NhbGUueCkgKiB0aGlzLl93aWR0aCAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2hlaWdodCkge1xuICAgICAgdGhpcy5zY2FsZS55ID0gdXRpbHMuc2lnbih0aGlzLnNjYWxlLnkpICogdGhpcy5faGVpZ2h0IC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB9XG4gIH1cbiAgX29uQW5jaG9yVXBkYXRlKCkge1xuICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gIH1cbiAgY2FsY3VsYXRlVmVydGljZXMoKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuICAgIH1cbiAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX3RleHR1cmVJRCA9IHRleHR1cmUuX3VwZGF0ZUlEO1xuICAgIGNvbnN0IHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY29uc3QgYSA9IHd0LmE7XG4gICAgY29uc3QgYiA9IHd0LmI7XG4gICAgY29uc3QgYyA9IHd0LmM7XG4gICAgY29uc3QgZCA9IHd0LmQ7XG4gICAgY29uc3QgdHggPSB3dC50eDtcbiAgICBjb25zdCB0eSA9IHd0LnR5O1xuICAgIGNvbnN0IHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgY29uc3QgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICBjb25zdCBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcbiAgICBsZXQgdzAgPSAwO1xuICAgIGxldCB3MSA9IDA7XG4gICAgbGV0IGgwID0gMDtcbiAgICBsZXQgaDEgPSAwO1xuICAgIGlmICh0cmltKSB7XG4gICAgICB3MSA9IHRyaW0ueCAtIGFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcbiAgICAgIGgxID0gdHJpbS55IC0gYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICB3MCA9IHcxICsgb3JpZy53aWR0aDtcbiAgICAgIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuICAgIH1cbiAgICB2ZXJ0ZXhEYXRhWzBdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XG4gICAgdmVydGV4RGF0YVsxXSA9IGQgKiBoMSArIGIgKiB3MSArIHR5O1xuICAgIHZlcnRleERhdGFbMl0gPSBhICogdzAgKyBjICogaDEgKyB0eDtcbiAgICB2ZXJ0ZXhEYXRhWzNdID0gZCAqIGgxICsgYiAqIHcwICsgdHk7XG4gICAgdmVydGV4RGF0YVs0XSA9IGEgKiB3MCArIGMgKiBoMCArIHR4O1xuICAgIHZlcnRleERhdGFbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcbiAgICB2ZXJ0ZXhEYXRhWzZdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG4gICAgdmVydGV4RGF0YVs3XSA9IGQgKiBoMCArIGIgKiB3MSArIHR5O1xuICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmVydGV4RGF0YVtpXSA9IE1hdGgucm91bmQodmVydGV4RGF0YVtpXSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCkge1xuICAgIGlmICghdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSkge1xuICAgICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcbiAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YTtcbiAgICBjb25zdCBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcbiAgICBjb25zdCB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgY29uc3QgdHkgPSB3dC50eTtcbiAgICBjb25zdCB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgIGNvbnN0IHcwID0gdzEgKyBvcmlnLndpZHRoO1xuICAgIGNvbnN0IGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgIGNvbnN0IGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICB2ZXJ0ZXhEYXRhWzBdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XG4gICAgdmVydGV4RGF0YVsxXSA9IGQgKiBoMSArIGIgKiB3MSArIHR5O1xuICAgIHZlcnRleERhdGFbMl0gPSBhICogdzAgKyBjICogaDEgKyB0eDtcbiAgICB2ZXJ0ZXhEYXRhWzNdID0gZCAqIGgxICsgYiAqIHcwICsgdHk7XG4gICAgdmVydGV4RGF0YVs0XSA9IGEgKiB3MCArIGMgKiBoMCArIHR4O1xuICAgIHZlcnRleERhdGFbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcbiAgICB2ZXJ0ZXhEYXRhWzZdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG4gICAgdmVydGV4RGF0YVs3XSA9IGQgKiBoMCArIGIgKiB3MSArIHR5O1xuICB9XG4gIF9yZW5kZXIocmVuZGVyZXIpIHtcbiAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICB9XG4gIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgY29uc3QgdHJpbSA9IHRoaXMuX3RleHR1cmUudHJpbTtcbiAgICBjb25zdCBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuICAgIGlmICghdHJpbSB8fCB0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkge1xuICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKTtcbiAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4VHJpbW1lZERhdGEpO1xuICAgIH1cbiAgfVxuICBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWluWCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICB0aGlzLl9sb2NhbEJvdW5kcy5taW5ZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICB0aGlzLl9sb2NhbEJvdW5kcy5tYXhYID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWF4WSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG4gICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9sb2NhbEJvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICB9XG4gIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgIGNvbnN0IHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICBsZXQgeTEgPSAwO1xuICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGRlc3Ryb3kob3B0aW9ucykge1xuICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgdGhpcy5fdGV4dHVyZS5vZmYoXCJ1cGRhdGVcIiwgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuICAgIGNvbnN0IGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiID8gb3B0aW9ucyA6IG9wdGlvbnM/LnRleHR1cmU7XG4gICAgaWYgKGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICBjb25zdCBkZXN0cm95QmFzZVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIgPyBvcHRpb25zIDogb3B0aW9ucz8uYmFzZVRleHR1cmU7XG4gICAgICB0aGlzLl90ZXh0dXJlLmRlc3Ryb3koISFkZXN0cm95QmFzZVRleHR1cmUpO1xuICAgIH1cbiAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgfVxuICBzdGF0aWMgZnJvbShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSA/IHNvdXJjZSA6IFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpO1xuICAgIHJldHVybiBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICB9XG4gIHNldCByb3VuZFBpeGVscyh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgfVxuICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gIH1cbiAgZ2V0IHJvdW5kUGl4ZWxzKCkge1xuICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgfVxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gIH1cbiAgc2V0IHdpZHRoKHZhbHVlKSB7XG4gICAgY29uc3QgcyA9IHV0aWxzLnNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICB9XG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICB9XG4gIHNldCBoZWlnaHQodmFsdWUpIHtcbiAgICBjb25zdCBzID0gdXRpbHMuc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG4gICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgfVxuICBnZXQgYW5jaG9yKCkge1xuICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gIH1cbiAgc2V0IGFuY2hvcih2YWx1ZSkge1xuICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gIH1cbiAgZ2V0IHRpbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gIH1cbiAgc2V0IHRpbnQodmFsdWUpIHtcbiAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiA2NTI4MCkgKyAoKHZhbHVlICYgMjU1KSA8PCAxNik7XG4gIH1cbiAgZ2V0IHRleHR1cmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gIH1cbiAgc2V0IHRleHR1cmUodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fdGV4dHVyZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3RleHR1cmUpIHtcbiAgICAgIHRoaXMuX3RleHR1cmUub2ZmKFwidXBkYXRlXCIsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgfVxuICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZSB8fCBUZXh0dXJlLkVNUFRZO1xuICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAxNjc3NzIxNTtcbiAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZS5vbmNlKFwidXBkYXRlXCIsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlLm1qcy5tYXBcbiIsImV4cG9ydCB7IFNwcml0ZSB9IGZyb20gJy4vU3ByaXRlLm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSwgdXRpbHMsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBfU3ByaXRlc2hlZXQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHRleHR1cmUsIGRhdGEsIHJlc29sdXRpb25GaWxlbmFtZSA9IG51bGwpIHtcbiAgICB0aGlzLmxpbmtlZFNoZWV0cyA9IFtdO1xuICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmUgOiBudWxsO1xuICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0ZXh0dXJlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUgPyB0ZXh0dXJlIDogdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICB0aGlzLnRleHR1cmVzID0ge307XG4gICAgdGhpcy5hbmltYXRpb25zID0ge307XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICBjb25zdCByZXNvdXJjZSA9IHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2U7XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5fdXBkYXRlUmVzb2x1dGlvbihyZXNvbHV0aW9uRmlsZW5hbWUgfHwgKHJlc291cmNlID8gcmVzb3VyY2UudXJsIDogbnVsbCkpO1xuICAgIHRoaXMuX2ZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXM7XG4gICAgdGhpcy5fZnJhbWVLZXlzID0gT2JqZWN0LmtleXModGhpcy5fZnJhbWVzKTtcbiAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gIH1cbiAgX3VwZGF0ZVJlc29sdXRpb24ocmVzb2x1dGlvbkZpbGVuYW1lID0gbnVsbCkge1xuICAgIGNvbnN0IHsgc2NhbGUgfSA9IHRoaXMuZGF0YS5tZXRhO1xuICAgIGxldCByZXNvbHV0aW9uID0gdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG4gICAgaWYgKHJlc29sdXRpb24gPT09IG51bGwpIHtcbiAgICAgIHJlc29sdXRpb24gPSBwYXJzZUZsb2F0KHNjYWxlID8/IFwiMVwiKTtcbiAgICB9XG4gICAgaWYgKHJlc29sdXRpb24gIT09IDEpIHtcbiAgICAgIHRoaXMuYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc29sdXRpb247XG4gIH1cbiAgcGFyc2UoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLl9jYWxsYmFjayA9IHJlc29sdmU7XG4gICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgIGlmICh0aGlzLl9mcmFtZUtleXMubGVuZ3RoIDw9IF9TcHJpdGVzaGVldC5CQVRDSF9TSVpFKSB7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXMoMCk7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIF9wcm9jZXNzRnJhbWVzKGluaXRpYWxGcmFtZUluZGV4KSB7XG4gICAgbGV0IGZyYW1lSW5kZXggPSBpbml0aWFsRnJhbWVJbmRleDtcbiAgICBjb25zdCBtYXhGcmFtZXMgPSBfU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcbiAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgIGNvbnN0IHJlY3QgPSBkYXRhLmZyYW1lO1xuICAgICAgaWYgKHJlY3QpIHtcbiAgICAgICAgbGV0IGZyYW1lID0gbnVsbDtcbiAgICAgICAgbGV0IHRyaW0gPSBudWxsO1xuICAgICAgICBjb25zdCBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemUgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuICAgICAgICBjb25zdCBvcmlnID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBNYXRoLmZsb29yKHNvdXJjZVNpemUudykgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3Ioc291cmNlU2l6ZS5oKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpIHtcbiAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpIHtcbiAgICAgICAgICB0cmltID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS54KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIGRhdGEucm90YXRlZCA/IDIgOiAwLCBkYXRhLmFuY2hvcik7XG4gICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0aGlzLnRleHR1cmVzW2ldLCBpKTtcbiAgICAgIH1cbiAgICAgIGZyYW1lSW5kZXgrKztcbiAgICB9XG4gIH1cbiAgX3Byb2Nlc3NBbmltYXRpb25zKCkge1xuICAgIGNvbnN0IGFuaW1hdGlvbnMgPSB0aGlzLmRhdGEuYW5pbWF0aW9ucyB8fCB7fTtcbiAgICBmb3IgKGNvbnN0IGFuaW1OYW1lIGluIGFuaW1hdGlvbnMpIHtcbiAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0gPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5pbWF0aW9uc1thbmltTmFtZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZnJhbWVOYW1lID0gYW5pbWF0aW9uc1thbmltTmFtZV1baV07XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0ucHVzaCh0aGlzLnRleHR1cmVzW2ZyYW1lTmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfcGFyc2VDb21wbGV0ZSgpIHtcbiAgICBjb25zdCBjYWxsYmFjayA9IHRoaXMuX2NhbGxiYWNrO1xuICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXMudGV4dHVyZXMpO1xuICB9XG4gIF9uZXh0QmF0Y2goKSB7XG4gICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogX1Nwcml0ZXNoZWV0LkJBVENIX1NJWkUpO1xuICAgIHRoaXMuX2JhdGNoSW5kZXgrKztcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9iYXRjaEluZGV4ICogX1Nwcml0ZXNoZWV0LkJBVENIX1NJWkUgPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgdGhpcy5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0sIDApO1xuICB9XG4gIGRlc3Ryb3koZGVzdHJveUJhc2UgPSBmYWxzZSkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnRleHR1cmVzKSB7XG4gICAgICB0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICB0aGlzLl9mcmFtZUtleXMgPSBudWxsO1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICB0aGlzLl90ZXh0dXJlPy5kZXN0cm95KCk7XG4gICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5saW5rZWRTaGVldHMgPSBbXTtcbiAgfVxufTtcbmxldCBTcHJpdGVzaGVldCA9IF9TcHJpdGVzaGVldDtcblNwcml0ZXNoZWV0LkJBVENIX1NJWkUgPSAxZTM7XG5cbmV4cG9ydCB7IFNwcml0ZXNoZWV0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVzaGVldC5tanMubWFwXG4iLCJleHBvcnQgeyBTcHJpdGVzaGVldCB9IGZyb20gJy4vU3ByaXRlc2hlZXQubWpzJztcbmV4cG9ydCB7IHNwcml0ZXNoZWV0QXNzZXQgfSBmcm9tICcuL3Nwcml0ZXNoZWV0QXNzZXQubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IHV0aWxzLCBFeHRlbnNpb25UeXBlLCBzZXR0aW5ncywgZXh0ZW5zaW9ucyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTG9hZGVyUGFyc2VyUHJpb3JpdHkgfSBmcm9tICdAcGl4aS9hc3NldHMnO1xuaW1wb3J0IHsgU3ByaXRlc2hlZXQgfSBmcm9tICcuL1Nwcml0ZXNoZWV0Lm1qcyc7XG5cbmNvbnN0IHZhbGlkSW1hZ2VzID0gW1wianBnXCIsIFwicG5nXCIsIFwianBlZ1wiLCBcImF2aWZcIiwgXCJ3ZWJwXCJdO1xuZnVuY3Rpb24gZ2V0Q2FjaGVhYmxlQXNzZXRzKGtleXMsIGFzc2V0LCBpZ25vcmVNdWx0aVBhY2spIHtcbiAgY29uc3Qgb3V0ID0ge307XG4gIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgb3V0W2tleV0gPSBhc3NldDtcbiAgfSk7XG4gIE9iamVjdC5rZXlzKGFzc2V0LnRleHR1cmVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBvdXRba2V5XSA9IGFzc2V0LnRleHR1cmVzW2tleV07XG4gIH0pO1xuICBpZiAoIWlnbm9yZU11bHRpUGFjaykge1xuICAgIGNvbnN0IGJhc2VQYXRoID0gdXRpbHMucGF0aC5kaXJuYW1lKGtleXNbMF0pO1xuICAgIGFzc2V0LmxpbmtlZFNoZWV0cy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICBjb25zdCBvdXQyID0gZ2V0Q2FjaGVhYmxlQXNzZXRzKFtgJHtiYXNlUGF0aH0vJHthc3NldC5kYXRhLm1ldGEucmVsYXRlZF9tdWx0aV9wYWNrc1tpXX1gXSwgaXRlbSwgdHJ1ZSk7XG4gICAgICBPYmplY3QuYXNzaWduKG91dCwgb3V0Mik7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbmNvbnN0IHNwcml0ZXNoZWV0QXNzZXQgPSB7XG4gIGV4dGVuc2lvbjogRXh0ZW5zaW9uVHlwZS5Bc3NldCxcbiAgY2FjaGU6IHtcbiAgICB0ZXN0OiAoYXNzZXQpID0+IGFzc2V0IGluc3RhbmNlb2YgU3ByaXRlc2hlZXQsXG4gICAgZ2V0Q2FjaGVhYmxlQXNzZXRzOiAoa2V5cywgYXNzZXQpID0+IGdldENhY2hlYWJsZUFzc2V0cyhrZXlzLCBhc3NldCwgZmFsc2UpXG4gIH0sXG4gIHJlc29sdmVyOiB7XG4gICAgdGVzdDogKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB0ZW1wVVJMID0gdmFsdWUuc3BsaXQoXCI/XCIpWzBdO1xuICAgICAgY29uc3Qgc3BsaXQgPSB0ZW1wVVJMLnNwbGl0KFwiLlwiKTtcbiAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHNwbGl0LnBvcCgpO1xuICAgICAgY29uc3QgZm9ybWF0ID0gc3BsaXQucG9wKCk7XG4gICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSBcImpzb25cIiAmJiB2YWxpZEltYWdlcy5pbmNsdWRlcyhmb3JtYXQpO1xuICAgIH0sXG4gICAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3Qgc3BsaXQgPSB2YWx1ZS5zcGxpdChcIi5cIik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNvbHV0aW9uOiBwYXJzZUZsb2F0KHNldHRpbmdzLlJFVElOQV9QUkVGSVguZXhlYyh2YWx1ZSk/LlsxXSA/PyBcIjFcIiksXG4gICAgICAgIGZvcm1hdDogc3BsaXRbc3BsaXQubGVuZ3RoIC0gMl0sXG4gICAgICAgIHNyYzogdmFsdWVcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICBsb2FkZXI6IHtcbiAgICBleHRlbnNpb246IHtcbiAgICAgIHR5cGU6IEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlcixcbiAgICAgIHByaW9yaXR5OiBMb2FkZXJQYXJzZXJQcmlvcml0eS5Ob3JtYWxcbiAgICB9LFxuICAgIGFzeW5jIHRlc3RQYXJzZShhc3NldCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHV0aWxzLnBhdGguZXh0bmFtZShvcHRpb25zLnNyYykuaW5jbHVkZXMoXCIuanNvblwiKSAmJiAhIWFzc2V0LmZyYW1lcztcbiAgICB9LFxuICAgIGFzeW5jIHBhcnNlKGFzc2V0LCBvcHRpb25zLCBsb2FkZXIpIHtcbiAgICAgIGxldCBiYXNlUGF0aCA9IHV0aWxzLnBhdGguZGlybmFtZShvcHRpb25zLnNyYyk7XG4gICAgICBpZiAoYmFzZVBhdGggJiYgYmFzZVBhdGgubGFzdEluZGV4T2YoXCIvXCIpICE9PSBiYXNlUGF0aC5sZW5ndGggLSAxKSB7XG4gICAgICAgIGJhc2VQYXRoICs9IFwiL1wiO1xuICAgICAgfVxuICAgICAgY29uc3QgaW1hZ2VQYXRoID0gYmFzZVBhdGggKyBhc3NldC5tZXRhLmltYWdlO1xuICAgICAgY29uc3QgYXNzZXRzID0gYXdhaXQgbG9hZGVyLmxvYWQoW2ltYWdlUGF0aF0pO1xuICAgICAgY29uc3QgdGV4dHVyZSA9IGFzc2V0c1tpbWFnZVBhdGhdO1xuICAgICAgY29uc3Qgc3ByaXRlc2hlZXQgPSBuZXcgU3ByaXRlc2hlZXQodGV4dHVyZS5iYXNlVGV4dHVyZSwgYXNzZXQsIG9wdGlvbnMuc3JjKTtcbiAgICAgIGF3YWl0IHNwcml0ZXNoZWV0LnBhcnNlKCk7XG4gICAgICBjb25zdCBtdWx0aVBhY2tzID0gYXNzZXQ/Lm1ldGE/LnJlbGF0ZWRfbXVsdGlfcGFja3M7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtdWx0aVBhY2tzKSkge1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbXVsdGlQYWNrcykge1xuICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGl0ZW1VcmwgPSBiYXNlUGF0aCArIGl0ZW07XG4gICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YT8uaWdub3JlTXVsdGlQYWNrKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChsb2FkZXIubG9hZCh7XG4gICAgICAgICAgICBzcmM6IGl0ZW1VcmwsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGlnbm9yZU11bHRpUGFjazogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgIHNwcml0ZXNoZWV0LmxpbmtlZFNoZWV0cyA9IHJlcztcbiAgICAgICAgcmVzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICBpdGVtLmxpbmtlZFNoZWV0cyA9IFtzcHJpdGVzaGVldF0uY29uY2F0KHNwcml0ZXNoZWV0LmxpbmtlZFNoZWV0cy5maWx0ZXIoKHNwKSA9PiBzcCAhPT0gaXRlbSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzcHJpdGVzaGVldDtcbiAgICB9LFxuICAgIHVubG9hZChzcHJpdGVzaGVldCkge1xuICAgICAgc3ByaXRlc2hlZXQuZGVzdHJveSh0cnVlKTtcbiAgICB9XG4gIH1cbn07XG5leHRlbnNpb25zLmFkZChzcHJpdGVzaGVldEFzc2V0KTtcblxuZXhwb3J0IHsgc3ByaXRlc2hlZXRBc3NldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlc2hlZXRBc3NldC5tanMubWFwXG4iLCJpbXBvcnQgeyB1dGlscywgQUxQSEFfTU9ERVMsIE1JUE1BUF9NT0RFUywgUmVjdGFuZ2xlLCBUZXh0dXJlLCBzZXR0aW5ncywgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFRleHRTdHlsZSwgVGV4dE1ldHJpY3MgfSBmcm9tICdAcGl4aS90ZXh0JztcbmltcG9ydCB7IGF1dG9EZXRlY3RGb3JtYXQgfSBmcm9tICcuL2Zvcm1hdHMvaW5kZXgubWpzJztcbmltcG9ydCB7IEJpdG1hcEZvbnREYXRhIH0gZnJvbSAnLi9CaXRtYXBGb250RGF0YS5tanMnO1xuaW1wb3J0ICcuL3V0aWxzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlQ2hhcmFjdGVycyB9IGZyb20gJy4vdXRpbHMvcmVzb2x2ZUNoYXJhY3RlcnMubWpzJztcbmltcG9ydCB7IGRyYXdHbHlwaCB9IGZyb20gJy4vdXRpbHMvZHJhd0dseXBoLm1qcyc7XG5pbXBvcnQgeyBleHRyYWN0Q2hhckNvZGUgfSBmcm9tICcuL3V0aWxzL2V4dHJhY3RDaGFyQ29kZS5tanMnO1xuXG5jb25zdCBfQml0bWFwRm9udCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgdGV4dHVyZXMsIG93bnNUZXh0dXJlcykge1xuICAgIGNvbnN0IFtpbmZvXSA9IGRhdGEuaW5mbztcbiAgICBjb25zdCBbY29tbW9uXSA9IGRhdGEuY29tbW9uO1xuICAgIGNvbnN0IFtwYWdlXSA9IGRhdGEucGFnZTtcbiAgICBjb25zdCBbZGlzdGFuY2VGaWVsZF0gPSBkYXRhLmRpc3RhbmNlRmllbGQ7XG4gICAgY29uc3QgcmVzID0gdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKHBhZ2UuZmlsZSk7XG4gICAgY29uc3QgcGFnZVRleHR1cmVzID0ge307XG4gICAgdGhpcy5fb3duc1RleHR1cmVzID0gb3duc1RleHR1cmVzO1xuICAgIHRoaXMuZm9udCA9IGluZm8uZmFjZTtcbiAgICB0aGlzLnNpemUgPSBpbmZvLnNpemU7XG4gICAgdGhpcy5saW5lSGVpZ2h0ID0gY29tbW9uLmxpbmVIZWlnaHQgLyByZXM7XG4gICAgdGhpcy5jaGFycyA9IHt9O1xuICAgIHRoaXMucGFnZVRleHR1cmVzID0gcGFnZVRleHR1cmVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5wYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB7IGlkLCBmaWxlIH0gPSBkYXRhLnBhZ2VbaV07XG4gICAgICBwYWdlVGV4dHVyZXNbaWRdID0gdGV4dHVyZXMgaW5zdGFuY2VvZiBBcnJheSA/IHRleHR1cmVzW2ldIDogdGV4dHVyZXNbZmlsZV07XG4gICAgICBpZiAoZGlzdGFuY2VGaWVsZD8uZmllbGRUeXBlICYmIGRpc3RhbmNlRmllbGQuZmllbGRUeXBlICE9PSBcIm5vbmVcIikge1xuICAgICAgICBwYWdlVGV4dHVyZXNbaWRdLmJhc2VUZXh0dXJlLmFscGhhTW9kZSA9IEFMUEhBX01PREVTLk5PX1BSRU1VTFRJUExJRURfQUxQSEE7XG4gICAgICAgIHBhZ2VUZXh0dXJlc1tpZF0uYmFzZVRleHR1cmUubWlwbWFwID0gTUlQTUFQX01PREVTLk9GRjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmNoYXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHsgaWQsIHBhZ2U6IHBhZ2UyIH0gPSBkYXRhLmNoYXJbaV07XG4gICAgICBsZXQgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0LCB4b2Zmc2V0LCB5b2Zmc2V0LCB4YWR2YW5jZSB9ID0gZGF0YS5jaGFyW2ldO1xuICAgICAgeCAvPSByZXM7XG4gICAgICB5IC89IHJlcztcbiAgICAgIHdpZHRoIC89IHJlcztcbiAgICAgIGhlaWdodCAvPSByZXM7XG4gICAgICB4b2Zmc2V0IC89IHJlcztcbiAgICAgIHlvZmZzZXQgLz0gcmVzO1xuICAgICAgeGFkdmFuY2UgLz0gcmVzO1xuICAgICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0YW5nbGUoeCArIHBhZ2VUZXh0dXJlc1twYWdlMl0uZnJhbWUueCAvIHJlcywgeSArIHBhZ2VUZXh0dXJlc1twYWdlMl0uZnJhbWUueSAvIHJlcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICB0aGlzLmNoYXJzW2lkXSA9IHtcbiAgICAgICAgeE9mZnNldDogeG9mZnNldCxcbiAgICAgICAgeU9mZnNldDogeW9mZnNldCxcbiAgICAgICAgeEFkdmFuY2U6IHhhZHZhbmNlLFxuICAgICAgICBrZXJuaW5nOiB7fSxcbiAgICAgICAgdGV4dHVyZTogbmV3IFRleHR1cmUocGFnZVRleHR1cmVzW3BhZ2UyXS5iYXNlVGV4dHVyZSwgcmVjdCksXG4gICAgICAgIHBhZ2U6IHBhZ2UyXG4gICAgICB9O1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEua2VybmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHsgZmlyc3QsIHNlY29uZCwgYW1vdW50IH0gPSBkYXRhLmtlcm5pbmdbaV07XG4gICAgICBmaXJzdCAvPSByZXM7XG4gICAgICBzZWNvbmQgLz0gcmVzO1xuICAgICAgYW1vdW50IC89IHJlcztcbiAgICAgIGlmICh0aGlzLmNoYXJzW3NlY29uZF0pIHtcbiAgICAgICAgdGhpcy5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmRpc3RhbmNlRmllbGRSYW5nZSA9IGRpc3RhbmNlRmllbGQ/LmRpc3RhbmNlUmFuZ2U7XG4gICAgdGhpcy5kaXN0YW5jZUZpZWxkVHlwZSA9IGRpc3RhbmNlRmllbGQ/LmZpZWxkVHlwZT8udG9Mb3dlckNhc2UoKSA/PyBcIm5vbmVcIjtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5jaGFycykge1xuICAgICAgdGhpcy5jaGFyc1tpZF0udGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlID0gbnVsbDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnBhZ2VUZXh0dXJlcykge1xuICAgICAgaWYgKHRoaXMuX293bnNUZXh0dXJlcykge1xuICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlc1tpZF0uZGVzdHJveSh0cnVlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFnZVRleHR1cmVzW2lkXSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuY2hhcnMgPSBudWxsO1xuICAgIHRoaXMucGFnZVRleHR1cmVzID0gbnVsbDtcbiAgfVxuICBzdGF0aWMgaW5zdGFsbChkYXRhLCB0ZXh0dXJlcywgb3duc1RleHR1cmVzKSB7XG4gICAgbGV0IGZvbnREYXRhO1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQml0bWFwRm9udERhdGEpIHtcbiAgICAgIGZvbnREYXRhID0gZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChkYXRhKTtcbiAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBkYXRhIGZvcm1hdCBmb3IgZm9udC5cIik7XG4gICAgICB9XG4gICAgICBmb250RGF0YSA9IGZvcm1hdC5wYXJzZShkYXRhKTtcbiAgICB9XG4gICAgaWYgKHRleHR1cmVzIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgdGV4dHVyZXMgPSBbdGV4dHVyZXNdO1xuICAgIH1cbiAgICBjb25zdCBmb250ID0gbmV3IF9CaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcywgb3duc1RleHR1cmVzKTtcbiAgICBfQml0bWFwRm9udC5hdmFpbGFibGVbZm9udC5mb250XSA9IGZvbnQ7XG4gICAgcmV0dXJuIGZvbnQ7XG4gIH1cbiAgc3RhdGljIHVuaW5zdGFsbChuYW1lKSB7XG4gICAgY29uc3QgZm9udCA9IF9CaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcbiAgICBpZiAoIWZvbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZm9udCBmb3VuZCBuYW1lZCAnJHtuYW1lfSdgKTtcbiAgICB9XG4gICAgZm9udC5kZXN0cm95KCk7XG4gICAgZGVsZXRlIF9CaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcbiAgfVxuICBzdGF0aWMgZnJvbShuYW1lLCB0ZXh0U3R5bGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XSBQcm9wZXJ0eSBgbmFtZWAgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBjaGFycyxcbiAgICAgIHBhZGRpbmcsXG4gICAgICByZXNvbHV0aW9uLFxuICAgICAgdGV4dHVyZVdpZHRoLFxuICAgICAgdGV4dHVyZUhlaWdodCxcbiAgICAgIC4uLmJhc2VPcHRpb25zXG4gICAgfSA9IE9iamVjdC5hc3NpZ24oe30sIF9CaXRtYXBGb250LmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICBjb25zdCBjaGFyc0xpc3QgPSByZXNvbHZlQ2hhcmFjdGVycyhjaGFycyk7XG4gICAgY29uc3Qgc3R5bGUgPSB0ZXh0U3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUgPyB0ZXh0U3R5bGUgOiBuZXcgVGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgY29uc3QgbGluZVdpZHRoID0gdGV4dHVyZVdpZHRoO1xuICAgIGNvbnN0IGZvbnREYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgZm9udERhdGEuaW5mb1swXSA9IHtcbiAgICAgIGZhY2U6IHN0eWxlLmZvbnRGYW1pbHksXG4gICAgICBzaXplOiBzdHlsZS5mb250U2l6ZVxuICAgIH07XG4gICAgZm9udERhdGEuY29tbW9uWzBdID0ge1xuICAgICAgbGluZUhlaWdodDogc3R5bGUuZm9udFNpemVcbiAgICB9O1xuICAgIGxldCBwb3NpdGlvblggPSAwO1xuICAgIGxldCBwb3NpdGlvblkgPSAwO1xuICAgIGxldCBjYW52YXM7XG4gICAgbGV0IGNvbnRleHQ7XG4gICAgbGV0IGJhc2VUZXh0dXJlO1xuICAgIGxldCBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICBjb25zdCBiYXNlVGV4dHVyZXMgPSBbXTtcbiAgICBjb25zdCB0ZXh0dXJlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICBjYW52YXMgPSBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgICAgICBjYW52YXMud2lkdGggPSB0ZXh0dXJlV2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0ZXh0dXJlSGVpZ2h0O1xuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoY2FudmFzLCB7IHJlc29sdXRpb24sIC4uLmJhc2VPcHRpb25zIH0pO1xuICAgICAgICBiYXNlVGV4dHVyZXMucHVzaChiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRleHR1cmVzLnB1c2gobmV3IFRleHR1cmUoYmFzZVRleHR1cmUpKTtcbiAgICAgICAgZm9udERhdGEucGFnZS5wdXNoKHtcbiAgICAgICAgICBpZDogdGV4dHVyZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICBmaWxlOiBcIlwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgY2hhcmFjdGVyID0gY2hhcnNMaXN0W2ldO1xuICAgICAgY29uc3QgbWV0cmljcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KGNoYXJhY3Rlciwgc3R5bGUsIGZhbHNlLCBjYW52YXMpO1xuICAgICAgY29uc3Qgd2lkdGggPSBtZXRyaWNzLndpZHRoO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKG1ldHJpY3MuaGVpZ2h0KTtcbiAgICAgIGNvbnN0IHRleHR1cmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKChzdHlsZS5mb250U3R5bGUgPT09IFwiaXRhbGljXCIgPyAyIDogMSkgKiB3aWR0aCk7XG4gICAgICBpZiAocG9zaXRpb25ZID49IHRleHR1cmVIZWlnaHQgLSBoZWlnaHQgKiByZXNvbHV0aW9uKSB7XG4gICAgICAgIGlmIChwb3NpdGlvblkgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtCaXRtYXBGb250XSB0ZXh0dXJlSGVpZ2h0ICR7dGV4dHVyZUhlaWdodH1weCBpcyB0b28gc21hbGwgKGZvbnRGYW1pbHk6ICcke3N0eWxlLmZvbnRGYW1pbHl9JywgZm9udFNpemU6ICR7c3R5bGUuZm9udFNpemV9cHgsIGNoYXI6ICcke2NoYXJhY3Rlcn0nKWApO1xuICAgICAgICB9XG4gICAgICAgIC0taTtcbiAgICAgICAgY2FudmFzID0gbnVsbDtcbiAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgIGJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgcG9zaXRpb25ZID0gMDtcbiAgICAgICAgcG9zaXRpb25YID0gMDtcbiAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbWF4Q2hhckhlaWdodCA9IE1hdGgubWF4KGhlaWdodCArIG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZGVzY2VudCwgbWF4Q2hhckhlaWdodCk7XG4gICAgICBpZiAodGV4dHVyZUdseXBoV2lkdGggKiByZXNvbHV0aW9uICsgcG9zaXRpb25YID49IGxpbmVXaWR0aCkge1xuICAgICAgICBpZiAocG9zaXRpb25YID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbQml0bWFwRm9udF0gdGV4dHVyZVdpZHRoICR7dGV4dHVyZVdpZHRofXB4IGlzIHRvbyBzbWFsbCAoZm9udEZhbWlseTogJyR7c3R5bGUuZm9udEZhbWlseX0nLCBmb250U2l6ZTogJHtzdHlsZS5mb250U2l6ZX1weCwgY2hhcjogJyR7Y2hhcmFjdGVyfScpYCk7XG4gICAgICAgIH1cbiAgICAgICAgLS1pO1xuICAgICAgICBwb3NpdGlvblkgKz0gbWF4Q2hhckhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgIHBvc2l0aW9uWSA9IE1hdGguY2VpbChwb3NpdGlvblkpO1xuICAgICAgICBwb3NpdGlvblggPSAwO1xuICAgICAgICBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBkcmF3R2x5cGgoY2FudmFzLCBjb250ZXh0LCBtZXRyaWNzLCBwb3NpdGlvblgsIHBvc2l0aW9uWSwgcmVzb2x1dGlvbiwgc3R5bGUpO1xuICAgICAgY29uc3QgaWQgPSBleHRyYWN0Q2hhckNvZGUobWV0cmljcy50ZXh0KTtcbiAgICAgIGZvbnREYXRhLmNoYXIucHVzaCh7XG4gICAgICAgIGlkLFxuICAgICAgICBwYWdlOiB0ZXh0dXJlcy5sZW5ndGggLSAxLFxuICAgICAgICB4OiBwb3NpdGlvblggLyByZXNvbHV0aW9uLFxuICAgICAgICB5OiBwb3NpdGlvblkgLyByZXNvbHV0aW9uLFxuICAgICAgICB3aWR0aDogdGV4dHVyZUdseXBoV2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgeG9mZnNldDogMCxcbiAgICAgICAgeW9mZnNldDogMCxcbiAgICAgICAgeGFkdmFuY2U6IE1hdGguY2VpbCh3aWR0aCAtIChzdHlsZS5kcm9wU2hhZG93ID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMCkgLSAoc3R5bGUuc3Ryb2tlID8gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIDogMCkpXG4gICAgICB9KTtcbiAgICAgIHBvc2l0aW9uWCArPSAodGV4dHVyZUdseXBoV2lkdGggKyAyICogcGFkZGluZykgKiByZXNvbHV0aW9uO1xuICAgICAgcG9zaXRpb25YID0gTWF0aC5jZWlsKHBvc2l0aW9uWCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjaGFyc0xpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IGZpcnN0ID0gY2hhcnNMaXN0W2ldO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZW47IGorKykge1xuICAgICAgICBjb25zdCBzZWNvbmQgPSBjaGFyc0xpc3Rbal07XG4gICAgICAgIGNvbnN0IGMxID0gY29udGV4dC5tZWFzdXJlVGV4dChmaXJzdCkud2lkdGg7XG4gICAgICAgIGNvbnN0IGMyID0gY29udGV4dC5tZWFzdXJlVGV4dChzZWNvbmQpLndpZHRoO1xuICAgICAgICBjb25zdCB0b3RhbCA9IGNvbnRleHQubWVhc3VyZVRleHQoZmlyc3QgKyBzZWNvbmQpLndpZHRoO1xuICAgICAgICBjb25zdCBhbW91bnQgPSB0b3RhbCAtIChjMSArIGMyKTtcbiAgICAgICAgaWYgKGFtb3VudCkge1xuICAgICAgICAgIGZvbnREYXRhLmtlcm5pbmcucHVzaCh7XG4gICAgICAgICAgICBmaXJzdDogZXh0cmFjdENoYXJDb2RlKGZpcnN0KSxcbiAgICAgICAgICAgIHNlY29uZDogZXh0cmFjdENoYXJDb2RlKHNlY29uZCksXG4gICAgICAgICAgICBhbW91bnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmb250ID0gbmV3IF9CaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcywgdHJ1ZSk7XG4gICAgaWYgKF9CaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSAhPT0gdm9pZCAwKSB7XG4gICAgICBfQml0bWFwRm9udC51bmluc3RhbGwobmFtZSk7XG4gICAgfVxuICAgIF9CaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSA9IGZvbnQ7XG4gICAgcmV0dXJuIGZvbnQ7XG4gIH1cbn07XG5sZXQgQml0bWFwRm9udCA9IF9CaXRtYXBGb250O1xuQml0bWFwRm9udC5BTFBIQSA9IFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFwiIFwiXTtcbkJpdG1hcEZvbnQuTlVNRVJJQyA9IFtbXCIwXCIsIFwiOVwiXV07XG5CaXRtYXBGb250LkFMUEhBTlVNRVJJQyA9IFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFtcIjBcIiwgXCI5XCJdLCBcIiBcIl07XG5CaXRtYXBGb250LkFTQ0lJID0gW1tcIiBcIiwgXCJ+XCJdXTtcbkJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIHJlc29sdXRpb246IDEsXG4gIHRleHR1cmVXaWR0aDogNTEyLFxuICB0ZXh0dXJlSGVpZ2h0OiA1MTIsXG4gIHBhZGRpbmc6IDQsXG4gIGNoYXJzOiBfQml0bWFwRm9udC5BTFBIQU5VTUVSSUNcbn07XG5CaXRtYXBGb250LmF2YWlsYWJsZSA9IHt9O1xuXG5leHBvcnQgeyBCaXRtYXBGb250IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRtYXBGb250Lm1qcy5tYXBcbiIsImNsYXNzIEJpdG1hcEZvbnREYXRhIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbmZvID0gW107XG4gICAgdGhpcy5jb21tb24gPSBbXTtcbiAgICB0aGlzLnBhZ2UgPSBbXTtcbiAgICB0aGlzLmNoYXIgPSBbXTtcbiAgICB0aGlzLmtlcm5pbmcgPSBbXTtcbiAgICB0aGlzLmRpc3RhbmNlRmllbGQgPSBbXTtcbiAgfVxufVxuXG5leHBvcnQgeyBCaXRtYXBGb250RGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0bWFwRm9udERhdGEubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwsIE1lc2ggfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IEJpdG1hcEZvbnQgfSBmcm9tICcuL0JpdG1hcEZvbnQubWpzJztcbmltcG9ydCAnLi91dGlscy9pbmRleC5tanMnO1xuaW1wb3J0IG1zZGZGcmFnIGZyb20gJy4vc2hhZGVyL21zZGYubWpzJztcbmltcG9ydCBtc2RmVmVydCBmcm9tICcuL3NoYWRlci9tc2RmMi5tanMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZVBvaW50LCBzZXR0aW5ncywgUG9pbnQsIFRleHR1cmUsIHV0aWxzLCBCTEVORF9NT0RFUywgUHJvZ3JhbSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBzcGxpdFRleHRUb0NoYXJhY3RlcnMgfSBmcm9tICcuL3V0aWxzL3NwbGl0VGV4dFRvQ2hhcmFjdGVycy5tanMnO1xuaW1wb3J0IHsgZXh0cmFjdENoYXJDb2RlIH0gZnJvbSAnLi91dGlscy9leHRyYWN0Q2hhckNvZGUubWpzJztcblxuY29uc3QgcGFnZU1lc2hEYXRhRGVmYXVsdFBhZ2VNZXNoRGF0YSA9IFtdO1xuY29uc3QgcGFnZU1lc2hEYXRhTVNERlBhZ2VNZXNoRGF0YSA9IFtdO1xuY29uc3QgY2hhclJlbmRlckRhdGFQb29sID0gW107XG5jb25zdCBfQml0bWFwVGV4dCA9IGNsYXNzIGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgY29uc3RydWN0b3IodGV4dCwgc3R5bGUgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fdGludCA9IDE2Nzc3MjE1O1xuICAgIGNvbnN0IHsgYWxpZ24sIHRpbnQsIG1heFdpZHRoLCBsZXR0ZXJTcGFjaW5nLCBmb250TmFtZSwgZm9udFNpemUgfSA9IE9iamVjdC5hc3NpZ24oe30sIF9CaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMsIHN0eWxlKTtcbiAgICBpZiAoIUJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnROYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIEJpdG1hcEZvbnQgXCIke2ZvbnROYW1lfVwiYCk7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICB0aGlzLl90ZXh0V2lkdGggPSAwO1xuICAgIHRoaXMuX3RleHRIZWlnaHQgPSAwO1xuICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgdGhpcy5fdGludCA9IHRpbnQ7XG4gICAgdGhpcy5fZm9udCA9IHZvaWQgMDtcbiAgICB0aGlzLl9mb250TmFtZSA9IGZvbnROYW1lO1xuICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLl9tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgIHRoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoKCkgPT4ge1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfSwgdGhpcywgMCwgMCk7XG4gICAgdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgdGhpcy5fcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSB0cnVlO1xuICAgIHRoaXMuX3RleHR1cmVDYWNoZSA9IHt9O1xuICB9XG4gIHVwZGF0ZVRleHQoKSB7XG4gICAgY29uc3QgZGF0YSA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW3RoaXMuX2ZvbnROYW1lXTtcbiAgICBjb25zdCBmb250U2l6ZSA9IHRoaXMuZm9udFNpemU7XG4gICAgY29uc3Qgc2NhbGUgPSBmb250U2l6ZSAvIGRhdGEuc2l6ZTtcbiAgICBjb25zdCBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICBjb25zdCBjaGFycyA9IFtdO1xuICAgIGNvbnN0IGxpbmVXaWR0aHMgPSBbXTtcbiAgICBjb25zdCBsaW5lU3BhY2VzID0gW107XG4gICAgY29uc3QgdGV4dCA9IHRoaXMuX3RleHQucmVwbGFjZSgvKD86XFxyXFxufFxccikvZywgXCJcXG5cIikgfHwgXCIgXCI7XG4gICAgY29uc3QgY2hhcnNJbnB1dCA9IHNwbGl0VGV4dFRvQ2hhcmFjdGVycyh0ZXh0KTtcbiAgICBjb25zdCBtYXhXaWR0aCA9IHRoaXMuX21heFdpZHRoICogZGF0YS5zaXplIC8gZm9udFNpemU7XG4gICAgY29uc3QgcGFnZU1lc2hEYXRhUG9vbCA9IGRhdGEuZGlzdGFuY2VGaWVsZFR5cGUgPT09IFwibm9uZVwiID8gcGFnZU1lc2hEYXRhRGVmYXVsdFBhZ2VNZXNoRGF0YSA6IHBhZ2VNZXNoRGF0YU1TREZQYWdlTWVzaERhdGE7XG4gICAgbGV0IHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgbGV0IGxhc3RMaW5lV2lkdGggPSAwO1xuICAgIGxldCBtYXhMaW5lV2lkdGggPSAwO1xuICAgIGxldCBsaW5lID0gMDtcbiAgICBsZXQgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgbGV0IGxhc3RCcmVha1dpZHRoID0gMDtcbiAgICBsZXQgc3BhY2VzUmVtb3ZlZCA9IDA7XG4gICAgbGV0IG1heExpbmVIZWlnaHQgPSAwO1xuICAgIGxldCBzcGFjZUNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzSW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYXIgPSBjaGFyc0lucHV0W2ldO1xuICAgICAgY29uc3QgY2hhckNvZGUgPSBleHRyYWN0Q2hhckNvZGUoY2hhcik7XG4gICAgICBpZiAoLyg/OlxccykvLnRlc3QoY2hhcikpIHtcbiAgICAgICAgbGFzdEJyZWFrUG9zID0gaTtcbiAgICAgICAgbGFzdEJyZWFrV2lkdGggPSBsYXN0TGluZVdpZHRoO1xuICAgICAgICBzcGFjZUNvdW50Kys7XG4gICAgICB9XG4gICAgICBpZiAoY2hhciA9PT0gXCJcXHJcIiB8fCBjaGFyID09PSBcIlxcblwiKSB7XG4gICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgbGluZVNwYWNlcy5wdXNoKC0xKTtcbiAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgKytsaW5lO1xuICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICBzcGFjZUNvdW50ID0gMDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuICAgICAgaWYgKCFjaGFyRGF0YSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2Q2hhckNvZGUgJiYgY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdKSB7XG4gICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoYXJSZW5kZXJEYXRhID0gY2hhclJlbmRlckRhdGFQb29sLnBvcCgpIHx8IHtcbiAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5FTVBUWSxcbiAgICAgICAgbGluZTogMCxcbiAgICAgICAgY2hhckNvZGU6IDAsXG4gICAgICAgIHByZXZTcGFjZXM6IDAsXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgUG9pbnQoKVxuICAgICAgfTtcbiAgICAgIGNoYXJSZW5kZXJEYXRhLnRleHR1cmUgPSBjaGFyRGF0YS50ZXh0dXJlO1xuICAgICAgY2hhclJlbmRlckRhdGEubGluZSA9IGxpbmU7XG4gICAgICBjaGFyUmVuZGVyRGF0YS5jaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgY2hhclJlbmRlckRhdGEucG9zaXRpb24ueCA9IHBvcy54ICsgY2hhckRhdGEueE9mZnNldCArIHRoaXMuX2xldHRlclNwYWNpbmcgLyAyO1xuICAgICAgY2hhclJlbmRlckRhdGEucG9zaXRpb24ueSA9IHBvcy55ICsgY2hhckRhdGEueU9mZnNldDtcbiAgICAgIGNoYXJSZW5kZXJEYXRhLnByZXZTcGFjZXMgPSBzcGFjZUNvdW50O1xuICAgICAgY2hhcnMucHVzaChjaGFyUmVuZGVyRGF0YSk7XG4gICAgICBsYXN0TGluZVdpZHRoID0gY2hhclJlbmRlckRhdGEucG9zaXRpb24ueCArIE1hdGgubWF4KGNoYXJEYXRhLnhBZHZhbmNlIC0gY2hhckRhdGEueE9mZnNldCwgY2hhckRhdGEudGV4dHVyZS5vcmlnLndpZHRoKTtcbiAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlICsgdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCBjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpO1xuICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG4gICAgICBpZiAobGFzdEJyZWFrUG9zICE9PSAtMSAmJiBtYXhXaWR0aCA+IDAgJiYgcG9zLnggPiBtYXhXaWR0aCkge1xuICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgIHV0aWxzLnJlbW92ZUl0ZW1zKGNoYXJzLCAxICsgbGFzdEJyZWFrUG9zIC0gc3BhY2VzUmVtb3ZlZCwgMSArIGkgLSBsYXN0QnJlYWtQb3MpO1xuICAgICAgICBpID0gbGFzdEJyZWFrUG9zO1xuICAgICAgICBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgbGluZVNwYWNlcy5wdXNoKGNoYXJzLmxlbmd0aCA+IDAgPyBjaGFyc1tjaGFycy5sZW5ndGggLSAxXS5wcmV2U3BhY2VzIDogMCk7XG4gICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICBsaW5lKys7XG4gICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICBzcGFjZUNvdW50ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbGFzdENoYXIgPSBjaGFyc0lucHV0W2NoYXJzSW5wdXQubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxhc3RDaGFyICE9PSBcIlxcclwiICYmIGxhc3RDaGFyICE9PSBcIlxcblwiKSB7XG4gICAgICBpZiAoLyg/OlxccykvLnRlc3QobGFzdENoYXIpKSB7XG4gICAgICAgIGxhc3RMaW5lV2lkdGggPSBsYXN0QnJlYWtXaWR0aDtcbiAgICAgIH1cbiAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICBsaW5lU3BhY2VzLnB1c2goLTEpO1xuICAgIH1cbiAgICBjb25zdCBsaW5lQWxpZ25PZmZzZXRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbGluZTsgaSsrKSB7XG4gICAgICBsZXQgYWxpZ25PZmZzZXQgPSAwO1xuICAgICAgaWYgKHRoaXMuX2FsaWduID09PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgYWxpZ25PZmZzZXQgPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9hbGlnbiA9PT0gXCJjZW50ZXJcIikge1xuICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIDI7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2FsaWduID09PSBcImp1c3RpZnlcIikge1xuICAgICAgICBhbGlnbk9mZnNldCA9IGxpbmVTcGFjZXNbaV0gPCAwID8gMCA6IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIGxpbmVTcGFjZXNbaV07XG4gICAgICB9XG4gICAgICBsaW5lQWxpZ25PZmZzZXRzLnB1c2goYWxpZ25PZmZzZXQpO1xuICAgIH1cbiAgICBjb25zdCBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICBjb25zdCBwYWdlc01lc2hEYXRhID0ge307XG4gICAgY29uc3QgbmV3UGFnZXNNZXNoRGF0YSA9IFtdO1xuICAgIGNvbnN0IGFjdGl2ZVBhZ2VzTWVzaERhdGEgPSB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhO1xuICAgIHBhZ2VNZXNoRGF0YVBvb2wucHVzaCguLi5hY3RpdmVQYWdlc01lc2hEYXRhKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSBjaGFyc1tpXS50ZXh0dXJlO1xuICAgICAgY29uc3QgYmFzZVRleHR1cmVVaWQgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnVpZDtcbiAgICAgIGlmICghcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0pIHtcbiAgICAgICAgbGV0IHBhZ2VNZXNoRGF0YSA9IHBhZ2VNZXNoRGF0YVBvb2wucG9wKCk7XG4gICAgICAgIGlmICghcGFnZU1lc2hEYXRhKSB7XG4gICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KCk7XG4gICAgICAgICAgbGV0IG1hdGVyaWFsO1xuICAgICAgICAgIGxldCBtZXNoQmxlbmRNb2RlO1xuICAgICAgICAgIGlmIChkYXRhLmRpc3RhbmNlRmllbGRUeXBlID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgbWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuRU1QVFkpO1xuICAgICAgICAgICAgbWVzaEJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuRU1QVFksIHsgcHJvZ3JhbTogUHJvZ3JhbS5mcm9tKG1zZGZWZXJ0LCBtc2RmRnJhZyksIHVuaWZvcm1zOiB7IHVGV2lkdGg6IDAgfSB9KTtcbiAgICAgICAgICAgIG1lc2hCbGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUxfTlBNO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBtZXNoID0gbmV3IE1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgICBtZXNoLmJsZW5kTW9kZSA9IG1lc2hCbGVuZE1vZGU7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhID0ge1xuICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICBpbmRleENvdW50OiAwLFxuICAgICAgICAgICAgdmVydGV4Q291bnQ6IDAsXG4gICAgICAgICAgICB1dnNDb3VudDogMCxcbiAgICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgICAgbWVzaCxcbiAgICAgICAgICAgIHZlcnRpY2VzOiBudWxsLFxuICAgICAgICAgICAgdXZzOiBudWxsLFxuICAgICAgICAgICAgaW5kaWNlczogbnVsbFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4ID0gMDtcbiAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4Q291bnQgPSAwO1xuICAgICAgICBwYWdlTWVzaERhdGEudmVydGV4Q291bnQgPSAwO1xuICAgICAgICBwYWdlTWVzaERhdGEudXZzQ291bnQgPSAwO1xuICAgICAgICBwYWdlTWVzaERhdGEudG90YWwgPSAwO1xuICAgICAgICBjb25zdCB7IF90ZXh0dXJlQ2FjaGUgfSA9IHRoaXM7XG4gICAgICAgIF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdID0gX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF0gfHwgbmV3IFRleHR1cmUodGV4dHVyZS5iYXNlVGV4dHVyZSk7XG4gICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnRleHR1cmUgPSBfdGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlVWlkXTtcbiAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGludCA9IHRoaXMuX3RpbnQ7XG4gICAgICAgIG5ld1BhZ2VzTWVzaERhdGEucHVzaChwYWdlTWVzaERhdGEpO1xuICAgICAgICBwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXSA9IHBhZ2VNZXNoRGF0YTtcbiAgICAgIH1cbiAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdLnRvdGFsKys7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFuZXdQYWdlc01lc2hEYXRhLmluY2x1ZGVzKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0pKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YVtpXS5tZXNoLnBhcmVudCAhPT0gdGhpcykge1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ld1BhZ2VzTWVzaERhdGFbaV0ubWVzaCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBuZXdQYWdlc01lc2hEYXRhO1xuICAgIGZvciAoY29uc3QgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICBjb25zdCBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgY29uc3QgdG90YWwgPSBwYWdlTWVzaERhdGEudG90YWw7XG4gICAgICBpZiAoIShwYWdlTWVzaERhdGEuaW5kaWNlcz8ubGVuZ3RoID4gNiAqIHRvdGFsKSB8fCBwYWdlTWVzaERhdGEudmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSg0ICogMiAqIHRvdGFsKTtcbiAgICAgICAgcGFnZU1lc2hEYXRhLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoNCAqIDIgKiB0b3RhbCk7XG4gICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiB0b3RhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0b3RhbDIgPSBwYWdlTWVzaERhdGEudG90YWw7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgICBmb3IgKGxldCBpMiA9IHRvdGFsMiAqIDQgKiAyOyBpMiA8IHZlcnRpY2VzLmxlbmd0aDsgaTIrKykge1xuICAgICAgICAgIHZlcnRpY2VzW2kyXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnNpemUgPSA2ICogdG90YWw7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuQ2hhcnM7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IGNoYXJzW2ldO1xuICAgICAgbGV0IG9mZnNldCA9IGNoYXIucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhci5saW5lXSAqICh0aGlzLl9hbGlnbiA9PT0gXCJqdXN0aWZ5XCIgPyBjaGFyLnByZXZTcGFjZXMgOiAxKTtcbiAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICBvZmZzZXQgPSBNYXRoLnJvdW5kKG9mZnNldCk7XG4gICAgICB9XG4gICAgICBjb25zdCB4UG9zID0gb2Zmc2V0ICogc2NhbGU7XG4gICAgICBjb25zdCB5UG9zID0gY2hhci5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICBjb25zdCB0ZXh0dXJlID0gY2hhci50ZXh0dXJlO1xuICAgICAgY29uc3QgcGFnZU1lc2ggPSBwYWdlc01lc2hEYXRhW3RleHR1cmUuYmFzZVRleHR1cmUudWlkXTtcbiAgICAgIGNvbnN0IHRleHR1cmVGcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICBjb25zdCB0ZXh0dXJlVXZzID0gdGV4dHVyZS5fdXZzO1xuICAgICAgY29uc3QgaW5kZXggPSBwYWdlTWVzaC5pbmRleCsrO1xuICAgICAgcGFnZU1lc2guaW5kaWNlc1tpbmRleCAqIDYgKyAwXSA9IDAgKyBpbmRleCAqIDQ7XG4gICAgICBwYWdlTWVzaC5pbmRpY2VzW2luZGV4ICogNiArIDFdID0gMSArIGluZGV4ICogNDtcbiAgICAgIHBhZ2VNZXNoLmluZGljZXNbaW5kZXggKiA2ICsgMl0gPSAyICsgaW5kZXggKiA0O1xuICAgICAgcGFnZU1lc2guaW5kaWNlc1tpbmRleCAqIDYgKyAzXSA9IDAgKyBpbmRleCAqIDQ7XG4gICAgICBwYWdlTWVzaC5pbmRpY2VzW2luZGV4ICogNiArIDRdID0gMiArIGluZGV4ICogNDtcbiAgICAgIHBhZ2VNZXNoLmluZGljZXNbaW5kZXggKiA2ICsgNV0gPSAzICsgaW5kZXggKiA0O1xuICAgICAgcGFnZU1lc2gudmVydGljZXNbaW5kZXggKiA4ICsgMF0gPSB4UG9zO1xuICAgICAgcGFnZU1lc2gudmVydGljZXNbaW5kZXggKiA4ICsgMV0gPSB5UG9zO1xuICAgICAgcGFnZU1lc2gudmVydGljZXNbaW5kZXggKiA4ICsgMl0gPSB4UG9zICsgdGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGU7XG4gICAgICBwYWdlTWVzaC52ZXJ0aWNlc1tpbmRleCAqIDggKyAzXSA9IHlQb3M7XG4gICAgICBwYWdlTWVzaC52ZXJ0aWNlc1tpbmRleCAqIDggKyA0XSA9IHhQb3MgKyB0ZXh0dXJlRnJhbWUud2lkdGggKiBzY2FsZTtcbiAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzW2luZGV4ICogOCArIDVdID0geVBvcyArIHRleHR1cmVGcmFtZS5oZWlnaHQgKiBzY2FsZTtcbiAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzW2luZGV4ICogOCArIDZdID0geFBvcztcbiAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzW2luZGV4ICogOCArIDddID0geVBvcyArIHRleHR1cmVGcmFtZS5oZWlnaHQgKiBzY2FsZTtcbiAgICAgIHBhZ2VNZXNoLnV2c1tpbmRleCAqIDggKyAwXSA9IHRleHR1cmVVdnMueDA7XG4gICAgICBwYWdlTWVzaC51dnNbaW5kZXggKiA4ICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgcGFnZU1lc2gudXZzW2luZGV4ICogOCArIDJdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgIHBhZ2VNZXNoLnV2c1tpbmRleCAqIDggKyAzXSA9IHRleHR1cmVVdnMueTE7XG4gICAgICBwYWdlTWVzaC51dnNbaW5kZXggKiA4ICsgNF0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgcGFnZU1lc2gudXZzW2luZGV4ICogOCArIDVdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgIHBhZ2VNZXNoLnV2c1tpbmRleCAqIDggKyA2XSA9IHRleHR1cmVVdnMueDM7XG4gICAgICBwYWdlTWVzaC51dnNbaW5kZXggKiA4ICsgN10gPSB0ZXh0dXJlVXZzLnkzO1xuICAgIH1cbiAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuICAgIGZvciAoY29uc3QgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICBjb25zdCBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMCkge1xuICAgICAgICBsZXQgdmVydGV4Q291bnQgPSAwO1xuICAgICAgICBjb25zdCBhbmNob3JPZmZzZXRYID0gdGhpcy5fdGV4dFdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgY29uc3QgYW5jaG9yT2Zmc2V0WSA9IHRoaXMuX3RleHRIZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgcGFnZU1lc2hEYXRhLnRvdGFsOyBpMisrKSB7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSBtYXhMaW5lSGVpZ2h0ICogc2NhbGU7XG4gICAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoXCJhVmVydGV4UG9zaXRpb25cIik7XG4gICAgICBjb25zdCB0ZXh0dXJlQnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0QnVmZmVyKFwiYVRleHR1cmVDb29yZFwiKTtcbiAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgdGV4dHVyZUJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnV2cztcbiAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEuaW5kaWNlcztcbiAgICAgIHZlcnRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgIHRleHR1cmVCdWZmZXIudXBkYXRlKCk7XG4gICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhclJlbmRlckRhdGFQb29sLnB1c2goY2hhcnNbaV0pO1xuICAgIH1cbiAgICB0aGlzLl9mb250ID0gZGF0YTtcbiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gIH1cbiAgdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICB9XG4gIF9yZW5kZXIocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgeyBkaXN0YW5jZUZpZWxkUmFuZ2UsIGRpc3RhbmNlRmllbGRUeXBlLCBzaXplIH0gPSBCaXRtYXBGb250LmF2YWlsYWJsZVt0aGlzLl9mb250TmFtZV07XG4gICAgaWYgKGRpc3RhbmNlRmllbGRUeXBlICE9PSBcIm5vbmVcIikge1xuICAgICAgY29uc3QgeyBhLCBiLCBjLCBkIH0gPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgY29uc3QgZHggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG4gICAgICBjb25zdCBkeSA9IE1hdGguc3FydChjICogYyArIGQgKiBkKTtcbiAgICAgIGNvbnN0IHdvcmxkU2NhbGUgPSAoTWF0aC5hYnMoZHgpICsgTWF0aC5hYnMoZHkpKSAvIDI7XG4gICAgICBjb25zdCBmb250U2NhbGUgPSB0aGlzLmZvbnRTaXplIC8gc2l6ZTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSByZW5kZXJlci5fdmlldy5yZXNvbHV0aW9uO1xuICAgICAgZm9yIChjb25zdCBtZXNoIG9mIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEpIHtcbiAgICAgICAgbWVzaC5tZXNoLnNoYWRlci51bmlmb3Jtcy51RldpZHRoID0gd29ybGRTY2FsZSAqIGRpc3RhbmNlRmllbGRSYW5nZSAqIGZvbnRTY2FsZSAqIHJlc29sdXRpb247XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICB9XG4gIGdldExvY2FsQm91bmRzKCkge1xuICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICByZXR1cm4gc3VwZXIuZ2V0TG9jYWxCb3VuZHMoKTtcbiAgfVxuICB2YWxpZGF0ZSgpIHtcbiAgICBjb25zdCBmb250ID0gQml0bWFwRm9udC5hdmFpbGFibGVbdGhpcy5fZm9udE5hbWVdO1xuICAgIGlmICghZm9udCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIEJpdG1hcEZvbnQgXCIke3RoaXMuX2ZvbnROYW1lfVwiYCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9mb250ICE9PSBmb250KSB7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgIH1cbiAgfVxuICBnZXQgdGludCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgfVxuICBzZXQgdGludCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl90aW50ID09PSB2YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhW2ldLm1lc2gudGludCA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICBnZXQgYWxpZ24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICB9XG4gIHNldCBhbGlnbih2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2FsaWduID0gdmFsdWU7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgZ2V0IGZvbnROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9mb250TmFtZTtcbiAgfVxuICBzZXQgZm9udE5hbWUodmFsdWUpIHtcbiAgICBpZiAoIUJpdG1hcEZvbnQuYXZhaWxhYmxlW3ZhbHVlXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIEJpdG1hcEZvbnQgXCIke3ZhbHVlfVwiYCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9mb250TmFtZSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2ZvbnROYW1lID0gdmFsdWU7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgZ2V0IGZvbnRTaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9mb250U2l6ZSA/PyBCaXRtYXBGb250LmF2YWlsYWJsZVt0aGlzLl9mb250TmFtZV0uc2l6ZTtcbiAgfVxuICBzZXQgZm9udFNpemUodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9mb250U2l6ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGdldCBhbmNob3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgfVxuICBzZXQgYW5jaG9yKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIGdldCB0ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICB9XG4gIHNldCB0ZXh0KHRleHQpIHtcbiAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdm9pZCAwID8gXCJcIiA6IHRleHQpO1xuICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICB9XG4gIGdldCBtYXhXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWF4V2lkdGg7XG4gIH1cbiAgc2V0IG1heFdpZHRoKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tYXhXaWR0aCA9IHZhbHVlO1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICB9XG4gIGdldCBtYXhMaW5lSGVpZ2h0KCkge1xuICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICByZXR1cm4gdGhpcy5fbWF4TGluZUhlaWdodDtcbiAgfVxuICBnZXQgdGV4dFdpZHRoKCkge1xuICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICB9XG4gIGdldCBsZXR0ZXJTcGFjaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICB9XG4gIHNldCBsZXR0ZXJTcGFjaW5nKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gdmFsdWU7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgZ2V0IHJvdW5kUGl4ZWxzKCkge1xuICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgfVxuICBzZXQgcm91bmRQaXhlbHModmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGdldCB0ZXh0SGVpZ2h0KCkge1xuICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgfVxuICBnZXQgcmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgfVxuICBzZXQgcmVzb2x1dGlvbih2YWx1ZSkge1xuICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuX3Jlc29sdXRpb24gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IF90ZXh0dXJlQ2FjaGUgfSA9IHRoaXM7XG4gICAgY29uc3QgZGF0YSA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW3RoaXMuX2ZvbnROYW1lXTtcbiAgICBjb25zdCBwYWdlTWVzaERhdGFQb29sID0gZGF0YS5kaXN0YW5jZUZpZWxkVHlwZSA9PT0gXCJub25lXCIgPyBwYWdlTWVzaERhdGFEZWZhdWx0UGFnZU1lc2hEYXRhIDogcGFnZU1lc2hEYXRhTVNERlBhZ2VNZXNoRGF0YTtcbiAgICBwYWdlTWVzaERhdGFQb29sLnB1c2goLi4udGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YSk7XG4gICAgZm9yIChjb25zdCBwYWdlTWVzaERhdGEgb2YgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YSkge1xuICAgICAgdGhpcy5yZW1vdmVDaGlsZChwYWdlTWVzaERhdGEubWVzaCk7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICBwYWdlTWVzaERhdGFQb29sLmZpbHRlcigocGFnZSkgPT4gX3RleHR1cmVDYWNoZVtwYWdlLm1lc2gudGV4dHVyZS5iYXNlVGV4dHVyZS51aWRdKS5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICBwYWdlLm1lc2gudGV4dHVyZSA9IFRleHR1cmUuRU1QVFk7XG4gICAgfSk7XG4gICAgZm9yIChjb25zdCBpZCBpbiBfdGV4dHVyZUNhY2hlKSB7XG4gICAgICBjb25zdCB0ZXh0dXJlID0gX3RleHR1cmVDYWNoZVtpZF07XG4gICAgICB0ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgIGRlbGV0ZSBfdGV4dHVyZUNhY2hlW2lkXTtcbiAgICB9XG4gICAgdGhpcy5fZm9udCA9IG51bGw7XG4gICAgdGhpcy5fdGV4dHVyZUNhY2hlID0gbnVsbDtcbiAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuICB9XG59O1xubGV0IEJpdG1hcFRleHQgPSBfQml0bWFwVGV4dDtcbkJpdG1hcFRleHQuc3R5bGVEZWZhdWx0cyA9IHtcbiAgYWxpZ246IFwibGVmdFwiLFxuICB0aW50OiAxNjc3NzIxNSxcbiAgbWF4V2lkdGg6IDAsXG4gIGxldHRlclNwYWNpbmc6IDBcbn07XG5cbmV4cG9ydCB7IEJpdG1hcFRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdG1hcFRleHQubWpzLm1hcFxuIiwiXG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRtYXBUZXh0U3R5bGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgQml0bWFwRm9udERhdGEgfSBmcm9tICcuLi9CaXRtYXBGb250RGF0YS5tanMnO1xuXG5jbGFzcyBUZXh0Rm9ybWF0IHtcbiAgc3RhdGljIHRlc3QoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiAmJiBkYXRhLnN0YXJ0c1dpdGgoXCJpbmZvIGZhY2U9XCIpO1xuICB9XG4gIHN0YXRpYyBwYXJzZSh0eHQpIHtcbiAgICBjb25zdCBpdGVtcyA9IHR4dC5tYXRjaCgvXlthLXpdK1xccysuKyQvZ20pO1xuICAgIGNvbnN0IHJhd0RhdGEgPSB7XG4gICAgICBpbmZvOiBbXSxcbiAgICAgIGNvbW1vbjogW10sXG4gICAgICBwYWdlOiBbXSxcbiAgICAgIGNoYXI6IFtdLFxuICAgICAgY2hhcnM6IFtdLFxuICAgICAga2VybmluZzogW10sXG4gICAgICBrZXJuaW5nczogW10sXG4gICAgICBkaXN0YW5jZUZpZWxkOiBbXVxuICAgIH07XG4gICAgZm9yIChjb25zdCBpIGluIGl0ZW1zKSB7XG4gICAgICBjb25zdCBuYW1lID0gaXRlbXNbaV0ubWF0Y2goL15bYS16XSsvZ20pWzBdO1xuICAgICAgY29uc3QgYXR0cmlidXRlTGlzdCA9IGl0ZW1zW2ldLm1hdGNoKC9bYS16QS1aXSs9KFteXFxzXCInXSt8XCIoW15cIl0qKVwiKS9nbSk7XG4gICAgICBjb25zdCBpdGVtRGF0YSA9IHt9O1xuICAgICAgZm9yIChjb25zdCBpMiBpbiBhdHRyaWJ1dGVMaXN0KSB7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gYXR0cmlidXRlTGlzdFtpMl0uc3BsaXQoXCI9XCIpO1xuICAgICAgICBjb25zdCBrZXkgPSBzcGxpdFswXTtcbiAgICAgICAgY29uc3Qgc3RyVmFsdWUgPSBzcGxpdFsxXS5yZXBsYWNlKC9cIi9nbSwgXCJcIik7XG4gICAgICAgIGNvbnN0IGZsb2F0VmFsdWUgPSBwYXJzZUZsb2F0KHN0clZhbHVlKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpc05hTihmbG9hdFZhbHVlKSA/IHN0clZhbHVlIDogZmxvYXRWYWx1ZTtcbiAgICAgICAgaXRlbURhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmF3RGF0YVtuYW1lXS5wdXNoKGl0ZW1EYXRhKTtcbiAgICB9XG4gICAgY29uc3QgZm9udCA9IG5ldyBCaXRtYXBGb250RGF0YSgpO1xuICAgIHJhd0RhdGEuaW5mby5mb3JFYWNoKChpbmZvKSA9PiBmb250LmluZm8ucHVzaCh7XG4gICAgICBmYWNlOiBpbmZvLmZhY2UsXG4gICAgICBzaXplOiBwYXJzZUludChpbmZvLnNpemUsIDEwKVxuICAgIH0pKTtcbiAgICByYXdEYXRhLmNvbW1vbi5mb3JFYWNoKChjb21tb24pID0+IGZvbnQuY29tbW9uLnB1c2goe1xuICAgICAgbGluZUhlaWdodDogcGFyc2VJbnQoY29tbW9uLmxpbmVIZWlnaHQsIDEwKVxuICAgIH0pKTtcbiAgICByYXdEYXRhLnBhZ2UuZm9yRWFjaCgocGFnZSkgPT4gZm9udC5wYWdlLnB1c2goe1xuICAgICAgaWQ6IHBhcnNlSW50KHBhZ2UuaWQsIDEwKSxcbiAgICAgIGZpbGU6IHBhZ2UuZmlsZVxuICAgIH0pKTtcbiAgICByYXdEYXRhLmNoYXIuZm9yRWFjaCgoY2hhcikgPT4gZm9udC5jaGFyLnB1c2goe1xuICAgICAgaWQ6IHBhcnNlSW50KGNoYXIuaWQsIDEwKSxcbiAgICAgIHBhZ2U6IHBhcnNlSW50KGNoYXIucGFnZSwgMTApLFxuICAgICAgeDogcGFyc2VJbnQoY2hhci54LCAxMCksXG4gICAgICB5OiBwYXJzZUludChjaGFyLnksIDEwKSxcbiAgICAgIHdpZHRoOiBwYXJzZUludChjaGFyLndpZHRoLCAxMCksXG4gICAgICBoZWlnaHQ6IHBhcnNlSW50KGNoYXIuaGVpZ2h0LCAxMCksXG4gICAgICB4b2Zmc2V0OiBwYXJzZUludChjaGFyLnhvZmZzZXQsIDEwKSxcbiAgICAgIHlvZmZzZXQ6IHBhcnNlSW50KGNoYXIueW9mZnNldCwgMTApLFxuICAgICAgeGFkdmFuY2U6IHBhcnNlSW50KGNoYXIueGFkdmFuY2UsIDEwKVxuICAgIH0pKTtcbiAgICByYXdEYXRhLmtlcm5pbmcuZm9yRWFjaCgoa2VybmluZykgPT4gZm9udC5rZXJuaW5nLnB1c2goe1xuICAgICAgZmlyc3Q6IHBhcnNlSW50KGtlcm5pbmcuZmlyc3QsIDEwKSxcbiAgICAgIHNlY29uZDogcGFyc2VJbnQoa2VybmluZy5zZWNvbmQsIDEwKSxcbiAgICAgIGFtb3VudDogcGFyc2VJbnQoa2VybmluZy5hbW91bnQsIDEwKVxuICAgIH0pKTtcbiAgICByYXdEYXRhLmRpc3RhbmNlRmllbGQuZm9yRWFjaCgoZGYpID0+IGZvbnQuZGlzdGFuY2VGaWVsZC5wdXNoKHtcbiAgICAgIGRpc3RhbmNlUmFuZ2U6IHBhcnNlSW50KGRmLmRpc3RhbmNlUmFuZ2UsIDEwKSxcbiAgICAgIGZpZWxkVHlwZTogZGYuZmllbGRUeXBlXG4gICAgfSkpO1xuICAgIHJldHVybiBmb250O1xuICB9XG59XG5cbmV4cG9ydCB7IFRleHRGb3JtYXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHRGb3JtYXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgQml0bWFwRm9udERhdGEgfSBmcm9tICcuLi9CaXRtYXBGb250RGF0YS5tanMnO1xuXG5jbGFzcyBYTUxGb3JtYXQge1xuICBzdGF0aWMgdGVzdChkYXRhKSB7XG4gICAgY29uc3QgeG1sID0gZGF0YTtcbiAgICByZXR1cm4gXCJnZXRFbGVtZW50c0J5VGFnTmFtZVwiIGluIHhtbCAmJiB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYWdlXCIpLmxlbmd0aCAmJiB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbmZvXCIpWzBdLmdldEF0dHJpYnV0ZShcImZhY2VcIikgIT09IG51bGw7XG4gIH1cbiAgc3RhdGljIHBhcnNlKHhtbCkge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICBjb25zdCBpbmZvID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5mb1wiKTtcbiAgICBjb25zdCBjb21tb24gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJjb21tb25cIik7XG4gICAgY29uc3QgcGFnZSA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhZ2VcIik7XG4gICAgY29uc3QgY2hhciA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNoYXJcIik7XG4gICAgY29uc3Qga2VybmluZyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImtlcm5pbmdcIik7XG4gICAgY29uc3QgZGlzdGFuY2VGaWVsZCA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpc3RhbmNlRmllbGRcIik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhLmluZm8ucHVzaCh7XG4gICAgICAgIGZhY2U6IGluZm9baV0uZ2V0QXR0cmlidXRlKFwiZmFjZVwiKSxcbiAgICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mb1tpXS5nZXRBdHRyaWJ1dGUoXCJzaXplXCIpLCAxMClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbW1vbi5sZW5ndGg7IGkrKykge1xuICAgICAgZGF0YS5jb21tb24ucHVzaCh7XG4gICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbltpXS5nZXRBdHRyaWJ1dGUoXCJsaW5lSGVpZ2h0XCIpLCAxMClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRhdGEucGFnZS5wdXNoKHtcbiAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2VbaV0uZ2V0QXR0cmlidXRlKFwiaWRcIiksIDEwKSB8fCAwLFxuICAgICAgICBmaWxlOiBwYWdlW2ldLmdldEF0dHJpYnV0ZShcImZpbGVcIilcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxldHRlciA9IGNoYXJbaV07XG4gICAgICBkYXRhLmNoYXIucHVzaCh7XG4gICAgICAgIGlkOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKFwiaWRcIiksIDEwKSxcbiAgICAgICAgcGFnZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZShcInBhZ2VcIiksIDEwKSB8fCAwLFxuICAgICAgICB4OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKFwieFwiKSwgMTApLFxuICAgICAgICB5OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKFwieVwiKSwgMTApLFxuICAgICAgICB3aWR0aDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLCAxMCksXG4gICAgICAgIGhlaWdodDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSwgMTApLFxuICAgICAgICB4b2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKFwieG9mZnNldFwiKSwgMTApLFxuICAgICAgICB5b2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKFwieW9mZnNldFwiKSwgMTApLFxuICAgICAgICB4YWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZShcInhhZHZhbmNlXCIpLCAxMClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtlcm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRhdGEua2VybmluZy5wdXNoKHtcbiAgICAgICAgZmlyc3Q6IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKFwiZmlyc3RcIiksIDEwKSxcbiAgICAgICAgc2Vjb25kOiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZShcInNlY29uZFwiKSwgMTApLFxuICAgICAgICBhbW91bnQ6IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKFwiYW1vdW50XCIpLCAxMClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpc3RhbmNlRmllbGQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRhdGEuZGlzdGFuY2VGaWVsZC5wdXNoKHtcbiAgICAgICAgZmllbGRUeXBlOiBkaXN0YW5jZUZpZWxkW2ldLmdldEF0dHJpYnV0ZShcImZpZWxkVHlwZVwiKSxcbiAgICAgICAgZGlzdGFuY2VSYW5nZTogcGFyc2VJbnQoZGlzdGFuY2VGaWVsZFtpXS5nZXRBdHRyaWJ1dGUoXCJkaXN0YW5jZVJhbmdlXCIpLCAxMClcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxufVxuXG5leHBvcnQgeyBYTUxGb3JtYXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVhNTEZvcm1hdC5tanMubWFwXG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgWE1MRm9ybWF0IH0gZnJvbSAnLi9YTUxGb3JtYXQubWpzJztcblxuY2xhc3MgWE1MU3RyaW5nRm9ybWF0IHtcbiAgc3RhdGljIHRlc3QoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiAmJiBkYXRhLmluY2x1ZGVzKFwiPGZvbnQ+XCIpKSB7XG4gICAgICByZXR1cm4gWE1MRm9ybWF0LnRlc3Qoc2V0dGluZ3MuQURBUFRFUi5wYXJzZVhNTChkYXRhKSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGF0aWMgcGFyc2UoeG1sVHh0KSB7XG4gICAgcmV0dXJuIFhNTEZvcm1hdC5wYXJzZShzZXR0aW5ncy5BREFQVEVSLnBhcnNlWE1MKHhtbFR4dCkpO1xuICB9XG59XG5cbmV4cG9ydCB7IFhNTFN0cmluZ0Zvcm1hdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9WE1MU3RyaW5nRm9ybWF0Lm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHRGb3JtYXQgfSBmcm9tICcuL1RleHRGb3JtYXQubWpzJztcbmV4cG9ydCB7IFRleHRGb3JtYXQgfSBmcm9tICcuL1RleHRGb3JtYXQubWpzJztcbmltcG9ydCB7IFhNTEZvcm1hdCB9IGZyb20gJy4vWE1MRm9ybWF0Lm1qcyc7XG5leHBvcnQgeyBYTUxGb3JtYXQgfSBmcm9tICcuL1hNTEZvcm1hdC5tanMnO1xuaW1wb3J0IHsgWE1MU3RyaW5nRm9ybWF0IH0gZnJvbSAnLi9YTUxTdHJpbmdGb3JtYXQubWpzJztcbmV4cG9ydCB7IFhNTFN0cmluZ0Zvcm1hdCB9IGZyb20gJy4vWE1MU3RyaW5nRm9ybWF0Lm1qcyc7XG5cbmNvbnN0IGZvcm1hdHMgPSBbXG4gIFRleHRGb3JtYXQsXG4gIFhNTEZvcm1hdCxcbiAgWE1MU3RyaW5nRm9ybWF0XG5dO1xuZnVuY3Rpb24gYXV0b0RldGVjdEZvcm1hdChkYXRhKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm9ybWF0cy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChmb3JtYXRzW2ldLnRlc3QoZGF0YSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRzW2ldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHsgYXV0b0RldGVjdEZvcm1hdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiZXhwb3J0IHsgQml0bWFwRm9udCB9IGZyb20gJy4vQml0bWFwRm9udC5tanMnO1xuZXhwb3J0IHsgQml0bWFwRm9udERhdGEgfSBmcm9tICcuL0JpdG1hcEZvbnREYXRhLm1qcyc7XG5leHBvcnQgeyBCaXRtYXBUZXh0IH0gZnJvbSAnLi9CaXRtYXBUZXh0Lm1qcyc7XG5pbXBvcnQgJy4vQml0bWFwVGV4dFN0eWxlLm1qcyc7XG5leHBvcnQgeyBhdXRvRGV0ZWN0Rm9ybWF0IH0gZnJvbSAnLi9mb3JtYXRzL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBsb2FkQml0bWFwRm9udCB9IGZyb20gJy4vbG9hZEJpdG1hcEZvbnQubWpzJztcbmV4cG9ydCB7IFRleHRGb3JtYXQgfSBmcm9tICcuL2Zvcm1hdHMvVGV4dEZvcm1hdC5tanMnO1xuZXhwb3J0IHsgWE1MRm9ybWF0IH0gZnJvbSAnLi9mb3JtYXRzL1hNTEZvcm1hdC5tanMnO1xuZXhwb3J0IHsgWE1MU3RyaW5nRm9ybWF0IH0gZnJvbSAnLi9mb3JtYXRzL1hNTFN0cmluZ0Zvcm1hdC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgdXRpbHMsIHNldHRpbmdzLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBMb2FkZXJQYXJzZXJQcmlvcml0eSB9IGZyb20gJ0BwaXhpL2Fzc2V0cyc7XG5pbXBvcnQgeyBCaXRtYXBGb250IH0gZnJvbSAnLi9CaXRtYXBGb250Lm1qcyc7XG5pbXBvcnQgJy4vZm9ybWF0cy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVGV4dEZvcm1hdCB9IGZyb20gJy4vZm9ybWF0cy9UZXh0Rm9ybWF0Lm1qcyc7XG5pbXBvcnQgeyBYTUxTdHJpbmdGb3JtYXQgfSBmcm9tICcuL2Zvcm1hdHMvWE1MU3RyaW5nRm9ybWF0Lm1qcyc7XG5cbmNvbnN0IHZhbGlkRXh0ZW5zaW9ucyA9IFtcIi54bWxcIiwgXCIuZm50XCJdO1xuY29uc3QgbG9hZEJpdG1hcEZvbnQgPSB7XG4gIGV4dGVuc2lvbjoge1xuICAgIHR5cGU6IEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlcixcbiAgICBwcmlvcml0eTogTG9hZGVyUGFyc2VyUHJpb3JpdHkuTm9ybWFsXG4gIH0sXG4gIHRlc3QodXJsKSB7XG4gICAgcmV0dXJuIHZhbGlkRXh0ZW5zaW9ucy5pbmNsdWRlcyh1dGlscy5wYXRoLmV4dG5hbWUodXJsKSk7XG4gIH0sXG4gIGFzeW5jIHRlc3RQYXJzZShkYXRhKSB7XG4gICAgcmV0dXJuIFRleHRGb3JtYXQudGVzdChkYXRhKSB8fCBYTUxTdHJpbmdGb3JtYXQudGVzdChkYXRhKTtcbiAgfSxcbiAgYXN5bmMgcGFyc2UoYXNzZXQsIGRhdGEsIGxvYWRlcikge1xuICAgIGNvbnN0IGZvbnREYXRhID0gVGV4dEZvcm1hdC50ZXN0KGFzc2V0KSA/IFRleHRGb3JtYXQucGFyc2UoYXNzZXQpIDogWE1MU3RyaW5nRm9ybWF0LnBhcnNlKGFzc2V0KTtcbiAgICBjb25zdCB7IHNyYyB9ID0gZGF0YTtcbiAgICBjb25zdCB7IHBhZ2U6IHBhZ2VzIH0gPSBmb250RGF0YTtcbiAgICBjb25zdCB0ZXh0dXJlVXJscyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IHBhZ2VGaWxlID0gcGFnZXNbaV0uZmlsZTtcbiAgICAgIGNvbnN0IGltYWdlUGF0aCA9IHV0aWxzLnBhdGguam9pbih1dGlscy5wYXRoLmRpcm5hbWUoc3JjKSwgcGFnZUZpbGUpO1xuICAgICAgdGV4dHVyZVVybHMucHVzaChpbWFnZVBhdGgpO1xuICAgIH1cbiAgICBjb25zdCBsb2FkZWRUZXh0dXJlcyA9IGF3YWl0IGxvYWRlci5sb2FkKHRleHR1cmVVcmxzKTtcbiAgICBjb25zdCB0ZXh0dXJlcyA9IHRleHR1cmVVcmxzLm1hcCgodXJsKSA9PiBsb2FkZWRUZXh0dXJlc1t1cmxdKTtcbiAgICByZXR1cm4gQml0bWFwRm9udC5pbnN0YWxsKGZvbnREYXRhLCB0ZXh0dXJlcywgdHJ1ZSk7XG4gIH0sXG4gIGFzeW5jIGxvYWQodXJsLCBfb3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2V0dGluZ3MuQURBUFRFUi5mZXRjaCh1cmwpO1xuICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gIH0sXG4gIHVubG9hZChiaXRtYXBGb250KSB7XG4gICAgYml0bWFwRm9udC5kZXN0cm95KCk7XG4gIH1cbn07XG5leHRlbnNpb25zLmFkZChsb2FkQml0bWFwRm9udCk7XG5cbmV4cG9ydCB7IGxvYWRCaXRtYXBGb250IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkQml0bWFwRm9udC5tanMubWFwXG4iLCJ2YXIgbXNkZkZyYWcgPSBcIi8vIFBpeGkgdGV4dHVyZSBpbmZvXFxyXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxyXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxyXFxuXFxyXFxuLy8gVGludFxcclxcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxyXFxuXFxyXFxuLy8gb24gMkQgYXBwbGljYXRpb25zIGZ3aWR0aCBpcyBzY3JlZW5TY2FsZSAvIGdseXBoQXRsYXNTY2FsZSAqIGRpc3RhbmNlRmllbGRSYW5nZVxcclxcbnVuaWZvcm0gZmxvYXQgdUZXaWR0aDtcXHJcXG5cXHJcXG52b2lkIG1haW4odm9pZCkge1xcclxcblxcclxcbiAgLy8gVG8gc3RhY2sgTVNERiBhbmQgU0RGIHdlIG5lZWQgYSBub24tcHJlLW11bHRpcGxpZWQtYWxwaGEgdGV4dHVyZS5cXHJcXG4gIHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcclxcblxcclxcbiAgLy8gTVNERlxcclxcbiAgZmxvYXQgbWVkaWFuID0gdGV4Q29sb3IuciArIHRleENvbG9yLmcgKyB0ZXhDb2xvci5iIC1cXHJcXG4gICAgICAgICAgICAgICAgICBtaW4odGV4Q29sb3IuciwgbWluKHRleENvbG9yLmcsIHRleENvbG9yLmIpKSAtXFxyXFxuICAgICAgICAgICAgICAgICAgbWF4KHRleENvbG9yLnIsIG1heCh0ZXhDb2xvci5nLCB0ZXhDb2xvci5iKSk7XFxyXFxuICAvLyBTREZcXHJcXG4gIG1lZGlhbiA9IG1pbihtZWRpYW4sIHRleENvbG9yLmEpO1xcclxcblxcclxcbiAgZmxvYXQgc2NyZWVuUHhEaXN0YW5jZSA9IHVGV2lkdGggKiAobWVkaWFuIC0gMC41KTtcXHJcXG4gIGZsb2F0IGFscGhhID0gY2xhbXAoc2NyZWVuUHhEaXN0YW5jZSArIDAuNSwgMC4wLCAxLjApO1xcclxcbiAgaWYgKG1lZGlhbiA8IDAuMDEpIHtcXHJcXG4gICAgYWxwaGEgPSAwLjA7XFxyXFxuICB9IGVsc2UgaWYgKG1lZGlhbiA+IDAuOTkpIHtcXHJcXG4gICAgYWxwaGEgPSAxLjA7XFxyXFxuICB9XFxyXFxuXFxyXFxuICAvLyBOUE0gVGV4dHVyZXMsIE5QTSBvdXRwdXRzXFxyXFxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHVDb2xvci5yZ2IsIHVDb2xvci5hICogYWxwaGEpO1xcclxcblxcclxcbn1cXHJcXG5cIjtcblxuZXhwb3J0IHsgbXNkZkZyYWcgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXNkZi5tanMubWFwXG4iLCJ2YXIgbXNkZlZlcnQgPSBcIi8vIE1lc2ggbWF0ZXJpYWwgZGVmYXVsdCBmcmFnbWVudFxcclxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXHJcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcclxcblxcclxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcclxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXHJcXG51bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XFxyXFxuXFxyXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxyXFxuXFxyXFxudm9pZCBtYWluKHZvaWQpXFxyXFxue1xcclxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcclxcblxcclxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXHJcXG59XFxyXFxuXCI7XG5cbmV4cG9ydCB7IG1zZGZWZXJ0IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1zZGYyLm1qcy5tYXBcbiIsImltcG9ydCB7IGdlbmVyYXRlRmlsbFN0eWxlIH0gZnJvbSAnLi9nZW5lcmF0ZUZpbGxTdHlsZS5tanMnO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuZnVuY3Rpb24gZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgeCwgeSwgcmVzb2x1dGlvbiwgc3R5bGUpIHtcbiAgY29uc3QgY2hhciA9IG1ldHJpY3MudGV4dDtcbiAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzO1xuICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgY29udGV4dC5zY2FsZShyZXNvbHV0aW9uLCByZXNvbHV0aW9uKTtcbiAgY29uc3QgdHggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICBjb25zdCB0eSA9IC0oc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMik7XG4gIGNvbnRleHQuZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgIGNvbnN0IGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICBjb25zdCByZ2IgPSB1dGlscy5oZXgycmdiKHR5cGVvZiBkcm9wU2hhZG93Q29sb3IgPT09IFwibnVtYmVyXCIgPyBkcm9wU2hhZG93Q29sb3IgOiB1dGlscy5zdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuICAgIGNvbnN0IGRyb3BTaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXIgKiByZXNvbHV0aW9uO1xuICAgIGNvbnN0IGRyb3BTaGFkb3dEaXN0YW5jZSA9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSAqIHJlc29sdXRpb247XG4gICAgY29udGV4dC5zaGFkb3dDb2xvciA9IGByZ2JhKCR7cmdiWzBdICogMjU1fSwke3JnYlsxXSAqIDI1NX0sJHtyZ2JbMl0gKiAyNTV9LCR7c3R5bGUuZHJvcFNoYWRvd0FscGhhfSlgO1xuICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgfSBlbHNlIHtcbiAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJibGFja1wiO1xuICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICB9XG4gIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgY29udGV4dC5zdHJva2VUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICB9XG4gIGlmIChzdHlsZS5maWxsKSB7XG4gICAgY29udGV4dC5maWxsVGV4dChjaGFyLCB0eCwgdHkgKyBtZXRyaWNzLmxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5kZXNjZW50KTtcbiAgfVxuICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgY29udGV4dC5maWxsU3R5bGUgPSBcInJnYmEoMCwgMCwgMCwgMClcIjtcbn1cblxuZXhwb3J0IHsgZHJhd0dseXBoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kcmF3R2x5cGgubWpzLm1hcFxuIiwiZnVuY3Rpb24gZXh0cmFjdENoYXJDb2RlKHN0cikge1xuICByZXR1cm4gc3RyLmNvZGVQb2ludEF0ID8gc3RyLmNvZGVQb2ludEF0KDApIDogc3RyLmNoYXJDb2RlQXQoMCk7XG59XG5cbmV4cG9ydCB7IGV4dHJhY3RDaGFyQ29kZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdENoYXJDb2RlLm1qcy5tYXBcbiIsImltcG9ydCB7IFRFWFRfR1JBRElFTlQgfSBmcm9tICdAcGl4aS90ZXh0JztcblxuZnVuY3Rpb24gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgbGluZXMsIG1ldHJpY3MpIHtcbiAgY29uc3QgZmlsbFN0eWxlID0gc3R5bGUuZmlsbDtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICByZXR1cm4gZmlsbFN0eWxlO1xuICB9IGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZmlsbFN0eWxlWzBdO1xuICB9XG4gIGxldCBncmFkaWVudDtcbiAgY29uc3QgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSBzdHlsZS5kcm9wU2hhZG93ID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMDtcbiAgY29uc3QgcGFkZGluZyA9IHN0eWxlLnBhZGRpbmcgfHwgMDtcbiAgY29uc3Qgd2lkdGggPSBjYW52YXMud2lkdGggLyByZXNvbHV0aW9uIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSBwYWRkaW5nICogMjtcbiAgY29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHJlc29sdXRpb24gLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIHBhZGRpbmcgKiAyO1xuICBjb25zdCBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gIGNvbnN0IGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcbiAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpIHtcbiAgICBjb25zdCBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICB9XG4gIH1cbiAgZmlsbC51bnNoaWZ0KGZpbGxTdHlsZVswXSk7XG4gIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG4gIGZpbGwucHVzaChmaWxsU3R5bGVbZmlsbFN0eWxlLmxlbmd0aCAtIDFdKTtcbiAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcbiAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICBsZXQgbGFzdEl0ZXJhdGlvblN0b3AgPSAwO1xuICAgIGNvbnN0IHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGNvbnN0IGdyYWRTdG9wTGluZUhlaWdodCA9IHRleHRIZWlnaHQgLyBoZWlnaHQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGhpc0xpbmVUb3AgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiBpO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBsaW5lU3RvcCA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmVTdG9wID0gaiAvIGZpbGwubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdsb2JhbFN0b3AgPSB0aGlzTGluZVRvcCAvIGhlaWdodCArIGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0O1xuICAgICAgICBsZXQgY2xhbXBlZFN0b3AgPSBNYXRoLm1heChsYXN0SXRlcmF0aW9uU3RvcCwgZ2xvYmFsU3RvcCk7XG4gICAgICAgIGNsYW1wZWRTdG9wID0gTWF0aC5taW4oY2xhbXBlZFN0b3AsIDEpO1xuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICBsYXN0SXRlcmF0aW9uU3RvcCA9IGNsYW1wZWRTdG9wO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcbiAgICBjb25zdCB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgbGV0IGN1cnJlbnRJdGVyYXRpb24gPSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsbC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHN0b3A7XG4gICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgfVxuICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbaV0pO1xuICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ3JhZGllbnQ7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlRmlsbFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZUZpbGxTdHlsZS5tanMubWFwXG4iLCJleHBvcnQgeyBkcmF3R2x5cGggfSBmcm9tICcuL2RyYXdHbHlwaC5tanMnO1xuZXhwb3J0IHsgZ2VuZXJhdGVGaWxsU3R5bGUgfSBmcm9tICcuL2dlbmVyYXRlRmlsbFN0eWxlLm1qcyc7XG5leHBvcnQgeyByZXNvbHZlQ2hhcmFjdGVycyB9IGZyb20gJy4vcmVzb2x2ZUNoYXJhY3RlcnMubWpzJztcbmV4cG9ydCB7IGV4dHJhY3RDaGFyQ29kZSB9IGZyb20gJy4vZXh0cmFjdENoYXJDb2RlLm1qcyc7XG5leHBvcnQgeyBzcGxpdFRleHRUb0NoYXJhY3RlcnMgfSBmcm9tICcuL3NwbGl0VGV4dFRvQ2hhcmFjdGVycy5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgc3BsaXRUZXh0VG9DaGFyYWN0ZXJzIH0gZnJvbSAnLi9zcGxpdFRleHRUb0NoYXJhY3RlcnMubWpzJztcblxuZnVuY3Rpb24gcmVzb2x2ZUNoYXJhY3RlcnMoY2hhcnMpIHtcbiAgaWYgKHR5cGVvZiBjaGFycyA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNoYXJzID0gW2NoYXJzXTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBjaGFycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBjb25zdCBpdGVtID0gY2hhcnNbaV07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgIGlmIChpdGVtLmxlbmd0aCAhPT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgcmFuZ2UgbGVuZ3RoLCBleHBlY3RpbmcgMiBnb3QgJHtpdGVtLmxlbmd0aH0uYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBzdGFydENvZGUgPSBpdGVtWzBdLmNoYXJDb2RlQXQoMCk7XG4gICAgICBjb25zdCBlbmRDb2RlID0gaXRlbVsxXS5jaGFyQ29kZUF0KDApO1xuICAgICAgaWYgKGVuZENvZGUgPCBzdGFydENvZGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZS5cIik7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpMiA9IHN0YXJ0Q29kZSwgajIgPSBlbmRDb2RlOyBpMiA8PSBqMjsgaTIrKykge1xuICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGkyKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wdXNoKC4uLnNwbGl0VGV4dFRvQ2hhcmFjdGVycyhpdGVtKSk7XG4gICAgfVxuICB9XG4gIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdOiBFbXB0eSBzZXQgd2hlbiByZXNvbHZpbmcgY2hhcmFjdGVycy5cIik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgcmVzb2x2ZUNoYXJhY3RlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVDaGFyYWN0ZXJzLm1qcy5tYXBcbiIsImZ1bmN0aW9uIHNwbGl0VGV4dFRvQ2hhcmFjdGVycyh0ZXh0KSB7XG4gIHJldHVybiBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh0ZXh0KSA6IHRleHQuc3BsaXQoXCJcIik7XG59XG5cbmV4cG9ydCB7IHNwbGl0VGV4dFRvQ2hhcmFjdGVycyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3BsaXRUZXh0VG9DaGFyYWN0ZXJzLm1qcy5tYXBcbiIsImltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBzZXR0aW5ncywgVGV4dHVyZSwgUmVjdGFuZ2xlLCB1dGlscyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgVEVYVF9HUkFESUVOVCB9IGZyb20gJy4vY29uc3QubWpzJztcbmltcG9ydCB7IFRleHRTdHlsZSB9IGZyb20gJy4vVGV4dFN0eWxlLm1qcyc7XG5pbXBvcnQgeyBUZXh0TWV0cmljcyB9IGZyb20gJy4vVGV4dE1ldHJpY3MubWpzJztcblxuY29uc3QgZGVmYXVsdERlc3Ryb3lPcHRpb25zID0ge1xuICB0ZXh0dXJlOiB0cnVlLFxuICBjaGlsZHJlbjogZmFsc2UsXG4gIGJhc2VUZXh0dXJlOiB0cnVlXG59O1xuY29uc3QgX1RleHQgPSBjbGFzcyBleHRlbmRzIFNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKHRleHQsIHN0eWxlLCBjYW52YXMpIHtcbiAgICBsZXQgb3duQ2FudmFzID0gZmFsc2U7XG4gICAgaWYgKCFjYW52YXMpIHtcbiAgICAgIGNhbnZhcyA9IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCk7XG4gICAgICBvd25DYW52YXMgPSB0cnVlO1xuICAgIH1cbiAgICBjYW52YXMud2lkdGggPSAzO1xuICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuICAgIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlLmZyb20oY2FudmFzKTtcbiAgICB0ZXh0dXJlLm9yaWcgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgdGV4dHVyZS50cmltID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIHN1cGVyKHRleHR1cmUpO1xuICAgIHRoaXMuX293bkNhbnZhcyA9IG93bkNhbnZhcztcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICB0aGlzLmNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIHtcbiAgICAgIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuX3Jlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gdHJ1ZTtcbiAgICB0aGlzLl90ZXh0ID0gbnVsbDtcbiAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgdGhpcy5fc3R5bGVMaXN0ZW5lciA9IG51bGw7XG4gICAgdGhpcy5fZm9udCA9IFwiXCI7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgfVxuICB1cGRhdGVUZXh0KHJlc3BlY3REaXJ0eSkge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKSB7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmRpcnR5ICYmIHJlc3BlY3REaXJ0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9mb250ID0gdGhpcy5fc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCBtZWFzdXJlZCA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRoaXMuX3RleHQgfHwgXCIgXCIsIHRoaXMuX3N0eWxlLCB0aGlzLl9zdHlsZS53b3JkV3JhcCwgdGhpcy5jYW52YXMpO1xuICAgIGNvbnN0IHdpZHRoID0gbWVhc3VyZWQud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gbWVhc3VyZWQuaGVpZ2h0O1xuICAgIGNvbnN0IGxpbmVzID0gbWVhc3VyZWQubGluZXM7XG4gICAgY29uc3QgbGluZUhlaWdodCA9IG1lYXN1cmVkLmxpbmVIZWlnaHQ7XG4gICAgY29uc3QgbGluZVdpZHRocyA9IG1lYXN1cmVkLmxpbmVXaWR0aHM7XG4gICAgY29uc3QgbWF4TGluZVdpZHRoID0gbWVhc3VyZWQubWF4TGluZVdpZHRoO1xuICAgIGNvbnN0IGZvbnRQcm9wZXJ0aWVzID0gbWVhc3VyZWQuZm9udFByb3BlcnRpZXM7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmNlaWwoTWF0aC5jZWlsKE1hdGgubWF4KDEsIHdpZHRoKSArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChNYXRoLmNlaWwoTWF0aC5tYXgoMSwgaGVpZ2h0KSArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgIGNvbnRleHQuc2NhbGUodGhpcy5fcmVzb2x1dGlvbiwgdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgY29udGV4dC5mb250ID0gdGhpcy5fZm9udDtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICBsZXQgbGluZVBvc2l0aW9uWDtcbiAgICBsZXQgbGluZVBvc2l0aW9uWTtcbiAgICBjb25zdCBwYXNzZXNDb3VudCA9IHN0eWxlLmRyb3BTaGFkb3cgPyAyIDogMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3Nlc0NvdW50OyArK2kpIHtcbiAgICAgIGNvbnN0IGlzU2hhZG93UGFzcyA9IHN0eWxlLmRyb3BTaGFkb3cgJiYgaSA9PT0gMDtcbiAgICAgIGNvbnN0IGRzT2Zmc2V0VGV4dCA9IGlzU2hhZG93UGFzcyA/IE1hdGguY2VpbChNYXRoLm1heCgxLCBoZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpIDogMDtcbiAgICAgIGNvbnN0IGRzT2Zmc2V0U2hhZG93ID0gZHNPZmZzZXRUZXh0ICogdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgIGlmIChpc1NoYWRvd1Bhc3MpIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgIGNvbnN0IGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgY29uc3QgcmdiID0gdXRpbHMuaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSBcIm51bWJlclwiID8gZHJvcFNoYWRvd0NvbG9yIDogdXRpbHMuc3RyaW5nMmhleChkcm9wU2hhZG93Q29sb3IpKTtcbiAgICAgICAgY29uc3QgZHJvcFNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1ciAqIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgIGNvbnN0IGRyb3BTaGFkb3dEaXN0YW5jZSA9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSAqIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBgcmdiYSgke3JnYlswXSAqIDI1NX0sJHtyZ2JbMV0gKiAyNTV9LCR7cmdiWzJdICogMjU1fSwke3N0eWxlLmRyb3BTaGFkb3dBbHBoYX0pYDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2UgKyBkc09mZnNldFNoYWRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzLCBtZWFzdXJlZCk7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcImJsYWNrXCI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgICB9XG4gICAgICBsZXQgbGluZVBvc2l0aW9uWVNoaWZ0ID0gKGxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5mb250U2l6ZSkgLyAyO1xuICAgICAgaWYgKGxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5mb250U2l6ZSA8IDApIHtcbiAgICAgICAgbGluZVBvc2l0aW9uWVNoaWZ0ID0gMDtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCBsaW5lcy5sZW5ndGg7IGkyKyspIHtcbiAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyICsgaTIgKiBsaW5lSGVpZ2h0ICsgZm9udFByb3BlcnRpZXMuYXNjZW50ICsgbGluZVBvc2l0aW9uWVNoaWZ0O1xuICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09IFwicmlnaHRcIikge1xuICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpMl07XG4gICAgICAgIH0gZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09IFwiY2VudGVyXCIpIHtcbiAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2kyXSkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tpMl0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlLmZpbGwpIHtcbiAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2kyXSwgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgfVxuICBkcmF3TGV0dGVyU3BhY2luZyh0ZXh0LCB4LCB5LCBpc1N0cm9rZSA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICBjb25zdCBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcbiAgICBjb25zdCBzdXBwb3J0TGV0dGVyU3BhY2luZyA9IF9UZXh0LmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgJiYgKFwibGV0dGVyU3BhY2luZ1wiIGluIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUgfHwgXCJ0ZXh0TGV0dGVyU3BhY2luZ1wiIGluIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUpO1xuICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwIHx8IHN1cHBvcnRMZXR0ZXJTcGFjaW5nKSB7XG4gICAgICBpZiAoc3VwcG9ydExldHRlclNwYWNpbmcpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmxldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICB0aGlzLmNvbnRleHQudGV4dExldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICBjb25zdCBzdHJpbmdBcnJheSA9IEFycmF5LmZyb20gPyBBcnJheS5mcm9tKHRleHQpIDogdGV4dC5zcGxpdChcIlwiKTtcbiAgICBsZXQgcHJldmlvdXNXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICBsZXQgY3VycmVudFdpZHRoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBjdXJyZW50Q2hhciA9IHN0cmluZ0FycmF5W2ldO1xuICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgfVxuICAgICAgbGV0IHRleHRTdHIgPSBcIlwiO1xuICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgc3RyaW5nQXJyYXkubGVuZ3RoOyArK2opIHtcbiAgICAgICAgdGV4dFN0ciArPSBzdHJpbmdBcnJheVtqXTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0U3RyKS53aWR0aDtcbiAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBwcmV2aW91c1dpZHRoIC0gY3VycmVudFdpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgIHByZXZpb3VzV2lkdGggPSBjdXJyZW50V2lkdGg7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVRleHR1cmUoKSB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgaWYgKHRoaXMuX3N0eWxlLnRyaW0pIHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSB1dGlscy50cmltQ2FudmFzKGNhbnZhcyk7XG4gICAgICBpZiAodHJpbW1lZC5kYXRhKSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHRyaW1tZWQud2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0cmltbWVkLmRhdGEsIDAsIDApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgIGNvbnN0IHBhZGRpbmcgPSBzdHlsZS50cmltID8gMCA6IHN0eWxlLnBhZGRpbmc7XG4gICAgY29uc3QgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gY2FudmFzLndpZHRoIC8gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHRoaXMuX3Jlc29sdXRpb247XG4gICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICB0ZXh0dXJlLnRyaW0ueSA9IC1wYWRkaW5nO1xuICAgIHRleHR1cmUub3JpZy53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoIC0gcGFkZGluZyAqIDI7XG4gICAgdGV4dHVyZS5vcmlnLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCAtIHBhZGRpbmcgKiAyO1xuICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgIGJhc2VUZXh0dXJlLnNldFJlYWxTaXplKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgdGV4dHVyZS51cGRhdGVVdnMoKTtcbiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gIH1cbiAgX3JlbmRlcihyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9hdXRvUmVzb2x1dGlvbiAmJiB0aGlzLl9yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICB0aGlzLl9yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgc3VwZXIuX3JlbmRlcihyZW5kZXJlcik7XG4gIH1cbiAgdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICBzdXBlci51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgfVxuICBnZXRCb3VuZHMoc2tpcFVwZGF0ZSwgcmVjdCkge1xuICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICBpZiAodGhpcy5fdGV4dHVyZUlEID09PSAtMSkge1xuICAgICAgc2tpcFVwZGF0ZSA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuZ2V0Qm91bmRzKHNraXBVcGRhdGUsIHJlY3QpO1xuICB9XG4gIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gIH1cbiAgX2NhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgfVxuICBfZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzLCBtZXRyaWNzKSB7XG4gICAgY29uc3QgZmlsbFN0eWxlID0gc3R5bGUuZmlsbDtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmlsbFN0eWxlKSkge1xuICAgICAgcmV0dXJuIGZpbGxTdHlsZTtcbiAgICB9IGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBmaWxsU3R5bGVbMF07XG4gICAgfVxuICAgIGxldCBncmFkaWVudDtcbiAgICBjb25zdCBkcm9wU2hhZG93Q29ycmVjdGlvbiA9IHN0eWxlLmRyb3BTaGFkb3cgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwO1xuICAgIGNvbnN0IHBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nIHx8IDA7XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24gLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIHBhZGRpbmcgKiAyO1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMuX3Jlc29sdXRpb24gLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIHBhZGRpbmcgKiAyO1xuICAgIGNvbnN0IGZpbGwgPSBmaWxsU3R5bGUuc2xpY2UoKTtcbiAgICBjb25zdCBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG4gICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKSB7XG4gICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZmlsbC51bnNoaWZ0KGZpbGxTdHlsZVswXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcbiAgICBmaWxsLnB1c2goZmlsbFN0eWxlW2ZpbGxTdHlsZS5sZW5ndGggLSAxXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcbiAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgIGNvbnN0IHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBsYXN0TGluZUJvdHRvbSA9IG1ldHJpY3MubGluZUhlaWdodCAqIChpIC0gMSkgKyB0ZXh0SGVpZ2h0O1xuICAgICAgICBjb25zdCB0aGlzTGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIGk7XG4gICAgICAgIGxldCB0aGlzTGluZUdyYWRpZW50U3RhcnQgPSB0aGlzTGluZVRvcDtcbiAgICAgICAgaWYgKGkgPiAwICYmIGxhc3RMaW5lQm90dG9tID4gdGhpc0xpbmVUb3ApIHtcbiAgICAgICAgICB0aGlzTGluZUdyYWRpZW50U3RhcnQgPSAodGhpc0xpbmVUb3AgKyBsYXN0TGluZUJvdHRvbSkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRoaXNMaW5lQm90dG9tID0gdGhpc0xpbmVUb3AgKyB0ZXh0SGVpZ2h0O1xuICAgICAgICBjb25zdCBuZXh0TGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIChpICsgMSk7XG4gICAgICAgIGxldCB0aGlzTGluZUdyYWRpZW50RW5kID0gdGhpc0xpbmVCb3R0b207XG4gICAgICAgIGlmIChpICsgMSA8IGxpbmVzLmxlbmd0aCAmJiBuZXh0TGluZVRvcCA8IHRoaXNMaW5lQm90dG9tKSB7XG4gICAgICAgICAgdGhpc0xpbmVHcmFkaWVudEVuZCA9ICh0aGlzTGluZUJvdHRvbSArIG5leHRMaW5lVG9wKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ3JhZFN0b3BMaW5lSGVpZ2h0ID0gKHRoaXNMaW5lR3JhZGllbnRFbmQgLSB0aGlzTGluZUdyYWRpZW50U3RhcnQpIC8gaGVpZ2h0O1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBsZXQgbGluZVN0b3AgPSAwO1xuICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGxpbmVTdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmVTdG9wID0gaiAvIGZpbGwubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgZ2xvYmFsU3RvcCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHRoaXNMaW5lR3JhZGllbnRTdGFydCAvIGhlaWdodCArIGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0KSk7XG4gICAgICAgICAgZ2xvYmFsU3RvcCA9IE51bWJlcihnbG9iYWxTdG9wLnRvRml4ZWQoNSkpO1xuICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChnbG9iYWxTdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudChwYWRkaW5nLCBoZWlnaHQgLyAyLCB3aWR0aCArIHBhZGRpbmcsIGhlaWdodCAvIDIpO1xuICAgICAgY29uc3QgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgbGV0IGN1cnJlbnRJdGVyYXRpb24gPSAxO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzdG9wO1xuICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2ldKTtcbiAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3JhZGllbnQ7XG4gIH1cbiAgZGVzdHJveShvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIikge1xuICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHREZXN0cm95T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcbiAgICBpZiAodGhpcy5fb3duQ2FudmFzKSB7XG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy53aWR0aCA9IDA7XG4gICAgfVxuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgfVxuICBnZXQgd2lkdGgoKSB7XG4gICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICB9XG4gIHNldCB3aWR0aCh2YWx1ZSkge1xuICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICBjb25zdCBzID0gdXRpbHMuc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG4gICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICB9XG4gIHNldCBoZWlnaHQodmFsdWUpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgY29uc3QgcyA9IHV0aWxzLnNpZ24odGhpcy5zY2FsZS55KSB8fCAxO1xuICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gIH1cbiAgZ2V0IHN0eWxlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgfVxuICBzZXQgc3R5bGUoc3R5bGUpIHtcbiAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuICAgIGlmIChzdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgVGV4dFN0eWxlKHN0eWxlKTtcbiAgICB9XG4gICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgfVxuICBzZXQgdGV4dCh0ZXh0KSB7XG4gICAgdGV4dCA9IFN0cmluZyh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHZvaWQgMCA/IFwiXCIgOiB0ZXh0KTtcbiAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICBnZXQgcmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgfVxuICBzZXQgcmVzb2x1dGlvbih2YWx1ZSkge1xuICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuX3Jlc29sdXRpb24gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxufTtcbmxldCBUZXh0ID0gX1RleHQ7XG5UZXh0LmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSBmYWxzZTtcblxuZXhwb3J0IHsgVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dC5tanMubWFwXG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBjb250ZXh0U2V0dGluZ3MgPSB7XG4gIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZVxufTtcbmNsYXNzIFRleHRNZXRyaWNzIHtcbiAgY29uc3RydWN0b3IodGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG4gICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICB9XG4gIHN0YXRpYyBtZWFzdXJlVGV4dCh0ZXh0LCBzdHlsZSwgd29yZFdyYXAsIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXMpIHtcbiAgICB3b3JkV3JhcCA9IHdvcmRXcmFwID09PSB2b2lkIDAgfHwgd29yZFdyYXAgPT09IG51bGwgPyBzdHlsZS53b3JkV3JhcCA6IHdvcmRXcmFwO1xuICAgIGNvbnN0IGZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICBjb25zdCBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgIGlmIChmb250UHJvcGVydGllcy5mb250U2l6ZSA9PT0gMCkge1xuICAgICAgZm9udFByb3BlcnRpZXMuZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgIGZvbnRQcm9wZXJ0aWVzLmFzY2VudCA9IHN0eWxlLmZvbnRTaXplO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiLCBjb250ZXh0U2V0dGluZ3MpO1xuICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgY29uc3Qgb3V0cHV0VGV4dCA9IHdvcmRXcmFwID8gVGV4dE1ldHJpY3Mud29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcykgOiB0ZXh0O1xuICAgIGNvbnN0IGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgY29uc3QgbGluZVdpZHRocyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpO1xuICAgIGxldCBtYXhMaW5lV2lkdGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmVXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQobGluZXNbaV0pLndpZHRoICsgKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZztcbiAgICAgIGxpbmVXaWR0aHNbaV0gPSBsaW5lV2lkdGg7XG4gICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgfVxuICAgIGxldCB3aWR0aCA9IG1heExpbmVXaWR0aCArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgd2lkdGggKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgIH1cbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBsZXQgaGVpZ2h0ID0gTWF0aC5tYXgobGluZUhlaWdodCwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3MgKiAyKSArIChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyk7XG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZywgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcyk7XG4gIH1cbiAgc3RhdGljIHdvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiwgY29udGV4dFNldHRpbmdzKTtcbiAgICBsZXQgd2lkdGggPSAwO1xuICAgIGxldCBsaW5lID0gXCJcIjtcbiAgICBsZXQgbGluZXMgPSBcIlwiO1xuICAgIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgY29uc3QgeyBsZXR0ZXJTcGFjaW5nLCB3aGl0ZVNwYWNlIH0gPSBzdHlsZTtcbiAgICBjb25zdCBjb2xsYXBzZVNwYWNlcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgIGNvbnN0IGNvbGxhcHNlTmV3bGluZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzKHdoaXRlU3BhY2UpO1xuICAgIGxldCBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgIGNvbnN0IHdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICBjb25zdCB0b2tlbnMgPSBUZXh0TWV0cmljcy50b2tlbml6ZSh0ZXh0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgaWYgKFRleHRNZXRyaWNzLmlzTmV3bGluZSh0b2tlbikpIHtcbiAgICAgICAgaWYgKCFjb2xsYXBzZU5ld2xpbmVzKSB7XG4gICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0b2tlbiA9IFwiIFwiO1xuICAgICAgfVxuICAgICAgaWYgKGNvbGxhcHNlU3BhY2VzKSB7XG4gICAgICAgIGNvbnN0IGN1cnJJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pO1xuICAgICAgICBjb25zdCBsYXN0SXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGxpbmVbbGluZS5sZW5ndGggLSAxXSk7XG4gICAgICAgIGlmIChjdXJySXNCcmVha2luZ1NwYWNlICYmIGxhc3RJc0JyZWFraW5nU3BhY2UpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdG9rZW5XaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgaWYgKHRva2VuV2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgIGlmIChsaW5lICE9PSBcIlwiKSB7XG4gICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICBsaW5lID0gXCJcIjtcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9IFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQodG9rZW4pO1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2hhcmFjdGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbGV0IGNoYXIgPSBjaGFyYWN0ZXJzW2pdO1xuICAgICAgICAgICAgbGV0IGsgPSAxO1xuICAgICAgICAgICAgd2hpbGUgKGNoYXJhY3RlcnNbaiArIGtdKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5leHRDaGFyID0gY2hhcmFjdGVyc1tqICsga107XG4gICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyID0gY2hhcltjaGFyLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMobGFzdENoYXIsIG5leHRDaGFyLCB0b2tlbiwgaiwgc3R5bGUuYnJlYWtXb3JkcykpIHtcbiAgICAgICAgICAgICAgICBjaGFyICs9IG5leHRDaGFyO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGogKz0gY2hhci5sZW5ndGggLSAxO1xuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmUgKz0gY2hhcjtcbiAgICAgICAgICAgIHdpZHRoICs9IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGlzTGFzdFRva2VuID0gaSA9PT0gdG9rZW5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZSh0b2tlbiwgIWlzTGFzdFRva2VuKTtcbiAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodG9rZW5XaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpIHtcbiAgICAgICAgICBsaW5lICs9IHRva2VuO1xuICAgICAgICAgIHdpZHRoICs9IHRva2VuV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG4gICAgcmV0dXJuIGxpbmVzO1xuICB9XG4gIHN0YXRpYyBhZGRMaW5lKGxpbmUsIG5ld0xpbmUgPSB0cnVlKSB7XG4gICAgbGluZSA9IFRleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcbiAgICBsaW5lID0gbmV3TGluZSA/IGAke2xpbmV9XG5gIDogbGluZTtcbiAgICByZXR1cm4gbGluZTtcbiAgfVxuICBzdGF0aWMgZ2V0RnJvbUNhY2hlKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICBsZXQgd2lkdGggPSBjYWNoZVtrZXldO1xuICAgIGlmICh0eXBlb2Ygd2lkdGggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IHNwYWNpbmcgPSBrZXkubGVuZ3RoICogbGV0dGVyU3BhY2luZztcbiAgICAgIHdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChrZXkpLndpZHRoICsgc3BhY2luZztcbiAgICAgIGNhY2hlW2tleV0gPSB3aWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIHdpZHRoO1xuICB9XG4gIHN0YXRpYyBjb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKSB7XG4gICAgcmV0dXJuIHdoaXRlU3BhY2UgPT09IFwibm9ybWFsXCIgfHwgd2hpdGVTcGFjZSA9PT0gXCJwcmUtbGluZVwiO1xuICB9XG4gIHN0YXRpYyBjb2xsYXBzZU5ld2xpbmVzKHdoaXRlU3BhY2UpIHtcbiAgICByZXR1cm4gd2hpdGVTcGFjZSA9PT0gXCJub3JtYWxcIjtcbiAgfVxuICBzdGF0aWMgdHJpbVJpZ2h0KHRleHQpIHtcbiAgICBpZiAodHlwZW9mIHRleHQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgY2hhciA9IHRleHRbaV07XG4gICAgICBpZiAoIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cbiAgc3RhdGljIGlzTmV3bGluZShjaGFyKSB7XG4gICAgaWYgKHR5cGVvZiBjaGFyICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBUZXh0TWV0cmljcy5fbmV3bGluZXMuaW5jbHVkZXMoY2hhci5jaGFyQ29kZUF0KDApKTtcbiAgfVxuICBzdGF0aWMgaXNCcmVha2luZ1NwYWNlKGNoYXIsIF9uZXh0Q2hhcikge1xuICAgIGlmICh0eXBlb2YgY2hhciAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluY2x1ZGVzKGNoYXIuY2hhckNvZGVBdCgwKSk7XG4gIH1cbiAgc3RhdGljIHRva2VuaXplKHRleHQpIHtcbiAgICBjb25zdCB0b2tlbnMgPSBbXTtcbiAgICBsZXQgdG9rZW4gPSBcIlwiO1xuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGFyID0gdGV4dFtpXTtcbiAgICAgIGNvbnN0IG5leHRDaGFyID0gdGV4dFtpICsgMV07XG4gICAgICBpZiAoVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIsIG5leHRDaGFyKSB8fCBUZXh0TWV0cmljcy5pc05ld2xpbmUoY2hhcikpIHtcbiAgICAgICAgaWYgKHRva2VuICE9PSBcIlwiKSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIHRva2VuID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0b2tlbnMucHVzaChjaGFyKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0b2tlbiArPSBjaGFyO1xuICAgIH1cbiAgICBpZiAodG9rZW4gIT09IFwiXCIpIHtcbiAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICB9XG4gICAgcmV0dXJuIHRva2VucztcbiAgfVxuICBzdGF0aWMgY2FuQnJlYWtXb3JkcyhfdG9rZW4sIGJyZWFrV29yZHMpIHtcbiAgICByZXR1cm4gYnJlYWtXb3JkcztcbiAgfVxuICBzdGF0aWMgY2FuQnJlYWtDaGFycyhfY2hhciwgX25leHRDaGFyLCBfdG9rZW4sIF9pbmRleCwgX2JyZWFrV29yZHMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBzdGF0aWMgd29yZFdyYXBTcGxpdCh0b2tlbikge1xuICAgIHJldHVybiB0b2tlbi5zcGxpdChcIlwiKTtcbiAgfVxuICBzdGF0aWMgbWVhc3VyZUZvbnQoZm9udCkge1xuICAgIGlmIChUZXh0TWV0cmljcy5fZm9udHNbZm9udF0pIHtcbiAgICAgIHJldHVybiBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgfVxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICBhc2NlbnQ6IDAsXG4gICAgICBkZXNjZW50OiAwLFxuICAgICAgZm9udFNpemU6IDBcbiAgICB9O1xuICAgIGNvbnN0IGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgY29uc3QgY29udGV4dCA9IFRleHRNZXRyaWNzLl9jb250ZXh0O1xuICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgY29uc3QgbWV0cmljc1N0cmluZyA9IFRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HICsgVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MO1xuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQobWV0cmljc1N0cmluZykud2lkdGgpO1xuICAgIGxldCBiYXNlbGluZSA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KFRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCkud2lkdGgpO1xuICAgIGNvbnN0IGhlaWdodCA9IE1hdGguY2VpbChUZXh0TWV0cmljcy5IRUlHSFRfTVVMVElQTElFUiAqIGJhc2VsaW5lKTtcbiAgICBiYXNlbGluZSA9IGJhc2VsaW5lICogVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiB8IDA7XG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiI2YwMFwiO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IFwiYWxwaGFiZXRpY1wiO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCIjMDAwXCI7XG4gICAgY29udGV4dC5maWxsVGV4dChtZXRyaWNzU3RyaW5nLCAwLCBiYXNlbGluZSk7XG4gICAgY29uc3QgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICBjb25zdCBwaXhlbHMgPSBpbWFnZWRhdGEubGVuZ3RoO1xuICAgIGNvbnN0IGxpbmUgPSB3aWR0aCAqIDQ7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBpZHggPSAwO1xuICAgIGxldCBzdG9wID0gZmFsc2U7XG4gICAgZm9yIChpID0gMDsgaSA8IGJhc2VsaW5lOyArK2kpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZTsgaiArPSA0KSB7XG4gICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcHJvcGVydGllcy5hc2NlbnQgPSBiYXNlbGluZSAtIGk7XG4gICAgaWR4ID0gcGl4ZWxzIC0gbGluZTtcbiAgICBzdG9wID0gZmFsc2U7XG4gICAgZm9yIChpID0gaGVpZ2h0OyBpID4gYmFzZWxpbmU7IC0taSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpIHtcbiAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KSB7XG4gICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc3RvcCkge1xuICAgICAgICBpZHggLT0gbGluZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wZXJ0aWVzLmRlc2NlbnQgPSBpIC0gYmFzZWxpbmU7XG4gICAgcHJvcGVydGllcy5mb250U2l6ZSA9IHByb3BlcnRpZXMuYXNjZW50ICsgcHJvcGVydGllcy5kZXNjZW50O1xuICAgIFRleHRNZXRyaWNzLl9mb250c1tmb250XSA9IHByb3BlcnRpZXM7XG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cbiAgc3RhdGljIGNsZWFyTWV0cmljcyhmb250ID0gXCJcIikge1xuICAgIGlmIChmb250KSB7XG4gICAgICBkZWxldGUgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgIH0gZWxzZSB7XG4gICAgICBUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIGdldCBfY2FudmFzKCkge1xuICAgIGlmICghVGV4dE1ldHJpY3MuX19jYW52YXMpIHtcbiAgICAgIGxldCBjYW52YXM7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjID0gbmV3IE9mZnNjcmVlbkNhbnZhcygwLCAwKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGMuZ2V0Q29udGV4dChcIjJkXCIsIGNvbnRleHRTZXR0aW5ncyk7XG4gICAgICAgIGlmIChjb250ZXh0Py5tZWFzdXJlVGV4dCkge1xuICAgICAgICAgIFRleHRNZXRyaWNzLl9fY2FudmFzID0gYztcbiAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMgPSBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgY2FudmFzID0gc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoKTtcbiAgICAgIH1cbiAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcbiAgICAgIFRleHRNZXRyaWNzLl9fY2FudmFzID0gY2FudmFzO1xuICAgIH1cbiAgICByZXR1cm4gVGV4dE1ldHJpY3MuX19jYW52YXM7XG4gIH1cbiAgc3RhdGljIGdldCBfY29udGV4dCgpIHtcbiAgICBpZiAoIVRleHRNZXRyaWNzLl9fY29udGV4dCkge1xuICAgICAgVGV4dE1ldHJpY3MuX19jb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiwgY29udGV4dFNldHRpbmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIFRleHRNZXRyaWNzLl9fY29udGV4dDtcbiAgfVxufVxuVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG5UZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyA9IFwifFxceEM5cVxceEM1XCI7XG5UZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wgPSBcIk1cIjtcblRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG5UZXh0TWV0cmljcy5IRUlHSFRfTVVMVElQTElFUiA9IDI7XG5UZXh0TWV0cmljcy5fbmV3bGluZXMgPSBbXG4gIDEwLFxuICAxM1xuXTtcblRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcyA9IFtcbiAgOSxcbiAgMzIsXG4gIDgxOTIsXG4gIDgxOTMsXG4gIDgxOTQsXG4gIDgxOTUsXG4gIDgxOTYsXG4gIDgxOTcsXG4gIDgxOTgsXG4gIDgyMDAsXG4gIDgyMDEsXG4gIDgyMDIsXG4gIDgyODcsXG4gIDEyMjg4XG5dO1xuXG5leHBvcnQgeyBUZXh0TWV0cmljcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dE1ldHJpY3MubWpzLm1hcFxuIiwiaW1wb3J0IHsgVEVYVF9HUkFESUVOVCB9IGZyb20gJy4vY29uc3QubWpzJztcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmNvbnN0IGRlZmF1bHRTdHlsZSA9IHtcbiAgYWxpZ246IFwibGVmdFwiLFxuICBicmVha1dvcmRzOiBmYWxzZSxcbiAgZHJvcFNoYWRvdzogZmFsc2UsXG4gIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgZHJvcFNoYWRvd0FuZ2xlOiBNYXRoLlBJIC8gNixcbiAgZHJvcFNoYWRvd0JsdXI6IDAsXG4gIGRyb3BTaGFkb3dDb2xvcjogXCJibGFja1wiLFxuICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gIGZpbGw6IFwiYmxhY2tcIixcbiAgZmlsbEdyYWRpZW50VHlwZTogVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwsXG4gIGZpbGxHcmFkaWVudFN0b3BzOiBbXSxcbiAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxuICBmb250U2l6ZTogMjYsXG4gIGZvbnRTdHlsZTogXCJub3JtYWxcIixcbiAgZm9udFZhcmlhbnQ6IFwibm9ybWFsXCIsXG4gIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gIGxldHRlclNwYWNpbmc6IDAsXG4gIGxpbmVIZWlnaHQ6IDAsXG4gIGxpbmVKb2luOiBcIm1pdGVyXCIsXG4gIG1pdGVyTGltaXQ6IDEwLFxuICBwYWRkaW5nOiAwLFxuICBzdHJva2U6IFwiYmxhY2tcIixcbiAgc3Ryb2tlVGhpY2tuZXNzOiAwLFxuICB0ZXh0QmFzZWxpbmU6IFwiYWxwaGFiZXRpY1wiLFxuICB0cmltOiBmYWxzZSxcbiAgd2hpdGVTcGFjZTogXCJwcmVcIixcbiAgd29yZFdyYXA6IGZhbHNlLFxuICB3b3JkV3JhcFdpZHRoOiAxMDAsXG4gIGxlYWRpbmc6IDBcbn07XG5jb25zdCBnZW5lcmljRm9udEZhbWlsaWVzID0gW1xuICBcInNlcmlmXCIsXG4gIFwic2Fucy1zZXJpZlwiLFxuICBcIm1vbm9zcGFjZVwiLFxuICBcImN1cnNpdmVcIixcbiAgXCJmYW50YXN5XCIsXG4gIFwic3lzdGVtLXVpXCJcbl07XG5jbGFzcyBUZXh0U3R5bGUge1xuICBjb25zdHJ1Y3RvcihzdHlsZSkge1xuICAgIHRoaXMuc3R5bGVJRCA9IDA7XG4gICAgdGhpcy5yZXNldCgpO1xuICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBzdHlsZSwgc3R5bGUpO1xuICB9XG4gIGNsb25lKCkge1xuICAgIGNvbnN0IGNsb25lZFByb3BlcnRpZXMgPSB7fTtcbiAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcbiAgICByZXR1cm4gbmV3IFRleHRTdHlsZShjbG9uZWRQcm9wZXJ0aWVzKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgZGVmYXVsdFN0eWxlLCBkZWZhdWx0U3R5bGUpO1xuICB9XG4gIGdldCBhbGlnbigpIHtcbiAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gIH1cbiAgc2V0IGFsaWduKGFsaWduKSB7XG4gICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbikge1xuICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgYnJlYWtXb3JkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fYnJlYWtXb3JkcztcbiAgfVxuICBzZXQgYnJlYWtXb3JkcyhicmVha1dvcmRzKSB7XG4gICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpIHtcbiAgICAgIHRoaXMuX2JyZWFrV29yZHMgPSBicmVha1dvcmRzO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBkcm9wU2hhZG93KCkge1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93O1xuICB9XG4gIHNldCBkcm9wU2hhZG93KGRyb3BTaGFkb3cpIHtcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvdyAhPT0gZHJvcFNoYWRvdykge1xuICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGRyb3BTaGFkb3dBbHBoYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xuICB9XG4gIHNldCBkcm9wU2hhZG93QWxwaGEoZHJvcFNoYWRvd0FscGhhKSB7XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSAhPT0gZHJvcFNoYWRvd0FscGhhKSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93QWxwaGEgPSBkcm9wU2hhZG93QWxwaGE7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGRyb3BTaGFkb3dBbmdsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICB9XG4gIHNldCBkcm9wU2hhZG93QW5nbGUoZHJvcFNoYWRvd0FuZ2xlKSB7XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSAhPT0gZHJvcFNoYWRvd0FuZ2xlKSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93QW5nbGUgPSBkcm9wU2hhZG93QW5nbGU7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGRyb3BTaGFkb3dCbHVyKCkge1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbiAgfVxuICBzZXQgZHJvcFNoYWRvd0JsdXIoZHJvcFNoYWRvd0JsdXIpIHtcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0JsdXIgIT09IGRyb3BTaGFkb3dCbHVyKSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBkcm9wU2hhZG93Q29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbiAgfVxuICBzZXQgZHJvcFNoYWRvd0NvbG9yKGRyb3BTaGFkb3dDb2xvcikge1xuICAgIGNvbnN0IG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGRyb3BTaGFkb3dEaXN0YW5jZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICB9XG4gIHNldCBkcm9wU2hhZG93RGlzdGFuY2UoZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGZpbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG4gIH1cbiAgc2V0IGZpbGwoZmlsbCkge1xuICAgIGNvbnN0IG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZmlsbCk7XG4gICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICB0aGlzLl9maWxsID0gb3V0cHV0Q29sb3I7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGZpbGxHcmFkaWVudFR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGU7XG4gIH1cbiAgc2V0IGZpbGxHcmFkaWVudFR5cGUoZmlsbEdyYWRpZW50VHlwZSkge1xuICAgIGlmICh0aGlzLl9maWxsR3JhZGllbnRUeXBlICE9PSBmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICB0aGlzLl9maWxsR3JhZGllbnRUeXBlID0gZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgZmlsbEdyYWRpZW50U3RvcHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xuICB9XG4gIHNldCBmaWxsR3JhZGllbnRTdG9wcyhmaWxsR3JhZGllbnRTdG9wcykge1xuICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsIGZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgICAgdGhpcy5fZmlsbEdyYWRpZW50U3RvcHMgPSBmaWxsR3JhZGllbnRTdG9wcztcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgZm9udEZhbWlseSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbiAgfVxuICBzZXQgZm9udEZhbWlseShmb250RmFtaWx5KSB7XG4gICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSkge1xuICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGZvbnRTaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgfVxuICBzZXQgZm9udFNpemUoZm9udFNpemUpIHtcbiAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKSB7XG4gICAgICB0aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBmb250U3R5bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbiAgfVxuICBzZXQgZm9udFN0eWxlKGZvbnRTdHlsZSkge1xuICAgIGlmICh0aGlzLl9mb250U3R5bGUgIT09IGZvbnRTdHlsZSkge1xuICAgICAgdGhpcy5fZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBmb250VmFyaWFudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG4gIH1cbiAgc2V0IGZvbnRWYXJpYW50KGZvbnRWYXJpYW50KSB7XG4gICAgaWYgKHRoaXMuX2ZvbnRWYXJpYW50ICE9PSBmb250VmFyaWFudCkge1xuICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgZm9udFdlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFdlaWdodDtcbiAgfVxuICBzZXQgZm9udFdlaWdodChmb250V2VpZ2h0KSB7XG4gICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpIHtcbiAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBmb250V2VpZ2h0O1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBsZXR0ZXJTcGFjaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICB9XG4gIHNldCBsZXR0ZXJTcGFjaW5nKGxldHRlclNwYWNpbmcpIHtcbiAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IGxpbmVIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gIH1cbiAgc2V0IGxpbmVIZWlnaHQobGluZUhlaWdodCkge1xuICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KSB7XG4gICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgbGVhZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVhZGluZztcbiAgfVxuICBzZXQgbGVhZGluZyhsZWFkaW5nKSB7XG4gICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpIHtcbiAgICAgIHRoaXMuX2xlYWRpbmcgPSBsZWFkaW5nO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBsaW5lSm9pbigpIHtcbiAgICByZXR1cm4gdGhpcy5fbGluZUpvaW47XG4gIH1cbiAgc2V0IGxpbmVKb2luKGxpbmVKb2luKSB7XG4gICAgaWYgKHRoaXMuX2xpbmVKb2luICE9PSBsaW5lSm9pbikge1xuICAgICAgdGhpcy5fbGluZUpvaW4gPSBsaW5lSm9pbjtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgbWl0ZXJMaW1pdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdDtcbiAgfVxuICBzZXQgbWl0ZXJMaW1pdChtaXRlckxpbWl0KSB7XG4gICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpIHtcbiAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCBwYWRkaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICB9XG4gIHNldCBwYWRkaW5nKHBhZGRpbmcpIHtcbiAgICBpZiAodGhpcy5fcGFkZGluZyAhPT0gcGFkZGluZykge1xuICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IHN0cm9rZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xuICB9XG4gIHNldCBzdHJva2Uoc3Ryb2tlKSB7XG4gICAgY29uc3Qgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihzdHJva2UpO1xuICAgIGlmICh0aGlzLl9zdHJva2UgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICB0aGlzLl9zdHJva2UgPSBvdXRwdXRDb2xvcjtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgc3Ryb2tlVGhpY2tuZXNzKCkge1xuICAgIHJldHVybiB0aGlzLl9zdHJva2VUaGlja25lc3M7XG4gIH1cbiAgc2V0IHN0cm9rZVRoaWNrbmVzcyhzdHJva2VUaGlja25lc3MpIHtcbiAgICBpZiAodGhpcy5fc3Ryb2tlVGhpY2tuZXNzICE9PSBzdHJva2VUaGlja25lc3MpIHtcbiAgICAgIHRoaXMuX3N0cm9rZVRoaWNrbmVzcyA9IHN0cm9rZVRoaWNrbmVzcztcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgdGV4dEJhc2VsaW5lKCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG4gIH1cbiAgc2V0IHRleHRCYXNlbGluZSh0ZXh0QmFzZWxpbmUpIHtcbiAgICBpZiAodGhpcy5fdGV4dEJhc2VsaW5lICE9PSB0ZXh0QmFzZWxpbmUpIHtcbiAgICAgIHRoaXMuX3RleHRCYXNlbGluZSA9IHRleHRCYXNlbGluZTtcbiAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbiAgfVxuICBnZXQgdHJpbSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJpbTtcbiAgfVxuICBzZXQgdHJpbSh0cmltKSB7XG4gICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pIHtcbiAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCB3aGl0ZVNwYWNlKCkge1xuICAgIHJldHVybiB0aGlzLl93aGl0ZVNwYWNlO1xuICB9XG4gIHNldCB3aGl0ZVNwYWNlKHdoaXRlU3BhY2UpIHtcbiAgICBpZiAodGhpcy5fd2hpdGVTcGFjZSAhPT0gd2hpdGVTcGFjZSkge1xuICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgZ2V0IHdvcmRXcmFwKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgfVxuICBzZXQgd29yZFdyYXAod29yZFdyYXApIHtcbiAgICBpZiAodGhpcy5fd29yZFdyYXAgIT09IHdvcmRXcmFwKSB7XG4gICAgICB0aGlzLl93b3JkV3JhcCA9IHdvcmRXcmFwO1xuICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxuICB9XG4gIGdldCB3b3JkV3JhcFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcFdpZHRoO1xuICB9XG4gIHNldCB3b3JkV3JhcFdpZHRoKHdvcmRXcmFwV2lkdGgpIHtcbiAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aCkge1xuICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG4gIH1cbiAgdG9Gb250U3RyaW5nKCkge1xuICAgIGNvbnN0IGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHRoaXMuZm9udFNpemUgPT09IFwibnVtYmVyXCIgPyBgJHt0aGlzLmZvbnRTaXplfXB4YCA6IHRoaXMuZm9udFNpemU7XG4gICAgbGV0IGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5mb250RmFtaWx5KSkge1xuICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KFwiLFwiKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IGZvbnRGYW1pbHkgPSBmb250RmFtaWxpZXNbaV0udHJpbSgpO1xuICAgICAgaWYgKCEvKFtcXFwiXFwnXSlbXlxcJ1xcXCJdK1xcMS8udGVzdChmb250RmFtaWx5KSAmJiAhZ2VuZXJpY0ZvbnRGYW1pbGllcy5pbmNsdWRlcyhmb250RmFtaWx5KSkge1xuICAgICAgICBmb250RmFtaWx5ID0gYFwiJHtmb250RmFtaWx5fVwiYDtcbiAgICAgIH1cbiAgICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gICAgfVxuICAgIHJldHVybiBgJHt0aGlzLmZvbnRTdHlsZX0gJHt0aGlzLmZvbnRWYXJpYW50fSAke3RoaXMuZm9udFdlaWdodH0gJHtmb250U2l6ZVN0cmluZ30gJHtmb250RmFtaWxpZXMuam9pbihcIixcIil9YDtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0U2luZ2xlQ29sb3IoY29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiB1dGlscy5oZXgyc3RyaW5nKGNvbG9yKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY29sb3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAoY29sb3Iuc3RhcnRzV2l0aChcIjB4XCIpKSB7XG4gICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoXCIweFwiLCBcIiNcIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb2xvcjtcbn1cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbn1cbmZ1bmN0aW9uIGFyZUFycmF5c0VxdWFsKGFycmF5MSwgYXJyYXkyKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGFycmF5MS5sZW5ndGggIT09IGFycmF5Mi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBkZWVwQ29weVByb3BlcnRpZXModGFyZ2V0LCBzb3VyY2UsIHByb3BlcnR5T2JqKSB7XG4gIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wZXJ0eU9iaikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFRleHRTdHlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dFN0eWxlLm1qcy5tYXBcbiIsInZhciBURVhUX0dSQURJRU5UID0gLyogQF9fUFVSRV9fICovICgoVEVYVF9HUkFESUVOVDIpID0+IHtcbiAgVEVYVF9HUkFESUVOVDJbVEVYVF9HUkFESUVOVDJbXCJMSU5FQVJfVkVSVElDQUxcIl0gPSAwXSA9IFwiTElORUFSX1ZFUlRJQ0FMXCI7XG4gIFRFWFRfR1JBRElFTlQyW1RFWFRfR1JBRElFTlQyW1wiTElORUFSX0hPUklaT05UQUxcIl0gPSAxXSA9IFwiTElORUFSX0hPUklaT05UQUxcIjtcbiAgcmV0dXJuIFRFWFRfR1JBRElFTlQyO1xufSkoVEVYVF9HUkFESUVOVCB8fCB7fSk7XG5cbmV4cG9ydCB7IFRFWFRfR1JBRElFTlQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0Lm1qcy5tYXBcbiIsImV4cG9ydCB7IFRleHQgfSBmcm9tICcuL1RleHQubWpzJztcbmV4cG9ydCB7IFRleHRTdHlsZSB9IGZyb20gJy4vVGV4dFN0eWxlLm1qcyc7XG5leHBvcnQgeyBUZXh0TWV0cmljcyB9IGZyb20gJy4vVGV4dE1ldHJpY3MubWpzJztcbmV4cG9ydCB7IFRFWFRfR1JBRElFTlQgfSBmcm9tICcuL2NvbnN0Lm1qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgJy4vc2V0dGluZ3MubWpzJztcbmltcG9ydCB7IFVQREFURV9QUklPUklUWSB9IGZyb20gJy4vY29uc3QubWpzJztcbmltcG9ydCB7IFRpY2tlckxpc3RlbmVyIH0gZnJvbSAnLi9UaWNrZXJMaXN0ZW5lci5tanMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNsYXNzIFRpY2tlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgdGhpcy5kZWx0YVRpbWUgPSAxO1xuICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcbiAgICB0aGlzLnNwZWVkID0gMTtcbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEwMDtcbiAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgIHRoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2xhc3RGcmFtZSA9IC0xO1xuICAgIHRoaXMuX2hlYWQgPSBuZXcgVGlja2VyTGlzdGVuZXIobnVsbCwgbnVsbCwgSW5maW5pdHkpO1xuICAgIHRoaXMuZGVsdGFNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICB0aGlzLmVsYXBzZWRNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICB0aGlzLl90aWNrID0gKHRpbWUpID0+IHtcbiAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkICYmIHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIF9yZXF1ZXN0SWZOZWVkZWQoKSB7XG4gICAgaWYgKHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IHRoaXMubGFzdFRpbWU7XG4gICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgfVxuICB9XG4gIF9jYW5jZWxJZk5lZWRlZCgpIHtcbiAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpO1xuICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgX3N0YXJ0SWZQb3NzaWJsZSgpIHtcbiAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b1N0YXJ0KSB7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIGFkZChmbiwgY29udGV4dCwgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgfVxuICBhZGRPbmNlKGZuLCBjb250ZXh0LCBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUwpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgdHJ1ZSkpO1xuICB9XG4gIF9hZGRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgIGxldCBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgIGxldCBwcmV2aW91cyA9IHRoaXMuX2hlYWQ7XG4gICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLnByaW9yaXR5ID4gY3VycmVudC5wcmlvcml0eSkge1xuICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICAgIH1cbiAgICAgIGlmICghbGlzdGVuZXIucHJldmlvdXMpIHtcbiAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3N0YXJ0SWZQb3NzaWJsZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZShmbiwgY29udGV4dCkge1xuICAgIGxldCBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgIGlmIChsaXN0ZW5lci5tYXRjaChmbiwgY29udGV4dCkpIHtcbiAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBnZXQgY291bnQoKSB7XG4gICAgaWYgKCF0aGlzLl9oZWFkKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgd2hpbGUgKGN1cnJlbnQgPSBjdXJyZW50Lm5leHQpIHtcbiAgICAgIGNvdW50Kys7XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbiAgfVxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICBsZXQgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgfVxuICAgICAgdGhpcy5faGVhZC5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgdXBkYXRlKGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkpIHtcbiAgICBsZXQgZWxhcHNlZE1TO1xuICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdFRpbWUpIHtcbiAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuICAgICAgaWYgKGVsYXBzZWRNUyA+IHRoaXMuX21heEVsYXBzZWRNUykge1xuICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICB9XG4gICAgICBlbGFwc2VkTVMgKj0gdGhpcy5zcGVlZDtcbiAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBjdXJyZW50VGltZSAtIHRoaXMuX2xhc3RGcmFtZSB8IDA7XG4gICAgICAgIGlmIChkZWx0YSA8IHRoaXMuX21pbkVsYXBzZWRNUykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSBjdXJyZW50VGltZSAtIGRlbHRhICUgdGhpcy5fbWluRWxhcHNlZE1TO1xuICAgICAgfVxuICAgICAgdGhpcy5kZWx0YU1TID0gZWxhcHNlZE1TO1xuICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgKiBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgIGNvbnN0IGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgbGV0IGxpc3RlbmVyID0gaGVhZC5uZXh0O1xuICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZW1pdCh0aGlzLmRlbHRhVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAoIWhlYWQubmV4dCkge1xuICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyA9IHRoaXMuZWxhcHNlZE1TID0gMDtcbiAgICB9XG4gICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICB9XG4gIGdldCBGUFMoKSB7XG4gICAgcmV0dXJuIDFlMyAvIHRoaXMuZWxhcHNlZE1TO1xuICB9XG4gIGdldCBtaW5GUFMoKSB7XG4gICAgcmV0dXJuIDFlMyAvIHRoaXMuX21heEVsYXBzZWRNUztcbiAgfVxuICBzZXQgbWluRlBTKGZwcykge1xuICAgIGNvbnN0IG1pbkZQUyA9IE1hdGgubWluKHRoaXMubWF4RlBTLCBmcHMpO1xuICAgIGNvbnN0IG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBtaW5GUFMpIC8gMWUzLCBzZXR0aW5ncy5UQVJHRVRfRlBNUyk7XG4gICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMSAvIG1pbkZQTVM7XG4gIH1cbiAgZ2V0IG1heEZQUygpIHtcbiAgICBpZiAodGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZCgxZTMgLyB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuICBzZXQgbWF4RlBTKGZwcykge1xuICAgIGlmIChmcHMgPT09IDApIHtcbiAgICAgIHRoaXMuX21pbkVsYXBzZWRNUyA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1heEZQUyA9IE1hdGgubWF4KHRoaXMubWluRlBTLCBmcHMpO1xuICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMSAvIChtYXhGUFMgLyAxZTMpO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgZ2V0IHNoYXJlZCgpIHtcbiAgICBpZiAoIVRpY2tlci5fc2hhcmVkKSB7XG4gICAgICBjb25zdCBzaGFyZWQgPSBUaWNrZXIuX3NoYXJlZCA9IG5ldyBUaWNrZXIoKTtcbiAgICAgIHNoYXJlZC5hdXRvU3RhcnQgPSB0cnVlO1xuICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gVGlja2VyLl9zaGFyZWQ7XG4gIH1cbiAgc3RhdGljIGdldCBzeXN0ZW0oKSB7XG4gICAgaWYgKCFUaWNrZXIuX3N5c3RlbSkge1xuICAgICAgY29uc3Qgc3lzdGVtID0gVGlja2VyLl9zeXN0ZW0gPSBuZXcgVGlja2VyKCk7XG4gICAgICBzeXN0ZW0uYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgIHN5c3RlbS5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIFRpY2tlci5fc3lzdGVtO1xuICB9XG59XG5cbmV4cG9ydCB7IFRpY2tlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlja2VyLm1qcy5tYXBcbiIsImNsYXNzIFRpY2tlckxpc3RlbmVyIHtcbiAgY29uc3RydWN0b3IoZm4sIGNvbnRleHQgPSBudWxsLCBwcmlvcml0eSA9IDAsIG9uY2UgPSBmYWxzZSkge1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG4gICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIHRoaXMub25jZSA9IG9uY2U7XG4gIH1cbiAgbWF0Y2goZm4sIGNvbnRleHQgPSBudWxsKSB7XG4gICAgcmV0dXJuIHRoaXMuZm4gPT09IGZuICYmIHRoaXMuY29udGV4dCA9PT0gY29udGV4dDtcbiAgfVxuICBlbWl0KGRlbHRhVGltZSkge1xuICAgIGlmICh0aGlzLmZuKSB7XG4gICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZuKGRlbHRhVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuICAgIGlmICh0aGlzLm9uY2UpIHtcbiAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlZGlyZWN0O1xuICB9XG4gIGNvbm5lY3QocHJldmlvdXMpIHtcbiAgICB0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG4gICAgaWYgKHByZXZpb3VzLm5leHQpIHtcbiAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLm5leHQgPSBwcmV2aW91cy5uZXh0O1xuICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xuICB9XG4gIGRlc3Ryb3koaGFyZCA9IGZhbHNlKSB7XG4gICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB0aGlzLmZuID0gbnVsbDtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIGlmICh0aGlzLnByZXZpb3VzKSB7XG4gICAgICB0aGlzLnByZXZpb3VzLm5leHQgPSB0aGlzLm5leHQ7XG4gICAgfVxuICAgIGlmICh0aGlzLm5leHQpIHtcbiAgICAgIHRoaXMubmV4dC5wcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgfVxuICAgIGNvbnN0IHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuICAgIHRoaXMubmV4dCA9IGhhcmQgPyBudWxsIDogcmVkaXJlY3Q7XG4gICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG4gICAgcmV0dXJuIHJlZGlyZWN0O1xuICB9XG59XG5cbmV4cG9ydCB7IFRpY2tlckxpc3RlbmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXJMaXN0ZW5lci5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICcuL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBUaWNrZXIgfSBmcm9tICcuL1RpY2tlci5tanMnO1xuXG5jbGFzcyBUaWNrZXJQbHVnaW4ge1xuICBzdGF0aWMgaW5pdChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZVxuICAgIH0sIG9wdGlvbnMpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRpY2tlclwiLCB7XG4gICAgICBzZXQodGlja2VyKSB7XG4gICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90aWNrZXIgPSB0aWNrZXI7XG4gICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICB0aWNrZXIuYWRkKHRoaXMucmVuZGVyLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuTE9XKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnN0b3AgPSAoKSA9PiB7XG4gICAgICB0aGlzLl90aWNrZXIuc3RvcCgpO1xuICAgIH07XG4gICAgdGhpcy5zdGFydCA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3RpY2tlci5zdGFydCgpO1xuICAgIH07XG4gICAgdGhpcy5fdGlja2VyID0gbnVsbDtcbiAgICB0aGlzLnRpY2tlciA9IG9wdGlvbnMuc2hhcmVkVGlja2VyID8gVGlja2VyLnNoYXJlZCA6IG5ldyBUaWNrZXIoKTtcbiAgICBpZiAob3B0aW9ucy5hdXRvU3RhcnQpIHtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gIH1cbiAgc3RhdGljIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgY29uc3Qgb2xkVGlja2VyID0gdGhpcy5fdGlja2VyO1xuICAgICAgdGhpcy50aWNrZXIgPSBudWxsO1xuICAgICAgb2xkVGlja2VyLmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbn1cblRpY2tlclBsdWdpbi5leHRlbnNpb24gPSBFeHRlbnNpb25UeXBlLkFwcGxpY2F0aW9uO1xuZXh0ZW5zaW9ucy5hZGQoVGlja2VyUGx1Z2luKTtcblxuZXhwb3J0IHsgVGlja2VyUGx1Z2luIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXJQbHVnaW4ubWpzLm1hcFxuIiwidmFyIFVQREFURV9QUklPUklUWSA9IC8qIEBfX1BVUkVfXyAqLyAoKFVQREFURV9QUklPUklUWTIpID0+IHtcbiAgVVBEQVRFX1BSSU9SSVRZMltVUERBVEVfUFJJT1JJVFkyW1wiSElHSFwiXSA9IDI1XSA9IFwiSElHSFwiO1xuICBVUERBVEVfUFJJT1JJVFkyW1VQREFURV9QUklPUklUWTJbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gIFVQREFURV9QUklPUklUWTJbVVBEQVRFX1BSSU9SSVRZMltcIkxPV1wiXSA9IC0yNV0gPSBcIkxPV1wiO1xuICBVUERBVEVfUFJJT1JJVFkyW1VQREFURV9QUklPUklUWTJbXCJVVElMSVRZXCJdID0gLTUwXSA9IFwiVVRJTElUWVwiO1xuICByZXR1cm4gVVBEQVRFX1BSSU9SSVRZMjtcbn0pKFVQREFURV9QUklPUklUWSB8fCB7fSk7XG5cbmV4cG9ydCB7IFVQREFURV9QUklPUklUWSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3QubWpzLm1hcFxuIiwiaW1wb3J0ICcuL3NldHRpbmdzLm1qcyc7XG5leHBvcnQgeyBUaWNrZXIgfSBmcm9tICcuL1RpY2tlci5tanMnO1xuZXhwb3J0IHsgVGlja2VyUGx1Z2luIH0gZnJvbSAnLi9UaWNrZXJQbHVnaW4ubWpzJztcbmV4cG9ydCB7IFVQREFURV9QUklPUklUWSB9IGZyb20gJy4vY29uc3QubWpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbnNldHRpbmdzLlRBUkdFVF9GUE1TID0gMC4wNjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLm1qcy5tYXBcbiIsImltcG9ydCB7IGRlcHJlY2F0aW9uIH0gZnJvbSAnLi4vbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuXG5mdW5jdGlvbiBza2lwSGVsbG8oKSB7XG4gIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgXCJza2lwSGVsbG8gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFTkRFUl9PUFRJT05TLmhlbGxvXCIpO1xufVxuZnVuY3Rpb24gc2F5SGVsbG8oKSB7XG4gIGRlcHJlY2F0aW9uKFwiNy4wLjBcIiwgYHNheUhlbGxvIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUmVuZGVyZXIncyBcImhlbGxvXCIgb3B0aW9uYCk7XG59XG5cbmV4cG9ydCB7IHNheUhlbGxvLCBza2lwSGVsbG8gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlbGxvLm1qcy5tYXBcbiIsImltcG9ydCAnLi4vc2V0dGluZ3MubWpzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG5sZXQgc3VwcG9ydGVkO1xuZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZCgpIHtcbiAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBzdXBwb3J0ZWQgPSBmdW5jdGlvbiBzdXBwb3J0ZWQyKCkge1xuICAgICAgY29uc3QgY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHNldHRpbmdzLkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUXG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5BREFQVEVSLmdldFdlYkdMUmVuZGVyaW5nQ29udGV4dCgpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCk7XG4gICAgICAgIGxldCBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIiwgY29udGV4dE9wdGlvbnMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsIGNvbnRleHRPcHRpb25zKTtcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9ICEhKGdsICYmIGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCkuc3RlbmNpbCk7XG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgIGNvbnN0IGxvc2VDb250ZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpO1xuICAgICAgICAgIGlmIChsb3NlQ29udGV4dCkge1xuICAgICAgICAgICAgbG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2wgPSBudWxsO1xuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0oKTtcbiAgfVxuICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG5leHBvcnQgeyBpc1dlYkdMU3VwcG9ydGVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1dlYkdMU3VwcG9ydGVkLm1qcy5tYXBcbiIsImltcG9ydCBjc3NDb2xvck5hbWVzIGZyb20gJy4vLi4vZXh0ZXJuYWwvY3NzLWNvbG9yLW5hbWVzL2Nzcy1jb2xvci1uYW1lcy5tanMnO1xuXG5mdW5jdGlvbiBoZXgycmdiKGhleCwgb3V0ID0gW10pIHtcbiAgb3V0WzBdID0gKGhleCA+PiAxNiAmIDI1NSkgLyAyNTU7XG4gIG91dFsxXSA9IChoZXggPj4gOCAmIDI1NSkgLyAyNTU7XG4gIG91dFsyXSA9IChoZXggJiAyNTUpIC8gMjU1O1xuICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gaGV4MnN0cmluZyhoZXgpIHtcbiAgbGV0IGhleFN0cmluZyA9IGhleC50b1N0cmluZygxNik7XG4gIGhleFN0cmluZyA9IFwiMDAwMDAwXCIuc3Vic3RyaW5nKDAsIDYgLSBoZXhTdHJpbmcubGVuZ3RoKSArIGhleFN0cmluZztcbiAgcmV0dXJuIGAjJHtoZXhTdHJpbmd9YDtcbn1cbmZ1bmN0aW9uIHN0cmluZzJoZXgoc3RyaW5nKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5nID09PSBcInN0cmluZ1wiKSB7XG4gICAgc3RyaW5nID0gY3NzQ29sb3JOYW1lc1tzdHJpbmcudG9Mb3dlckNhc2UoKV0gfHwgc3RyaW5nO1xuICAgIGlmIChzdHJpbmdbMF0gPT09IFwiI1wiKSB7XG4gICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMSk7XG4gICAgfVxuICAgIGlmIChzdHJpbmcubGVuZ3RoID09PSAzKSB7XG4gICAgICBjb25zdCBbciwgZywgYl0gPSBzdHJpbmc7XG4gICAgICBzdHJpbmcgPSByICsgciArIGcgKyBnICsgYiArIGI7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJzZUludChzdHJpbmcsIDE2KTtcbn1cbmZ1bmN0aW9uIHJnYjJoZXgocmdiKSB7XG4gIHJldHVybiAocmdiWzBdICogMjU1IDw8IDE2KSArIChyZ2JbMV0gKiAyNTUgPDwgOCkgKyAocmdiWzJdICogMjU1IHwgMCk7XG59XG5cbmV4cG9ydCB7IGhleDJyZ2IsIGhleDJzdHJpbmcsIHJnYjJoZXgsIHN0cmluZzJoZXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhleC5tanMubWFwXG4iLCJpbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCkge1xuICBjb25zdCBwbSA9IFtdO1xuICBjb25zdCBucG0gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMjsgaSsrKSB7XG4gICAgcG1baV0gPSBpO1xuICAgIG5wbVtpXSA9IGk7XG4gIH1cbiAgcG1bQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gIHBtW0JMRU5EX01PREVTLkFERF9OUE1dID0gQkxFTkRfTU9ERVMuQUREO1xuICBwbVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IEJMRU5EX01PREVTLlNDUkVFTjtcbiAgbnBtW0JMRU5EX01PREVTLk5PUk1BTF0gPSBCTEVORF9NT0RFUy5OT1JNQUxfTlBNO1xuICBucG1bQkxFTkRfTU9ERVMuQUREXSA9IEJMRU5EX01PREVTLkFERF9OUE07XG4gIG5wbVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcbiAgY29uc3QgYXJyYXkgPSBbXTtcbiAgYXJyYXkucHVzaChucG0pO1xuICBhcnJheS5wdXNoKHBtKTtcbiAgcmV0dXJuIGFycmF5O1xufVxuY29uc3QgcHJlbXVsdGlwbHlCbGVuZE1vZGUgPSBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpO1xuZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpIHtcbiAgcmV0dXJuIHByZW11bHRpcGx5QmxlbmRNb2RlW3ByZW11bHRpcGxpZWQgPyAxIDogMF1bYmxlbmRNb2RlXTtcbn1cbmZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYShyZ2IsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHZvaWQgMCkge1xuICAgIG91dFswXSA9IHJnYlswXSAqIGFscGhhO1xuICAgIG91dFsxXSA9IHJnYlsxXSAqIGFscGhhO1xuICAgIG91dFsyXSA9IHJnYlsyXSAqIGFscGhhO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IHJnYlswXTtcbiAgICBvdXRbMV0gPSByZ2JbMV07XG4gICAgb3V0WzJdID0gcmdiWzJdO1xuICB9XG4gIG91dFszXSA9IGFscGhhO1xuICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50KHRpbnQsIGFscGhhKSB7XG4gIGlmIChhbHBoYSA9PT0gMSkge1xuICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgdGludDtcbiAgfVxuICBpZiAoYWxwaGEgPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQgUiA9IHRpbnQgPj4gMTYgJiAyNTU7XG4gIGxldCBHID0gdGludCA+PiA4ICYgMjU1O1xuICBsZXQgQiA9IHRpbnQgJiAyNTU7XG4gIFIgPSBSICogYWxwaGEgKyAwLjUgfCAwO1xuICBHID0gRyAqIGFscGhhICsgMC41IHwgMDtcbiAgQiA9IEIgKiBhbHBoYSArIDAuNSB8IDA7XG4gIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgKFIgPDwgMTYpICsgKEcgPDwgOCkgKyBCO1xufVxuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICBvdXRbMF0gPSAodGludCA+PiAxNiAmIDI1NSkgLyAyNTU7XG4gIG91dFsxXSA9ICh0aW50ID4+IDggJiAyNTUpIC8gMjU1O1xuICBvdXRbMl0gPSAodGludCAmIDI1NSkgLyAyNTU7XG4gIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdm9pZCAwKSB7XG4gICAgb3V0WzBdICo9IGFscGhhO1xuICAgIG91dFsxXSAqPSBhbHBoYTtcbiAgICBvdXRbMl0gKj0gYWxwaGE7XG4gIH1cbiAgb3V0WzNdID0gYWxwaGE7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCB7IGNvcnJlY3RCbGVuZE1vZGUsIHByZW11bHRpcGx5QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCwgcHJlbXVsdGlwbHlUaW50VG9SZ2JhIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVtdWx0aXBseS5tanMubWFwXG4iLCJjb25zdCBEQVRBX1VSSSA9IC9eXFxzKmRhdGE6KD86KFtcXHctXSspXFwvKFtcXHcrLi1dKykpPyg/OjtjaGFyc2V0PShbXFx3LV0rKSk/KD86OyhiYXNlNjQpKT8sKC4qKS9pO1xuXG5leHBvcnQgeyBEQVRBX1VSSSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3QubWpzLm1hcFxuIiwiZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUsIG91dEJ1ZmZlciA9IG51bGwpIHtcbiAgY29uc3QgdG90YWxJbmRpY2VzID0gc2l6ZSAqIDY7XG4gIG91dEJ1ZmZlciA9IG91dEJ1ZmZlciB8fCBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKTtcbiAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcykge1xuICAgIHRocm93IG5ldyBFcnJvcihgT3V0IGJ1ZmZlciBsZW5ndGggaXMgaW5jb3JyZWN0LCBnb3QgJHtvdXRCdWZmZXIubGVuZ3RofSBhbmQgZXhwZWN0ZWQgJHt0b3RhbEluZGljZXN9YCk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxJbmRpY2VzOyBpICs9IDYsIGogKz0gNCkge1xuICAgIG91dEJ1ZmZlcltpICsgMF0gPSBqICsgMDtcbiAgICBvdXRCdWZmZXJbaSArIDFdID0gaiArIDE7XG4gICAgb3V0QnVmZmVyW2kgKyAyXSA9IGogKyAyO1xuICAgIG91dEJ1ZmZlcltpICsgM10gPSBqICsgMDtcbiAgICBvdXRCdWZmZXJbaSArIDRdID0gaiArIDI7XG4gICAgb3V0QnVmZmVyW2kgKyA1XSA9IGogKyAzO1xuICB9XG4gIHJldHVybiBvdXRCdWZmZXI7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUluZGljZXNGb3JRdWFkcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlSW5kaWNlc0ZvclF1YWRzLm1qcy5tYXBcbiIsImZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpIHtcbiAgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KSB7XG4gICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICByZXR1cm4gXCJGbG9hdDMyQXJyYXlcIjtcbiAgICB9IGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpIHtcbiAgICAgIHJldHVybiBcIlVpbnQzMkFycmF5XCI7XG4gICAgfVxuICAgIHJldHVybiBcIkludDMyQXJyYXlcIjtcbiAgfSBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMikge1xuICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KSB7XG4gICAgICByZXR1cm4gXCJVaW50MTZBcnJheVwiO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSkge1xuICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgIHJldHVybiBcIlVpbnQ4QXJyYXlcIjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCB7IGdldEJ1ZmZlclR5cGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEJ1ZmZlclR5cGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0QnVmZmVyVHlwZSB9IGZyb20gJy4vZ2V0QnVmZmVyVHlwZS5tanMnO1xuXG5jb25zdCBtYXAgPSB7IEZsb2F0MzJBcnJheSwgVWludDMyQXJyYXksIEludDMyQXJyYXksIFVpbnQ4QXJyYXkgfTtcbmZ1bmN0aW9uIGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKSB7XG4gIGxldCBvdXRTaXplID0gMDtcbiAgbGV0IHN0cmlkZSA9IDA7XG4gIGNvbnN0IHZpZXdzID0ge307XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgIG91dFNpemUgKz0gYXJyYXlzW2ldLmxlbmd0aDtcbiAgfVxuICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIob3V0U2l6ZSAqIDQpO1xuICBsZXQgb3V0ID0gbnVsbDtcbiAgbGV0IGxpdHRsZU9mZnNldCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHNpemVzW2ldO1xuICAgIGNvbnN0IGFycmF5ID0gYXJyYXlzW2ldO1xuICAgIGNvbnN0IHR5cGUgPSBnZXRCdWZmZXJUeXBlKGFycmF5KTtcbiAgICBpZiAoIXZpZXdzW3R5cGVdKSB7XG4gICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICB9XG4gICAgb3V0ID0gdmlld3NbdHlwZV07XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3QgaW5kZXhTdGFydCA9IChqIC8gc2l6ZSB8IDApICogc3RyaWRlICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgY29uc3QgaW5kZXggPSBqICUgc2l6ZTtcbiAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgfVxuICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICB9XG4gIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG5cbmV4cG9ydCB7IGludGVybGVhdmVUeXBlZEFycmF5cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJsZWF2ZVR5cGVkQXJyYXlzLm1qcy5tYXBcbiIsImZ1bmN0aW9uIG5leHRQb3cyKHYpIHtcbiAgdiArPSB2ID09PSAwID8gMSA6IDA7XG4gIC0tdjtcbiAgdiB8PSB2ID4+PiAxO1xuICB2IHw9IHYgPj4+IDI7XG4gIHYgfD0gdiA+Pj4gNDtcbiAgdiB8PSB2ID4+PiA4O1xuICB2IHw9IHYgPj4+IDE2O1xuICByZXR1cm4gdiArIDE7XG59XG5mdW5jdGlvbiBpc1BvdzIodikge1xuICByZXR1cm4gISh2ICYgdiAtIDEpICYmICEhdjtcbn1cbmZ1bmN0aW9uIGxvZzIodikge1xuICBsZXQgciA9ICh2ID4gNjU1MzUgPyAxIDogMCkgPDwgNDtcbiAgdiA+Pj49IHI7XG4gIGxldCBzaGlmdCA9ICh2ID4gMjU1ID8gMSA6IDApIDw8IDM7XG4gIHYgPj4+PSBzaGlmdDtcbiAgciB8PSBzaGlmdDtcbiAgc2hpZnQgPSAodiA+IDE1ID8gMSA6IDApIDw8IDI7XG4gIHYgPj4+PSBzaGlmdDtcbiAgciB8PSBzaGlmdDtcbiAgc2hpZnQgPSAodiA+IDMgPyAxIDogMCkgPDwgMTtcbiAgdiA+Pj49IHNoaWZ0O1xuICByIHw9IHNoaWZ0O1xuICByZXR1cm4gciB8IHYgPj4gMTtcbn1cblxuZXhwb3J0IHsgaXNQb3cyLCBsb2cyLCBuZXh0UG93MiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG93Mi5tanMubWFwXG4iLCJmdW5jdGlvbiByZW1vdmVJdGVtcyhhcnIsIHN0YXJ0SWR4LCByZW1vdmVDb3VudCkge1xuICBjb25zdCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICBsZXQgaTtcbiAgaWYgKHN0YXJ0SWR4ID49IGxlbmd0aCB8fCByZW1vdmVDb3VudCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZW1vdmVDb3VudCA9IHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50O1xuICBjb25zdCBsZW4gPSBsZW5ndGggLSByZW1vdmVDb3VudDtcbiAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSkge1xuICAgIGFycltpXSA9IGFycltpICsgcmVtb3ZlQ291bnRdO1xuICB9XG4gIGFyci5sZW5ndGggPSBsZW47XG59XG5cbmV4cG9ydCB7IHJlbW92ZUl0ZW1zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW1vdmVJdGVtcy5tanMubWFwXG4iLCJmdW5jdGlvbiBzaWduKG4pIHtcbiAgaWYgKG4gPT09IDApXG4gICAgcmV0dXJuIDA7XG4gIHJldHVybiBuIDwgMCA/IC0xIDogMTtcbn1cblxuZXhwb3J0IHsgc2lnbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbi5tanMubWFwXG4iLCJsZXQgbmV4dFVpZCA9IDA7XG5mdW5jdGlvbiB1aWQoKSB7XG4gIHJldHVybiArK25leHRVaWQ7XG59XG5cbmV4cG9ydCB7IHVpZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dWlkLm1qcy5tYXBcbiIsInZhciBhbGljZWJsdWUgPSBcIiNmMGY4ZmZcIjtcbnZhciBhbnRpcXVld2hpdGUgPSBcIiNmYWViZDdcIjtcbnZhciBhcXVhID0gXCIjMDBmZmZmXCI7XG52YXIgYXF1YW1hcmluZSA9IFwiIzdmZmZkNFwiO1xudmFyIGF6dXJlID0gXCIjZjBmZmZmXCI7XG52YXIgYmVpZ2UgPSBcIiNmNWY1ZGNcIjtcbnZhciBiaXNxdWUgPSBcIiNmZmU0YzRcIjtcbnZhciBibGFjayA9IFwiIzAwMDAwMFwiO1xudmFyIGJsYW5jaGVkYWxtb25kID0gXCIjZmZlYmNkXCI7XG52YXIgYmx1ZSA9IFwiIzAwMDBmZlwiO1xudmFyIGJsdWV2aW9sZXQgPSBcIiM4YTJiZTJcIjtcbnZhciBicm93biA9IFwiI2E1MmEyYVwiO1xudmFyIGJ1cmx5d29vZCA9IFwiI2RlYjg4N1wiO1xudmFyIGNhZGV0Ymx1ZSA9IFwiIzVmOWVhMFwiO1xudmFyIGNoYXJ0cmV1c2UgPSBcIiM3ZmZmMDBcIjtcbnZhciBjaG9jb2xhdGUgPSBcIiNkMjY5MWVcIjtcbnZhciBjb3JhbCA9IFwiI2ZmN2Y1MFwiO1xudmFyIGNvcm5mbG93ZXJibHVlID0gXCIjNjQ5NWVkXCI7XG52YXIgY29ybnNpbGsgPSBcIiNmZmY4ZGNcIjtcbnZhciBjcmltc29uID0gXCIjZGMxNDNjXCI7XG52YXIgY3lhbiA9IFwiIzAwZmZmZlwiO1xudmFyIGRhcmtibHVlID0gXCIjMDAwMDhiXCI7XG52YXIgZGFya2N5YW4gPSBcIiMwMDhiOGJcIjtcbnZhciBkYXJrZ29sZGVucm9kID0gXCIjYjg4NjBiXCI7XG52YXIgZGFya2dyYXkgPSBcIiNhOWE5YTlcIjtcbnZhciBkYXJrZ3JlZW4gPSBcIiMwMDY0MDBcIjtcbnZhciBkYXJrZ3JleSA9IFwiI2E5YTlhOVwiO1xudmFyIGRhcmtraGFraSA9IFwiI2JkYjc2YlwiO1xudmFyIGRhcmttYWdlbnRhID0gXCIjOGIwMDhiXCI7XG52YXIgZGFya29saXZlZ3JlZW4gPSBcIiM1NTZiMmZcIjtcbnZhciBkYXJrb3JhbmdlID0gXCIjZmY4YzAwXCI7XG52YXIgZGFya29yY2hpZCA9IFwiIzk5MzJjY1wiO1xudmFyIGRhcmtyZWQgPSBcIiM4YjAwMDBcIjtcbnZhciBkYXJrc2FsbW9uID0gXCIjZTk5NjdhXCI7XG52YXIgZGFya3NlYWdyZWVuID0gXCIjOGZiYzhmXCI7XG52YXIgZGFya3NsYXRlYmx1ZSA9IFwiIzQ4M2Q4YlwiO1xudmFyIGRhcmtzbGF0ZWdyYXkgPSBcIiMyZjRmNGZcIjtcbnZhciBkYXJrc2xhdGVncmV5ID0gXCIjMmY0ZjRmXCI7XG52YXIgZGFya3R1cnF1b2lzZSA9IFwiIzAwY2VkMVwiO1xudmFyIGRhcmt2aW9sZXQgPSBcIiM5NDAwZDNcIjtcbnZhciBkZWVwcGluayA9IFwiI2ZmMTQ5M1wiO1xudmFyIGRlZXBza3libHVlID0gXCIjMDBiZmZmXCI7XG52YXIgZGltZ3JheSA9IFwiIzY5Njk2OVwiO1xudmFyIGRpbWdyZXkgPSBcIiM2OTY5NjlcIjtcbnZhciBkb2RnZXJibHVlID0gXCIjMWU5MGZmXCI7XG52YXIgZmlyZWJyaWNrID0gXCIjYjIyMjIyXCI7XG52YXIgZmxvcmFsd2hpdGUgPSBcIiNmZmZhZjBcIjtcbnZhciBmb3Jlc3RncmVlbiA9IFwiIzIyOGIyMlwiO1xudmFyIGZ1Y2hzaWEgPSBcIiNmZjAwZmZcIjtcbnZhciBnYWluc2Jvcm8gPSBcIiNkY2RjZGNcIjtcbnZhciBnaG9zdHdoaXRlID0gXCIjZjhmOGZmXCI7XG52YXIgZ29sZGVucm9kID0gXCIjZGFhNTIwXCI7XG52YXIgZ29sZCA9IFwiI2ZmZDcwMFwiO1xudmFyIGdyYXkgPSBcIiM4MDgwODBcIjtcbnZhciBncmVlbiA9IFwiIzAwODAwMFwiO1xudmFyIGdyZWVueWVsbG93ID0gXCIjYWRmZjJmXCI7XG52YXIgZ3JleSA9IFwiIzgwODA4MFwiO1xudmFyIGhvbmV5ZGV3ID0gXCIjZjBmZmYwXCI7XG52YXIgaG90cGluayA9IFwiI2ZmNjliNFwiO1xudmFyIGluZGlhbnJlZCA9IFwiI2NkNWM1Y1wiO1xudmFyIGluZGlnbyA9IFwiIzRiMDA4MlwiO1xudmFyIGl2b3J5ID0gXCIjZmZmZmYwXCI7XG52YXIga2hha2kgPSBcIiNmMGU2OGNcIjtcbnZhciBsYXZlbmRlcmJsdXNoID0gXCIjZmZmMGY1XCI7XG52YXIgbGF2ZW5kZXIgPSBcIiNlNmU2ZmFcIjtcbnZhciBsYXduZ3JlZW4gPSBcIiM3Y2ZjMDBcIjtcbnZhciBsZW1vbmNoaWZmb24gPSBcIiNmZmZhY2RcIjtcbnZhciBsaWdodGJsdWUgPSBcIiNhZGQ4ZTZcIjtcbnZhciBsaWdodGNvcmFsID0gXCIjZjA4MDgwXCI7XG52YXIgbGlnaHRjeWFuID0gXCIjZTBmZmZmXCI7XG52YXIgbGlnaHRnb2xkZW5yb2R5ZWxsb3cgPSBcIiNmYWZhZDJcIjtcbnZhciBsaWdodGdyYXkgPSBcIiNkM2QzZDNcIjtcbnZhciBsaWdodGdyZWVuID0gXCIjOTBlZTkwXCI7XG52YXIgbGlnaHRncmV5ID0gXCIjZDNkM2QzXCI7XG52YXIgbGlnaHRwaW5rID0gXCIjZmZiNmMxXCI7XG52YXIgbGlnaHRzYWxtb24gPSBcIiNmZmEwN2FcIjtcbnZhciBsaWdodHNlYWdyZWVuID0gXCIjMjBiMmFhXCI7XG52YXIgbGlnaHRza3libHVlID0gXCIjODdjZWZhXCI7XG52YXIgbGlnaHRzbGF0ZWdyYXkgPSBcIiM3Nzg4OTlcIjtcbnZhciBsaWdodHNsYXRlZ3JleSA9IFwiIzc3ODg5OVwiO1xudmFyIGxpZ2h0c3RlZWxibHVlID0gXCIjYjBjNGRlXCI7XG52YXIgbGlnaHR5ZWxsb3cgPSBcIiNmZmZmZTBcIjtcbnZhciBsaW1lID0gXCIjMDBmZjAwXCI7XG52YXIgbGltZWdyZWVuID0gXCIjMzJjZDMyXCI7XG52YXIgbGluZW4gPSBcIiNmYWYwZTZcIjtcbnZhciBtYWdlbnRhID0gXCIjZmYwMGZmXCI7XG52YXIgbWFyb29uID0gXCIjODAwMDAwXCI7XG52YXIgbWVkaXVtYXF1YW1hcmluZSA9IFwiIzY2Y2RhYVwiO1xudmFyIG1lZGl1bWJsdWUgPSBcIiMwMDAwY2RcIjtcbnZhciBtZWRpdW1vcmNoaWQgPSBcIiNiYTU1ZDNcIjtcbnZhciBtZWRpdW1wdXJwbGUgPSBcIiM5MzcwZGJcIjtcbnZhciBtZWRpdW1zZWFncmVlbiA9IFwiIzNjYjM3MVwiO1xudmFyIG1lZGl1bXNsYXRlYmx1ZSA9IFwiIzdiNjhlZVwiO1xudmFyIG1lZGl1bXNwcmluZ2dyZWVuID0gXCIjMDBmYTlhXCI7XG52YXIgbWVkaXVtdHVycXVvaXNlID0gXCIjNDhkMWNjXCI7XG52YXIgbWVkaXVtdmlvbGV0cmVkID0gXCIjYzcxNTg1XCI7XG52YXIgbWlkbmlnaHRibHVlID0gXCIjMTkxOTcwXCI7XG52YXIgbWludGNyZWFtID0gXCIjZjVmZmZhXCI7XG52YXIgbWlzdHlyb3NlID0gXCIjZmZlNGUxXCI7XG52YXIgbW9jY2FzaW4gPSBcIiNmZmU0YjVcIjtcbnZhciBuYXZham93aGl0ZSA9IFwiI2ZmZGVhZFwiO1xudmFyIG5hdnkgPSBcIiMwMDAwODBcIjtcbnZhciBvbGRsYWNlID0gXCIjZmRmNWU2XCI7XG52YXIgb2xpdmUgPSBcIiM4MDgwMDBcIjtcbnZhciBvbGl2ZWRyYWIgPSBcIiM2YjhlMjNcIjtcbnZhciBvcmFuZ2UgPSBcIiNmZmE1MDBcIjtcbnZhciBvcmFuZ2VyZWQgPSBcIiNmZjQ1MDBcIjtcbnZhciBvcmNoaWQgPSBcIiNkYTcwZDZcIjtcbnZhciBwYWxlZ29sZGVucm9kID0gXCIjZWVlOGFhXCI7XG52YXIgcGFsZWdyZWVuID0gXCIjOThmYjk4XCI7XG52YXIgcGFsZXR1cnF1b2lzZSA9IFwiI2FmZWVlZVwiO1xudmFyIHBhbGV2aW9sZXRyZWQgPSBcIiNkYjcwOTNcIjtcbnZhciBwYXBheWF3aGlwID0gXCIjZmZlZmQ1XCI7XG52YXIgcGVhY2hwdWZmID0gXCIjZmZkYWI5XCI7XG52YXIgcGVydSA9IFwiI2NkODUzZlwiO1xudmFyIHBpbmsgPSBcIiNmZmMwY2JcIjtcbnZhciBwbHVtID0gXCIjZGRhMGRkXCI7XG52YXIgcG93ZGVyYmx1ZSA9IFwiI2IwZTBlNlwiO1xudmFyIHB1cnBsZSA9IFwiIzgwMDA4MFwiO1xudmFyIHJlYmVjY2FwdXJwbGUgPSBcIiM2NjMzOTlcIjtcbnZhciByZWQgPSBcIiNmZjAwMDBcIjtcbnZhciByb3N5YnJvd24gPSBcIiNiYzhmOGZcIjtcbnZhciByb3lhbGJsdWUgPSBcIiM0MTY5ZTFcIjtcbnZhciBzYWRkbGVicm93biA9IFwiIzhiNDUxM1wiO1xudmFyIHNhbG1vbiA9IFwiI2ZhODA3MlwiO1xudmFyIHNhbmR5YnJvd24gPSBcIiNmNGE0NjBcIjtcbnZhciBzZWFncmVlbiA9IFwiIzJlOGI1N1wiO1xudmFyIHNlYXNoZWxsID0gXCIjZmZmNWVlXCI7XG52YXIgc2llbm5hID0gXCIjYTA1MjJkXCI7XG52YXIgc2lsdmVyID0gXCIjYzBjMGMwXCI7XG52YXIgc2t5Ymx1ZSA9IFwiIzg3Y2VlYlwiO1xudmFyIHNsYXRlYmx1ZSA9IFwiIzZhNWFjZFwiO1xudmFyIHNsYXRlZ3JheSA9IFwiIzcwODA5MFwiO1xudmFyIHNsYXRlZ3JleSA9IFwiIzcwODA5MFwiO1xudmFyIHNub3cgPSBcIiNmZmZhZmFcIjtcbnZhciBzcHJpbmdncmVlbiA9IFwiIzAwZmY3ZlwiO1xudmFyIHN0ZWVsYmx1ZSA9IFwiIzQ2ODJiNFwiO1xudmFyIHRhbiA9IFwiI2QyYjQ4Y1wiO1xudmFyIHRlYWwgPSBcIiMwMDgwODBcIjtcbnZhciB0aGlzdGxlID0gXCIjZDhiZmQ4XCI7XG52YXIgdG9tYXRvID0gXCIjZmY2MzQ3XCI7XG52YXIgdHVycXVvaXNlID0gXCIjNDBlMGQwXCI7XG52YXIgdmlvbGV0ID0gXCIjZWU4MmVlXCI7XG52YXIgd2hlYXQgPSBcIiNmNWRlYjNcIjtcbnZhciB3aGl0ZSA9IFwiI2ZmZmZmZlwiO1xudmFyIHdoaXRlc21va2UgPSBcIiNmNWY1ZjVcIjtcbnZhciB5ZWxsb3cgPSBcIiNmZmZmMDBcIjtcbnZhciB5ZWxsb3dncmVlbiA9IFwiIzlhY2QzMlwiO1xudmFyIGNzc0NvbG9yTmFtZXMgPSB7XG5cdGFsaWNlYmx1ZTogYWxpY2VibHVlLFxuXHRhbnRpcXVld2hpdGU6IGFudGlxdWV3aGl0ZSxcblx0YXF1YTogYXF1YSxcblx0YXF1YW1hcmluZTogYXF1YW1hcmluZSxcblx0YXp1cmU6IGF6dXJlLFxuXHRiZWlnZTogYmVpZ2UsXG5cdGJpc3F1ZTogYmlzcXVlLFxuXHRibGFjazogYmxhY2ssXG5cdGJsYW5jaGVkYWxtb25kOiBibGFuY2hlZGFsbW9uZCxcblx0Ymx1ZTogYmx1ZSxcblx0Ymx1ZXZpb2xldDogYmx1ZXZpb2xldCxcblx0YnJvd246IGJyb3duLFxuXHRidXJseXdvb2Q6IGJ1cmx5d29vZCxcblx0Y2FkZXRibHVlOiBjYWRldGJsdWUsXG5cdGNoYXJ0cmV1c2U6IGNoYXJ0cmV1c2UsXG5cdGNob2NvbGF0ZTogY2hvY29sYXRlLFxuXHRjb3JhbDogY29yYWwsXG5cdGNvcm5mbG93ZXJibHVlOiBjb3JuZmxvd2VyYmx1ZSxcblx0Y29ybnNpbGs6IGNvcm5zaWxrLFxuXHRjcmltc29uOiBjcmltc29uLFxuXHRjeWFuOiBjeWFuLFxuXHRkYXJrYmx1ZTogZGFya2JsdWUsXG5cdGRhcmtjeWFuOiBkYXJrY3lhbixcblx0ZGFya2dvbGRlbnJvZDogZGFya2dvbGRlbnJvZCxcblx0ZGFya2dyYXk6IGRhcmtncmF5LFxuXHRkYXJrZ3JlZW46IGRhcmtncmVlbixcblx0ZGFya2dyZXk6IGRhcmtncmV5LFxuXHRkYXJra2hha2k6IGRhcmtraGFraSxcblx0ZGFya21hZ2VudGE6IGRhcmttYWdlbnRhLFxuXHRkYXJrb2xpdmVncmVlbjogZGFya29saXZlZ3JlZW4sXG5cdGRhcmtvcmFuZ2U6IGRhcmtvcmFuZ2UsXG5cdGRhcmtvcmNoaWQ6IGRhcmtvcmNoaWQsXG5cdGRhcmtyZWQ6IGRhcmtyZWQsXG5cdGRhcmtzYWxtb246IGRhcmtzYWxtb24sXG5cdGRhcmtzZWFncmVlbjogZGFya3NlYWdyZWVuLFxuXHRkYXJrc2xhdGVibHVlOiBkYXJrc2xhdGVibHVlLFxuXHRkYXJrc2xhdGVncmF5OiBkYXJrc2xhdGVncmF5LFxuXHRkYXJrc2xhdGVncmV5OiBkYXJrc2xhdGVncmV5LFxuXHRkYXJrdHVycXVvaXNlOiBkYXJrdHVycXVvaXNlLFxuXHRkYXJrdmlvbGV0OiBkYXJrdmlvbGV0LFxuXHRkZWVwcGluazogZGVlcHBpbmssXG5cdGRlZXBza3libHVlOiBkZWVwc2t5Ymx1ZSxcblx0ZGltZ3JheTogZGltZ3JheSxcblx0ZGltZ3JleTogZGltZ3JleSxcblx0ZG9kZ2VyYmx1ZTogZG9kZ2VyYmx1ZSxcblx0ZmlyZWJyaWNrOiBmaXJlYnJpY2ssXG5cdGZsb3JhbHdoaXRlOiBmbG9yYWx3aGl0ZSxcblx0Zm9yZXN0Z3JlZW46IGZvcmVzdGdyZWVuLFxuXHRmdWNoc2lhOiBmdWNoc2lhLFxuXHRnYWluc2Jvcm86IGdhaW5zYm9ybyxcblx0Z2hvc3R3aGl0ZTogZ2hvc3R3aGl0ZSxcblx0Z29sZGVucm9kOiBnb2xkZW5yb2QsXG5cdGdvbGQ6IGdvbGQsXG5cdGdyYXk6IGdyYXksXG5cdGdyZWVuOiBncmVlbixcblx0Z3JlZW55ZWxsb3c6IGdyZWVueWVsbG93LFxuXHRncmV5OiBncmV5LFxuXHRob25leWRldzogaG9uZXlkZXcsXG5cdGhvdHBpbms6IGhvdHBpbmssXG5cdGluZGlhbnJlZDogaW5kaWFucmVkLFxuXHRpbmRpZ286IGluZGlnbyxcblx0aXZvcnk6IGl2b3J5LFxuXHRraGFraToga2hha2ksXG5cdGxhdmVuZGVyYmx1c2g6IGxhdmVuZGVyYmx1c2gsXG5cdGxhdmVuZGVyOiBsYXZlbmRlcixcblx0bGF3bmdyZWVuOiBsYXduZ3JlZW4sXG5cdGxlbW9uY2hpZmZvbjogbGVtb25jaGlmZm9uLFxuXHRsaWdodGJsdWU6IGxpZ2h0Ymx1ZSxcblx0bGlnaHRjb3JhbDogbGlnaHRjb3JhbCxcblx0bGlnaHRjeWFuOiBsaWdodGN5YW4sXG5cdGxpZ2h0Z29sZGVucm9keWVsbG93OiBsaWdodGdvbGRlbnJvZHllbGxvdyxcblx0bGlnaHRncmF5OiBsaWdodGdyYXksXG5cdGxpZ2h0Z3JlZW46IGxpZ2h0Z3JlZW4sXG5cdGxpZ2h0Z3JleTogbGlnaHRncmV5LFxuXHRsaWdodHBpbms6IGxpZ2h0cGluayxcblx0bGlnaHRzYWxtb246IGxpZ2h0c2FsbW9uLFxuXHRsaWdodHNlYWdyZWVuOiBsaWdodHNlYWdyZWVuLFxuXHRsaWdodHNreWJsdWU6IGxpZ2h0c2t5Ymx1ZSxcblx0bGlnaHRzbGF0ZWdyYXk6IGxpZ2h0c2xhdGVncmF5LFxuXHRsaWdodHNsYXRlZ3JleTogbGlnaHRzbGF0ZWdyZXksXG5cdGxpZ2h0c3RlZWxibHVlOiBsaWdodHN0ZWVsYmx1ZSxcblx0bGlnaHR5ZWxsb3c6IGxpZ2h0eWVsbG93LFxuXHRsaW1lOiBsaW1lLFxuXHRsaW1lZ3JlZW46IGxpbWVncmVlbixcblx0bGluZW46IGxpbmVuLFxuXHRtYWdlbnRhOiBtYWdlbnRhLFxuXHRtYXJvb246IG1hcm9vbixcblx0bWVkaXVtYXF1YW1hcmluZTogbWVkaXVtYXF1YW1hcmluZSxcblx0bWVkaXVtYmx1ZTogbWVkaXVtYmx1ZSxcblx0bWVkaXVtb3JjaGlkOiBtZWRpdW1vcmNoaWQsXG5cdG1lZGl1bXB1cnBsZTogbWVkaXVtcHVycGxlLFxuXHRtZWRpdW1zZWFncmVlbjogbWVkaXVtc2VhZ3JlZW4sXG5cdG1lZGl1bXNsYXRlYmx1ZTogbWVkaXVtc2xhdGVibHVlLFxuXHRtZWRpdW1zcHJpbmdncmVlbjogbWVkaXVtc3ByaW5nZ3JlZW4sXG5cdG1lZGl1bXR1cnF1b2lzZTogbWVkaXVtdHVycXVvaXNlLFxuXHRtZWRpdW12aW9sZXRyZWQ6IG1lZGl1bXZpb2xldHJlZCxcblx0bWlkbmlnaHRibHVlOiBtaWRuaWdodGJsdWUsXG5cdG1pbnRjcmVhbTogbWludGNyZWFtLFxuXHRtaXN0eXJvc2U6IG1pc3R5cm9zZSxcblx0bW9jY2FzaW46IG1vY2Nhc2luLFxuXHRuYXZham93aGl0ZTogbmF2YWpvd2hpdGUsXG5cdG5hdnk6IG5hdnksXG5cdG9sZGxhY2U6IG9sZGxhY2UsXG5cdG9saXZlOiBvbGl2ZSxcblx0b2xpdmVkcmFiOiBvbGl2ZWRyYWIsXG5cdG9yYW5nZTogb3JhbmdlLFxuXHRvcmFuZ2VyZWQ6IG9yYW5nZXJlZCxcblx0b3JjaGlkOiBvcmNoaWQsXG5cdHBhbGVnb2xkZW5yb2Q6IHBhbGVnb2xkZW5yb2QsXG5cdHBhbGVncmVlbjogcGFsZWdyZWVuLFxuXHRwYWxldHVycXVvaXNlOiBwYWxldHVycXVvaXNlLFxuXHRwYWxldmlvbGV0cmVkOiBwYWxldmlvbGV0cmVkLFxuXHRwYXBheWF3aGlwOiBwYXBheWF3aGlwLFxuXHRwZWFjaHB1ZmY6IHBlYWNocHVmZixcblx0cGVydTogcGVydSxcblx0cGluazogcGluayxcblx0cGx1bTogcGx1bSxcblx0cG93ZGVyYmx1ZTogcG93ZGVyYmx1ZSxcblx0cHVycGxlOiBwdXJwbGUsXG5cdHJlYmVjY2FwdXJwbGU6IHJlYmVjY2FwdXJwbGUsXG5cdHJlZDogcmVkLFxuXHRyb3N5YnJvd246IHJvc3licm93bixcblx0cm95YWxibHVlOiByb3lhbGJsdWUsXG5cdHNhZGRsZWJyb3duOiBzYWRkbGVicm93bixcblx0c2FsbW9uOiBzYWxtb24sXG5cdHNhbmR5YnJvd246IHNhbmR5YnJvd24sXG5cdHNlYWdyZWVuOiBzZWFncmVlbixcblx0c2Vhc2hlbGw6IHNlYXNoZWxsLFxuXHRzaWVubmE6IHNpZW5uYSxcblx0c2lsdmVyOiBzaWx2ZXIsXG5cdHNreWJsdWU6IHNreWJsdWUsXG5cdHNsYXRlYmx1ZTogc2xhdGVibHVlLFxuXHRzbGF0ZWdyYXk6IHNsYXRlZ3JheSxcblx0c2xhdGVncmV5OiBzbGF0ZWdyZXksXG5cdHNub3c6IHNub3csXG5cdHNwcmluZ2dyZWVuOiBzcHJpbmdncmVlbixcblx0c3RlZWxibHVlOiBzdGVlbGJsdWUsXG5cdHRhbjogdGFuLFxuXHR0ZWFsOiB0ZWFsLFxuXHR0aGlzdGxlOiB0aGlzdGxlLFxuXHR0b21hdG86IHRvbWF0byxcblx0dHVycXVvaXNlOiB0dXJxdW9pc2UsXG5cdHZpb2xldDogdmlvbGV0LFxuXHR3aGVhdDogd2hlYXQsXG5cdHdoaXRlOiB3aGl0ZSxcblx0d2hpdGVzbW9rZTogd2hpdGVzbW9rZSxcblx0eWVsbG93OiB5ZWxsb3csXG5cdHllbGxvd2dyZWVuOiB5ZWxsb3dncmVlblxufTtcblxuZXhwb3J0IHsgYWxpY2VibHVlLCBhbnRpcXVld2hpdGUsIGFxdWEsIGFxdWFtYXJpbmUsIGF6dXJlLCBiZWlnZSwgYmlzcXVlLCBibGFjaywgYmxhbmNoZWRhbG1vbmQsIGJsdWUsIGJsdWV2aW9sZXQsIGJyb3duLCBidXJseXdvb2QsIGNhZGV0Ymx1ZSwgY2hhcnRyZXVzZSwgY2hvY29sYXRlLCBjb3JhbCwgY29ybmZsb3dlcmJsdWUsIGNvcm5zaWxrLCBjcmltc29uLCBjeWFuLCBkYXJrYmx1ZSwgZGFya2N5YW4sIGRhcmtnb2xkZW5yb2QsIGRhcmtncmF5LCBkYXJrZ3JlZW4sIGRhcmtncmV5LCBkYXJra2hha2ksIGRhcmttYWdlbnRhLCBkYXJrb2xpdmVncmVlbiwgZGFya29yYW5nZSwgZGFya29yY2hpZCwgZGFya3JlZCwgZGFya3NhbG1vbiwgZGFya3NlYWdyZWVuLCBkYXJrc2xhdGVibHVlLCBkYXJrc2xhdGVncmF5LCBkYXJrc2xhdGVncmV5LCBkYXJrdHVycXVvaXNlLCBkYXJrdmlvbGV0LCBkZWVwcGluaywgZGVlcHNreWJsdWUsIGNzc0NvbG9yTmFtZXMgYXMgZGVmYXVsdCwgZGltZ3JheSwgZGltZ3JleSwgZG9kZ2VyYmx1ZSwgZmlyZWJyaWNrLCBmbG9yYWx3aGl0ZSwgZm9yZXN0Z3JlZW4sIGZ1Y2hzaWEsIGdhaW5zYm9ybywgZ2hvc3R3aGl0ZSwgZ29sZCwgZ29sZGVucm9kLCBncmF5LCBncmVlbiwgZ3JlZW55ZWxsb3csIGdyZXksIGhvbmV5ZGV3LCBob3RwaW5rLCBpbmRpYW5yZWQsIGluZGlnbywgaXZvcnksIGtoYWtpLCBsYXZlbmRlciwgbGF2ZW5kZXJibHVzaCwgbGF3bmdyZWVuLCBsZW1vbmNoaWZmb24sIGxpZ2h0Ymx1ZSwgbGlnaHRjb3JhbCwgbGlnaHRjeWFuLCBsaWdodGdvbGRlbnJvZHllbGxvdywgbGlnaHRncmF5LCBsaWdodGdyZWVuLCBsaWdodGdyZXksIGxpZ2h0cGluaywgbGlnaHRzYWxtb24sIGxpZ2h0c2VhZ3JlZW4sIGxpZ2h0c2t5Ymx1ZSwgbGlnaHRzbGF0ZWdyYXksIGxpZ2h0c2xhdGVncmV5LCBsaWdodHN0ZWVsYmx1ZSwgbGlnaHR5ZWxsb3csIGxpbWUsIGxpbWVncmVlbiwgbGluZW4sIG1hZ2VudGEsIG1hcm9vbiwgbWVkaXVtYXF1YW1hcmluZSwgbWVkaXVtYmx1ZSwgbWVkaXVtb3JjaGlkLCBtZWRpdW1wdXJwbGUsIG1lZGl1bXNlYWdyZWVuLCBtZWRpdW1zbGF0ZWJsdWUsIG1lZGl1bXNwcmluZ2dyZWVuLCBtZWRpdW10dXJxdW9pc2UsIG1lZGl1bXZpb2xldHJlZCwgbWlkbmlnaHRibHVlLCBtaW50Y3JlYW0sIG1pc3R5cm9zZSwgbW9jY2FzaW4sIG5hdmFqb3doaXRlLCBuYXZ5LCBvbGRsYWNlLCBvbGl2ZSwgb2xpdmVkcmFiLCBvcmFuZ2UsIG9yYW5nZXJlZCwgb3JjaGlkLCBwYWxlZ29sZGVucm9kLCBwYWxlZ3JlZW4sIHBhbGV0dXJxdW9pc2UsIHBhbGV2aW9sZXRyZWQsIHBhcGF5YXdoaXAsIHBlYWNocHVmZiwgcGVydSwgcGluaywgcGx1bSwgcG93ZGVyYmx1ZSwgcHVycGxlLCByZWJlY2NhcHVycGxlLCByZWQsIHJvc3licm93biwgcm95YWxibHVlLCBzYWRkbGVicm93biwgc2FsbW9uLCBzYW5keWJyb3duLCBzZWFncmVlbiwgc2Vhc2hlbGwsIHNpZW5uYSwgc2lsdmVyLCBza3libHVlLCBzbGF0ZWJsdWUsIHNsYXRlZ3JheSwgc2xhdGVncmV5LCBzbm93LCBzcHJpbmdncmVlbiwgc3RlZWxibHVlLCB0YW4sIHRlYWwsIHRoaXN0bGUsIHRvbWF0bywgdHVycXVvaXNlLCB2aW9sZXQsIHdoZWF0LCB3aGl0ZSwgd2hpdGVzbW9rZSwgeWVsbG93LCB5ZWxsb3dncmVlbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLWNvbG9yLW5hbWVzLm1qcy5tYXBcbiIsImV4cG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudGVtaXR0ZXIzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZWFyY3V0IH0gZnJvbSAnZWFyY3V0JztcbmV4cG9ydCB7IHVybCB9IGZyb20gJy4vdXJsLm1qcyc7XG5leHBvcnQgeyBwYXRoIH0gZnJvbSAnLi9wYXRoLm1qcyc7XG5pbXBvcnQgJy4vc2V0dGluZ3MubWpzJztcbmV4cG9ydCB7IHNheUhlbGxvLCBza2lwSGVsbG8gfSBmcm9tICcuL2Jyb3dzZXIvaGVsbG8ubWpzJztcbmV4cG9ydCB7IGlzV2ViR0xTdXBwb3J0ZWQgfSBmcm9tICcuL2Jyb3dzZXIvaXNXZWJHTFN1cHBvcnRlZC5tanMnO1xuZXhwb3J0IHsgaGV4MnJnYiwgaGV4MnN0cmluZywgcmdiMmhleCwgc3RyaW5nMmhleCB9IGZyb20gJy4vY29sb3IvaGV4Lm1qcyc7XG5leHBvcnQgeyBjb3JyZWN0QmxlbmRNb2RlLCBwcmVtdWx0aXBseUJsZW5kTW9kZSwgcHJlbXVsdGlwbHlSZ2JhLCBwcmVtdWx0aXBseVRpbnQsIHByZW11bHRpcGx5VGludFRvUmdiYSB9IGZyb20gJy4vY29sb3IvcHJlbXVsdGlwbHkubWpzJztcbmV4cG9ydCB7IGNyZWF0ZUluZGljZXNGb3JRdWFkcyB9IGZyb20gJy4vZGF0YS9jcmVhdGVJbmRpY2VzRm9yUXVhZHMubWpzJztcbmV4cG9ydCB7IGdldEJ1ZmZlclR5cGUgfSBmcm9tICcuL2RhdGEvZ2V0QnVmZmVyVHlwZS5tanMnO1xuZXhwb3J0IHsgaW50ZXJsZWF2ZVR5cGVkQXJyYXlzIH0gZnJvbSAnLi9kYXRhL2ludGVybGVhdmVUeXBlZEFycmF5cy5tanMnO1xuZXhwb3J0IHsgaXNQb3cyLCBsb2cyLCBuZXh0UG93MiB9IGZyb20gJy4vZGF0YS9wb3cyLm1qcyc7XG5leHBvcnQgeyByZW1vdmVJdGVtcyB9IGZyb20gJy4vZGF0YS9yZW1vdmVJdGVtcy5tanMnO1xuZXhwb3J0IHsgc2lnbiB9IGZyb20gJy4vZGF0YS9zaWduLm1qcyc7XG5leHBvcnQgeyB1aWQgfSBmcm9tICcuL2RhdGEvdWlkLm1qcyc7XG5leHBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJy4vbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuZXhwb3J0IHsgQmFzZVRleHR1cmVDYWNoZSwgUHJvZ3JhbUNhY2hlLCBUZXh0dXJlQ2FjaGUsIGNsZWFyVGV4dHVyZUNhY2hlLCBkZXN0cm95VGV4dHVyZUNhY2hlIH0gZnJvbSAnLi9tZWRpYS9jYWNoZXMubWpzJztcbmV4cG9ydCB7IENhbnZhc1JlbmRlclRhcmdldCB9IGZyb20gJy4vbWVkaWEvQ2FudmFzUmVuZGVyVGFyZ2V0Lm1qcyc7XG5leHBvcnQgeyB0cmltQ2FudmFzIH0gZnJvbSAnLi9tZWRpYS90cmltQ2FudmFzLm1qcyc7XG5leHBvcnQgeyBkZWNvbXBvc2VEYXRhVXJpIH0gZnJvbSAnLi9uZXR3b3JrL2RlY29tcG9zZURhdGFVcmkubWpzJztcbmV4cG9ydCB7IGRldGVybWluZUNyb3NzT3JpZ2luIH0gZnJvbSAnLi9uZXR3b3JrL2RldGVybWluZUNyb3NzT3JpZ2luLm1qcyc7XG5leHBvcnQgeyBnZXRSZXNvbHV0aW9uT2ZVcmwgfSBmcm9tICcuL25ldHdvcmsvZ2V0UmVzb2x1dGlvbk9mVXJsLm1qcyc7XG5leHBvcnQgeyBEQVRBX1VSSSB9IGZyb20gJy4vY29uc3QubWpzJztcbmltcG9ydCAnLi90eXBlcy9pbmRleC5tanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiY29uc3Qgd2FybmluZ3MgPSB7fTtcbmZ1bmN0aW9uIGRlcHJlY2F0aW9uKHZlcnNpb24sIG1lc3NhZ2UsIGlnbm9yZURlcHRoID0gMykge1xuICBpZiAod2FybmluZ3NbbWVzc2FnZV0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gIGlmICh0eXBlb2Ygc3RhY2sgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjb25zb2xlLndhcm4oXCJQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogXCIsIGAke21lc3NhZ2V9XG5EZXByZWNhdGVkIHNpbmNlIHYke3ZlcnNpb259YCk7XG4gIH0gZWxzZSB7XG4gICAgc3RhY2sgPSBzdGFjay5zcGxpdChcIlxcblwiKS5zcGxpY2UoaWdub3JlRGVwdGgpLmpvaW4oXCJcXG5cIik7XG4gICAgaWYgKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQpIHtcbiAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXCIlY1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAlYyVzXCIsIFwiY29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTZcIiwgXCJmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTZcIiwgYCR7bWVzc2FnZX1cbkRlcHJlY2F0ZWQgc2luY2UgdiR7dmVyc2lvbn1gKTtcbiAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlBpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiBcIiwgYCR7bWVzc2FnZX1cbkRlcHJlY2F0ZWQgc2luY2UgdiR7dmVyc2lvbn1gKTtcbiAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgfVxuICB9XG4gIHdhcm5pbmdzW21lc3NhZ2VdID0gdHJ1ZTtcbn1cblxuZXhwb3J0IHsgZGVwcmVjYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlcHJlY2F0aW9uLm1qcy5tYXBcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG5jbGFzcyBDYW52YXNSZW5kZXJUYXJnZXQge1xuICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgdGhpcy5jYW52YXMgPSBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICB9XG4gIHJlc2l6ZShkZXNpcmVkV2lkdGgsIGRlc2lyZWRIZWlnaHQpIHtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGgucm91bmQoZGVzaXJlZFdpZHRoICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLnJvdW5kKGRlc2lyZWRIZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gIH1cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcbiAgfVxuICBzZXQgd2lkdGgodmFsKSB7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLnJvdW5kKHZhbCk7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICB9XG4gIHNldCBoZWlnaHQodmFsKSB7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5yb3VuZCh2YWwpO1xuICB9XG59XG5cbmV4cG9ydCB7IENhbnZhc1JlbmRlclRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzUmVuZGVyVGFyZ2V0Lm1qcy5tYXBcbiIsImNvbnN0IFByb2dyYW1DYWNoZSA9IHt9O1xuY29uc3QgVGV4dHVyZUNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCBCYXNlVGV4dHVyZUNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlKCkge1xuICBsZXQga2V5O1xuICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gIH1cbiAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgIEJhc2VUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlKCkge1xuICBsZXQga2V5O1xuICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICBkZWxldGUgVGV4dHVyZUNhY2hlW2tleV07XG4gIH1cbiAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gIH1cbn1cblxuZXhwb3J0IHsgQmFzZVRleHR1cmVDYWNoZSwgUHJvZ3JhbUNhY2hlLCBUZXh0dXJlQ2FjaGUsIGNsZWFyVGV4dHVyZUNhY2hlLCBkZXN0cm95VGV4dHVyZUNhY2hlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWNoZXMubWpzLm1hcFxuIiwiZnVuY3Rpb24gY2hlY2tSb3coZGF0YSwgd2lkdGgsIHkpIHtcbiAgZm9yIChsZXQgeCA9IDAsIGluZGV4ID0gNCAqIHkgKiB3aWR0aDsgeCA8IHdpZHRoOyArK3gsIGluZGV4ICs9IDQpIHtcbiAgICBpZiAoZGF0YVtpbmRleCArIDNdICE9PSAwKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gY2hlY2tDb2x1bW4oZGF0YSwgd2lkdGgsIHgsIHRvcCwgYm90dG9tKSB7XG4gIGNvbnN0IHN0cmlkZSA9IDQgKiB3aWR0aDtcbiAgZm9yIChsZXQgeSA9IHRvcCwgaW5kZXggPSB0b3AgKiBzdHJpZGUgKyA0ICogeDsgeSA8PSBib3R0b207ICsreSwgaW5kZXggKz0gc3RyaWRlKSB7XG4gICAgaWYgKGRhdGFbaW5kZXggKyAzXSAhPT0gMClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHRyaW1DYW52YXMoY2FudmFzKSB7XG4gIGxldCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNhbnZhcztcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiwge1xuICAgIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZVxuICB9KTtcbiAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIGNvbnN0IGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcbiAgbGV0IHRvcCA9IDA7XG4gIGxldCBib3R0b20gPSBoZWlnaHQgLSAxO1xuICBsZXQgbGVmdCA9IDA7XG4gIGxldCByaWdodCA9IHdpZHRoIC0gMTtcbiAgd2hpbGUgKHRvcCA8IGhlaWdodCAmJiBjaGVja1JvdyhkYXRhLCB3aWR0aCwgdG9wKSlcbiAgICArK3RvcDtcbiAgaWYgKHRvcCA9PT0gaGVpZ2h0KSB7XG4gICAgcmV0dXJuIHsgd2lkdGg6IDAsIGhlaWdodDogMCwgZGF0YTogbnVsbCB9O1xuICB9XG4gIHdoaWxlIChjaGVja1JvdyhkYXRhLCB3aWR0aCwgYm90dG9tKSlcbiAgICAtLWJvdHRvbTtcbiAgd2hpbGUgKGNoZWNrQ29sdW1uKGRhdGEsIHdpZHRoLCBsZWZ0LCB0b3AsIGJvdHRvbSkpXG4gICAgKytsZWZ0O1xuICB3aGlsZSAoY2hlY2tDb2x1bW4oZGF0YSwgd2lkdGgsIHJpZ2h0LCB0b3AsIGJvdHRvbSkpXG4gICAgLS1yaWdodDtcbiAgd2lkdGggPSByaWdodCAtIGxlZnQgKyAxO1xuICBoZWlnaHQgPSBib3R0b20gLSB0b3AgKyAxO1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBkYXRhOiBjb250ZXh0LmdldEltYWdlRGF0YShsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpXG4gIH07XG59XG5cbmV4cG9ydCB7IHRyaW1DYW52YXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyaW1DYW52YXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgREFUQV9VUkkgfSBmcm9tICcuLi9jb25zdC5tanMnO1xuXG5mdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpKGRhdGFVcmkpIHtcbiAgY29uc3QgZGF0YVVyaU1hdGNoID0gREFUQV9VUkkuZXhlYyhkYXRhVXJpKTtcbiAgaWYgKGRhdGFVcmlNYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICBtZWRpYVR5cGU6IGRhdGFVcmlNYXRjaFsxXSA/IGRhdGFVcmlNYXRjaFsxXS50b0xvd2VyQ2FzZSgpIDogdm9pZCAwLFxuICAgICAgc3ViVHlwZTogZGF0YVVyaU1hdGNoWzJdID8gZGF0YVVyaU1hdGNoWzJdLnRvTG93ZXJDYXNlKCkgOiB2b2lkIDAsXG4gICAgICBjaGFyc2V0OiBkYXRhVXJpTWF0Y2hbM10gPyBkYXRhVXJpTWF0Y2hbM10udG9Mb3dlckNhc2UoKSA6IHZvaWQgMCxcbiAgICAgIGVuY29kaW5nOiBkYXRhVXJpTWF0Y2hbNF0gPyBkYXRhVXJpTWF0Y2hbNF0udG9Mb3dlckNhc2UoKSA6IHZvaWQgMCxcbiAgICAgIGRhdGE6IGRhdGFVcmlNYXRjaFs1XVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cblxuZXhwb3J0IHsgZGVjb21wb3NlRGF0YVVyaSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb21wb3NlRGF0YVVyaS5tanMubWFwXG4iLCJpbXBvcnQgeyB1cmwgfSBmcm9tICcuLi91cmwubWpzJztcblxubGV0IHRlbXBBbmNob3I7XG5mdW5jdGlvbiBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwkMSwgbG9jID0gZ2xvYmFsVGhpcy5sb2NhdGlvbikge1xuICBpZiAodXJsJDEuc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgbG9jID0gbG9jIHx8IGdsb2JhbFRoaXMubG9jYXRpb247XG4gIGlmICghdGVtcEFuY2hvcikge1xuICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgfVxuICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmwkMTtcbiAgY29uc3QgcGFyc2VkVXJsID0gdXJsLnBhcnNlKHRlbXBBbmNob3IuaHJlZik7XG4gIGNvbnN0IHNhbWVQb3J0ID0gIXBhcnNlZFVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSBcIlwiIHx8IHBhcnNlZFVybC5wb3J0ID09PSBsb2MucG9ydDtcbiAgaWYgKHBhcnNlZFVybC5ob3N0bmFtZSAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwYXJzZWRVcmwucHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgIHJldHVybiBcImFub255bW91c1wiO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuXG5leHBvcnQgeyBkZXRlcm1pbmVDcm9zc09yaWdpbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4ubWpzLm1hcFxuIiwiaW1wb3J0ICcuLi9zZXR0aW5ncy5tanMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybCh1cmwsIGRlZmF1bHRWYWx1ZSA9IDEpIHtcbiAgY29uc3QgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFVElOQV9QUkVGSVguZXhlYyh1cmwpO1xuICBpZiAocmVzb2x1dGlvbikge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHJlc29sdXRpb25bMV0pO1xuICB9XG4gIHJldHVybiBkZWZhdWx0VmFsdWU7XG59XG5cbmV4cG9ydCB7IGdldFJlc29sdXRpb25PZlVybCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0UmVzb2x1dGlvbk9mVXJsLm1qcy5tYXBcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG5mdW5jdGlvbiBhc3NlcnRQYXRoKHBhdGgyKSB7XG4gIGlmICh0eXBlb2YgcGF0aDIgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBQYXRoIG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkICR7SlNPTi5zdHJpbmdpZnkocGF0aDIpfWApO1xuICB9XG59XG5mdW5jdGlvbiByZW1vdmVVcmxQYXJhbXModXJsKSB7XG4gIGNvbnN0IHJlID0gdXJsLnNwbGl0KFwiP1wiKVswXTtcbiAgcmV0dXJuIHJlLnNwbGl0KFwiI1wiKVswXTtcbn1cbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG59XG5mdW5jdGlvbiByZXBsYWNlQWxsKHN0ciwgZmluZCwgcmVwbGFjZSkge1xuICByZXR1cm4gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cChlc2NhcGVSZWdFeHAoZmluZCksIFwiZ1wiKSwgcmVwbGFjZSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmdQb3NpeChwYXRoMiwgYWxsb3dBYm92ZVJvb3QpIHtcbiAgbGV0IHJlcyA9IFwiXCI7XG4gIGxldCBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gIGxldCBsYXN0U2xhc2ggPSAtMTtcbiAgbGV0IGRvdHMgPSAwO1xuICBsZXQgY29kZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gcGF0aDIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoaSA8IHBhdGgyLmxlbmd0aCkge1xuICAgICAgY29kZSA9IHBhdGgyLmNoYXJDb2RlQXQoaSk7XG4gICAgfSBlbHNlIGlmIChjb2RlID09PSA0Nykge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvZGUgPSA0NztcbiAgICB9XG4gICAgaWYgKGNvZGUgPT09IDQ3KSB7XG4gICAgICBpZiAobGFzdFNsYXNoID09PSBpIC0gMSB8fCBkb3RzID09PSAxKSB7XG4gICAgICB9IGVsc2UgaWYgKGxhc3RTbGFzaCAhPT0gaSAtIDEgJiYgZG90cyA9PT0gMikge1xuICAgICAgICBpZiAocmVzLmxlbmd0aCA8IDIgfHwgbGFzdFNlZ21lbnRMZW5ndGggIT09IDIgfHwgcmVzLmNoYXJDb2RlQXQocmVzLmxlbmd0aCAtIDEpICE9PSA0NiB8fCByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMikgIT09IDQ2KSB7XG4gICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0U2xhc2hJbmRleCA9IHJlcy5sYXN0SW5kZXhPZihcIi9cIik7XG4gICAgICAgICAgICBpZiAobGFzdFNsYXNoSW5kZXggIT09IHJlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMgPSByZXMuc2xpY2UoMCwgbGFzdFNsYXNoSW5kZXgpO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2YoXCIvXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5sZW5ndGggPT09IDIgfHwgcmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmVzID0gXCJcIjtcbiAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlcyArPSBcIi8uLlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgPSBcIi4uXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVzICs9IGAvJHtwYXRoMi5zbGljZShsYXN0U2xhc2ggKyAxLCBpKX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcyA9IHBhdGgyLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gaSAtIGxhc3RTbGFzaCAtIDE7XG4gICAgICB9XG4gICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgZG90cyA9IDA7XG4gICAgfSBlbHNlIGlmIChjb2RlID09PSA0NiAmJiBkb3RzICE9PSAtMSkge1xuICAgICAgKytkb3RzO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb3RzID0gLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG5jb25zdCBwYXRoID0ge1xuICB0b1Bvc2l4KHBhdGgyKSB7XG4gICAgcmV0dXJuIHJlcGxhY2VBbGwocGF0aDIsIFwiXFxcXFwiLCBcIi9cIik7XG4gIH0sXG4gIGlzVXJsKHBhdGgyKSB7XG4gICAgcmV0dXJuIC9eaHR0cHM/Oi8udGVzdCh0aGlzLnRvUG9zaXgocGF0aDIpKTtcbiAgfSxcbiAgaXNEYXRhVXJsKHBhdGgyKSB7XG4gICAgcmV0dXJuIC9eZGF0YTooW2Etel0rXFwvW2EtejAtOS0rLl0rKDtbYS16MC05LS4hIyQlKisue318fmBdKz1bYS16MC05LS4hIyQlKisue30oKV98fmBdKykqKT8oO2Jhc2U2NCk/LChbYS16MC05ISQmJywoKSorOz1cXC0uX346QFxcLz8lXFxzPD5dKj8pJC9pLnRlc3QocGF0aDIpO1xuICB9LFxuICBoYXNQcm90b2NvbChwYXRoMikge1xuICAgIHJldHVybiAvXlteLzpdKzpcXC8vLnRlc3QodGhpcy50b1Bvc2l4KHBhdGgyKSk7XG4gIH0sXG4gIGdldFByb3RvY29sKHBhdGgyKSB7XG4gICAgYXNzZXJ0UGF0aChwYXRoMik7XG4gICAgcGF0aDIgPSB0aGlzLnRvUG9zaXgocGF0aDIpO1xuICAgIGxldCBwcm90b2NvbCA9IFwiXCI7XG4gICAgY29uc3QgaXNGaWxlID0gL15maWxlOlxcL1xcL1xcLy8uZXhlYyhwYXRoMik7XG4gICAgY29uc3QgaXNIdHRwID0gL15bXi86XSs6XFwvXFwvLy5leGVjKHBhdGgyKTtcbiAgICBjb25zdCBpc1dpbmRvd3MgPSAvXlteLzpdKzpcXC8vLmV4ZWMocGF0aDIpO1xuICAgIGlmIChpc0ZpbGUgfHwgaXNIdHRwIHx8IGlzV2luZG93cykge1xuICAgICAgY29uc3QgYXJyID0gaXNGaWxlPy5bMF0gfHwgaXNIdHRwPy5bMF0gfHwgaXNXaW5kb3dzPy5bMF07XG4gICAgICBwcm90b2NvbCA9IGFycjtcbiAgICAgIHBhdGgyID0gcGF0aDIuc2xpY2UoYXJyLmxlbmd0aCk7XG4gICAgfVxuICAgIHJldHVybiBwcm90b2NvbDtcbiAgfSxcbiAgdG9BYnNvbHV0ZSh1cmwsIGN1c3RvbUJhc2VVcmwsIGN1c3RvbVJvb3RVcmwpIHtcbiAgICBpZiAodGhpcy5pc0RhdGFVcmwodXJsKSlcbiAgICAgIHJldHVybiB1cmw7XG4gICAgY29uc3QgYmFzZVVybCA9IHJlbW92ZVVybFBhcmFtcyh0aGlzLnRvUG9zaXgoY3VzdG9tQmFzZVVybCA/PyBzZXR0aW5ncy5BREFQVEVSLmdldEJhc2VVcmwoKSkpO1xuICAgIGNvbnN0IHJvb3RVcmwgPSByZW1vdmVVcmxQYXJhbXModGhpcy50b1Bvc2l4KGN1c3RvbVJvb3RVcmwgPz8gdGhpcy5yb290bmFtZShiYXNlVXJsKSkpO1xuICAgIGFzc2VydFBhdGgodXJsKTtcbiAgICB1cmwgPSB0aGlzLnRvUG9zaXgodXJsKTtcbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICByZXR1cm4gcGF0aC5qb2luKHJvb3RVcmwsIHVybC5zbGljZSgxKSk7XG4gICAgfVxuICAgIGNvbnN0IGFic29sdXRlUGF0aCA9IHRoaXMuaXNBYnNvbHV0ZSh1cmwpID8gdXJsIDogdGhpcy5qb2luKGJhc2VVcmwsIHVybCk7XG4gICAgcmV0dXJuIGFic29sdXRlUGF0aDtcbiAgfSxcbiAgbm9ybWFsaXplKHBhdGgyKSB7XG4gICAgcGF0aDIgPSB0aGlzLnRvUG9zaXgocGF0aDIpO1xuICAgIGFzc2VydFBhdGgocGF0aDIpO1xuICAgIGlmIChwYXRoMi5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gXCIuXCI7XG4gICAgbGV0IHByb3RvY29sID0gXCJcIjtcbiAgICBjb25zdCBpc0Fic29sdXRlID0gcGF0aDIuc3RhcnRzV2l0aChcIi9cIik7XG4gICAgaWYgKHRoaXMuaGFzUHJvdG9jb2wocGF0aDIpKSB7XG4gICAgICBwcm90b2NvbCA9IHRoaXMucm9vdG5hbWUocGF0aDIpO1xuICAgICAgcGF0aDIgPSBwYXRoMi5zbGljZShwcm90b2NvbC5sZW5ndGgpO1xuICAgIH1cbiAgICBjb25zdCB0cmFpbGluZ1NlcGFyYXRvciA9IHBhdGgyLmVuZHNXaXRoKFwiL1wiKTtcbiAgICBwYXRoMiA9IG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgyLCBmYWxzZSk7XG4gICAgaWYgKHBhdGgyLmxlbmd0aCA+IDAgJiYgdHJhaWxpbmdTZXBhcmF0b3IpXG4gICAgICBwYXRoMiArPSBcIi9cIjtcbiAgICBpZiAoaXNBYnNvbHV0ZSlcbiAgICAgIHJldHVybiBgLyR7cGF0aDJ9YDtcbiAgICByZXR1cm4gcHJvdG9jb2wgKyBwYXRoMjtcbiAgfSxcbiAgaXNBYnNvbHV0ZShwYXRoMikge1xuICAgIGFzc2VydFBhdGgocGF0aDIpO1xuICAgIHBhdGgyID0gdGhpcy50b1Bvc2l4KHBhdGgyKTtcbiAgICBpZiAodGhpcy5oYXNQcm90b2NvbChwYXRoMikpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gcGF0aDIuc3RhcnRzV2l0aChcIi9cIik7XG4gIH0sXG4gIGpvaW4oLi4uc2VnbWVudHMpIHtcbiAgICBpZiAoc2VnbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gXCIuXCI7XG4gICAgfVxuICAgIGxldCBqb2luZWQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgY29uc3QgYXJnID0gc2VnbWVudHNbaV07XG4gICAgICBhc3NlcnRQYXRoKGFyZyk7XG4gICAgICBpZiAoYXJnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKGpvaW5lZCA9PT0gdm9pZCAwKVxuICAgICAgICAgIGpvaW5lZCA9IGFyZztcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29uc3QgcHJldkFyZyA9IHNlZ21lbnRzW2kgLSAxXSA/PyBcIlwiO1xuICAgICAgICAgIGlmICh0aGlzLmV4dG5hbWUocHJldkFyZykpIHtcbiAgICAgICAgICAgIGpvaW5lZCArPSBgLy4uLyR7YXJnfWA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGpvaW5lZCArPSBgLyR7YXJnfWA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChqb2luZWQgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiLlwiO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUoam9pbmVkKTtcbiAgfSxcbiAgZGlybmFtZShwYXRoMikge1xuICAgIGFzc2VydFBhdGgocGF0aDIpO1xuICAgIGlmIChwYXRoMi5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gXCIuXCI7XG4gICAgcGF0aDIgPSB0aGlzLnRvUG9zaXgocGF0aDIpO1xuICAgIGxldCBjb2RlID0gcGF0aDIuY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCBoYXNSb290ID0gY29kZSA9PT0gNDc7XG4gICAgbGV0IGVuZCA9IC0xO1xuICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIGNvbnN0IHByb3RvID0gdGhpcy5nZXRQcm90b2NvbChwYXRoMik7XG4gICAgY29uc3Qgb3JpZ3BhdGggPSBwYXRoMjtcbiAgICBwYXRoMiA9IHBhdGgyLnNsaWNlKHByb3RvLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IHBhdGgyLmxlbmd0aCAtIDE7IGkgPj0gMTsgLS1pKSB7XG4gICAgICBjb2RlID0gcGF0aDIuY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0Nykge1xuICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5kID09PSAtMSlcbiAgICAgIHJldHVybiBoYXNSb290ID8gXCIvXCIgOiB0aGlzLmlzVXJsKG9yaWdwYXRoKSA/IHByb3RvICsgcGF0aDIgOiBwcm90bztcbiAgICBpZiAoaGFzUm9vdCAmJiBlbmQgPT09IDEpXG4gICAgICByZXR1cm4gXCIvL1wiO1xuICAgIHJldHVybiBwcm90byArIHBhdGgyLnNsaWNlKDAsIGVuZCk7XG4gIH0sXG4gIHJvb3RuYW1lKHBhdGgyKSB7XG4gICAgYXNzZXJ0UGF0aChwYXRoMik7XG4gICAgcGF0aDIgPSB0aGlzLnRvUG9zaXgocGF0aDIpO1xuICAgIGxldCByb290ID0gXCJcIjtcbiAgICBpZiAocGF0aDIuc3RhcnRzV2l0aChcIi9cIikpXG4gICAgICByb290ID0gXCIvXCI7XG4gICAgZWxzZSB7XG4gICAgICByb290ID0gdGhpcy5nZXRQcm90b2NvbChwYXRoMik7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzVXJsKHBhdGgyKSkge1xuICAgICAgY29uc3QgaW5kZXggPSBwYXRoMi5pbmRleE9mKFwiL1wiLCByb290Lmxlbmd0aCk7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHJvb3QgPSBwYXRoMi5zbGljZSgwLCBpbmRleCk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgcm9vdCA9IHBhdGgyO1xuICAgICAgaWYgKCFyb290LmVuZHNXaXRoKFwiL1wiKSlcbiAgICAgICAgcm9vdCArPSBcIi9cIjtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG4gIH0sXG4gIGJhc2VuYW1lKHBhdGgyLCBleHQpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgyKTtcbiAgICBpZiAoZXh0KVxuICAgICAgYXNzZXJ0UGF0aChleHQpO1xuICAgIHBhdGgyID0gdGhpcy50b1Bvc2l4KHBhdGgyKTtcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIGxldCBlbmQgPSAtMTtcbiAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICBsZXQgaTtcbiAgICBpZiAoZXh0ICE9PSB2b2lkIDAgJiYgZXh0Lmxlbmd0aCA+IDAgJiYgZXh0Lmxlbmd0aCA8PSBwYXRoMi5sZW5ndGgpIHtcbiAgICAgIGlmIChleHQubGVuZ3RoID09PSBwYXRoMi5sZW5ndGggJiYgZXh0ID09PSBwYXRoMilcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICBsZXQgZXh0SWR4ID0gZXh0Lmxlbmd0aCAtIDE7XG4gICAgICBsZXQgZmlyc3ROb25TbGFzaEVuZCA9IC0xO1xuICAgICAgZm9yIChpID0gcGF0aDIubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHBhdGgyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlID09PSA0Nykge1xuICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChmaXJzdE5vblNsYXNoRW5kID09PSAtMSkge1xuICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICBmaXJzdE5vblNsYXNoRW5kID0gaSArIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleHRJZHggPj0gMCkge1xuICAgICAgICAgICAgaWYgKGNvZGUgPT09IGV4dC5jaGFyQ29kZUF0KGV4dElkeCkpIHtcbiAgICAgICAgICAgICAgaWYgKC0tZXh0SWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV4dElkeCA9IC0xO1xuICAgICAgICAgICAgICBlbmQgPSBmaXJzdE5vblNsYXNoRW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpXG4gICAgICAgIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7XG4gICAgICBlbHNlIGlmIChlbmQgPT09IC0xKVxuICAgICAgICBlbmQgPSBwYXRoMi5sZW5ndGg7XG4gICAgICByZXR1cm4gcGF0aDIuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIGZvciAoaSA9IHBhdGgyLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBpZiAocGF0aDIuY2hhckNvZGVBdChpKSA9PT0gNDcpIHtcbiAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgIGVuZCA9IGkgKyAxO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5kID09PSAtMSlcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIHJldHVybiBwYXRoMi5zbGljZShzdGFydCwgZW5kKTtcbiAgfSxcbiAgZXh0bmFtZShwYXRoMikge1xuICAgIGFzc2VydFBhdGgocGF0aDIpO1xuICAgIHBhdGgyID0gdGhpcy50b1Bvc2l4KHBhdGgyKTtcbiAgICBsZXQgc3RhcnREb3QgPSAtMTtcbiAgICBsZXQgc3RhcnRQYXJ0ID0gMDtcbiAgICBsZXQgZW5kID0gLTE7XG4gICAgbGV0IG1hdGNoZWRTbGFzaCA9IHRydWU7XG4gICAgbGV0IHByZURvdFN0YXRlID0gMDtcbiAgICBmb3IgKGxldCBpID0gcGF0aDIubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IGNvZGUgPSBwYXRoMi5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKGNvZGUgPT09IDQ3KSB7XG4gICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgc3RhcnRQYXJ0ID0gaSArIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYpIHtcbiAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSlcbiAgICAgICAgICBzdGFydERvdCA9IGk7XG4gICAgICAgIGVsc2UgaWYgKHByZURvdFN0YXRlICE9PSAxKVxuICAgICAgICAgIHByZURvdFN0YXRlID0gMTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnREb3QgIT09IC0xKSB7XG4gICAgICAgIHByZURvdFN0YXRlID0gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fCBwcmVEb3RTdGF0ZSA9PT0gMCB8fCBwcmVEb3RTdGF0ZSA9PT0gMSAmJiBzdGFydERvdCA9PT0gZW5kIC0gMSAmJiBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIHJldHVybiBwYXRoMi5zbGljZShzdGFydERvdCwgZW5kKTtcbiAgfSxcbiAgcGFyc2UocGF0aDIpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgyKTtcbiAgICBjb25zdCByZXQgPSB7IHJvb3Q6IFwiXCIsIGRpcjogXCJcIiwgYmFzZTogXCJcIiwgZXh0OiBcIlwiLCBuYW1lOiBcIlwiIH07XG4gICAgaWYgKHBhdGgyLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiByZXQ7XG4gICAgcGF0aDIgPSB0aGlzLnRvUG9zaXgocGF0aDIpO1xuICAgIGxldCBjb2RlID0gcGF0aDIuY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCBpc0Fic29sdXRlID0gdGhpcy5pc0Fic29sdXRlKHBhdGgyKTtcbiAgICBsZXQgc3RhcnQ7XG4gICAgY29uc3QgcHJvdG9jb2wgPSBcIlwiO1xuICAgIHJldC5yb290ID0gdGhpcy5yb290bmFtZShwYXRoMik7XG4gICAgaWYgKGlzQWJzb2x1dGUgfHwgdGhpcy5oYXNQcm90b2NvbChwYXRoMikpIHtcbiAgICAgIHN0YXJ0ID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICBsZXQgc3RhcnREb3QgPSAtMTtcbiAgICBsZXQgc3RhcnRQYXJ0ID0gMDtcbiAgICBsZXQgZW5kID0gLTE7XG4gICAgbGV0IG1hdGNoZWRTbGFzaCA9IHRydWU7XG4gICAgbGV0IGkgPSBwYXRoMi5sZW5ndGggLSAxO1xuICAgIGxldCBwcmVEb3RTdGF0ZSA9IDA7XG4gICAgZm9yICg7IGkgPj0gc3RhcnQ7IC0taSkge1xuICAgICAgY29kZSA9IHBhdGgyLmNoYXJDb2RlQXQoaSk7XG4gICAgICBpZiAoY29kZSA9PT0gNDcpIHtcbiAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICBzdGFydFBhcnQgPSBpICsgMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2RlID09PSA0Nikge1xuICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKVxuICAgICAgICAgIHN0YXJ0RG90ID0gaTtcbiAgICAgICAgZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpXG4gICAgICAgICAgcHJlRG90U3RhdGUgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN0YXJ0RG90ID09PSAtMSB8fCBlbmQgPT09IC0xIHx8IHByZURvdFN0YXRlID09PSAwIHx8IHByZURvdFN0YXRlID09PSAxICYmIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSB7XG4gICAgICBpZiAoZW5kICE9PSAtMSkge1xuICAgICAgICBpZiAoc3RhcnRQYXJ0ID09PSAwICYmIGlzQWJzb2x1dGUpXG4gICAgICAgICAgcmV0LmJhc2UgPSByZXQubmFtZSA9IHBhdGgyLnNsaWNlKDEsIGVuZCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXQuYmFzZSA9IHJldC5uYW1lID0gcGF0aDIuc2xpY2Uoc3RhcnRQYXJ0LCBlbmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3RhcnRQYXJ0ID09PSAwICYmIGlzQWJzb2x1dGUpIHtcbiAgICAgICAgcmV0Lm5hbWUgPSBwYXRoMi5zbGljZSgxLCBzdGFydERvdCk7XG4gICAgICAgIHJldC5iYXNlID0gcGF0aDIuc2xpY2UoMSwgZW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldC5uYW1lID0gcGF0aDIuc2xpY2Uoc3RhcnRQYXJ0LCBzdGFydERvdCk7XG4gICAgICAgIHJldC5iYXNlID0gcGF0aDIuc2xpY2Uoc3RhcnRQYXJ0LCBlbmQpO1xuICAgICAgfVxuICAgICAgcmV0LmV4dCA9IHBhdGgyLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICAgIH1cbiAgICByZXQuZGlyID0gdGhpcy5kaXJuYW1lKHBhdGgyKTtcbiAgICBpZiAocHJvdG9jb2wpXG4gICAgICByZXQuZGlyID0gcHJvdG9jb2wgKyByZXQuZGlyO1xuICAgIHJldHVybiByZXQ7XG4gIH0sXG4gIHNlcDogXCIvXCIsXG4gIGRlbGltaXRlcjogXCI6XCJcbn07XG5cbmV4cG9ydCB7IHBhdGggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhdGgubWpzLm1hcFxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCA9IC9AKFswLTlcXC5dKyl4LztcbnNldHRpbmdzLkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUID0gZmFsc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5tanMubWFwXG4iLCJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IHBhcnNlLCBmb3JtYXQsIHJlc29sdmUgfSBmcm9tICd1cmwnO1xuXG5jb25zdCB1cmwgPSB7XG4gIHBhcnNlOiBwYXJzZSxcbiAgZm9ybWF0OiBmb3JtYXQsXG4gIHJlc29sdmU6IHJlc29sdmVcbn07XG5cbmV4cG9ydCB7IHVybCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsLm1qcy5tYXBcbiIsImltcG9ydCB7IEFscGhhRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWFscGhhJztcbmltcG9ydCB7IEJsdXJGaWx0ZXIsIEJsdXJGaWx0ZXJQYXNzIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWJsdXInO1xuaW1wb3J0IHsgQ29sb3JNYXRyaXhGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4JztcbmltcG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQnO1xuaW1wb3J0IHsgRlhBQUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1meGFhJztcbmltcG9ydCB7IE5vaXNlRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLW5vaXNlJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYXBwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2Fzc2V0cyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ldmVudHMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gtZXh0cmFzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3BhcnRpY2xlLWNvbnRhaW5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGVzaGVldCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUtYW5pbWF0ZWQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLXRpbGluZyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcblxuY29uc3QgZmlsdGVycyA9IHtcbiAgQWxwaGFGaWx0ZXIsXG4gIEJsdXJGaWx0ZXIsXG4gIEJsdXJGaWx0ZXJQYXNzLFxuICBDb2xvck1hdHJpeEZpbHRlcixcbiAgRGlzcGxhY2VtZW50RmlsdGVyLFxuICBGWEFBRmlsdGVyLFxuICBOb2lzZUZpbHRlclxufTtcblxuZXhwb3J0IHsgZmlsdGVycyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsImltcG9ydCB7QXBwbGljYXRpb24sIENvbnRhaW5lciwgR3JhcGhpY3MsIFNwcml0ZSwgVGV4dH0gZnJvbSAncGl4aS5qcyc7XHJcbmltcG9ydCB7RHJvcFNoYWRvd0ZpbHRlcn0gZnJvbSBcIkBwaXhpL2ZpbHRlci1kcm9wLXNoYWRvd1wiO1xyXG5cclxuY29uc3QgYXBwID0gbmV3IEFwcGxpY2F0aW9uKHtcclxuICBiYWNrZ3JvdW5kOiAnIzAwMDAwMCcsXHJcbiAgd2lkdGg6IDgwMCxcclxuICBoZWlnaHQ6IDgwMCxcclxufSk7XHJcblxyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3IGFzIEhUTUxDYW52YXNFbGVtZW50KTtcclxuXHJcbmludGVyZmFjZSBCdXR0b24ge1xyXG59XHJcblxyXG50eXBlIEZvbnQgPSB7XHJcbiAgICBmb250RmFtaWx5OiBzdHJpbmcsXHJcbiAgICBmb250U2l6ZTogbnVtYmVyLFxyXG4gICAgZmlsbDogbnVtYmVyLFxyXG59XHJcblxyXG5jbGFzcyBCdXR0b24ge1xyXG4gIGNyZWF0ZUJ1dHRvbihcclxuICAgIGJ1dHRvbldpZHRoOiBudW1iZXIgPSAxMDAsXHJcbiAgICBidXR0b25IZWlnaHQ6IG51bWJlciA9IDYwLFxyXG4gICAgYnV0dG9uQ29sb3I6IG51bWJlcltdLFxyXG4gICAgeDogbnVtYmVyID0gMCxcclxuICAgIHk6IG51bWJlciA9IDAsXHJcbiAgICByb3VuZDogbnVtYmVyLFxyXG4gICAgaW1nOiBzdHJpbmcsXHJcbiAgICB0aXRsZTogc3RyaW5nLFxyXG4gICAgZm9udDogRm9udCxcclxuICApIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcclxuICAgIGNvbnRhaW5lci5zb3J0YWJsZUNoaWxkcmVuID0gdHJ1ZTtcclxuICAgIGNvbnRhaW5lci5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICBjb250YWluZXIuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG5cclxuICAgIGxldCBsZW5ndGhPZkJ1dHRvbnMgPSAwO1xyXG4gICAgY29uc3QgbGVuID0gYnV0dG9uQ29sb3IubGVuZ3RoO1xyXG4gICAgY29uc3Qgc3F1YXJlID0gYnV0dG9uV2lkdGggLyBsZW47XHJcbiAgICBjb25zdCB7IGZvbnRGYW1pbHksZm9udFNpemUsIGZpbGx9ID0gZm9udDtcclxuICAgIGNvbnN0IG1heFNxdWFyZXMgPSBNYXRoLmZsb29yKGJ1dHRvbldpZHRoIC8gTWF0aC5tYXgoNTAsIGJ1dHRvbldpZHRoIC8gbGVuKSk7XHJcblxyXG4gICAgY29uc29sZS5sb2cobWF4U3F1YXJlcyk7XHJcblxyXG4gICAgY29udGFpbmVyLnggPSB4O1xyXG4gICAgY29udGFpbmVyLnkgPSB5O1xyXG5cclxuICAgIGlmIChidXR0b25XaWR0aCA8IDEwMCkge1xyXG4gICAgICAgIGJ1dHRvbldpZHRoID0gMTAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChidXR0b25IZWlnaHQgPCA2MCkge1xyXG4gICAgICAgIGJ1dHRvbkhlaWdodCA9IDYwO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlY3RhbmdsZSA9IG5ldyBHcmFwaGljcygpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4U3F1YXJlczsgaSsrKSB7XHJcbiAgICAgIHJlY3RhbmdsZS5iZWdpbkZpbGwoYnV0dG9uQ29sb3JbaV0sIDEpO1xyXG4gICAgICByZWN0YW5nbGUuZHJhd1JlY3QoXHJcbiAgICAgICAgICB4ICsgbGVuZ3RoT2ZCdXR0b25zLFxyXG4gICAgICAgICAgeSxcclxuICAgICAgICAgIE1hdGgubWF4KDUwLCBidXR0b25XaWR0aCAvIGxlbiksXHJcbiAgICAgICAgICBidXR0b25IZWlnaHRcclxuICAgICAgKTtcclxuICAgICAgcmVjdGFuZ2xlLmVuZEZpbGwoKTtcclxuXHJcbiAgICAgIGNvbnRhaW5lci5hZGRDaGlsZChyZWN0YW5nbGUpO1xyXG5cclxuICAgICAgbGVuZ3RoT2ZCdXR0b25zICs9IE1hdGgubWF4KDUwLCBidXR0b25XaWR0aCAvIGxlbik7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNvbG9ySXNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICBsZXQgY2hpbGRyZW46IEdyYXBoaWNzW10gPSBbXTtcclxuXHJcbiAgICAvLyBldmVudHNcclxuXHJcbiAgICBjb250YWluZXIub24oJ3BvaW50ZXJ0YXAnLCAoKSAgPT4ge1xyXG4gICAgICAgIGNvbG9ySXNDaGFuZ2VkID0gIWNvbG9ySXNDaGFuZ2VkO1xyXG5cclxuICAgICAgICBsZW5ndGhPZkJ1dHRvbnMgPSAwO1xyXG5cclxuICAgICAgICBjb25zdCByZWN0ID0gbmV3IEdyYXBoaWNzKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4U3F1YXJlczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDE2Nzc3MjE1ICsgMSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbG9ySXNDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICByZWN0LmJlZ2luRmlsbChjb2xvciwgMSk7XHJcbiAgICAgICAgICAgICAgICByZWN0LmRyYXdSZWN0KFxyXG4gICAgICAgICAgICAgICAgICAgIHggKyBsZW5ndGhPZkJ1dHRvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCg1MCwgYnV0dG9uV2lkdGggLyBsZW4pLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkhlaWdodFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJlY3QuZW5kRmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgcmVjdC56SW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZChyZWN0KTtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2gocmVjdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoT2ZCdXR0b25zICs9IE1hdGgubWF4KDUwLCBidXR0b25XaWR0aCAvIGxlbik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghY29sb3JJc0NoYW5nZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjaGlsZHJlbltpXSk7XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29udGFpbmVyLm9uKCdtb3VzZW92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgY29udGFpbmVyLmZpbHRlcnMgPSBbbmV3IERyb3BTaGFkb3dGaWx0ZXIoe1xyXG4gICAgICAgICAgICBjb2xvcjogMHhmZmZmZmYsXHJcbiAgICAgICAgICAgIGRpc3RhbmNlOiAxMCxcclxuICAgICAgICB9KV07XHJcbiAgICAgICAgY29udGFpbmVyLnRyYW5zZm9ybS5zY2FsZS5zZXQoMS4wNSwgMS4wNSk7XHJcbiAgICAgICAgY29udGFpbmVyLm1hc2sgPSBuZXcgR3JhcGhpY3MoKVxyXG4gICAgICAgICAgICAuYmVnaW5GaWxsKDB4ZmZmZmZmKVxyXG4gICAgICAgICAgICAuZHJhd1JvdW5kZWRSZWN0KFxyXG4gICAgICAgICAgICAgICAgeCAqIDIgKyAoeCAqIDAuMDUpLFxyXG4gICAgICAgICAgICAgICAgeSAqIDIgKyAoeSAqIDAuMDUpLFxyXG4gICAgICAgICAgICAgICAgYnV0dG9uV2lkdGggKyAoYnV0dG9uV2lkdGggKiAwLjA1KSxcclxuICAgICAgICAgICAgICAgIGJ1dHRvbkhlaWdodCArIChidXR0b25IZWlnaHQgKiAwLjA1KSxcclxuICAgICAgICAgICAgICAgIHJvdW5kXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgLmVuZEZpbGwoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnRhaW5lci5vbignbW91c2VsZWF2ZScsICgpID0+IHtcclxuICAgICAgICBjb250YWluZXIuZmlsdGVycyA9IFtdO1xyXG4gICAgICAgIGNvbnRhaW5lci50cmFuc2Zvcm0uc2NhbGUuc2V0KDEsIDEpO1xyXG4gICAgICAgIGNvbnRhaW5lci5tYXNrID0gbWFzaztcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFkZGluZyBtYXNrXHJcblxyXG4gICAgY29uc3QgbWFzayA9IG5ldyBHcmFwaGljcygpXHJcbiAgICAgICAgLmJlZ2luRmlsbCgweGZmZmZmZilcclxuICAgICAgICAuZHJhd1JvdW5kZWRSZWN0KFxyXG4gICAgICAgICAgICB4ICogMixcclxuICAgICAgICAgICAgeSAqIDIsXHJcbiAgICAgICAgICAgIGJ1dHRvbldpZHRoLFxyXG4gICAgICAgICAgICBidXR0b25IZWlnaHQsXHJcbiAgICAgICAgICAgIHJvdW5kXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5lbmRGaWxsKCk7XHJcblxyXG4gICAgY29udGFpbmVyLm1hc2sgPSBtYXNrO1xyXG5cclxuICAgIC8vIGFkZGluZyB0ZXh0XHJcblxyXG4gICAgY29uc3QgdGV4dCA9IG5ldyBBZGRUZXh0KCkuY2VhdGVUZXh0KFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGZvbnRGYW1pbHksXHJcbiAgICAgICAgZm9udFNpemUsXHJcbiAgICAgICAgZmlsbCxcclxuICAgICAgICBjb250YWluZXJcclxuICAgICk7XHJcblxyXG4gICAgdGV4dC5wb3NpdGlvbi5zZXQoeCArIChidXR0b25XaWR0aCAvIDIpLCB5ICsgKGJ1dHRvbkhlaWdodCAvIDIpKTtcclxuXHJcbiAgICAvLyBhZGRpbmcgaWNvblxyXG5cclxuICAgIGNvbnN0IHNwcml0ZSA9IG5ldyBBZGRJY29uKCkuY3JlYXRlSWNvbihpbWcsIGNvbnRhaW5lciwgYnV0dG9uSGVpZ2h0KTtcclxuXHJcbiAgICBzcHJpdGUucG9zaXRpb24uc2V0KFxyXG4gICAgICAgICh4ICsgYnV0dG9uV2lkdGggLSAoYnV0dG9uSGVpZ2h0IC0gMjApIC8gMikgLSAoc3F1YXJlIC8gMiksXHJcbiAgICAgICAgeSArICgoYnV0dG9uSGVpZ2h0IC0gKGJ1dHRvbkhlaWdodCAtIDIwKSkgLyAyKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyByZXR1cm5pbmcgcmVhZHkgdG8gdXNlIGJ1dHRvblxyXG5cclxuICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBBZGRUZXh0IHtcclxuICAgIHB1YmxpYyBjZWF0ZVRleHQoXHJcbiAgICAgICAgdGl0bGU6IHN0cmluZyxcclxuICAgICAgICBmb250RmFtaWx5OiBzdHJpbmcsXHJcbiAgICAgICAgZm9udFNpemU6IG51bWJlcixcclxuICAgICAgICBmaWxsOiBudW1iZXIsXHJcbiAgICAgICAgY29udGFpbmVyOiBDb250YWluZXIsXHJcbiAgICApIHtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gbmV3IFRleHQodGl0bGUsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseSxcclxuICAgICAgICAgICAgZm9udFNpemUsXHJcbiAgICAgICAgICAgIGZpbGwsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0ZXh0KTtcclxuXHJcbiAgICAgICAgdGV4dC56SW5kZXggPSAxO1xyXG4gICAgICAgIHRleHQuYW5jaG9yLnNldCgwLjUsIDAuNSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgfTtcclxufVxyXG5cclxuY2xhc3MgQWRkSWNvbiB7XHJcbiAgICBjcmVhdGVJY29uKFxyXG4gICAgICAgIGltZzogc3RyaW5nLFxyXG4gICAgICAgIGNvbnRhaW5lcjogQ29udGFpbmVyLFxyXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgKSB7XHJcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gU3ByaXRlLmZyb20oaW1nKTtcclxuXHJcbiAgICAgICAgc3ByaXRlLnpJbmRleCA9IDE7XHJcbiAgICAgICAgc3ByaXRlLmhlaWdodCA9IGhlaWdodCAtIDIwO1xyXG4gICAgICAgIHNwcml0ZS53aWR0aCA9IGhlaWdodCAtIDIwO1xyXG5cclxuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNwcml0ZTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgYnV0dG9uID0gbmV3IEJ1dHRvbigpO1xyXG5cclxuYXBwLnN0YWdlLmFkZENoaWxkKGJ1dHRvbi5jcmVhdGVCdXR0b24oXHJcbiAgNDAwLFxyXG4gIDgwLFxyXG4gIFtcclxuICAgICAgMHhGRjQxNjQsXHJcbiAgICAweEZGOUY5RixcclxuICAgIDB4RkZENkI0LFxyXG4gICAgMHhDRUNFQUQsXHJcbiAgICAweDg3QjBBMCxcclxuICBdLFxyXG4gIDEwMCxcclxuICA0MCxcclxuICAgIDIwLFxyXG4gICAgJy4vaW1nL3N0YXJidWNrcy5wbmcnLFxyXG4gICAgJ3N0YXJidWNrcycsXHJcbiAgICB7XHJcbiAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICBmb250U2l6ZTogNDIsXHJcbiAgICAgICAgZmlsbDogMHgwMDAwMDAsXHJcbiAgICB9XHJcbikpO1xyXG5cclxuYXBwLnN0YWdlLmFkZENoaWxkKGJ1dHRvbi5jcmVhdGVCdXR0b24oXHJcbiAgICA0MDAsXHJcbiAgICA4MCxcclxuICAgIFtcclxuICAgICAgICAweDhBQjM2MyxcclxuICAgICAgICAweEZGQzQxMCxcclxuICAgICAgICAweEZGOEM2NyxcclxuICAgICAgICAweEVDRENDMyxcclxuICAgICAgICAweEYwRUZFRixcclxuICAgIF0sXHJcbiAgICAxMDAsXHJcbiAgICAxMDAsXHJcbiAgICAyMCxcclxuICAgICcuL2ltZy9JbnN0YWdyYW1fbG9nb18yMDE2LnN2Zy53ZWJwJyxcclxuICAgICdpbnN0YWdyYW0nLFxyXG4gICAge1xyXG4gICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgZm9udFNpemU6IDQyLFxyXG4gICAgICAgIGZpbGw6IDB4MDAwZmZmLFxyXG4gICAgfVxyXG4pKTtcclxuXHJcbmFwcC5zdGFnZS5hZGRDaGlsZChidXR0b24uY3JlYXRlQnV0dG9uKFxyXG4gICAgNDAwLFxyXG4gICAgODAsXHJcbiAgICBbXHJcbiAgICAgICAgMHgwRTM1NTgsXHJcbiAgICAgICAgMHgzOTcwQUEsXHJcbiAgICAgICAgMHg2MkFCREQsXHJcbiAgICAgICAgMHg4M0Q1RkYsXHJcbiAgICAgICAgMHg5M0VGRjcsXHJcbiAgICBdLFxyXG4gICAgMTAwLFxyXG4gICAgMTYwLFxyXG4gICAgMjAsXHJcbiAgICAnLi9pbWcvVHdpdHRlci1sb2dvLnN2Zy5wbmcnLFxyXG4gICAgJ3R3aXR0ZXInLFxyXG4gICAge1xyXG4gICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgZm9udFNpemU6IDQyLFxyXG4gICAgICAgIGZpbGw6IDB4MDAwMDAwLFxyXG4gICAgfVxyXG4pKTtcclxuXHJcbmFwcC5zdGFnZS5hZGRDaGlsZChidXR0b24uY3JlYXRlQnV0dG9uKFxyXG4gICAgNDAwLFxyXG4gICAgODAsXHJcbiAgICBbXHJcbiAgICAgICAgMHhFNkI1OUMsXHJcbiAgICAgICAgMHhGRkY3Q0UsXHJcbiAgICAgICAgMHhFNkQ4QjUsXHJcbiAgICAgICAgMHhBNUFCQTUsXHJcbiAgICAgICAgMHhDNkREQ0QsXHJcbiAgICBdLFxyXG4gICAgMTAwLFxyXG4gICAgMjIwLFxyXG4gICAgMjAsXHJcbiAgICAnLi9pbWcvNjAwcHgtQXBwbGUtbG9nby5wbmcnLFxyXG4gICAgJ2FwcGxlJyxcclxuICAgIHtcclxuICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgIGZvbnRTaXplOiA0MixcclxuICAgICAgICBmaWxsOiAweDAwMDAwMCxcclxuICAgIH1cclxuKSk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==